import e,{createContext as t,useReducer as i,useEffect as n,useState as s,forwardRef as r,useContext as o,useRef as l,useCallback as a,useImperativeHandle as h}from"react";import{python as c}from"@codemirror/lang-python";import d from"@uiw/react-codemirror";import u,{useTheme as f,styled as g,ThemeProvider as p}from"styled-components";import{HighlightStyle as m,syntaxHighlighting as b}from"@codemirror/language";import{RangeSet as v,MapMode as w,EditorSelection as y,EditorState as x,Transaction as k,Prec as S,Facet as C,StateEffect as A,RangeValue as M,ChangeSet as T,findClusterBreak as O,findColumn as N,Annotation as D,Text as E,CharCategory as B}from"@codemirror/state";const L=(e,t)=>{let i=t.toLowerCase(),n="500";if(i.includes("-")){const e=i.split("-");null!==/\d{1,3}/gm.exec(e[e.length-1])&&(n=e.pop(),i=e.join("-"))}if(void 0!==e.colors[i]){return e.colors[i][n]}},P=(e,t)=>{const i={};for(const n in e.colors[t]){const s=`${t}-${n}`,r=L(e,s);void 0!==r&&(i[s]=r)}return i},R=(e,t=null,i=null)=>n=>{const s=n.theme;void 0!==n.block&&(n=n.block);let r=s[e];const o=t??n.variant??"default";r instanceof Object&&(r=r[o]);const l=!0===i||!0===n.selected?"selected":"unselected";if(r instanceof Object&&(r=r[l]),"string"==typeof r){const e=L(s,r);if(void 0!==e)return e}return r};function H(e,t){const i={...e};for(const e in t)t.hasOwnProperty(e)&&("object"!=typeof t[e]||null===t[e]||Array.isArray(t[e])?i[e]=t[e]:i[e]=H(i[e]??{},t[e]));return i}const W=(e,t)=>H(e,t),V=(...e)=>{let t=[];return e.forEach((e=>{"string"==typeof e?t.push(e):Array.isArray(e)?t=t.concat(e):e instanceof Set?t=t.concat(Array.from(e)):"function"==typeof e&&(t=t.concat(e()))})),t.join(" ")};class z{uuid;classNames=new Set;iteration;variant;theme;constructor(e){this.uuid=e}getClassNames(e){return Array.from(this.classNames)}}class F extends z{selected=!1;selectionIndex=null;constructor(e){super(e)}getClassNames(e){const t=new Set(super.getClassNames(e));return null!==this.selectionIndex&&t.add("selectable"),e===this.selectionIndex&&t.add("selected"),Array.from(t)}}class _ extends F{spans=[]}class I extends _{language=null}class $ extends F{children=[]}class q extends ${name;collapsed=!0;icon;constructor(e,t){super(e),this.name=t}}class K extends q{}class j extends K{checked=!1}class G extends z{items=[]}class Y extends G{items=[]}class U extends F{uuid;content;datatype;constructor(e,t){super(e),this.uuid=e,this.content=t}}class X extends F{values=[];isHeader}class Z extends F{rows=[]}class J extends z{page;children=[]}let Q=class extends J{name;icon};class ee{visit(e){}visitContent(e){}visitList(e){}visitCollapsible(e){}visitParagraph(e){}visitSelectable(e){}visitSpan(e){}visitTable(e){}visitTableRow(e){}visitTree(e){}leave(e){}leaveContent(e){}leaveList(e){}leaveCollapsible(e){}leaveParagraph(e){}leaveSelectable(e){}leaveSpan(e){}leaveTable(e){}leaveTableRow(e){}leaveTree(e){}traverse(e){this.visit(e),e instanceof G?this._traverseList(e):e instanceof $?this._traverseContent(e):e instanceof _?this._traverseParagraph(e):e instanceof F?this._traverseSelectable(e):e instanceof Z?this._traverseTable(e):e instanceof X?this._traverseTableRow(e):e instanceof Q&&this._traverseTree(e),this.leave(e)}_traverseContent(e){this.visitContent(e),e.children.forEach((e=>{this.traverse(e)})),this.leaveContent(e)}_traverseList(e){this.visitList(e),e.items.forEach((e=>{this.traverse(e)})),this.leaveList(e)}_traverseCollapsible(e){this.visitCollapsible(e),e.children.forEach((e=>{this.traverse(e)})),this.leaveCollapsible(e)}_traverseParagraph(e){this.visitParagraph(e),e.spans.forEach((e=>{this.traverse(e)})),this.leaveParagraph(e)}_traverseSelectable(e){this.visitSelectable(e),this.leaveSelectable(e)}_traverseSpan(e){this.visitSpan(e),this.leaveSpan(e)}_traverseTable(e){this.visitTable(e),e.rows.forEach((e=>{this.traverse(e)})),this.leaveTable(e)}_traverseTableRow(e){this.visitTableRow(e),e.values.forEach((e=>{this.traverse(e)})),this.leaveTableRow(e)}_traverseTree(e){this.visitTree(e),e.children.forEach((e=>{this.traverse(e)})),this.leaveTree(e)}}class te extends ee{visible=[];currentIteration=[];visit(e){const t=(e.iteration??1)===this.currentIteration[this.currentIteration.length-1];this.visible[this.visible.length-1]=t}visitTree(e){this.currentIteration.push(e.page??1),this.visible.push(!0)}leaveTree(e){this.currentIteration.pop(),this.visible.pop()}isVisible(){return this.visible.every((e=>e))}}class ie extends te{selectedIndex=-1;selected=[];run(e,t=-1){return this.selectedIndex=t,this.selected=[],this.traverse(e),this.selected}visitContent(e){this.visitSelectable(e)}visitParagraph(e){this.visitSelectable(e)}visitSelectable(e){this.isVisible()&&(e.selected||null!==e.selectionIndex&&e.selectionIndex<=this.selectedIndex)&&this.selected.push(e)}}const ne=t({factory:void 0,setFactory:e=>{}}),se=t({darkMode:!1,setDarkMode:e=>{}});class re{pages=[];numPages=[];static copy(e){const t=new re;return t.pages=e.pages.slice(),t.numPages=e.numPages.slice(),t}getPage(e){return e>this.pages.length?1:this.pages[e-1]}getNumPages(e){return e>this.numPages.length?1:this.numPages[e-1]}}function oe(e,t,i){let n=e.pages;return t.level>n.length&&(n=n.concat(Array(t.level-n.length).fill(1))),n.slice(0,t.level-1).concat([i]).concat(n.slice(t.level))}const le=(e,t)=>{const i=re.copy(e);switch(t.type){case"register":i.pages=oe(e,t,1),i.numPages=function(e,t,i){let n=e.numPages;return t.level>n.length&&(n=n.concat(Array(t.level-n.length).fill(1))),n.slice(0,t.level-1).concat([i]).concat(n.slice(t.level))}(e,t,t.numPages);break;case"start":i.pages=oe(e,t,1);break;case"end":i.pages=oe(e,t,Math.max(1,e.getNumPages(t.level)));break;case"previous":i.pages=oe(e,t,Math.max(1,e.getPage(t.level)-1));break;case"next":i.pages=oe(e,t,Math.min(e.getNumPages(t.level),e.getPage(t.level)+1));break;case"goto":i.pages=oe(e,t,Math.min(e.getNumPages(t.level),Math.max(1,t.page)));break;default:throw new Error("Invalid action")}return i},ae=t(null),he=t(null),ce=({pages:t,numPages:s,onChange:r,children:o})=>{const l=new re;l.pages=t,l.numPages=s;const[a,h]=i(le,l);return n((()=>{void 0!==r&&r(a)}),[a,r]),e.createElement(ae.Provider,{value:a},e.createElement(he.Provider,{value:h},o))},de=()=>{const[e,t]=s(!1);return n((()=>{const e=window.matchMedia("(prefers-color-scheme: dark)");t(e.matches);const i=()=>{t(e.matches)};return e.addEventListener("change",i),()=>{e.removeEventListener("change",i)}}),[]),[e,t]},ue=e=>{const[t,i]=s(!1);return n((()=>{let t={theme:"light"};void 0!==e.store?t=e.store.globals.globals:void 0!==e.globals&&(t=e.globals),"dark"===t.theme?i(!0):i(!1)}),[e]),[t,i]},fe={colors:{gray:{1:"#fcfcfc",2:"#f9f9f9",3:"#f0f0f0",4:"#e8e8e8",5:"#e0e0e0",6:"#d9d9d9",7:"#cecece",8:"#bbbbbb",9:"#8d8d8d",10:"#838383",11:"#646464",12:"#202020"},purple:{1:"#fdfcfe",2:"#faf8ff",3:"#f4f0fe",4:"#ebe4ff",5:"#e1d9ff",6:"#d4cafe",7:"#c2b5f5",8:"#aa99ec",9:"#6e56cf",10:"#654dc4",11:"#6550b9",12:"#2f265f"},blue:{1:"#fbfdff",2:"#f4faff",3:"#e6f4fe",4:"#d5efff",5:"#c6d8ea",6:"#a0c1e3",7:"#8ec8f6",8:"#5eb1ef",9:"#0090ff",10:"#0588f0",11:"#0d74ce",12:"#113264"},green:{1:"#fbfefb",2:"#f5fbf5",3:"#e9f6e9",4:"#daf1db",5:"#c9e8ca",6:"#b2ddb5",7:"#94ce9a",8:"#65ba74",9:"#46a758",10:"#3e9b4f",11:"#2a7e3b",12:"#203c25"},yellow:{1:"#fefdfb",2:"#fefbe9",3:"#ffebc2",4:"#ffe19c",5:"#f8d584",6:"#efc768",7:"#e1b858",8:"#e2a336",9:"#ffc53d",10:"#ffba18",11:"#ab6400",12:"#4f3422"},orange:{1:"#fefcfb",2:"#fff7ed",3:"#ffefd6",4:"#ffdfb5",5:"#ffd19a",6:"#ffc182",7:"#f5ae73",8:"#ec9455",9:"#f76b15",10:"#ef5f00",11:"#cc4e00",12:"#582d1d"},red:{1:"#fffcfc",2:"#fff7f7",3:"#feebec",4:"#ffdbdc",5:"#ffcdce",6:"#fdbdbe",7:"#f4a9aa",8:"#eb8e90",9:"#e5484d",10:"#dc3e42",11:"#ce2c31",12:"#641723"},highlight:{1:"rgba(255, 255, 255, 0.05)",2:"rgba(255, 255, 255, 0.1)",3:"rgba(255, 255, 255, 0.15)",4:"rgba(255, 255, 255, 0.2)",5:"rgba(255, 255, 255, 0.3)",6:"rgba(255, 255, 255, 0.4)",7:"rgba(255, 255, 255, 0.5)",8:"rgba(255, 255, 255, 0.6)",9:"rgba(255, 255, 255, 0.7)",10:"rgba(255, 255, 255, 0.8)",11:"rgba(255, 255, 255, 0.9)",12:"rgba(255, 255, 255, 0.95)"},shadow:{1:"rgba(0, 0, 0, 0.05)",2:"rgba(0, 0, 0, 0.1)",3:"rgba(0, 0, 0, 0.15)",4:"rgba(0, 0, 0, 0.2)",5:"rgba(0, 0, 0, 0.3)",6:"rgba(0, 0, 0, 0.4)",7:"rgba(0, 0, 0, 0.5)",8:"rgba(0, 0, 0, 0.6)",9:"rgba(0, 0, 0, 0.7)",10:"rgba(0, 0, 0, 0.8)",11:"rgba(0, 0, 0, 0.9)",12:"rgba(0, 0, 0, 0.95)"}},icons:{left:{20:'<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="rgb(0 0 0)" d="M576-240 336-480l240-240 51 51-189 189 189 189-51 51Z"/></svg>'},right:{20:'<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="rgb(0 0 0)" d="M522-480 333-669l51-51 240 240-240 240-51-51 189-189Z"/></svg>',24:'<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="rgb(0 0 0)" d="m535.847-480-189-189L384-706.153 610.153-480 384-253.847 346.847-291l189-189Z"/></svg>'},start:{20:'<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="rgb(0 0 0)" d="M288-288v-384h72v384h-72Zm384 0L480-480l192-192 51 51-141 141 141 141-51 51Z"/></svg>'},end:{20:'<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="rgb(0 0 0)" d="m336-288-51-51 141-141-141-141 51-51 192 192-192 192Zm312 0v-384h72v384h-72Z"/></svg>'},search:{20:'<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="rgb(0 0 0)" d="M765-144 526-383q-30 22-65.792 34.5T384.035-336Q284-336 214-406t-70-170q0-100 70-170t170-70q100 0 170 70t70 170.035q0 40.381-12.5 76.173T577-434l239 239-51 51ZM384-408q70 0 119-49t49-119q0-70-49-119t-119-49q-70 0-119 49t-49 119q0 70 49 119t119 49Z"/></svg>',24:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path fill="rgb(0 0 0)" d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg>'},text:{12:'<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="rgb(0 0 0)" d="M164.001-278.616v-51.999h391.998v51.999H164.001Zm0-175.385v-51.998h631.998v51.998H164.001Zm0-175.384v-51.999h631.998v51.999H164.001Z"/></svg>'},number:{12:'<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="rgb(0 0 0)" d="m286.694-210.463 30-120H174.387l12.999-51.998h142.308l42.769-171.078H218.156l12.999-51.998h154.308l36-144h51.229l-36 144h149.385l36-144h51.229l-36 144h148.307l-12.999 51.998H624.306l-42.769 171.078h160.307l-12.999 51.998H568.537l-30 120h-51.229l30-120H367.923l-30 120h-51.229Zm94.229-171.998h149.385l42.769-171.078H423.692l-42.769 171.078Z"/></svg>'},date:{12:'<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="rgb(0 0 0)" d="M228.309-116.001q-27.008 0-45.658-19-18.65-19-18.65-45.308v-503.382q0-26.308 18.65-45.308t45.658-19h87.385v-100.615h53.537v100.615h223.076v-100.615h51.999v100.615h87.385q27.008 0 45.658 19 18.65 19 18.65 45.308v503.382q0 26.308-18.65 45.308t-45.658 19H228.309Zm0-51.999h503.382q4.616 0 8.463-3.846 3.846-3.847 3.846-8.463v-335.382H216v335.382q0 4.616 3.846 8.463 3.847 3.846 8.463 3.846ZM216-567.69h528v-116.001q0-4.616-3.846-8.463-3.847-3.846-8.463-3.846H228.309q-4.616 0-8.463 3.846-3.846 3.847-3.846 8.463v116.001Zm0 0V-696v128.31Z"/></svg>'}},fontFamily:{default:'"Inter", Helvetica, Arial, sans-serif'},spanFontFamily:{default:"inherit"},fontSize:{default:"11pt"},spanFontSize:{default:"inherit"},fontWeight:{default:400},backgroundColor:"#eee",contentBackgroundColor:{default:{unselected:"white",selected:"yellow-3"}},spanBackgroundColor:{default:{unselected:"transparent",selected:"yellow-4"}},buttonBgColor:{default:"shadow-2"},buttonHoverBgColor:{default:"shadow-4"},buttonPulseBgColor:{default:"shadow-5"},textColor:{default:{unselected:"gray-12",selected:"gray-12"}},spanTextColor:{default:{unselected:"inherit",selected:"gray-12"}},secondaryTextColor:{default:"gray-11"},fadedTextColor:{default:"shadow-5"},buttonTextColor:{default:"shadow-8"},borderColor:{default:{unselected:"gray-6",selected:"yellow-5"}},hoverColor:{default:"shadow-1"},treeColor:{default:"gray-7"},selectedTreeColor:{default:"yellow-6"},spanIcon:{},spanFontWeight:{default:"inherit",label:"bold"},spanPadding:{default:"0"},spanBorderRadius:{default:"0"},codeBackgroundColor:{default:"gray-12"},codeFunctionColor:{default:"yellow-10"},codeStringColor:{default:"orange-8"},codeTextColor:{default:"blue-4"},codeConstantColor:{default:"green-10"},codeKeywordColor:{default:"purple-8"},codePanelBackgroundColor:{default:"black"},collapsibleTextColor:{default:"gray-12"},collapsibleFontFamily:{default:'"Inter", Helvetica, Arial, sans-serif'},collaspibleFontSize:{default:"inherit"},collapsibleFontWeight:{default:"inherit"},collapsiblePadding:{default:"4px 16px"},collapsibleIcon:{default:""},collapsibleTitlePadding:{default:"0 0 0 22px"}},ge=W(fe,{fontFamily:{default:'"Inter", Helvetica, Arial, sans-serif'},fontWeight:{default:300},contentBackgroundColor:{default:{unselected:"blue-2",selected:"blue-4"}},spanBackgroundColor:{default:{unselected:"transparent",selected:"blue-7"}},textColor:{default:{unselected:"gray-12",selected:"gray-12"}},spanTextColor:{default:{unselected:"inherit",selected:"gray-12"}},borderColor:{default:{unselected:"blue-5",selected:"blue-6"}}}),pe=W(ge,{contentBackgroundColor:{default:{unselected:"gray-12",selected:"blue-3"}},spanBackgroundColor:{default:{unselected:"transparent",selected:"blue-3"}},textColor:{default:{unselected:"blue-7",selected:"blue-5"}},spanTextColor:{default:{unselected:"inherit",selected:"blue-5"}},borderColor:{default:{unselected:"blue-4",selected:"blue-4"}}}),me=W(fe,{colors:{gray:{1:"#111113",2:"#18191b",3:"#212225",4:"#272a2d",5:"#2e3135",6:"#363a3f",7:"#43484e",8:"#5a6169",9:"#696e77",10:"#777b84",11:"#b0b4ba",12:"#edeef0"},purple:{1:"#14121f",2:"#1b1525",3:"#291f43",4:"#33255b",5:"#3c2e69",6:"#473876",7:"#56468b",8:"#6958ad",9:"#6e56cf",10:"#7d66d9",11:"#baa7ff",12:"#e2ddfe"},blue:{1:"#0d1520",2:"#111927",3:"#0d2847",4:"#334059",5:"#4a5f79",6:"#104d87",7:"#2f62a1",8:"#2870bd",9:"#0090ff",10:"#3b9eff",11:"#70b8ff",12:"#b3d7f8"},green:{1:"#0e1511",2:"#141a15",3:"#1b2a1e",4:"#1d3a24",5:"#25482d",6:"#2d5736",7:"#366740",8:"#3e7949",9:"#46a758",10:"#53b365",11:"#71d083",12:"#c2f0c2"},yellow:{1:"#16120c",2:"#1d180f",3:"#302008",4:"#3f2700",5:"#49453d",6:"#554624",7:"#6d6651",8:"#897a56",9:"#fdba1f",10:"#ffc83b",11:"#ffdc91",12:"#ffefbe"},orange:{1:"#17120e",2:"#1e160f",3:"#331e0b",4:"#462100",5:"#562800",6:"#66350c",7:"#7e451d",8:"#a35829",9:"#f76b15",10:"#ff801f",11:"#ffa057",12:"#ffe0c2"},red:{1:"#191111",2:"#201314",3:"#3b1219",4:"#500f1c",5:"#611623",6:"#72232d",7:"#8c333a",8:"#b54548",9:"#e5484d",10:"#ec5d5e",11:"#ff9592",12:"#ffd1d9"},highlight:{1:"rgba(113, 184, 255, 0.05)",2:"rgba(113, 184, 255, 0.1)",3:"rgba(113, 184, 255, 0.15)",4:"rgba(113, 184, 255, 0.2)",5:"rgba(113, 184, 255, 0.3)",6:"rgba(113, 184, 255, 0.4)",7:"rgba(113, 184, 255, 0.5)",8:"rgba(113, 184, 255, 0.6)",9:"rgba(113, 184, 255, 0.7)",10:"rgba(113, 184, 255, 0.8)",11:"rgba(113, 184, 255, 0.9)",12:"rgba(113, 184, 255, 0.95)"}},backgroundColor:"#2f3237",contentBackgroundColor:{default:{unselected:"gray-4",selected:"yellow-5"}},spanBackgroundColor:{default:{unselected:"transparent",selected:"yellow-6"}},buttonBgColor:{default:"highlight-2"},buttonHoverBgColor:{default:"highlight-4"},buttonPulseBgColor:{default:"highlight-5"},codeBackgroundColor:{default:"gray-5"},textColor:{default:{unselected:"gray-12",selected:"yellow-11"}},spanTextColor:{default:{unselected:"inherit",selected:"yellow-11"}},fadedTextColor:{default:"highlight-7"},buttonTextColor:{default:"highlight-10"},borderColor:{default:{unselected:"gray-7",selected:"yellow-7"}},hoverColor:{default:"highlight-1"},treeColor:{default:"gray-9"},selectedTreeColor:{default:"yellow-11"},collapsibleTextColor:{default:{unselected:"gray-12",selected:"yellow-11"}}}),be="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),ve="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),we="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class ye{constructor(e,t){this.rules=[];let{finish:i}=t||{};function n(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function s(e,t,r,o){let l=[],a=/^@(\w+)\b/.exec(e[0]),h=a&&"keyframes"==a[1];if(a&&null==t)return r.push(e[0]+";");for(let i in t){let o=t[i];if(/&/.test(i))s(i.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),o,r);else if(o&&"object"==typeof o){if(!a)throw new RangeError("The value of a property ("+i+") should be a primitive value.");s(n(i),o,l,h)}else null!=o&&l.push(i.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+o+";")}(l.length||h)&&r.push((!i||a||o?e:e.map(i)).join(", ")+" {"+l.join(" ")+"}")}for(let t in e)s(n(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=we[be]||1;return we[be]=e+1,"ͼ"+e.toString(36)}static mount(e,t,i){let n=e[ve],s=i&&i.nonce;n?s&&n.setNonce(s):n=new ke(e,s),n.mount(Array.isArray(t)?t:[t])}}let xe=new Map;class ke{constructor(e,t){let i=e.ownerDocument||e,n=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let t=xe.get(i);if(t)return e.adoptedStyleSheets=[t.sheet,...e.adoptedStyleSheets],e[ve]=t;this.sheet=new n.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],xe.set(i,this)}else{this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let n=e.head||e;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],e[ve]=this}mount(e){let t=this.sheet,i=0,n=0;for(let s=0;s<e.length;s++){let r=e[s],o=this.modules.indexOf(r);if(o<n&&o>-1&&(this.modules.splice(o,1),n--,o=-1),-1==o){if(this.modules.splice(n++,0,r),t)for(let e=0;e<r.rules.length;e++)t.insertRule(r.rules[e],i++)}else{for(;n<o;)i+=this.modules[n++].rules.length;i+=r.rules.length,n++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}for(var Se={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ce={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ae=0;Ae<10;Ae++)Se[48+Ae]=Se[96+Ae]=String(Ae);for(Ae=1;Ae<=24;Ae++)Se[Ae+111]="F"+Ae;for(Ae=65;Ae<=90;Ae++)Se[Ae]=String.fromCharCode(Ae+32),Ce[Ae]=String.fromCharCode(Ae);for(var Me in Se)Ce.hasOwnProperty(Me)||(Ce[Me]=Se[Me]);function Te(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function Oe(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function Ne(e,t){if(!t.anchorNode)return!1;try{return Oe(e,t.anchorNode)}catch(e){return!1}}function De(e){return 3==e.nodeType?_e(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function Ee(e,t,i,n){return!!i&&(Le(e,t,i,n,-1)||Le(e,t,i,n,1))}function Be(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function Le(e,t,i,n,s){for(;;){if(e==i&&t==n)return!0;if(t==(s<0?0:Pe(e))){if("DIV"==e.nodeName)return!1;let i=e.parentNode;if(!i||1!=i.nodeType)return!1;t=Be(e)+(s<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(s<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=s<0?Pe(e):0}}}function Pe(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Re(e,t){let i=t?e.left:e.right;return{left:i,right:i,top:e.top,bottom:e.bottom}}function He(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class We{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Pe(t):0),i,Math.min(e.focusOffset,i?Pe(i):0))}set(e,t,i,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=n}}let Ve,ze=null;function Fe(e){if(e.setActive)return e.setActive();if(ze)return e.focus(ze);let t=[];for(let i=e;i&&(t.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(e.focus(null==ze?{get preventScroll(){return ze={preventScroll:!0},!0}}:void 0),!ze){ze=!1;for(let e=0;e<t.length;){let i=t[e++],n=t[e++],s=t[e++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}function _e(e,t,i=t){let n=Ve||(Ve=document.createRange());return n.setEnd(e,i),n.setStart(e,t),n}function Ie(e,t,i){let n={key:t,code:t,keyCode:i,which:i,cancelable:!0},s=new KeyboardEvent("keydown",n);s.synthetic=!0,e.dispatchEvent(s);let r=new KeyboardEvent("keyup",n);return r.synthetic=!0,e.dispatchEvent(r),s.defaultPrevented||r.defaultPrevented}function $e(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function qe(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}class Ke{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Ke(e.parentNode,Be(e),t)}static after(e,t){return new Ke(e.parentNode,Be(e)+1,t)}}const je=[];class Ge{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let i,n=this.dom,s=null;for(let r of this.children){if(7&r.flags){if(!r.dom&&(i=s?s.nextSibling:n.firstChild)){let e=Ge.get(i);(!e||!e.parent&&e.canReuseDOM(r))&&r.reuseDOM(i)}r.sync(e,t),r.flags&=-8}if(i=s?s.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&i!=r.dom&&(t.written=!0),r.dom.parentNode==n)for(;i&&i!=r.dom;)i=Ye(i);else n.insertBefore(r.dom,i);s=r.dom}for(i=s?s.nextSibling:n.firstChild,i&&t&&t.node==n&&(t.written=!0);i;)i=Ye(i)}else if(1&this.flags)for(let i of this.children)7&i.flags&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let n=0==Pe(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==n&&t.firstChild!=t.lastChild&&(n=e==t.firstChild?-1:1),e=t}i=n<0?e:e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Ge.get(i);)i=i.nextSibling;if(!i)return this.length;for(let e=0,t=0;;e++){let n=this.children[e];if(n.dom==i)return t;t+=n.length+n.breakAfter}}domBoundsAround(e,t,i=0){let n=-1,s=-1,r=-1,o=-1;for(let l=0,a=i,h=i;l<this.children.length;l++){let i=this.children[l],c=a+i.length;if(a<e&&c>t)return i.domBoundsAround(e,t,a);if(c>=e&&-1==n&&(n=l,s=a),a>t&&i.dom.parentNode==this.dom){r=l,o=h;break}h=c,a=c+i.breakAfter}return{from:s,to:o<0?i+this.length:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:r<this.children.length&&r>=0?this.children[r].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=je){this.markDirty();for(let i=e;i<t;i++){let e=this.children[i];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...i);for(let e=0;e<i.length;e++)i[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Ue(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,n,s,r){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){this.parent=null}}function Ye(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}Ge.prototype.breakAfter=0;class Ue{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Xe(e,t,i,n,s,r,o,l,a){let{children:h}=e,c=h.length?h[t]:null,d=r.length?r[r.length-1]:null,u=d?d.breakAfter:o;if(!(t==n&&c&&!o&&!u&&r.length<2&&c.merge(i,s,r.length?d:null,0==i,l,a))){if(n<h.length){let e=h[n];e&&(s<e.length||e.breakAfter&&(null==d?void 0:d.breakAfter))?(t==n&&(e=e.split(s),s=0),!u&&d&&e.merge(0,s,d,!0,0,a)?r[r.length-1]=e:((s||e.children.length&&!e.children[0].length)&&e.merge(0,s,null,!1,0,a),r.push(e))):(null==e?void 0:e.breakAfter)&&(d?d.breakAfter=1:o=1),n++}for(c&&(c.breakAfter=o,i>0&&(!o&&r.length&&c.merge(i,c.length,r[0],!1,l,0)?c.breakAfter=r.shift().breakAfter:(i<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(i,c.length,null,!1,l,0),t++));t<n&&r.length;)if(h[n-1].become(r[r.length-1]))n--,r.pop(),a=r.length?0:l;else{if(!h[t].become(r[0]))break;t++,r.shift(),l=r.length?0:a}!r.length&&t&&n<h.length&&!h[t-1].breakAfter&&h[n].merge(0,0,h[t-1],!1,l,a)&&t--,(t<n||r.length)&&e.replaceChildren(t,n,r)}}function Ze(e,t,i,n,s,r){let o=e.childCursor(),{i:l,off:a}=o.findPos(i,1),{i:h,off:c}=o.findPos(t,-1),d=t-i;for(let e of n)d+=e.length;e.length+=d,Xe(e,h,c,l,a,n,0,s,r)}let Je="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Qe="undefined"!=typeof document?document:{documentElement:{style:{}}};const et=/Edge\/(\d+)/.exec(Je.userAgent),tt=/MSIE \d/.test(Je.userAgent),it=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Je.userAgent),nt=!!(tt||it||et),st=!nt&&/gecko\/(\d+)/i.test(Je.userAgent),rt=!nt&&/Chrome\/(\d+)/.exec(Je.userAgent),ot="webkitFontSmoothing"in Qe.documentElement.style,lt=!nt&&/Apple Computer/.test(Je.vendor),at=lt&&(/Mobile\/\w+/.test(Je.userAgent)||Je.maxTouchPoints>2);var ht={mac:at||/Mac/.test(Je.platform),windows:/Win/.test(Je.platform),linux:/Linux|X11/.test(Je.platform),ie:nt,ie_version:tt?Qe.documentMode||6:it?+it[1]:et?+et[1]:0,gecko:st,gecko_version:st?+(/Firefox\/(\d+)/.exec(Je.userAgent)||[0,0])[1]:0,chrome:!!rt,chrome_version:rt?+rt[1]:0,ios:at,android:/Android\b/.test(Je.userAgent),webkit:ot,safari:lt,webkit_version:ot?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Qe.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class ct extends Ge{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,i){return!(8&this.flags||i&&(!(i instanceof ct)||this.length-(t-e)+i.length>256||8&i.flags))&&(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new ct(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ke(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,i){let n=e.nodeValue.length;t>n&&(t=n);let s=t,r=t,o=0;0==t&&i<0||t==n&&i>=0?ht.chrome||ht.gecko||(t?(s--,o=1):r<n&&(r++,o=-1)):i<0?s--:r<n&&r++;let l=_e(e,s,r).getClientRects();if(!l.length)return null;let a=l[(o?o<0:i>=0)?0:l.length-1];ht.safari&&!o&&0==a.width&&(a=Array.prototype.find.call(l,(e=>e.width))||a);return o?Re(a,o<0):a||null}(this.dom,e,t)}}class dt extends Ge{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let e of t)e.setParent(this)}setAttrs(e){if($e(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,n,s,r){return(!i||!(!(i instanceof dt&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&r<=0))&&(Ze(this,e,t,i?i.children:[],s-1,r-1),this.markDirty(),!0)}split(e){let t=[],i=0,n=-1,s=0;for(let r of this.children){let o=i+r.length;o>e&&t.push(i<e?r.split(e-i):r),n<0&&i>=e&&(n=s),i=o,s++}let r=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new dt(this.mark,t,r)}domAtPos(e){return gt(this,e)}coordsAt(e,t){return mt(this,e,t)}}class ut extends Ge{static create(e,t,i){return new ut(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=ut.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,n,s,r){return!(i&&(!(i instanceof ut&&this.widget.compare(i.widget))||e>0&&s<=0||t<this.length&&r<=0))&&(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof ut&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return E.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):E.empty}domAtPos(e){return(this.length?0==e:this.side>0)?Ke.before(this.dom):Ke.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let n=this.dom.getClientRects(),s=null;if(!n.length)return null;let r=this.side?this.side<0:e>0;for(let t=r?n.length-1:0;s=n[t],!(e>0?0==t:t==n.length-1||s.top<s.bottom);t+=r?-1:1);return Re(s,!r)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ft extends Ge{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ft&&e.side==this.side}split(){return new ft(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ke.before(this.dom):Ke.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return E.empty}get isHidden(){return!0}}function gt(e,t){let i=e.dom,{children:n}=e,s=0;for(let e=0;s<n.length;s++){let r=n[s],o=e+r.length;if(!(o==e&&r.getSide()<=0)){if(t>e&&t<o&&r.dom.parentNode==i)return r.domAtPos(t-e);if(t<=e)break;e=o}}for(let e=s;e>0;e--){let t=n[e-1];if(t.dom.parentNode==i)return t.domAtPos(t.length)}for(let e=s;e<n.length;e++){let t=n[e];if(t.dom.parentNode==i)return t.domAtPos(0)}return new Ke(i,0)}function pt(e,t,i){let n,{children:s}=e;i>0&&t instanceof dt&&s.length&&(n=s[s.length-1])instanceof dt&&n.mark.eq(t.mark)?pt(n,t.children[0],i-1):(s.push(t),t.setParent(e)),e.length+=t.length}function mt(e,t,i){let n=null,s=-1,r=null,o=-1;!function e(t,l){for(let a=0,h=0;a<t.children.length&&h<=l;a++){let c=t.children[a],d=h+c.length;d>=l&&(c.children.length?e(c,l-h):(!r||r.isHidden&&i>0)&&(d>l||h==d&&c.getSide()>0)?(r=c,o=l-h):(h<l||h==d&&c.getSide()<0&&!c.isHidden)&&(n=c,s=l-h)),h=d}}(e,t);let l=(i<0?n:r)||n||r;return l?l.coordsAt(Math.max(0,l==n?s:o),i):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let i=De(t);return i[i.length-1]||null}(e)}function bt(e,t){for(let i in e)"class"==i&&t.class?t.class+=" "+e.class:"style"==i&&t.style?t.style+=";"+e.style:t[i]=e[i];return t}ct.prototype.children=ut.prototype.children=ft.prototype.children=je;const vt=Object.create(null);function wt(e,t,i){if(e==t)return!0;e||(e=vt),t||(t=vt);let n=Object.keys(e),s=Object.keys(t);if(n.length-(i&&n.indexOf(i)>-1?1:0)!=s.length-(i&&s.indexOf(i)>-1?1:0))return!1;for(let r of n)if(r!=i&&(-1==s.indexOf(r)||e[r]!==t[r]))return!1;return!0}function yt(e,t,i){let n=!1;if(t)for(let s in t)i&&s in i||(n=!0,"style"==s?e.style.cssText="":e.removeAttribute(s));if(i)for(let s in i)t&&t[s]==i[s]||(n=!0,"style"==s?e.style.cssText=i[s]:e.setAttribute(s,i[s]));return n}function xt(e){let t=Object.create(null);for(let i=0;i<e.attributes.length;i++){let n=e.attributes[i];t[n.name]=n.value}return t}class kt extends Ge{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,n,s,r){if(i){if(!(i instanceof kt))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),Ze(this,e,t,i?i.children:[],s,r),!0}split(e){let t=new kt;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:i,off:n}=this.childPos(e);n&&(t.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let e=i;e<this.children.length;e++)t.append(this.children[e],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){wt(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){pt(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=bt(t,this.attrs||{})),i&&(this.attrs=bt({class:i},this.attrs||{}))}domAtPos(e){return gt(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?4&this.flags&&($e(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(yt(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&Ge.get(n)instanceof dt;)n=n.lastChild;if(!(n&&this.length&&("BR"==n.nodeName||0!=(null===(i=Ge.get(n))||void 0===i?void 0:i.isEditable)||ht.ios&&this.children.some((e=>e instanceof ct))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let i of this.children){if(!(i instanceof ct)||/[^ -~]/.test(i.text))return null;let n=De(i.dom);if(1!=n.length)return null;t+=n[0].width,e=n[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let i=mt(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=i.bottom-i.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let n=(t-e.textHeight)/2;return{top:i.top+n,bottom:i.bottom-n,left:i.left,right:i.left}}}return i}become(e){return!1}covers(){return!0}static find(e,t){for(let i=0,n=0;i<e.children.length;i++){let s=e.children[i],r=n+s.length;if(r>=t){if(s instanceof kt)return s;if(r>t)break}n=r+s.breakAfter}return null}}class St extends Ge{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,n,s,r){return!(i&&(!(i instanceof St&&this.widget.compare(i.widget))||e>0&&s<=0||t<this.length&&r<=0))&&(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?Ke.before(this.dom):Ke.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new St(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return je}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):E.empty}domBoundsAround(){return null}become(e){return e instanceof St&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t!=i&&(e<0?t<0:i>0)}}class Ct{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}destroy(e){}}var At=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(At||(At={}));class Mt extends M{constructor(e,t,i,n){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(e){return new Tt(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Nt(e,t,t,i,e.widget||null,!1)}static replace(e){let t,i,n=!!e.block;if(e.isBlockGap)t=-5e8,i=4e8;else{let{start:s,end:r}=Dt(e,n);t=(s?n?-3e8:-1:5e8)-1,i=1+(r?n?2e8:1:-6e8)}return new Nt(e,t,i,n,e.widget||null,!0)}static line(e){return new Ot(e)}static set(e,t=!1){return v.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Mt.none=v.empty;class Tt extends Mt{constructor(e){let{start:t,end:i}=Dt(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof Tt&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(i=e.attrs)||void 0===i?void 0:i.class))&&wt(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Tt.prototype.point=!1;class Ot extends Mt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ot&&this.spec.class==e.spec.class&&wt(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Ot.prototype.mapMode=w.TrackBefore,Ot.prototype.point=!0;class Nt extends Mt{constructor(e,t,i,n,s,r){super(t,i,s,e),this.block=n,this.isReplace=r,this.mapMode=n?t<=0?w.TrackBefore:w.TrackAfter:w.TrackDel}get type(){return this.startSide!=this.endSide?At.WidgetRange:this.startSide<=0?At.WidgetBefore:At.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Nt&&(t=this.widget,i=e.widget,t==i||!!(t&&i&&t.compare(i)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,i}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function Dt(e,t=!1){let{inclusiveStart:i,inclusiveEnd:n}=e;return null==i&&(i=e.inclusive),null==n&&(n=e.inclusive),{start:null!=i?i:t,end:null!=n?n:t}}function Et(e,t,i,n=0){let s=i.length-1;s>=0&&i[s]+n>=e?i[s]=Math.max(i[s],t):i.push(e,t)}Nt.prototype.point=!0;class Bt{constructor(e,t,i,n){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof St&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new kt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Lt(new ft(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof St||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:i,done:n}=this.cursor.next(this.skip);if(this.skip=0,n)throw new Error("Ran out of text content when drawing inline views");if(i){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Lt(new ct(this.text.slice(this.textOff,this.textOff+n)),t),i),this.atCursorPos=!0,this.textOff+=n,e-=n,i=0}}span(e,t,i,n){this.buildText(t-e,i,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,i,n,s,r){if(this.disallowBlockEffectsFor[r]&&i instanceof Nt){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(i instanceof Nt)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new St(i.widget||new Pt("div"),o,i));else{let r=ut.create(i.widget||new Pt("span"),o,o?0:i.startSide),l=this.atCursorPos&&!r.isEditable&&s<=n.length&&(e<t||i.startSide>0),a=!r.isEditable&&(e<t||s>n.length||i.startSide<=0),h=this.getLine();2!=this.pendingBuffer||l||r.isEditable||(this.pendingBuffer=0),this.flushBuffer(n),l&&(h.append(Lt(new ft(1),n),s),s=n.length+Math.max(0,s-n.length)),h.append(Lt(r,n),s),this.atCursorPos=a,this.pendingBuffer=a?e<t||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,n,s){let r=new Bt(e,t,i,s);return r.openEnd=v.spans(n,t,i,r),r.openStart<0&&(r.openStart=r.openEnd),r.finish(r.openEnd),r}}function Lt(e,t){for(let i of t)e=new dt(i,[e],e.length);return e}class Pt extends Ct{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Rt=C.define(),Ht=C.define(),Wt=C.define(),Vt=C.define(),zt=C.define(),Ft=C.define(),_t=C.define(),It=C.define({combine:e=>e.some((e=>e))}),$t=C.define({combine:e=>e.some((e=>e))});class qt{constructor(e,t="nearest",i="nearest",n=5,s=5){this.range=e,this.y=t,this.x=i,this.yMargin=n,this.xMargin=s}map(e){return e.empty?this:new qt(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Kt=A.define({map:(e,t)=>e.map(t)});function jt(e,t,i){let n=e.facet(Vt);n.length?n[0](t):window.onerror?window.onerror(String(t),i,void 0,void 0,t):i?console.error(i+":",t):console.error(t)}const Gt=C.define({combine:e=>!e.length||e[0]});let Yt=0;const Ut=C.define();class Xt{constructor(e,t,i,n,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=n,this.extension=s(this)}static define(e,t){const{eventHandlers:i,eventObservers:n,provide:s,decorations:r}=t||{};return new Xt(Yt++,e,i,n,(e=>{let t=[Ut.of(e)];return r&&t.push(ei.of((t=>{let i=t.plugin(e);return i?r(i):Mt.none}))),s&&t.push(s(e)),t}))}static fromClass(e,t){return Xt.define((t=>new e(t)),t)}}class Zt{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(jt(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){jt(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){jt(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Jt=C.define(),Qt=C.define(),ei=C.define(),ti=C.define(),ii=C.define();function ni(e,t,i){let n=e.state.facet(ii);if(!n.length)return n;let s=n.map((t=>t instanceof Function?t(e):t)),r=[];return v.spans(s,t,i,{point(){},span(e,t,i,n){let s=r;for(let r=i.length-1;r>=0;r--,n--){let o,l=i[r].spec.bidiIsolate;if(null!=l)if(n>0&&s.length&&(o=s[s.length-1]).to==e&&o.direction==l)o.to=t,s=o.inner;else{let i={from:e,to:t,direction:l,inner:[]};s.push(i),s=i.inner}}}}),r}const si=C.define();function ri(e){let t=0,i=0,n=0,s=0;for(let r of e.state.facet(si)){let o=r(e);o&&(null!=o.left&&(t=Math.max(t,o.left)),null!=o.right&&(i=Math.max(i,o.right)),null!=o.top&&(n=Math.max(n,o.top)),null!=o.bottom&&(s=Math.max(s,o.bottom)))}return{left:t,right:i,top:n,bottom:s}}const oi=C.define();class li{constructor(e,t,i,n){this.fromA=e,this.toA=t,this.fromB=i,this.toB=n}join(e){return new li(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(0==t.length)return e;let i=[];for(let n=0,s=0,r=0,o=0;;n++){let l=n==e.length?null:e[n],a=r-o,h=l?l.fromB:1e9;for(;s<t.length&&t[s]<h;){let e=t[s],n=t[s+1],r=Math.max(o,e),l=Math.min(h,n);if(r<=l&&new li(r+a,l+a,r,l).addToSet(i),n>h)break;s+=2}if(!l)return i;new li(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),r=l.toA,o=l.toB}}}class ai{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=T.empty(this.startState.doc.length);for(let e of i)this.changes=this.changes.compose(e.changes);let n=[];this.changes.iterChangedRanges(((e,t,i,s)=>n.push(new li(e,t,i,s)))),this.changedRanges=n}static create(e,t,i){return new ai(e,t,i)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var hi=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(hi||(hi={}));const ci=hi.LTR,di=hi.RTL;function ui(e){let t=[];for(let i=0;i<e.length;i++)t.push(1<<+e[i]);return t}const fi=ui("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),gi=ui("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),pi=Object.create(null),mi=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),i=e.charCodeAt(1);pi[t]=i,pi[i]=-t}const bi=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class vi{get dir(){return this.level%2?di:ci}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,n){let s=-1;for(let r=0;r<e.length;r++){let o=e[r];if(o.from<=t&&o.to>=t){if(o.level==i)return r;(s<0||(0!=n?n<0?o.from<t:o.to>t:e[s].level>o.level))&&(s=r)}}if(s<0)throw new RangeError("Index out of range");return s}}function wi(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(n.from!=s.from||n.to!=s.to||n.direction!=s.direction||!wi(n.inner,s.inner))return!1}return!0}const yi=[];function xi(e,t,i,n,s,r,o){let l=n%2?2:1;if(n%2==s%2)for(let a=t,h=0;a<i;){let t=!0,c=!1;if(h==r.length||a<r[h].from){let e=yi[a];e!=l&&(t=!1,c=16==e)}let d=t||1!=l?null:[],u=t?n:n+1,f=a;e:for(;;)if(h<r.length&&f==r[h].from){if(c)break e;let g=r[h];if(!t)for(let e=g.to,t=h+1;;){if(e==i)break e;if(!(t<r.length&&r[t].from==e)){if(yi[e]==l)break e;break}e=r[t++].to}if(h++,d)d.push(g);else{g.from>a&&o.push(new vi(a,g.from,u)),ki(e,g.direction==ci!=!(u%2)?n+1:n,s,g.inner,g.from,g.to,o),a=g.to}f=g.to}else{if(f==i||(t?yi[f]!=l:yi[f]==l))break;f++}d?xi(e,a,f,n+1,s,d,o):a<f&&o.push(new vi(a,f,u)),a=f}else for(let a=i,h=r.length;a>t;){let i=!0,c=!1;if(!h||a>r[h-1].to){let e=yi[a-1];e!=l&&(i=!1,c=16==e)}let d=i||1!=l?null:[],u=i?n:n+1,f=a;e:for(;;)if(h&&f==r[h-1].to){if(c)break e;let g=r[--h];if(!i)for(let e=g.from,i=h;;){if(e==t)break e;if(!i||r[i-1].to!=e){if(yi[e-1]==l)break e;break}e=r[--i].from}if(d)d.push(g);else{g.to<a&&o.push(new vi(g.to,a,u)),ki(e,g.direction==ci!=!(u%2)?n+1:n,s,g.inner,g.from,g.to,o),a=g.from}f=g.from}else{if(f==t||(i?yi[f-1]!=l:yi[f-1]==l))break;f--}d?xi(e,f,a,n+1,s,d,o):f<a&&o.push(new vi(f,a,u)),a=f}}function ki(e,t,i,n,s,r,o){let l=t%2?2:1;!function(e,t,i,n,s){for(let o=0;o<=n.length;o++){let l=o?n[o-1].to:t,a=o<n.length?n[o].from:i,h=o?256:s;for(let t=l,i=h,n=h;t<a;t++){let s=(r=e.charCodeAt(t))<=247?fi[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?gi[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8203?256:64336<=r&&r<=65023?4:8204==r?256:1;512==s?s=i:8==s&&4==n&&(s=16),yi[t]=4==s?2:s,7&s&&(n=s),i=s}for(let e=l,t=h,n=h;e<a;e++){let s=yi[e];if(128==s)e<a-1&&t==yi[e+1]&&24&t?s=yi[e]=t:yi[e]=256;else if(64==s){let s=e+1;for(;s<a&&64==yi[s];)s++;let r=e&&8==t||s<i&&8==yi[s]?1==n?1:8:256;for(let t=e;t<s;t++)yi[t]=r;e=s-1}else 8==s&&1==n&&(yi[e]=1);t=s,7&s&&(n=s)}}var r}(e,s,r,n,l),function(e,t,i,n,s){let r=1==s?2:1;for(let o=0,l=0,a=0;o<=n.length;o++){let h=o?n[o-1].to:t,c=o<n.length?n[o].from:i;for(let t,i,n,o=h;o<c;o++)if(i=pi[t=e.charCodeAt(o)])if(i<0){for(let e=l-3;e>=0;e-=3)if(mi[e+1]==-i){let t=mi[e+2],i=2&t?s:4&t?1&t?r:s:0;i&&(yi[o]=yi[mi[e]]=i),l=e;break}}else{if(189==mi.length)break;mi[l++]=o,mi[l++]=t,mi[l++]=a}else if(2==(n=yi[o])||1==n){let e=n==s;a=e?0:1;for(let t=l-3;t>=0;t-=3){let i=mi[t+2];if(2&i)break;if(e)mi[t+2]|=2;else{if(4&i)break;mi[t+2]|=4}}}}}(e,s,r,n,l),function(e,t,i,n){for(let s=0,r=n;s<=i.length;s++){let o=s?i[s-1].to:e,l=s<i.length?i[s].from:t;for(let a=o;a<l;){let o=yi[a];if(256==o){let o=a+1;for(;;)if(o==l){if(s==i.length)break;o=i[s++].to,l=s<i.length?i[s].from:t}else{if(256!=yi[o])break;o++}let h=1==r,c=h==(1==(o<t?yi[o]:n))?h?1:2:n;for(let t=o,n=s,r=n?i[n-1].to:e;t>a;)t==r&&(t=i[--n].from,r=n?i[n-1].to:e),yi[--t]=c;a=o}else r=o,a++}}}(s,r,n,l),xi(e,s,r,t,i,n,o)}function Si(e){return[new vi(0,e,0)]}let Ci="";function Ai(e,t,i,n,s){var r;let o=n.head-e.from,l=-1;if(0==o){if(!s||!e.length)return null;t[0].level!=i&&(o=t[0].side(!1,i),l=0)}else if(o==e.length){if(s)return null;let e=t[t.length-1];e.level!=i&&(o=e.side(!0,i),l=t.length-1)}l<0&&(l=vi.find(t,o,null!==(r=n.bidiLevel)&&void 0!==r?r:-1,n.assoc));let a=t[l];o==a.side(s,i)&&(a=t[l+=s?1:-1],o=a.side(!s,i));let h=s==(a.dir==i),c=O(e.text,o,h);if(Ci=e.text.slice(Math.min(o,c),Math.max(o,c)),c!=a.side(s,i))return y.cursor(c+e.from,h?-1:1,a.level);let d=l==(s?t.length-1:0)?null:t[l+(s?1:-1)];return d||a.level==i?d&&d.level<a.level?y.cursor(d.side(!s,i)+e.from,s?1:-1,d.level):y.cursor(c+e.from,s?-1:1,a.level):y.cursor(s?e.to:e.from,s?-1:1,i)}class Mi extends Ge{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new kt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new li(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let n=-1;this.view.inputState.composing>=0&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?n=this.domChanged.newSel.head:function(e,t){let i=!1;t&&e.iterChangedRanges(((e,n)=>{e<t.to&&n>t.from&&(i=!0)}));return i}(e.changes,this.hasComposition)||e.selectionSet||(n=e.state.selection.main.head));let s=n>-1?function(e,t,i){let n=Oi(e,i);if(!n)return null;let{node:s,from:r,to:o}=n,l=s.nodeValue;if(/[\n\r]/.test(l))return null;if(e.state.doc.sliceString(n.from,n.to)!=l)return null;let a=t.invertedDesc,h=new li(a.mapPos(r),a.mapPos(o),r,o),c=[];for(let t=s.parentNode;;t=t.parentNode){let i=Ge.get(t);if(i instanceof dt)c.push({node:t,deco:i.mark});else{if(i instanceof kt||"DIV"==t.nodeName&&t.parentNode==e.contentDOM)return{range:h,text:s,marks:c,line:t};if(t==e.contentDOM)return null;c.push({node:t,deco:new Tt({inclusive:!0,attributes:xt(t),tagName:t.tagName.toLowerCase()})})}}}(this.view,e.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:n}=this.hasComposition;i=new li(t,n,e.changes.mapPos(t,-1),e.changes.mapPos(n,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ht.ie||ht.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=function(e,t,i){let n=new Di;return v.compare(e,t,i,n),n.changes}(this.decorations,this.updateDeco(),e.changes);return i=li.extendWithRanges(i,r),!!(7&this.flags||0!=i.length)&&(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:n}=this.view;n.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=ht.chrome||ht.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||n.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((e=>e.flags&=-9));let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof St&&e.widget instanceof Ti&&s.push(e.dom);n.updateGaps(s)}updateChildren(e,t,i){let n=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let e=n.length-1;;e--){let t=e>=0?n[e]:null;if(!t)break;let r,o,l,a,{fromA:h,toA:c,fromB:d,toB:u}=t;if(i&&i.range.fromB<u&&i.range.toB>d){let e=Bt.build(this.view.state.doc,d,i.range.fromB,this.decorations,this.dynamicDecorationMap),t=Bt.build(this.view.state.doc,i.range.toB,u,this.decorations,this.dynamicDecorationMap);o=e.breakAtStart,l=e.openStart,a=t.openEnd;let n=this.compositionView(i);t.breakAtStart?n.breakAfter=1:t.content.length&&n.merge(n.length,n.length,t.content[0],!1,t.openStart,0)&&(n.breakAfter=t.content[0].breakAfter,t.content.shift()),e.content.length&&n.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),r=e.content.concat(n).concat(t.content)}else({content:r,breakAtStart:o,openStart:l,openEnd:a}=Bt.build(this.view.state.doc,d,u,this.decorations,this.dynamicDecorationMap));let{i:f,off:g}=s.findPos(c,1),{i:p,off:m}=s.findPos(h,-1);Xe(this,p,m,f,g,r,o,l,a)}i&&this.fixCompositionDOM(i)}compositionView(e){let t=new ct(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new dt(i,[t],t.length);let i=new kt;return i.append(t,0),i}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some((e=>7&e.flags))?1:0),this.markedForComposition.add(t);let i=Ge.get(e);i&&i!=t&&(i.dom=null),t.setDOM(e)},i=this.childPos(e.range.fromB,1),n=this.children[i.i];t(e.line,n);for(let s=e.marks.length-1;s>=-1;s--)i=n.childPos(i.off,1),n=n.children[i.i],t(s>=0?e.marks[s].node:e.text,n)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let i=this.view.root.activeElement,n=i==this.dom,s=!n&&Ne(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(n||t||s))return;let r=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),a=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(ht.gecko&&o.empty&&!this.hasComposition&&(1==(h=l).node.nodeType&&h.node.firstChild&&(0==h.offset||"false"==h.node.childNodes[h.offset-1].contentEditable)&&(h.offset==h.node.childNodes.length||"false"==h.node.childNodes[h.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>l.node.insertBefore(e,l.node.childNodes[l.offset]||null))),l=a=new Ke(e,0),r=!0}var h;let c=this.view.observer.selectionRange;!r&&c.focusNode&&Ee(l.node,l.offset,c.anchorNode,c.anchorOffset)&&Ee(a.node,a.offset,c.focusNode,c.focusOffset)||(this.view.observer.ignore((()=>{ht.android&&ht.chrome&&this.dom.contains(c.focusNode)&&function(e,t){for(let i=e;i&&i!=t;i=i.assignedSlot||i.parentNode)if(1==i.nodeType&&"false"==i.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=Te(this.view.root);if(e)if(o.empty){if(ht.gecko){let e=(t=l.node,n=l.offset,1!=t.nodeType?0:(n&&"false"==t.childNodes[n-1].contentEditable?1:0)|(n<t.childNodes.length&&"false"==t.childNodes[n].contentEditable?2:0));if(e&&3!=e){let t=Ni(l.node,l.offset,1==e?1:-1);t&&(l=new Ke(t.node,t.offset))}}e.collapse(l.node,l.offset),null!=o.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=o.bidiLevel)}else if(e.extend){e.collapse(l.node,l.offset);try{e.extend(a.node,a.offset)}catch(e){}}else{let t=document.createRange();o.anchor>o.head&&([l,a]=[a,l]),t.setEnd(a.node,a.offset),t.setStart(l.node,l.offset),e.removeAllRanges(),e.addRange(t)}else;var t,n;s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())})),this.view.observer.setSelectionRange(l,a)),this.impreciseAnchor=l.precise?null:new Ke(c.anchorNode,c.anchorOffset),this.impreciseHead=a.precise?null:new Ke(c.focusNode,c.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Te(e.root),{anchorNode:n,anchorOffset:s}=e.observer.selectionRange;if(!(i&&t.empty&&t.assoc&&i.modify))return;let r=kt.find(this,t.head);if(!r)return;let o=r.posAtStart;if(t.head==o||t.head==o+r.length)return;let l=this.coordsAt(t.head,-1),a=this.coordsAt(t.head,1);if(!l||!a||l.bottom>a.top)return;let h=this.domAtPos(t.head+t.assoc);i.collapse(h.node,h.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let c=e.observer.selectionRange;e.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=t.from&&i.collapse(n,s)}moveToLine(e){let t,i=this.dom;if(e.node!=i)return e;for(let n=e.offset;!t&&n<i.childNodes.length;n++){let e=Ge.get(i.childNodes[n]);e instanceof kt&&(t=e.domAtPos(0))}for(let n=e.offset-1;!t&&n>=0;n--){let e=Ge.get(i.childNodes[n]);e instanceof kt&&(t=e.domAtPos(e.length))}return t?new Ke(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=Ge.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(i<e.length||e instanceof kt)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,n=0;for(let s=this.length,r=this.children.length-1;r>=0;r--){let o=this.children[r],l=s-o.breakAfter,a=l-o.length;if(l<e)break;a<=e&&(a<e||o.covers(-1))&&(l>e||o.covers(1))&&(!i||o instanceof kt&&!(i instanceof kt&&t>=0))&&(i=o,n=a),s=a}return i?i.coordsAt(e-n,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),n=this.children[t];if(!(n instanceof kt))return null;for(;n.children.length;){let{i:e,off:t}=n.childPos(i,1);for(;;e++){if(e==n.children.length)return null;if((n=n.children[e]).length)break}i=t}if(!(n instanceof ct))return null;let s=O(n.text,i);if(s==i)return null;let r=_e(n.dom,i,s).getClientRects();for(let e=0;e<r.length;e++){let t=r[e];if(e==r.length-1||t.top<t.bottom&&t.left<t.right)return t}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:n}=e,s=this.view.contentDOM.clientWidth,r=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==hi.LTR;for(let e=0,a=0;a<this.children.length;a++){let h=this.children[a],c=e+h.length;if(c>n)break;if(e>=i){let i=h.dom.getBoundingClientRect();if(t.push(i.height),r){let t=h.dom.lastChild,n=t?De(t):[];if(n.length){let t=n[n.length-1],r=l?t.right-i.left:i.right-t.left;r>o&&(o=r,this.minWidth=s,this.minWidthFrom=e,this.minWidthTo=c)}}}e=c+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?hi.RTL:hi.LTR}measureTextSize(){for(let e of this.children)if(e instanceof kt){let t=e.measureTextSize();if(t)return t}let e,t,i,n=document.createElement("div");return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let s=De(n.firstChild)[0];e=n.getBoundingClientRect().height,t=s?s.width/27:7,i=s?s.height:e,n.remove()})),{lineHeight:e,charWidth:t,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Ue(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,n=0;;n++){let s=n==t.viewports.length?null:t.viewports[n],r=s?s.from-1:this.length;if(r>i){let n=(t.lineBlockAt(r).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(Mt.replace({widget:new Ti(n),block:!0,inclusive:!0,isBlockGap:!0}).range(i,r))}if(!s)break;i=s.to+1}return Mt.set(e)}updateDeco(){let e=this.view.state.facet(ei).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e));for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let t,{range:i}=e,n=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1);if(!n)return;!i.empty&&(t=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(n={left:Math.min(n.left,t.left),top:Math.min(n.top,t.top),right:Math.max(n.right,t.right),bottom:Math.max(n.bottom,t.bottom)});let s=ri(this.view),r={left:n.left-s.left,top:n.top-s.top,right:n.right+s.right,bottom:n.bottom+s.bottom};!function(e,t,i,n,s,r,o,l){let a=e.ownerDocument,h=a.defaultView||window;for(let c=e,d=!1;c&&!d;)if(1==c.nodeType){let e,u=c==a.body,f=1,g=1;if(u)e=He(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(d=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let t=c.getBoundingClientRect();f=t.width/c.offsetWidth,g=t.height/c.offsetHeight,e={left:t.left,right:t.left+c.clientWidth*f,top:t.top,bottom:t.top+c.clientHeight*g}}let p=0,m=0;if("nearest"==s)t.top<e.top?(m=-(e.top-t.top+o),i>0&&t.bottom>e.bottom+m&&(m=t.bottom-e.bottom+m+o)):t.bottom>e.bottom&&(m=t.bottom-e.bottom+o,i<0&&t.top-m<e.top&&(m=-(e.top+m-t.top+o)));else{let n=t.bottom-t.top,r=e.bottom-e.top;m=("center"==s&&n<=r?t.top+n/2-r/2:"start"==s||"center"==s&&i<0?t.top-o:t.bottom-r+o)-e.top}if("nearest"==n?t.left<e.left?(p=-(e.left-t.left+r),i>0&&t.right>e.right+p&&(p=t.right-e.right+p+r)):t.right>e.right&&(p=t.right-e.right+r,i<0&&t.left<e.left+p&&(p=-(e.left+p-t.left+r))):p=("center"==n?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==n==l?t.left-r:t.right-(e.right-e.left)+r)-e.left,p||m)if(u)h.scrollBy(p,m);else{let e=0,i=0;if(m){let e=c.scrollTop;c.scrollTop+=m/g,i=(c.scrollTop-e)*g}if(p){let t=c.scrollLeft;c.scrollLeft+=p/f,e=(c.scrollLeft-t)*f}t={left:t.left-e,top:t.top-i,right:t.right-e,bottom:t.bottom-i},e&&Math.abs(e-p)<1&&(n="nearest"),i&&Math.abs(i-m)<1&&(s="nearest")}if(u)break;c=c.assignedSlot||c.parentNode}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,r,i.head<i.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==hi.LTR)}}class Ti extends Ct{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Oi(e,t){let i=e.observer.selectionRange,n=i.focusNode&&Ni(i.focusNode,i.focusOffset,0);if(!n)return null;let s=t-n.offset;return{from:s,to:s+n.node.nodeValue.length,node:n.node}}function Ni(e,t,i){if(i<=0)for(let i=e,n=t;;){if(3==i.nodeType)return{node:i,offset:n};if(!(1==i.nodeType&&n>0))break;i=i.childNodes[n-1],n=Pe(i)}if(i>=0)for(let n=e,s=t;;){if(3==n.nodeType)return{node:n,offset:s};if(!(1==n.nodeType&&s<n.childNodes.length&&i>=0))break;n=n.childNodes[s],s=0}return null}let Di=class{constructor(){this.changes=[]}compareRange(e,t){Et(e,t,this.changes)}comparePoint(e,t){Et(e,t,this.changes)}};function Ei(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function Bi(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Li(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function Pi(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Ri(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Hi(e,t,i){let n,s,r,o,l,a,h,c,d=!1;for(let u=e.firstChild;u;u=u.nextSibling){let e=De(u);for(let f=0;f<e.length;f++){let g=e[f];s&&Li(s,g)&&(g=Pi(Ri(g,s.bottom),s.top));let p=Ei(t,g),m=Bi(i,g);if(0==p&&0==m)return 3==u.nodeType?Wi(u,t,i):Hi(u,t,i);if(!n||o>m||o==m&&r>p){n=u,s=g,r=p,o=m;let l=m?i<g.top?-1:1:p?t<g.left?-1:1:0;d=!l||(l>0?f<e.length-1:f>0)}0==p?i>g.bottom&&(!h||h.bottom<g.bottom)?(l=u,h=g):i<g.top&&(!c||c.top>g.top)&&(a=u,c=g):h&&Li(h,g)?h=Ri(h,g.bottom):c&&Li(c,g)&&(c=Pi(c,g.top))}}if(h&&h.bottom>=i?(n=l,s=h):c&&c.top<=i&&(n=a,s=c),!n)return{node:e,offset:0};let u=Math.max(s.left,Math.min(s.right,t));return 3==n.nodeType?Wi(n,u,i):d&&"false"!=n.contentEditable?Hi(n,u,i):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,n)+(t>=(s.left+s.right)/2?1:0)}}function Wi(e,t,i){let n=e.nodeValue.length,s=-1,r=1e9,o=0;for(let l=0;l<n;l++){let n=_e(e,l,l+1).getClientRects();for(let a=0;a<n.length;a++){let h=n[a];if(h.top==h.bottom)continue;o||(o=t-h.left);let c=(h.top>i?h.top-i:i-h.bottom)-1;if(h.left-1<=t&&h.right+1>=t&&c<r){let i=t>=(h.left+h.right)/2,n=i;if(ht.chrome||ht.gecko){_e(e,l).getBoundingClientRect().left==h.right&&(n=!i)}if(c<=0)return{node:e,offset:l+(n?1:0)};s=l+(n?1:0),r=c}}}return{node:e,offset:s>-1?s:o>0?e.nodeValue.length:0}}function Vi(e,t,i,n=-1){var s,r;let o,l=e.contentDOM.getBoundingClientRect(),a=l.top+e.viewState.paddingTop,{docHeight:h}=e.viewState,{x:c,y:d}=t,u=d-a;if(u<0)return 0;if(u>h)return e.state.doc.length;for(let t=e.viewState.heightOracle.textHeight/2,s=!1;o=e.elementAtHeight(u),o.type!=At.Text;)for(;u=n>0?o.bottom+t:o.top-t,!(u>=0&&u<=h);){if(s)return i?null:0;s=!0,n=-n}d=a+u;let f=o.from;if(f<e.viewport.from)return 0==e.viewport.from?0:i?null:zi(e,l,o,c,d);if(f>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:i?null:zi(e,l,o,c,d);let g=e.dom.ownerDocument,p=e.root.elementFromPoint?e.root:g,m=p.elementFromPoint(c,d);m&&!e.contentDOM.contains(m)&&(m=null),m||(c=Math.max(l.left+1,Math.min(l.right-1,c)),m=p.elementFromPoint(c,d),m&&!e.contentDOM.contains(m)&&(m=null));let b,v=-1;if(m&&0!=(null===(s=e.docView.nearest(m))||void 0===s?void 0:s.isEditable))if(g.caretPositionFromPoint){let e=g.caretPositionFromPoint(c,d);e&&({offsetNode:b,offset:v}=e)}else if(g.caretRangeFromPoint){let t=g.caretRangeFromPoint(c,d);t&&(({startContainer:b,startOffset:v}=t),(!e.contentDOM.contains(b)||ht.safari&&function(e,t,i){let n;if(3!=e.nodeType||t!=(n=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return _e(e,n-1,n).getBoundingClientRect().left>i}(b,v,c)||ht.chrome&&function(e,t,i){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}let n=1==e.nodeType?e.getBoundingClientRect():_e(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return i-n.left>5}(b,v,c))&&(b=void 0))}if(!b||!e.docView.dom.contains(b)){let t=kt.find(e.docView,f);if(!t)return u>o.top+o.height/2?o.to:o.from;({node:b,offset:v}=Hi(t.dom,c,d))}let w=e.docView.nearest(b);if(!w)return null;if(w.isWidget&&1==(null===(r=w.dom)||void 0===r?void 0:r.nodeType)){let e=w.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?w.posAtStart:w.posAtEnd}return w.localPosFromDOM(b,v)+w.posAtStart}function zi(e,t,i,n,s){let r=Math.round((n-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&i.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;r+=Math.floor((s-i.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let o=e.state.sliceDoc(i.from,i.to);return i.from+N(o,r,e.state.tabSize)}function Fi(e,t,i,n){let s=function(e,t){let i=e.lineBlockAt(t);if(Array.isArray(i.type))for(let e of i.type)if(e.to>t||e.to==t&&(e.to==i.to||e.type==At.Text))return e;return i}(e,t.head),r=n&&s.type==At.Text&&(e.lineWrapping||s.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>s.from?t.head-1:t.head):null;if(r){let t=e.dom.getBoundingClientRect(),n=e.textDirectionAt(s.from),o=e.posAtCoords({x:i==(n==hi.LTR)?t.right-1:t.left+1,y:(r.top+r.bottom)/2});if(null!=o)return y.cursor(o,i?-1:1)}return y.cursor(i?s.to:s.from,i?-1:1)}function _i(e,t,i,n){let s=e.state.doc.lineAt(t.head),r=e.bidiSpans(s),o=e.textDirectionAt(s.from);for(let l=t,a=null;;){let t=Ai(s,r,o,l,i),h=Ci;if(!t){if(s.number==(i?e.state.doc.lines:1))return l;h="\n",s=e.state.doc.line(s.number+(i?1:-1)),r=e.bidiSpans(s),t=y.cursor(i?s.from:s.to)}if(a){if(!a(h))return l}else{if(!n)return t;a=n(h)}l=t}}function Ii(e,t,i){for(;;){let n=0;for(let s of e)s.between(t-1,t+1,((e,s,r)=>{if(t>e&&t<s){let r=n||i||(t-e<s-t?-1:1);t=r<0?e:s,n=r}}));if(!n)return t}}function $i(e,t,i){let n=Ii(e.state.facet(ti).map((t=>t(e))),i.from,t.head>i.from?-1:1);return n==i.from?i:y.cursor(n,n<i.from?1:-1)}class qi{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ht.safari&&e.contentDOM.addEventListener("input",(()=>null)),ht.gecko&&function(e){vn.has(e)||(vn.add(e),e.addEventListener("copy",(()=>{})),e.addEventListener("cut",(()=>{})))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let i,n=t.target;n!=e.contentDOM;n=n.parentNode)if(!n||11==n.nodeType||(i=Ge.get(n))&&i.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let e of i.observers)e(this.view,t);for(let e of i.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=ji(e),i=this.handlers,n=this.view.contentDOM;for(let e in t)if("scroll"!=e){let s=!t[e].handlers.length,r=i[e];r&&s!=!r.handlers.length&&(n.removeEventListener(e,this.handleEvent),r=null),r||n.addEventListener(e,this.handleEvent,{passive:s})}for(let e in i)"scroll"==e||t[e]||n.removeEventListener(e,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=e.keyCode&&Ui.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),ht.android&&ht.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!ht.ios||e.synthetic||e.altKey||e.metaKey||!((t=Gi.find((t=>t.keyCode==e.keyCode)))&&!e.ctrlKey||Yi.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(){let e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,Ie(this.view.contentDOM,e.key,e.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(ht.safari&&!ht.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Ki(e,t){return(i,n)=>{try{return t.call(e,n,i)}catch(e){jt(i.state,e)}}}function ji(e){let t=Object.create(null);function i(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let t of e){let e=t.spec;if(e&&e.domEventHandlers)for(let n in e.domEventHandlers){let s=e.domEventHandlers[n];s&&i(n).handlers.push(Ki(t.value,s))}if(e&&e.domEventObservers)for(let n in e.domEventObservers){let s=e.domEventObservers[n];s&&i(n).observers.push(Ki(t.value,s))}}for(let e in Ji)i(e).handlers.push(Ji[e]);for(let e in Qi)i(e).observers.push(Qi[e]);return t}const Gi=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Yi="dthko",Ui=[16,17,18,20,91,92,224,225];function Xi(e){return.7*Math.max(0,e)+8}class Zi{constructor(e,t,i,n){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=function(e){let t=e.ownerDocument;for(let i=e.parentNode;i&&i!=t.body;)if(1==i.nodeType){if(i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth)return i;i=i.assignedSlot||i.parentNode}else{if(11!=i.nodeType)break;i=i.host}return null}(e.contentDOM),this.atoms=e.state.facet(ti).map((t=>t(e)));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(x.allowMultipleSelections)&&function(e,t){let i=e.state.facet(Rt);return i.length?i[0](t):ht.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:i}=e.state.selection;if(i.empty)return!1;let n=Te(e.root);if(!n||0==n.rangeCount)return!0;let s=n.getRangeAt(0).getClientRects();for(let e=0;e<s.length;e++){let i=s[e];if(i.left<=t.clientX&&i.right>=t.clientX&&i.top<=t.clientY&&i.bottom>=t.clientY)return!0}return!1}(e,t)||1!=un(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){var t,i,n;if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(i=this.startEvent,n=e,Math.max(Math.abs(i.clientX-n.clientX),Math.abs(i.clientY-n.clientY))<10))return;this.select(this.lastEvent=e);let s=0,r=0,o=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},l=ri(this.view);e.clientX-l.left<=o.left+6?s=-Xi(o.left-e.clientX):e.clientX+l.right>=o.right-6&&(s=Xi(e.clientX-o.right)),e.clientY-l.top<=o.top+6?r=-Xi(o.top-e.clientY):e.clientY+l.bottom>=o.bottom-6&&(r=Xi(e.clientY-o.bottom)),this.setScrollSpeed(s,r)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let n=e.ranges[i],s=null;if(n.empty){let e=Ii(this.atoms,n.from,0);e!=n.from&&(s=y.cursor(e,-1))}else{let e=Ii(this.atoms,n.from,-1),t=Ii(this.atoms,n.to,1);e==n.from&&t==n.to||(s=y.range(n.from==n.anchor?e:t,n.from==n.head?e:t))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?y.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection)||i.main.assoc!=t.state.selection.main.assoc&&!1===this.dragging)&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const Ji=Object.create(null),Qi=Object.create(null),en=ht.ie&&ht.ie_version<15||ht.ios&&ht.webkit_version<604;function tn(e,t){let i,{state:n}=e,s=1,r=n.toText(t),o=r.lines==n.selection.ranges.length;if(null!=gn&&n.selection.ranges.every((e=>e.empty))&&gn==r.toString()){let e=-1;i=n.changeByRange((i=>{let l=n.doc.lineAt(i.from);if(l.from==e)return{range:i};e=l.from;let a=n.toText((o?r.line(s++).text:t)+n.lineBreak);return{changes:{from:l.from,insert:a},range:y.cursor(i.from+a.length)}}))}else i=o?n.changeByRange((e=>{let t=r.line(s++);return{changes:{from:e.from,to:e.to,insert:t.text},range:y.cursor(e.from+t.length)}})):n.replaceSelection(r);e.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}function nn(e,t,i,n){if(1==n)return y.cursor(t,i);if(2==n)return function(e,t,i=1){let n=e.charCategorizer(t),s=e.doc.lineAt(t),r=t-s.from;if(0==s.length)return y.cursor(t);0==r?i=1:r==s.length&&(i=-1);let o=r,l=r;i<0?o=O(s.text,r,!1):l=O(s.text,r);let a=n(s.text.slice(o,l));for(;o>0;){let e=O(s.text,o,!1);if(n(s.text.slice(e,o))!=a)break;o=e}for(;l<s.length;){let e=O(s.text,l);if(n(s.text.slice(l,e))!=a)break;l=e}return y.range(o+s.from,l+s.from)}(e.state,t,i);{let i=kt.find(e.docView,t),n=e.state.doc.lineAt(i?i.posAtEnd:t),s=i?i.posAtStart:n.from,r=i?i.posAtEnd:n.to;return r<e.state.doc.length&&r==n.to&&r++,y.range(s,r)}}Qi.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},Ji.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&(e.inputState.lastEscPress=Date.now()),!1),Qi.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},Qi.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},Ji.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let n of e.state.facet(Wt))if(i=n(e,t),i)break;if(i||0!=t.button||(i=function(e,t){let i=ln(e,t),n=un(t),s=e.state.selection;return{update(e){e.docChanged&&(i.pos=e.changes.mapPos(i.pos),s=s.map(e.changes))},get(t,r,o){let l,a=ln(e,t),h=nn(e,a.pos,a.bias,n);if(i.pos!=a.pos&&!r){let t=nn(e,i.pos,i.bias,n),s=Math.min(t.from,h.from),r=Math.max(t.to,h.to);h=s<h.from?y.range(s,r):y.range(r,s)}return r?s.replaceRange(s.main.extend(h.from,h.to)):o&&1==n&&s.ranges.length>1&&(l=function(e,t){for(let i=0;i<e.ranges.length;i++){let{from:n,to:s}=e.ranges[i];if(n<=t&&s>=t)return y.create(e.ranges.slice(0,i).concat(e.ranges.slice(i+1)),e.mainIndex==i?0:e.mainIndex-(e.mainIndex>i?1:0))}return null}(s,a.pos))?l:o?s.addRange(h):y.create([h])}}}(e,t)),i){let n=!e.hasFocus;e.inputState.startMouseSelection(new Zi(e,t,i,n)),n&&e.observer.ignore((()=>Fe(e.contentDOM)));let s=e.inputState.mouseSelection;if(s)return s.start(t),!1===s.dragging}return!1};let sn=(e,t)=>e>=t.top&&e<=t.bottom,rn=(e,t,i)=>sn(t,i)&&e>=i.left&&e<=i.right;function on(e,t,i,n){let s=kt.find(e.docView,t);if(!s)return 1;let r=t-s.posAtStart;if(0==r)return 1;if(r==s.length)return-1;let o=s.coordsAt(r,-1);if(o&&rn(i,n,o))return-1;let l=s.coordsAt(r,1);return l&&rn(i,n,l)?1:o&&sn(n,o)?-1:1}function ln(e,t){let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:i,bias:on(e,i,t.clientX,t.clientY)}}const an=ht.ie&&ht.ie_version<=11;let hn=null,cn=0,dn=0;function un(e){if(!an)return e.detail;let t=hn,i=dn;return hn=e,dn=Date.now(),cn=!t||i>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(cn+1)%3:1}function fn(e,t,i,n){if(!i)return;let s=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{mouseSelection:r}=e.inputState,o=n&&r&&r.dragging&&function(e,t){let i=e.state.facet(Ht);return i.length?i[0](t):ht.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:r.dragging.from,to:r.dragging.to}:null,l={from:s,insert:i},a=e.state.changes(o?[o,l]:l);e.focus(),e.dispatch({changes:a,selection:{anchor:a.mapPos(s,-1),head:a.mapPos(s,1)},userEvent:o?"move.drop":"input.drop"})}Ji.dragstart=(e,t)=>{let{selection:{main:i}}=e.state,{mouseSelection:n}=e.inputState;return n&&(n.dragging=i),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(i.from,i.to)),t.dataTransfer.effectAllowed="copyMove"),!1},Ji.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let i=t.dataTransfer.files;if(i&&i.length){let n=Array(i.length),s=0,r=()=>{++s==i.length&&fn(e,t,n.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<i.length;e++){let t=new FileReader;t.onerror=r,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(n[e]=t.result),r()},t.readAsText(i[e])}return!0}{let i=t.dataTransfer.getData("Text");if(i)return fn(e,t,i,!0),!0}return!1},Ji.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let i=en?null:t.clipboardData;return i?(tn(e,i.getData("text/plain")||i.getData("text/uri-text")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((()=>{e.focus(),i.remove(),tn(e,i.value)}),50)}(e),!1)};let gn=null;Ji.copy=Ji.cut=(e,t)=>{let{text:i,ranges:n,linewise:s}=function(e){let t=[],i=[],n=!1;for(let n of e.selection.ranges)n.empty||(t.push(e.sliceDoc(n.from,n.to)),i.push(n));if(!t.length){let s=-1;for(let{from:n}of e.selection.ranges){let r=e.doc.lineAt(n);r.number>s&&(t.push(r.text),i.push({from:r.from,to:Math.min(e.doc.length,r.to+1)})),s=r.number}n=!0}return{text:t.join(e.lineBreak),ranges:i,linewise:n}}(e.state);if(!i&&!s)return!1;gn=s?i:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let r=en?null:t.clipboardData;return r?(r.clearData(),r.setData("text/plain",i),!0):(function(e,t){let i=e.dom.parentNode;if(!i)return;let n=i.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=t,n.focus(),n.selectionEnd=t.length,n.selectionStart=0,setTimeout((()=>{n.remove(),e.focus()}),50)}(e,i),!1)};const pn=D.define();function mn(e,t){let i=[];for(let n of e.facet(_t)){let s=n(e,t);s&&i.push(s)}return i?e.update({effects:i,annotations:pn.of(!0)}):null}function bn(e){setTimeout((()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let i=mn(e.state,t);i?e.dispatch(i):e.update([])}}),10)}Qi.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),bn(e)},Qi.blur=e=>{e.observer.clearSelectionRange(),bn(e)},Qi.compositionstart=Qi.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},Qi.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,ht.chrome&&ht.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((()=>e.observer.flush())):setTimeout((()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50)},Qi.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},Ji.beforeinput=(e,t)=>{var i;let n;if(ht.chrome&&ht.android&&(n=Gi.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(n.key,n.keyCode),"Backspace"==n.key||"Delete"==n.key)){let t=(null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0;setTimeout((()=>{var i;((null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return!1};const vn=new Set;const wn=["pre-wrap","normal","pre-line","break-spaces"];class yn{constructor(e){this.lineWrapping=e,this.doc=E.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wn.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let n=e[i];n<0?i++:this.heightSamples[Math.floor(10*n)]||(t=!0,this.heightSamples[Math.floor(10*n)]=!0)}return t}refresh(e,t,i,n,s,r){let o=wn.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.textHeight=n,this.lineLength=s,l){this.heightSamples={};for(let e=0;e<r.length;e++){let t=r[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return l}}class xn{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class kn{constructor(e,t,i,n,s){this.from=e,this.length=t,this.top=i,this.height=n,this._content=s}get type(){return"number"==typeof this._content?At.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Nt?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new kn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Sn=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(Sn||(Sn={}));const Cn=.001;class An{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Cn&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return An.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,n){let s=this,r=i.doc;for(let o=n.length-1;o>=0;o--){let{fromA:l,toA:a,fromB:h,toB:c}=n[o],d=s.lineAt(l,Sn.ByPosNoHeight,i.setDoc(t),0,0),u=d.to>=a?d:s.lineAt(a,Sn.ByPosNoHeight,i,0,0);for(c+=u.to-a,a=u.to;o>0&&d.from<=n[o-1].toA;)l=n[o-1].fromA,h=n[o-1].fromB,o--,l<d.from&&(d=s.lineAt(l,Sn.ByPosNoHeight,i,0,0));h+=d.from-l,l=d.from;let f=En.build(i.setDoc(r),e,h,c);s=s.replace(l,a,f)}return s.updateHeight(i,0)}static empty(){return new Tn(0,0)}static of(e){if(1==e.length)return e[0];let t=0,i=e.length,n=0,s=0;for(;;)if(t==i)if(n>2*s){let s=e[t-1];s.break?e.splice(--t,1,s.left,null,s.right):e.splice(--t,1,s.left,s.right),i+=1+s.break,n-=s.size}else{if(!(s>2*n))break;{let t=e[i];t.break?e.splice(i,1,t.left,null,t.right):e.splice(i,1,t.left,t.right),i+=2+t.break,s-=t.size}}else if(n<s){let i=e[t++];i&&(n+=i.size)}else{let t=e[--i];t&&(s+=t.size)}let r=0;return null==e[t-1]?(r=1,t--):null==e[t]&&(r=1,i++),new Nn(An.of(e.slice(0,t)),r,An.of(e.slice(i)))}}An.prototype.size=1;class Mn extends An{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,n){return new kn(n,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(e,t,i,n,s,r){e<=s+this.length&&t>=s&&r(this.blockAt(0,i,n,s))}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Tn extends Mn{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,n){return new kn(n,this.length,i,this.height,this.breaks)}replace(e,t,i){let n=i[0];return 1==i.length&&(n instanceof Tn||n instanceof On&&4&n.flags)&&Math.abs(this.length-n.length)<10?(n instanceof On?n=new Tn(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):An.of(i)}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more?this.setHeight(e,n.heights[n.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class On extends An{constructor(e){super(e,0)}heightMetrics(e,t){let i,n=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,r=s-n+1,o=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*r);i=t/r,this.length>r+1&&(o=(this.height-t)/(this.length-r-1))}else i=this.height/r;return{firstLine:n,lastLine:s,perLine:i,perChar:o}}blockAt(e,t,i,n){let{firstLine:s,lastLine:r,perLine:o,perChar:l}=this.heightMetrics(t,n);if(t.lineWrapping){let s=n+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),r=t.doc.lineAt(s),a=o+r.length*l,h=Math.max(i,e-a/2);return new kn(r.from,r.length,h,a,0)}{let n=Math.max(0,Math.min(r-s,Math.floor((e-i)/o))),{from:l,length:a}=t.doc.line(s+n);return new kn(l,a,i+o*n,o,0)}}lineAt(e,t,i,n,s){if(t==Sn.ByHeight)return this.blockAt(e,i,n,s);if(t==Sn.ByPosNoHeight){let{from:t,to:n}=i.doc.lineAt(e);return new kn(t,n-t,0,0,0)}let{firstLine:r,perLine:o,perChar:l}=this.heightMetrics(i,s),a=i.doc.lineAt(e),h=o+a.length*l,c=a.number-r,d=n+o*c+l*(a.from-s-c);return new kn(a.from,a.length,Math.max(n,Math.min(d,n+this.height-h)),h,0)}forEachLine(e,t,i,n,s,r){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:o,perLine:l,perChar:a}=this.heightMetrics(i,s);for(let h=e,c=n;h<=t;){let t=i.doc.lineAt(h);if(h==e){let i=t.number-o;c+=l*i+a*(e-s-i)}let n=l+a*t.length;r(new kn(t.from,t.length,c,n,0)),c+=n,h=t.to+1}}replace(e,t,i){let n=this.length-t;if(n>0){let e=i[i.length-1];e instanceof On?i[i.length-1]=new On(e.length+n):i.push(null,new On(n-1))}if(e>0){let t=i[0];t instanceof On?i[0]=new On(e+t.length):i.unshift(new On(e-1),null)}return An.of(i)}decomposeLeft(e,t){t.push(new On(e-1),null)}decomposeRight(e,t){t.push(null,new On(this.length-e-1))}updateHeight(e,t=0,i=!1,n){let s=t+this.length;if(n&&n.from<=t+this.length&&n.more){let i=[],r=Math.max(t,n.from),o=-1;for(n.from>t&&i.push(new On(n.from-t-1).updateHeight(e,t));r<=s&&n.more;){let t=e.doc.lineAt(r).length;i.length&&i.push(null);let s=n.heights[n.index++];-1==o?o=s:Math.abs(s-o)>=Cn&&(o=-2);let l=new Tn(t,s);l.outdated=!1,i.push(l),r+=t+1}r<=s&&i.push(null,new On(s-r).updateHeight(e,r));let l=An.of(i);return(o<0||Math.abs(l.height-this.height)>=Cn||Math.abs(o-this.heightMetrics(e,t).perLine)>=Cn)&&(e.heightChanged=!0),l}return(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Nn extends An{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return 1&this.flags}blockAt(e,t,i,n){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,n):this.right.blockAt(e,t,s,n+this.left.length+this.break)}lineAt(e,t,i,n,s){let r=n+this.left.height,o=s+this.left.length+this.break,l=t==Sn.ByHeight?e<r:e<o,a=l?this.left.lineAt(e,t,i,n,s):this.right.lineAt(e,t,i,r,o);if(this.break||(l?a.to<o:a.from>o))return a;let h=t==Sn.ByPosNoHeight?Sn.ByPosNoHeight:Sn.ByPos;return l?a.join(this.right.lineAt(o,h,i,r,o)):this.left.lineAt(o,h,i,n,s).join(a)}forEachLine(e,t,i,n,s,r){let o=n+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,n,s,r),t>=l&&this.right.forEachLine(e,t,i,o,l,r);else{let a=this.lineAt(l,Sn.ByPos,i,n,s);e<a.from&&this.left.forEachLine(e,a.from-1,i,n,s,r),a.to>=e&&a.from<=t&&r(a),t>a.to&&this.right.forEachLine(a.to+1,t,i,o,l,r)}}replace(e,t,i){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,i));let s=[];e>0&&this.decomposeLeft(e,s);let r=s.length;for(let e of i)s.push(e);if(e>0&&Dn(s,r-1),t<this.length){let e=s.length;this.decomposeRight(t,s),Dn(s,e)}return An.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,n=i+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?An.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,n){let{left:s,right:r}=this,o=t+s.length+this.break,l=null;return n&&n.from<=t+s.length&&n.more?l=s=s.updateHeight(e,t,i,n):s.updateHeight(e,t,i),n&&n.from<=o+r.length&&n.more?l=r=r.updateHeight(e,o,i,n):r.updateHeight(e,o,i),l?this.balanced(s,r):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Dn(e,t){let i,n;null==e[t]&&(i=e[t-1])instanceof On&&(n=e[t+1])instanceof On&&e.splice(t-1,3,new On(i.length+1+n.length))}class En{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Tn?i.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new Tn(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let r=t-e;i.block?this.addBlock(new Mn(r,n,i)):(r||s||n>=5)&&this.addLineDeco(n,s,r)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Tn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new On(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Tn)return e;let t=new Tn(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let n=this.ensureLine();n.length+=i,n.collapsed+=i,n.widgetHeight=Math.max(n.widgetHeight,e),n.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Tn||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Tn(0,-1));let i=e;for(let e of this.nodes)e instanceof Tn&&e.updateHeight(this.oracle,i),i+=e?e.length:1;return this.nodes}static build(e,t,i,n){let s=new En(i,e);return v.spans(t,i,n,s,0),s.finish(i)}}class Bn{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,n){(e<t||i&&i.heightRelevant||n&&n.heightRelevant)&&Et(e,t,this.changes,5)}}function Ln(e,t){let i=e.getBoundingClientRect(),n=e.ownerDocument,s=n.defaultView||window,r=Math.max(0,i.left),o=Math.min(s.innerWidth,i.right),l=Math.max(0,i.top),a=Math.min(s.innerHeight,i.bottom);for(let t=e.parentNode;t&&t!=n.body;)if(1==t.nodeType){let i=t,n=window.getComputedStyle(i);if((i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth)&&"visible"!=n.overflow){let n=i.getBoundingClientRect();r=Math.max(r,n.left),o=Math.min(o,n.right),l=Math.max(l,n.top),a=t==e.parentNode?n.bottom:Math.min(a,n.bottom)}t="absolute"==n.position||"fixed"==n.position?i.offsetParent:i.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:r-i.left,right:Math.max(r,o)-i.left,top:l-(i.top+t),bottom:Math.max(l,a)-(i.top+t)}}function Pn(e,t){let i=e.getBoundingClientRect();return{left:0,right:i.right-i.left,top:t,bottom:i.bottom-(i.top+t)}}class Rn{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(e,t){return Mt.replace({widget:new Hn(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Hn extends Ct{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Wn{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=In,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=hi.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Qt).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new yn(t),this.stateDeco=e.facet(ei).filter((e=>"function"!=typeof e)),this.heightMap=An.empty().applyChanges(this.stateDeco,E.empty,this.heightOracle.setDoc(e.doc),[new li(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Mt.set(this.lineGaps.map((e=>e.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let n=i?t.head:t.anchor;if(!e.some((({from:e,to:t})=>n>=e&&n<=t))){let{from:t,to:i}=this.lineBlockAt(n);e.push(new Vn(t,i))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?In:new $n(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:qn(e,this.scaler))}))}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(ei).filter((e=>"function"!=typeof e));let n=e.changedRanges,s=li.extendWithRanges(n,function(e,t,i){let n=new Bn;return v.compare(e,t,i,n,0),n.changes}(i,this.stateDeco,e?e.changes:T.empty(this.state.doc.length))),r=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=r&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let a=!e.changes.empty||2&e.flags||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet($t)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection="rtl"==i.direction?hi.RTL:hi.LTR;let r=this.heightOracle.mustRefreshForWrapping(s),o=t.getBoundingClientRect(),l=r||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let a=0,h=0;if(o.width&&o.height){let e=o.width/t.offsetWidth,i=o.height/t.offsetHeight;(e>.995&&e<1.005||!isFinite(e)||Math.abs(o.width-t.offsetWidth)<1)&&(e=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(o.height-t.offsetHeight)<1)&&(i=1),this.scaleX==e&&this.scaleY==i||(this.scaleX=e,this.scaleY=i,a|=8,r=l=!0)}let c=(parseInt(i.paddingTop)||0)*this.scaleY,d=(parseInt(i.paddingBottom)||0)*this.scaleY;this.paddingTop==c&&this.paddingBottom==d||(this.paddingTop=c,this.paddingBottom=d,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let u=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=u&&(this.scrollAnchorHeight=-1,this.scrollTop=u),this.scrolledToBottom=qe(e.scrollDOM);let f=(this.printing?Pn:Ln)(t,this.paddingTop),g=f.top-this.pixelViewport.top,p=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let b=o.width;if(this.contentDOMWidth==b&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,a|=8),l){let t=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(t)&&(r=!0),r||n.lineWrapping&&Math.abs(b-this.contentDOMWidth)>n.charWidth){let{lineHeight:i,charWidth:o,textHeight:l}=e.docView.measureTextSize();r=i>0&&n.refresh(s,i,o,l,b/o,t),r&&(e.docView.minWidth=0,a|=8)}g>0&&p>0?h=Math.max(g,p):g<0&&p<0&&(h=Math.min(g,p)),n.heightChanged=!1;for(let i of this.viewports){let s=i.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(i);this.heightMap=(r?An.empty().applyChanges(this.stateDeco,E.empty,this.heightOracle,[new li(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,r,new xn(i.from,s))}n.heightChanged&&(a|=2)}let v=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(2&a||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(r?[]:this.lineGaps,e)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:r,visibleBottom:o}=this,l=new Vn(n.lineAt(r-1e3*i,Sn.ByHeight,s,0,0).from,n.lineAt(o+1e3*(1-i),Sn.ByHeight,s,0,0).to);if(t){let{head:e}=t.range;if(e<l.from||e>l.to){let i,r=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=n.lineAt(e,Sn.ByPos,s,0,0);i="center"==t.y?(o.top+o.bottom)/2-r/2:"start"==t.y||"nearest"==t.y&&e<l.from?o.top:o.bottom-r,l=new Vn(n.lineAt(i-500,Sn.ByHeight,s,0,0).from,n.lineAt(i+r+500,Sn.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new Vn(this.heightMap.lineAt(i,Sn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,Sn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,Sn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Sn.ByPos,this.heightOracle,0,0),{visibleTop:r,visibleBottom:o}=this;return(0==e||n<=r-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&n>r-2e3&&s<o+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let n of e)t.touchesRange(n.from,n.to)||i.push(new Rn(t.mapPos(n.from),t.mapPos(n.to),n.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,s=n>>1,r=n<<1;if(this.defaultTextDirection!=hi.LTR&&!i)return[];let o=[],l=(n,r,a,h)=>{if(r-n<s)return;let c=this.state.selection.main,d=[c.from];c.empty||d.push(c.to);for(let e of d)if(e>n&&e<r)return l(n,e-10,a,h),void l(e+10,r,a,h);let u=function(e,t){for(let i of e)if(t(i))return i;return}(e,(e=>e.from>=a.from&&e.to<=a.to&&Math.abs(e.from-n)<s&&Math.abs(e.to-r)<s&&!d.some((t=>e.from<t&&e.to>t))));if(!u){if(r<a.to&&t&&i&&t.visibleRanges.some((e=>e.from<=r&&e.to>=r))){let e=t.moveToLineBoundary(y.cursor(r),!1,!0).head;e>n&&(r=e)}u=new Rn(n,r,this.gapSize(a,n,r,h))}o.push(u)};for(let e of this.viewportLines){if(e.length<r)continue;let t=zn(e.from,e.to,this.stateDeco);if(t.total<r)continue;let s,o,a=this.scrollTarget?this.scrollTarget.range.head:null;if(i){let i,r,l=n/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=a){let n=_n(t,a),s=((this.visibleBottom-this.visibleTop)/2+l)/e.height;i=n-s,r=n+s}else i=(this.visibleTop-e.top-l)/e.height,r=(this.visibleBottom-e.top+l)/e.height;s=Fn(t,i),o=Fn(t,r)}else{let e,i,r=t.total*this.heightOracle.charWidth,l=n*this.heightOracle.charWidth;if(null!=a){let n=_n(t,a),s=((this.pixelViewport.right-this.pixelViewport.left)/2+l)/r;e=n-s,i=n+s}else e=(this.pixelViewport.left-l)/r,i=(this.pixelViewport.right+l)/r;s=Fn(t,e),o=Fn(t,i)}s>e.from&&l(e.from,s,e,t),o<e.to&&l(o,e.to,e,t)}return o}gapSize(e,t,i,n){let s=_n(n,i)-_n(n,t);return this.heightOracle.lineWrapping?e.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(e){Rn.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Mt.set(e.map((e=>e.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];v.spans(e,this.viewport.from,this.viewport.to,{span(e,i){t.push({from:e,to:i})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,i)=>e.from!=t[i].from||e.to!=t[i].to));return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||qn(this.heightMap.lineAt(e,Sn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return qn(this.heightMap.lineAt(this.scaler.fromDOM(e),Sn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return qn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Vn{constructor(e,t){this.from=e,this.to=t}}function zn(e,t,i){let n=[],s=e,r=0;return v.spans(i,e,t,{span(){},point(e,t){e>s&&(n.push({from:s,to:e}),r+=e-s),s=t}},20),s<t&&(n.push({from:s,to:t}),r+=t-s),{total:r,ranges:n}}function Fn({total:e,ranges:t},i){if(i<=0)return t[0].from;if(i>=1)return t[t.length-1].to;let n=Math.floor(e*i);for(let e=0;;e++){let{from:i,to:s}=t[e],r=s-i;if(n<=r)return i+n;n-=r}}function _n(e,t){let i=0;for(let{from:n,to:s}of e.ranges){if(t<=s){i+=t-n;break}i+=s-n}return i/e.total}const In={toDOM:e=>e,fromDOM:e=>e,scale:1};class $n{constructor(e,t,i){let n=0,s=0,r=0;this.viewports=i.map((({from:i,to:s})=>{let r=t.lineAt(i,Sn.ByPos,e,0,0).top,o=t.lineAt(s,Sn.ByPos,e,0,0).bottom;return n+=o-r,{from:i,to:s,top:r,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-n)/(t.height-n);for(let e of this.viewports)e.domTop=r+(e.top-s)*this.scale,r=e.domBottom=e.domTop+(e.bottom-e.top),s=e.bottom}toDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return n+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,n=s.domBottom}}fromDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-n)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,n=s.domBottom}}}function qn(e,t){if(1==t.scale)return e;let i=t.toDOM(e.top),n=t.toDOM(e.bottom);return new kn(e.from,e.length,i,n-i,Array.isArray(e._content)?e._content.map((e=>qn(e,t))):e._content)}const Kn=C.define({combine:e=>e.join(" ")}),jn=C.define({combine:e=>e.indexOf(!0)>-1}),Gn=ye.newName(),Yn=ye.newName(),Un=ye.newName(),Xn={"&light":"."+Yn,"&dark":"."+Un};function Zn(e,t,i){return new ye(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!i||!i[t])throw new RangeError(`Unsupported selector: ${t}`);return i[t]})):e+" "+t})}const Jn=Zn("."+Gn,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Xn),Qn="￿";class es{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(x.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Qn}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let n=e;;){this.findPointBefore(i,n);let e=this.text.length;this.readNode(n);let s=n.nextSibling;if(s==t)break;let r=Ge.get(n),o=Ge.get(s);(r&&o?r.breakAfter:(r?r.breakAfter:is(n))||is(s)&&("BR"!=n.nodeName||n.cmIgnore)&&this.text.length>e)&&this.lineBreak(),n=s}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s,r=-1,o=1;if(this.lineSeparator?(r=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(s=n.exec(t))&&(r=s.index,o=s[0].length),this.append(t.slice(i,r<0?t.length:r)),r<0)break;if(this.lineBreak(),o>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=o-1);i=r+o}}readNode(e){if(e.cmIgnore)return;let t=Ge.get(e),i=t&&t.overrideDOMText;if(null!=i){this.findPointInside(e,i.length);for(let e=i.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(3==e.nodeType?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(ts(e,i.node,i.offset)?t:0))}}function ts(e,t,i){for(;;){if(!t||i<Pe(t))return!1;if(t==e)return!0;i=Be(t)+1,t=t.parentNode}}function is(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class ns{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class ss{constructor(e,t,i,n){this.typeOver=n,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:r}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let t=s||r?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:i,anchorOffset:n,focusNode:s,focusOffset:r}=e.observer.selectionRange;i&&(t.push(new ns(i,n)),s==i&&r==n||t.push(new ns(s,r)));return t}(e),i=new es(t,e.state);i.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=i.text,this.newSel=function(e,t){if(0==e.length)return null;let i=e[0].pos,n=2==e.length?e[1].pos:i;return i>-1&&n>-1?y.single(i+t,n+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,i=s&&s.node==t.focusNode&&s.offset==t.focusOffset||!Oe(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),n=r&&r.node==t.anchorNode&&r.offset==t.anchorOffset||!Oe(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);this.newSel=y.single(n,i)}}}function rs(e,t){let i,{newSel:n}=t,s=e.state.selection.main,r=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:n,to:o}=t.bounds,l=s.from,a=null;(8===r||ht.android&&t.text.length<o-n)&&(l=s.to,a="end");let h=function(e,t,i,n){let s=Math.min(e.length,t.length),r=0;for(;r<s&&e.charCodeAt(r)==t.charCodeAt(r);)r++;if(r==s&&e.length==t.length)return null;let o=e.length,l=t.length;for(;o>0&&l>0&&e.charCodeAt(o-1)==t.charCodeAt(l-1);)o--,l--;if("end"==n){i-=o+Math.max(0,r-Math.min(o,l))-r}if(o<r&&e.length<t.length){r-=i<=r&&i>=o?r-i:0,l=r+(l-o),o=r}else if(l<r){r-=i<=r&&i>=l?r-i:0,o=r+(o-l),l=r}return{from:r,toA:o,toB:l}}(e.state.doc.sliceString(n,o,Qn),t.text,l-n,a);h&&(ht.chrome&&13==r&&h.toB==h.from+2&&t.text.slice(h.from,h.toB)==Qn+Qn&&h.toB--,i={from:n+h.from,to:n+h.toA,insert:E.of(t.text.slice(h.from,h.toB).split(Qn))})}else n&&(!e.hasFocus&&e.state.facet(Gt)||n.main.eq(s))&&(n=null);if(!i&&!n)return!1;if(!i&&t.typeOver&&!s.empty&&n&&n.main.empty?i={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,s.to)}:i&&i.from>=s.from&&i.to<=s.to&&(i.from!=s.from||i.to!=s.to)&&s.to-s.from-(i.to-i.from)<=4?i={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,i.from).append(i.insert).append(e.state.doc.slice(i.to,s.to))}:(ht.mac||ht.android)&&i&&i.from==i.to&&i.from==s.head-1&&/^\. ?$/.test(i.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(n&&2==i.insert.length&&(n=y.single(n.main.anchor-1,n.main.head-1)),i={from:s.from,to:s.to,insert:E.of([" "])}):ht.chrome&&i&&i.from==i.to&&i.from==s.head&&"\n "==i.insert.toString()&&e.lineWrapping&&(n&&(n=y.single(n.main.anchor-1,n.main.head-1)),i={from:s.from,to:s.to,insert:E.of([" "])}),i){if(ht.ios&&e.inputState.flushIOSKey())return!0;if(ht.android&&(i.from==s.from&&i.to==s.to&&1==i.insert.length&&2==i.insert.lines&&Ie(e.contentDOM,"Enter",13)||(i.from==s.from-1&&i.to==s.to&&0==i.insert.length||8==r&&i.insert.length<i.to-i.from&&i.to>s.head)&&Ie(e.contentDOM,"Backspace",8)||i.from==s.from&&i.to==s.to+1&&0==i.insert.length&&Ie(e.contentDOM,"Delete",46)))return!0;let t,o=i.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let l=()=>t||(t=function(e,t,i){let n,s=e.state,r=s.selection.main;if(t.from>=r.from&&t.to<=r.to&&t.to-t.from>=(r.to-r.from)/3&&(!i||i.main.empty&&i.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let i=r.from<t.from?s.sliceDoc(r.from,t.from):"",o=r.to>t.to?s.sliceDoc(t.to,r.to):"";n=s.replaceSelection(e.state.toText(i+t.insert.sliceString(0,void 0,e.state.lineBreak)+o))}else{let o=s.changes(t),l=i&&i.main.to<=o.newLength?i.main:void 0;if(s.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=r.to&&t.to>=r.to-10){let a,h=e.state.sliceDoc(t.from,t.to),c=i&&Oi(e,i.main.head);if(c){let e=t.insert.length-(t.to-t.from);a={from:c.from,to:c.to-e}}else a=e.state.doc.lineAt(r.head);let d=r.to-t.to,u=r.to-r.from;n=s.changeByRange((i=>{if(i.from==r.from&&i.to==r.to)return{changes:o,range:l||i.map(o)};let n=i.to-d,c=n-h.length;if(i.to-i.from!=u||e.state.sliceDoc(c,n)!=h||i.to>=a.from&&i.from<=a.to)return{range:i};let f=s.changes({from:c,to:n,insert:t.insert}),g=i.to-r.to;return{changes:f,range:l?y.range(Math.max(0,l.anchor+g),Math.max(0,l.head+g)):i.map(f)}}))}else n={changes:o,selection:l&&s.selection.replaceRange(l)}}let o="input.type";(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,o+=".compose",e.inputState.compositionFirstChange&&(o+=".start",e.inputState.compositionFirstChange=!1));return s.update(n,{userEvent:o,scrollIntoView:!0})}(e,i,n));return e.state.facet(Ft).some((t=>t(e,i.from,i.to,o,l)))||e.dispatch(l()),!0}if(n&&!n.main.eq(s)){let t=!1,i="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),i=e.inputState.lastSelectionOrigin),e.dispatch({selection:n,scrollIntoView:t,userEvent:i}),!0}return!1}const os={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ls=ht.ie&&ht.ie_version<=11;class as{constructor(e){this.view=e,this.active=!1,this.selectionRange=new We,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(ht.ie&&ht.ie_version<=11||ht.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),ls&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,i)=>t!=e[i])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(Gt)?i.root.activeElement!=this.dom:!Ne(i.dom,n))return;let s=n.anchorNode&&i.docView.nearest(n.anchorNode);s&&s.ignoreEvent(e)?t||(this.selectionChanged=!1):(ht.ie&&ht.ie_version<=11||ht.android&&ht.chrome)&&!i.state.selection.main.empty&&n.focusNode&&Ee(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=ht.safari&&11==e.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){let t=null;function i(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",i,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",i,!0),!t)return null;let n=t.startContainer,s=t.startOffset,r=t.endContainer,o=t.endOffset,l=e.docView.domAtPos(e.state.selection.main.anchor);Ee(l.node,l.offset,r,o)&&([n,s,r,o]=[r,o,n,s]);return{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:o}}(this.view)||Te(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=Ne(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let i=t.focusNode,n=t.focusOffset;if(!i||t.anchorNode!=i||t.anchorOffset!=n)return!1;for(n=Math.min(n,Pe(i));;)if(n){if(1!=i.nodeType)return!1;let e=i.childNodes[n-1];"false"==e.contentEditable?n--:(i=e,n=Pe(i))}else{if(i==e)return!0;n=Be(i),i=i.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(1==i.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,os),ls&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ls&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;if(e){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&Ie(this.dom,e.key,e.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(i=this.delayedAndroidKey)||void 0===i?void 0:i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,n=!1;for(let s of e){let e=this.readMutation(s);e&&(e.typeOver&&(n=!0),-1==t?({from:t,to:i}=e):(t=Math.min(e.from,t),i=Math.max(e.to,i)))}return{from:t,to:i,typeOver:n}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),n=this.selectionChanged&&Ne(this.dom,this.selectionRange);if(e<0&&!n)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new ss(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,n=rs(this.view,t);return this.view.state==i&&this.view.update([]),n}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let i=hs(t,e.previousSibling||e.target.previousSibling,-1),n=hs(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(i=this.resizeScroll)||void 0===i||i.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function hs(e,t,i){for(;t;){let n=Ge.get(t);if(n&&n.parent==e)return n;let s=t.parentNode;t=s!=e.dom?s:i>0?t.nextSibling:t.previousSibling}return null}class cs{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(e=>e.forEach((e=>t(e,this))))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new Wn(e.state||x.create(e)),this.plugins=this.state.facet(Ut).map((e=>new Zt(e)));for(let e of this.plugins)e.update(this);this.observer=new as(this),this.inputState=new qi(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Mi(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let t=1==e.length&&e[0]instanceof k?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,i=!1,n=!1,s=this.state;for(let t of e){if(t.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=t.state}if(this.destroyed)return void(this.viewState.state=s);let r=this.hasFocus,o=0,l=null;e.some((e=>e.annotation(pn)))?(this.inputState.notifiedFocused=r,o=1):r!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=r,l=mn(s,r),l||(o=1));let a=this.observer.delayedAndroidKey,h=null;if(a?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(x.phrases)!=this.state.facet(x.phrases))return this.setState(s);t=ai.create(this,s,e),t.flags|=o;let c=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(c&&(c=c.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;c=new qt(e.empty?e:y.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(Kt)&&(c=e.value)}this.viewState.update(t,c),this.bidiCache=fs.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),i=this.docView.update(t),this.state.facet(oi)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(Kn)!=t.state.facet(Kn)&&(this.viewState.mustMeasureContent=!0),(i||n||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let e of this.state.facet(zt))e(t);(l||h)&&Promise.resolve().then((()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!rs(this,h)&&a.force&&Ie(this.contentDOM,a.key,a.keyCode)}))}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new Wn(e),this.plugins=e.facet(Ut).map((e=>new Zt(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new Mi(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ut),i=e.state.facet(Ut);if(t!=i){let n=[];for(let s of i){let i=t.indexOf(s);if(i<0)n.push(new Zt(s));else{let t=this.plugins[i];t.mustUpdate=e,n.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,n=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:r}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(r=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(r<0)if(qe(i))s=-1,r=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(n);s=e.from,r=e.top}this.updateState=1;let o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];4&o||([this.measureRequests,l]=[l,this.measureRequests]);let a=l.map((e=>{try{return e.read(this)}catch(e){return jt(this.state,e),us}})),h=ai.create(this,this.state,[]),c=!1;h.flags|=o,t?t.flags|=o:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),c=this.docView.update(h));for(let e=0;e<l.length;e++)if(a[e]!=us)try{let t=l[e];t.write&&t.write(a[e],this)}catch(e){jt(this.state,e)}if(c&&this.docView.updateSelection(!0),!h.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}{let e=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-r;if(e>1||e<-1){n+=e,i.scrollTop=n/this.scaleY,r=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(zt))e(t)}get themeClasses(){return Gn+" "+(this.state.facet(jn)?Un:Yn)+" "+this.state.facet(Kn)}updateAttrs(){let e=gs(this,Jt,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Gt)?"true":"false",class:"cm-content",style:`${ht.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),gs(this,Qt,t);let i=this.observer.ignore((()=>{let i=yt(this.contentDOM,this.contentAttrs,t),n=yt(this.dom,this.editorAttrs,e);return i||n}));return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let e of i.effects)if(e.is(cs.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(oi);let e=this.state.facet(cs.cspNonce);ye.mount(this.root,this.styleModules.concat(Jn).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return $i(this,e,_i(this,e,t,i))}moveByGroup(e,t){return $i(this,e,_i(this,e,t,(t=>function(e,t,i){let n=e.state.charCategorizer(t),s=n(i);return e=>{let t=n(e);return s==B.Space&&(s=t),s==t}}(this,e.head,t))))}moveToLineBoundary(e,t,i=!0){return Fi(this,e,t,i)}moveVertically(e,t,i){return $i(this,e,function(e,t,i,n){let s=t.head,r=i?1:-1;if(s==(i?e.state.doc.length:0))return y.cursor(s,t.assoc);let o,l=t.goalColumn,a=e.contentDOM.getBoundingClientRect(),h=e.coordsAtPos(s,t.assoc||-1),c=e.documentTop;if(h)null==l&&(l=h.left-a.left),o=r<0?h.top:h.bottom;else{let t=e.viewState.lineBlockAt(s);null==l&&(l=Math.min(a.right-a.left,e.defaultCharacterWidth*(s-t.from))),o=(r<0?t.top:t.bottom)+c}let d=a.left+l,u=null!=n?n:e.viewState.heightOracle.textHeight>>1;for(let t=0;;t+=10){let i=o+(u+t)*r,n=Vi(e,{x:d,y:i},!1,r);if(i<a.top||i>a.bottom||(r<0?n<s:n>s)){let t=e.docView.coordsForChar(n),s=!t||i<t.top?-1:1;return y.cursor(n,s,void 0,l)}}}(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Vi(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(e),s=this.bidiSpans(n);return Re(i,s[vi.find(s,e-n.from,-1,t)].dir==hi.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(It)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>ds)return Si(e.length);let t,i=this.textDirectionAt(e.from);for(let n of this.bidiCache)if(n.from==e.from&&n.dir==i&&(n.fresh||wi(n.isolates,t=ni(this,e.from,e.to))))return n.order;t||(t=ni(this,e.from,e.to));let n=function(e,t,i){if(!e)return[new vi(0,0,t==di?1:0)];if(t==ci&&!i.length&&!bi.test(e))return Si(e.length);if(i.length)for(;e.length>yi.length;)yi[yi.length]=256;let n=[],s=t==ci?0:1;return ki(e,s,s,i,0,e.length,n),n}(e.text,i,t);return this.bidiCache.push(new fs(e.from,e.to,i,t,!0,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ht.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Fe(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Kt.of(new qt("number"==typeof e?y.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Xt.define((()=>({})),{eventHandlers:e})}static domEventObservers(e){return Xt.define((()=>({})),{eventObservers:e})}static theme(e,t){let i=ye.newName(),n=[Kn.of(i),oi.of(Zn(`.${i}`,e))];return t&&t.dark&&n.push(jn.of(!0)),n}static baseTheme(e){return S.lowest(oi.of(Zn("."+Gn,e,Xn)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),n=i&&Ge.get(i)||Ge.get(e);return(null===(t=null==n?void 0:n.rootView)||void 0===t?void 0:t.view)||null}}cs.styleModule=oi,cs.inputHandler=Ft,cs.focusChangeEffect=_t,cs.perLineTextDirection=It,cs.exceptionSink=Vt,cs.updateListener=zt,cs.editable=Gt,cs.mouseSelectionStyle=Wt,cs.dragMovesSelection=Ht,cs.clickAddsSelectionRange=Rt,cs.decorations=ei,cs.atomicRanges=ti,cs.bidiIsolatedRanges=ii,cs.scrollMargins=si,cs.darkTheme=jn,cs.cspNonce=C.define({combine:e=>e.length?e[0]:""}),cs.contentAttributes=Qt,cs.editorAttributes=Jt,cs.lineWrapping=cs.contentAttributes.of({class:"cm-lineWrapping"}),cs.announce=A.define();const ds=4096,us={};class fs{constructor(e,t,i,n,s,r){this.from=e,this.to=t,this.dir=i,this.isolates=n,this.fresh=s,this.order=r}static update(e,t){if(t.empty&&!e.some((e=>e.fresh)))return e;let i=[],n=e.length?e[e.length-1].dir:hi.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let r=e[s];r.dir!=n||t.touchesRange(r.from,r.to)||i.push(new fs(t.mapPos(r.from,1),t.mapPos(r.to,-1),r.dir,r.isolates,!1,r.order))}return i}}function gs(e,t,i){for(let n=e.state.facet(t),s=n.length-1;s>=0;s--){let t=n[s],r="function"==typeof t?t(e):t;r&&bt(r,i)}return i}ht.ios;class ps extends M{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ps.prototype.elementClass="",ps.prototype.toDOM=void 0,ps.prototype.mapMode=w.TrackBefore,ps.prototype.startSide=ps.prototype.endSide=-1,ps.prototype.point=!0;const ms=1024;let bs=0;class vs{constructor(e={}){this.id=bs++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=xs.match(e)),t=>{let i=e(t);return void 0===i?null:[this,i]}}}vs.closedBy=new vs({deserialize:e=>e.split(" ")}),vs.openedBy=new vs({deserialize:e=>e.split(" ")}),vs.group=new vs({deserialize:e=>e.split(" ")}),vs.contextHash=new vs({perNode:!0}),vs.lookAhead=new vs({perNode:!0}),vs.mounted=new vs({perNode:!0});class ws{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[vs.mounted.id]}}const ys=Object.create(null);class xs{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):ys,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),n=new xs(e.name||"",t,e.id,i);if(e.props)for(let i of e.props)if(Array.isArray(i)||(i=i(n)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[i[0].id]=i[1]}return n}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(vs.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return e=>{for(let i=e.prop(vs.group),n=-1;n<(i?i.length:0);n++){let s=t[n<0?e.name:i[n]];if(s)return s}}}}xs.none=new xs("",Object.create(null),0,8);const ks=new WeakMap,Ss=new WeakMap;var Cs;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(Cs||(Cs={}));class As{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[e,t]of s)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=ws.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let i=e.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Vs(this.topNode,e)}cursorAt(e,t=0,i=0){let n=ks.get(this)||this.topNode,s=new Vs(n);return s.moveTo(e,t),ks.set(this,s._tree),s}get topNode(){return new Es(this,0,0,null)}resolve(e,t=0){let i=Ns(ks.get(this)||this.topNode,e,t,!1);return ks.set(this,i),i}resolveInner(e,t=0){let i=Ns(Ss.get(this)||this.topNode,e,t,!0);return Ss.set(this,i),i}resolveStack(e,t=0){return function(e,t,i){let n=e.resolveInner(t,i),s=null;for(let e=n instanceof Es?n:n.context.parent;e;e=e.parent)if(e.index<0){let r=e.parent;(s||(s=[n])).push(r.resolve(t,i)),e=r}else{let r=ws.get(e.tree);if(r&&r.overlay&&r.overlay[0].from<=t&&r.overlay[r.overlay.length-1].to>=t){let o=new Es(r.tree,r.overlay[0].from+e.from,0,null);(s||(s=[n])).push(Ns(o,t,i,!1))}}return s?Hs(s):n}(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,r=e.mode||0,o=(r&Cs.IncludeAnonymous)>0;for(let e=this.cursor(r|Cs.IncludeAnonymous);;){let r=!1;if(e.from<=s&&e.to>=n&&(!o&&e.type.isAnonymous||!1!==t(e))){if(e.firstChild())continue;r=!0}for(;r&&i&&(o||!e.type.isAnonymous)&&i(e),!e.nextSibling();){if(!e.parent())return;r=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Is(xs.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,i)=>new As(this.type,e,t,i,this.propValues)),e.makeTree||((e,t,i)=>new As(xs.none,e,t,i)))}static build(e){return function(e){var t;let{buffer:i,nodeSet:n,maxBufferLength:s=ms,reused:r=[],minRepeatType:o=n.types.length}=e,l=Array.isArray(i)?new Ms(i,i.length):i,a=n.types,h=0,c=0;function d(e,t,i,b,v){let{id:w,start:y,end:x,size:k}=l,S=c;for(;k<0;){if(l.next(),-1==k){let t=r[w];return i.push(t),void b.push(y-e)}if(-3==k)return void(h=w);if(-4==k)return void(c=w);throw new RangeError(`Unrecognized record size: ${k}`)}let C,A,M=a[w],T=y-e;if(x-y<=s&&(A=p(l.pos-t,v))){let t=new Uint16Array(A.size-A.skip),i=l.pos-A.size,s=t.length;for(;l.pos>i;)s=m(A.start,t,s);C=new Ts(t,x-A.start,n),T=A.start-e}else{let e=l.pos-k;l.next();let t=[],i=[],n=w>=o?w:-1,r=0,a=x;for(;l.pos>e;)n>=0&&l.id==n&&l.size>=0?(l.end<=a-s&&(f(t,i,y,r,l.end,a,n,S),r=t.length,a=l.end),l.next()):d(y,e,t,i,n);if(n>=0&&r>0&&r<t.length&&f(t,i,y,r,y,a,n,S),t.reverse(),i.reverse(),n>-1&&r>0){let e=u(M);C=Is(M,t,i,0,t.length,0,x-y,e,e)}else C=g(M,t,i,x-y,S-x)}i.push(C),b.push(T)}function u(e){return(t,i,n)=>{let s,r,o=0,l=t.length-1;if(l>=0&&(s=t[l])instanceof As){if(!l&&s.type==e&&s.length==n)return s;(r=s.prop(vs.lookAhead))&&(o=i[l]+s.length+r)}return g(e,t,i,n,o)}}function f(e,t,i,s,r,o,l,a){let h=[],c=[];for(;e.length>s;)h.push(e.pop()),c.push(t.pop()+i-r);e.push(g(n.types[l],h,c,o-r,a-o)),t.push(r-i)}function g(e,t,i,n,s=0,r){if(h){let e=[vs.contextHash,h];r=r?[e].concat(r):[e]}if(s>25){let e=[vs.lookAhead,s];r=r?[e].concat(r):[e]}return new As(e,t,i,n,r)}function p(e,t){let i=l.fork(),n=0,r=0,a=0,h=i.end-s,c={size:0,start:0,skip:0};e:for(let s=i.pos-e;i.pos>s;){let e=i.size;if(i.id==t&&e>=0){c.size=n,c.start=r,c.skip=a,a+=4,n+=4,i.next();continue}let l=i.pos-e;if(e<0||l<s||i.start<h)break;let d=i.id>=o?4:0,u=i.start;for(i.next();i.pos>l;){if(i.size<0){if(-3!=i.size)break e;d+=4}else i.id>=o&&(d+=4);i.next()}r=u,n+=e,a+=d}return(t<0||n==e)&&(c.size=n,c.start=r,c.skip=a),c.size>4?c:void 0}function m(e,t,i){let{id:n,start:s,end:r,size:a}=l;if(l.next(),a>=0&&n<o){let o=i;if(a>4){let n=l.pos-(a-4);for(;l.pos>n;)i=m(e,t,i)}t[--i]=o,t[--i]=r-e,t[--i]=s-e,t[--i]=n}else-3==a?h=n:-4==a&&(c=n);return i}let b=[],v=[];for(;l.pos>0;)d(e.start||0,e.bufferStart||0,b,v,-1);let w=null!==(t=e.length)&&void 0!==t?t:b.length?v[0]+b[0].length:0;return new As(a[e.topID],b.reverse(),v.reverse(),w)}(e)}}As.empty=new As(xs.none,[],[],0);class Ms{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ms(this.buffer,this.index)}}class Ts{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return xs.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),i==(e+=4))return s;let r=[];for(;e<i;)r.push(this.childString(e)),e=this.buffer[e+3];return s+"("+r.join(",")+")"}findChild(e,t,i,n,s){let{buffer:r}=this,o=-1;for(let l=e;l!=t&&!(Os(s,n,r[l+1],r[l+2])&&(o=l,i>0));l=r[l+3]);return o}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),r=0;for(let o=e,l=0;o<t;){s[l++]=n[o++],s[l++]=n[o++]-i;let t=s[l++]=n[o++]-i;s[l++]=n[o++]-e,r=Math.max(r,t)}return new Ts(s,r,this.set)}}function Os(e,t,i,n){switch(e){case-2:return i<t;case-1:return n>=t&&i<t;case 0:return i<t&&n>t;case 1:return i<=t&&n>t;case 2:return n>t;case 4:return!0}}function Ns(e,t,i,n){for(var s;e.from==e.to||(i<1?e.from>=t:e.from>t)||(i>-1?e.to<=t:e.to<t);){let t=!n&&e instanceof Es&&e.index<0?null:e.parent;if(!t)return e;e=t}let r=n?0:Cs.IgnoreOverlays;if(n)for(let n=e,o=n.parent;o;n=o,o=n.parent)n instanceof Es&&n.index<0&&(null===(s=o.enter(t,i,r))||void 0===s?void 0:s.from)!=n.from&&(e=o);for(;;){let n=e.enter(t,i,r);if(!n)return e;e=n}}class Ds{cursor(e=0){return new Vs(this,e)}getChild(e,t=null,i=null){let n=Bs(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return Bs(this,e,t,i)}resolve(e,t=0){return Ns(this,e,t,!1)}resolveInner(e,t=0){return Ns(this,e,t,!0)}matchContext(e){return Ls(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(i=t,t=e.prevSibling):t=e}return i}get node(){return this}get next(){return this.parent}}class Es extends Ds{constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let r=this;;){for(let{children:o,positions:l}=r._tree,a=t>0?o.length:-1;e!=a;e+=t){let a=o[e],h=l[e]+r.from;if(Os(n,i,h,h+a.length))if(a instanceof Ts){if(s&Cs.ExcludeBuffers)continue;let o=a.findChild(0,a.buffer.length,t,i-h,n);if(o>-1)return new Rs(new Ps(r,a,e,h),null,o)}else if(s&Cs.IncludeAnonymous||!a.type.isAnonymous||zs(a)){let o;if(!(s&Cs.IgnoreMounts)&&(o=ws.get(a))&&!o.overlay)return new Es(o.tree,h,e,r);let l=new Es(a,h,e,r);return s&Cs.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(t<0?a.children.length-1:0,t,i,n)}}if(s&Cs.IncludeAnonymous||!r.type.isAnonymous)return null;if(e=r.index>=0?r.index+t:t<0?-1:r._parent._tree.children.length,r=r._parent,!r)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&Cs.IgnoreOverlays)&&(n=ws.get(this._tree))&&n.overlay){let i=e-this.from;for(let{from:e,to:s}of n.overlay)if((t>0?e<=i:e<i)&&(t<0?s>=i:s>i))return new Es(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Bs(e,t,i,n){let s=e.cursor(),r=[];if(!s.firstChild())return r;if(null!=i)for(;!s.type.is(i);)if(!s.nextSibling())return r;for(;;){if(null!=n&&s.type.is(n))return r;if(s.type.is(t)&&r.push(s.node),!s.nextSibling())return null==n?r:[]}}function Ls(e,t,i=t.length-1){for(let n=e.parent;i>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[i]&&t[i]!=n.name)return!1;i--}}return!0}class Ps{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}}class Rs extends Ds{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new Rs(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Cs.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Rs(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Rs(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Rs(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let r=i.buffer[this.index+1];e.push(i.slice(n,s,r)),t.push(0)}return new As(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Hs(e){if(!e.length)return null;if(1==e.length)return e[0];let t=0,i=e[0];for(let n=1;n<e.length;n++){let s=e[n];(s.from>i.from||s.to<i.to)&&(i=s,t=n)}let n=i instanceof Es&&i.index<0?null:i.parent,s=e.slice();return n?s[t]=n:s.splice(t,1),new Ws(s,i)}class Ws{constructor(e,t){this.heads=e,this.node=t}get next(){return Hs(this.heads)}}class Vs{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Es)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Es?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return!(s<0)&&(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?!(i&Cs.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Cs.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Cs.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let e=i<0?0:this.stack[i]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(e)}return i<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(n.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;({index:t,_parent:i}=i))if(t>-1)for(let n=t+e,s=e<0?-1:i._tree.children.length;n!=s;n+=e){let e=i._tree.children[n];if(this.mode&Cs.IncludeAnonymous||e instanceof Ts||!e.type.isAnonymous||zs(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let r=e;r;r=r._parent)if(r.index==n){if(n==this.index)return r;t=r,i=s+1;break e}n=this.stack[--s]}for(let e=i;e<this.stack.length;e++)t=new Rs(this.buffer,t,this.stack[e]);return this.bufferNode=new Rs(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;n&&t&&t(this),n=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return Ls(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return Ls(this.node,e,n);let r=i[t.buffer[this.stack[s]]];if(!r.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}}function zs(e){return e.children.some((e=>e instanceof Ts||!e.type.isAnonymous||zs(e)))}const Fs=new WeakMap;function _s(e,t){if(!e.isAnonymous||t instanceof Ts||t.type!=e)return 1;let i=Fs.get(t);if(null==i){i=1;for(let n of t.children){if(n.type!=e||!(n instanceof As)){i=1;break}i+=_s(e,n)}Fs.set(t,i)}return i}function Is(e,t,i,n,s,r,o,l,a){let h=0;for(let i=n;i<s;i++)h+=_s(e,t[i]);let c=Math.ceil(1.5*h/8),d=[],u=[];return function t(i,n,s,o,l){for(let h=s;h<o;){let s=h,f=n[h],g=_s(e,i[h]);for(h++;h<o;h++){let t=_s(e,i[h]);if(g+t>=c)break;g+=t}if(h==s+1){if(g>c){let e=i[s];t(e.children,e.positions,0,e.children.length,n[s]+l);continue}d.push(i[s])}else{let t=n[h-1]+i[h-1].length-f;d.push(Is(e,i,n,s,h,f,t,null,a))}u.push(f+l-r)}}(t,i,n,s,0),(l||a)(d,u,o)}new vs({perNode:!0});let $s=0;class qs{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=$s++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new qs([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new js;return t=>t.modified.indexOf(e)>-1?t:js.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let Ks=0;class js{constructor(){this.instances=[],this.id=Ks++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find((i=>{return i.base==e&&(n=t,s=i.modified,n.length==s.length&&n.every(((e,t)=>e==s[t])));var n,s}));if(i)return i;let n=[],s=new qs(n,e,t);for(let e of t)e.instances.push(s);let r=function(e){let t=[[]];for(let i=0;i<e.length;i++)for(let n=0,s=t.length;n<s;n++)t.push(t[n].concat(e[i]));return t.sort(((e,t)=>t.length-e.length))}(t);for(let t of e.set)if(!t.modified.length)for(let e of r)n.push(js.get(t,e));return s}}new vs;const Gs=qs.define,Ys=Gs(),Us=Gs(),Xs=Gs(Us),Zs=Gs(Us),Js=Gs(),Qs=Gs(Js),er=Gs(Js),tr=Gs(),ir=Gs(tr),nr=Gs(),sr=Gs(),rr=Gs(),or=Gs(rr),lr=Gs(),ar={comment:Ys,lineComment:Gs(Ys),blockComment:Gs(Ys),docComment:Gs(Ys),name:Us,variableName:Gs(Us),typeName:Xs,tagName:Gs(Xs),propertyName:Zs,attributeName:Gs(Zs),className:Gs(Us),labelName:Gs(Us),namespace:Gs(Us),macroName:Gs(Us),literal:Js,string:Qs,docString:Gs(Qs),character:Gs(Qs),attributeValue:Gs(Qs),number:er,integer:Gs(er),float:Gs(er),bool:Gs(Js),regexp:Gs(Js),escape:Gs(Js),color:Gs(Js),url:Gs(Js),keyword:nr,self:Gs(nr),null:Gs(nr),atom:Gs(nr),unit:Gs(nr),modifier:Gs(nr),operatorKeyword:Gs(nr),controlKeyword:Gs(nr),definitionKeyword:Gs(nr),moduleKeyword:Gs(nr),operator:sr,derefOperator:Gs(sr),arithmeticOperator:Gs(sr),logicOperator:Gs(sr),bitwiseOperator:Gs(sr),compareOperator:Gs(sr),updateOperator:Gs(sr),definitionOperator:Gs(sr),typeOperator:Gs(sr),controlOperator:Gs(sr),punctuation:rr,separator:Gs(rr),bracket:or,angleBracket:Gs(or),squareBracket:Gs(or),paren:Gs(or),brace:Gs(or),content:tr,heading:ir,heading1:Gs(ir),heading2:Gs(ir),heading3:Gs(ir),heading4:Gs(ir),heading5:Gs(ir),heading6:Gs(ir),contentSeparator:Gs(tr),list:Gs(tr),quote:Gs(tr),emphasis:Gs(tr),strong:Gs(tr),link:Gs(tr),monospace:Gs(tr),strikethrough:Gs(tr),inserted:Gs(),deleted:Gs(),changed:Gs(),invalid:Gs(),meta:lr,documentMeta:Gs(lr),annotation:Gs(lr),processingInstruction:Gs(lr),definition:qs.defineModifier(),constant:qs.defineModifier(),function:qs.defineModifier(),standard:qs.defineModifier(),local:qs.defineModifier(),special:qs.defineModifier()};!function(e,t){let i=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)i[e.id]=t.class;else i[t.tag.id]=t.class;let{scope:n,all:s=null}=t||{}}([{tag:ar.link,class:"tok-link"},{tag:ar.heading,class:"tok-heading"},{tag:ar.emphasis,class:"tok-emphasis"},{tag:ar.strong,class:"tok-strong"},{tag:ar.keyword,class:"tok-keyword"},{tag:ar.atom,class:"tok-atom"},{tag:ar.bool,class:"tok-bool"},{tag:ar.url,class:"tok-url"},{tag:ar.labelName,class:"tok-labelName"},{tag:ar.inserted,class:"tok-inserted"},{tag:ar.deleted,class:"tok-deleted"},{tag:ar.literal,class:"tok-literal"},{tag:ar.string,class:"tok-string"},{tag:ar.number,class:"tok-number"},{tag:[ar.regexp,ar.escape,ar.special(ar.string)],class:"tok-string2"},{tag:ar.variableName,class:"tok-variableName"},{tag:ar.local(ar.variableName),class:"tok-variableName tok-local"},{tag:ar.definition(ar.variableName),class:"tok-variableName tok-definition"},{tag:ar.special(ar.variableName),class:"tok-variableName2"},{tag:ar.definition(ar.propertyName),class:"tok-propertyName tok-definition"},{tag:ar.typeName,class:"tok-typeName"},{tag:ar.namespace,class:"tok-namespace"},{tag:ar.className,class:"tok-className"},{tag:ar.macroName,class:"tok-macroName"},{tag:ar.propertyName,class:"tok-propertyName"},{tag:ar.operator,class:"tok-operator"},{tag:ar.comment,class:"tok-comment"},{tag:ar.meta,class:"tok-meta"},{tag:ar.invalid,class:"tok-invalid"},{tag:ar.punctuation,class:"tok-punctuation"}]);const hr="#cccccc",cr=(e,t="default")=>{const i={theme:e,variant:t,selected:"unselected"},n=R("codeTextColor")(i)??hr,s=R("codeFunctionColor")(i)??hr,r=R("codeStringColor")(i)??hr,o=R("codeConstantColor")(i)??hr,l=R("codeKeywordColor")(i)??hr,a=R("codeBackgroundColor")(i)??hr,h=R("codePanelBackgroundColor")(i)??hr,c="#2c313a",d="#353a42",u="#528bff",f=cs.theme({"&":{color:n,backgroundColor:a},".cm-content":{caretColor:u},".cm-scroller":{"font-family":"Roboto Mono, monospace","font-weight":300},".cm-cursor, .cm-dropCursor":{borderLeftColor:u},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#3E4451"},".cm-panels":{backgroundColor:h,color:n},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:a,color:n,border:"none"},".cm-activeLineGutter":{backgroundColor:c},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:d},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:d,borderBottomColor:d},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:c,color:n}}},{dark:!0}),g=m.define([{tag:ar.keyword,color:l},{tag:[ar.name,ar.deleted,ar.character,ar.propertyName,ar.macroName],color:n},{tag:[ar.function(ar.variableName),ar.labelName],color:s},{tag:[ar.color,ar.constant(ar.name),ar.standard(ar.name)],color:o},{tag:[ar.definition(ar.name),ar.separator],color:n},{tag:[ar.typeName,ar.className,ar.number,ar.changed,ar.annotation,ar.modifier,ar.self,ar.namespace],color:o},{tag:[ar.operator,ar.operatorKeyword,ar.url,ar.escape,ar.regexp,ar.link,ar.special(ar.string)],color:n},{tag:[ar.meta,ar.comment],color:n},{tag:ar.strong,fontWeight:"bold"},{tag:ar.emphasis,fontStyle:"italic"},{tag:ar.strikethrough,textDecoration:"line-through"},{tag:ar.link,color:n,textDecoration:"underline"},{tag:ar.heading,fontWeight:"bold",color:r},{tag:[ar.atom,ar.bool,ar.special(ar.variableName)],color:o},{tag:[ar.processingInstruction,ar.string,ar.inserted],color:r},{tag:ar.invalid,color:"#ffffff"}]);return[f,b(g)]},dr=r((function({className:t,block:i,extensions:n,onClick:s,onChange:r,editable:o},l){const a=f();let h="";i.spans.forEach((e=>{h+=e.content}));let u=[];return void 0!==n&&(u=u.concat(n)),u.push(c()),e.createElement("div",{ref:l,key:i.uuid,className:V("aics-code-block",t,i.classNames),onClick:e=>{void 0!==s&&s(e)}},e.createElement(d,{value:h,basicSetup:!1,theme:void 0!==i.variant?cr(a,i.variant):cr(a),editable:o,extensions:u,onChange:(e,t)=>{void 0!==r&&r(e,t)}}))}));dr.displayName="CodeBlock";const ur=g(dr)`
  background-color: ${R("codeBackgroundColor")};
  font-size: 9.5pt;
  padding: 0;
  border-radius: 4px;

  & .cm-editor {
    border-radius: 3px;
    padding: 8px 0 8px 8px;
  }
`,fr=(e,t,i)=>{if(void 0===e.icons[t])throw new Error(`Icon ${t} not found`);if(void 0===e.icons[t][i])throw new Error(`Icon ${t} does not have ${i} defined`);return`url('data:image/svg+xml;utf8,${e.icons[t][i]}')`};const gr=(e,t,i)=>n=>{let s;if("function"==typeof e?s=e(n):("function"==typeof t&&(t=t(n)),s=fr(n.theme,e,t)),void 0!==s){let e;e="function"==typeof i?i(n):L(n.theme,i),void 0!==e&&e.startsWith("#")&&(e=function(e){if(7!==e.length)throw new Error("Only six-digit hex colors are allowed.");const t=e.match(/[a-f,A-F,0-9]{1,2}/g);if(null!==t&&3===t.length){const e=[parseInt(t[0],16),parseInt(t[1],16),parseInt(t[2],16)];return`rgb(${e[0]} ${e[1]} ${e[2]})`}throw new Error("Not a valid hex color")}(e)),s=s.replace(/fill="[^"]+"/g,`fill="${e}"`)}return s??""},pr=r((function({className:t,block:i,collapsed:s,setCollapsed:r,onTransitionEnd:h},c){const{factory:d}=o(ne),u=l(null),f=a((()=>{if(null!=u.current)if(!0===s){const e=-(u.current.offsetHeight+40);u.current.setAttribute("style","margin-top: "+e+"px")}else u.current.setAttribute("style","margin-top: 0px")}),[u,s]);n((()=>{f()}),[]),n((()=>{f()}),[s,f]);const g=e=>{void 0!==r&&void 0!==s&&(r(!s),e.stopPropagation())};return e.createElement("div",{ref:c,className:((e,t,i)=>V("aics-collapsible-block",e,t.classNames,(()=>!0===i?["collapsed"]:[]),(()=>void 0!==t.icon?["has-icon"]:[])))(t,i,s),key:i.uuid},e.createElement("div",{className:"aics-collapsible-block-header"},e.createElement("div",{className:"aics-collapsible-block-control",onClick:g},e.createElement("span",null)),e.createElement("div",{className:"aics-collapsible-block-title",onClick:g},i.name)),e.createElement("div",{className:"aics-collapsible-block-content"},e.createElement("div",{className:"aics-collapsible-block-inner",ref:u,onTransitionEnd:h},d?.buildAll(i.children,i))))}));pr.displayName="CollapsibleBlock";const mr=g(pr)`
position: relative;

  &.collapsed {
    > .aics-collapsible-block-inner {
      margin-top: 0;
      transition: margin-top ease 0.2s;
    }

    > .aics-collapsible-block-header > .aics-collapsible-block-control ::before {
      transform: rotate(0deg);
    }

    > .aics-collapsible-block-content {
      margin: 0;
    }
  }

  & > .aics-collapsible-block-header {
    position: relative;
    font-size: ${R("fontSize")};

    > .aics-collapsible-block-control ::before {
      transition: all 0.2s;
      transform: rotate(90deg);
    }
  }

  & .aics-collapsible-block-control {
    position: absolute;
    top: 0;
    left: 4px;
    background-color: transparent;
    border: none;
    color: ${R("textColor")};
    padding: 0;
    margin: 0;
    font-size: 11pt;
    vertical-align: text-top;
    
    transition: all 0.2s;
    outline: 0;
    width: 20px;
    height: 20px;
    display: inline-block;

    :focus {
      outline: 0;
    }

    ::before {
      content: '';
      display: inline-block;
      width: 20px;
      height: 20px;
      background-image: ${gr("right",20,R("secondaryTextColor"))};
      background-repeat: no-repeat;
    }
  }

  & .aics-collapsible-block-title {
    display: inline-block;
    margin: 2px 0;
    padding: ${R("collapsibleTitlePadding")};
    color: ${R("collapsibleTextColor")};
    font-family: ${R("collapsibleFontFamily")};
    font-size: ${R("collaspibleFontSize")};
    font-weight: ${R("collapsibleFontWeight")};
    user-select: none;
    position: relative;

    :focus {
      outline: 0;
    }

    
  }

  &.has-icon .aics-collapsible-block-title {
    padding-left: 44px;
    background-position: 24px center;
    background-size: contain;
    background-image: ${e=>void 0!==e.block.icon?gr(e.block.icon,20,R("textColor")):""};
    background-repeat: no-repeat;
  }

  & .aics-collapsible-block-content {
    overflow: hidden;
    margin: ${R("collapsiblePadding")};
    font-size: ${R("fontSize")};
  }

  & .aics-collapsible-block-inner {
    font-size: ${R("fontSize")};
    transition: margin-top ease 0.2s;

    > .aics-collapsible-block {
      margin-top: 4px;
    }

    > .aics-paragraph {
      margin-left: 0;
      margin-right: 0;
    }
  }
`,br=r((function({className:t,block:i,onClick:n},s){const{factory:r}=o(ne);return e.createElement("div",{ref:s,key:i.uuid,className:((e,t)=>V("aics-content-block",t,e.classNames))(i,t),onClick:e=>{void 0!==n&&n(e)}},r?.buildAll(i.children,i))}));br.displayName="ContentBlock";const vr=g(br)`
font-family: ${R("fontFamily")};
font-weight: ${R("fontWeight")};
border-width: 1px;
border-style: solid;
border-radius: 4px;
margin: 4px 0;
color: ${R("textColor")};
background-color: ${R("contentBackgroundColor")};
border-color: ${R("borderColor")};

> .aics-list {
  margin: 8px 12px;
}
`,wr=r((function({className:t,block:i,onClick:n},s){return e.createElement("span",{ref:s,key:i.uuid,className:(r=i,V("aics-content-span",t,r.classNames,(()=>void 0!==r.datatype?[`aics-content-span-${r.datatype}`]:[]))),onClick:e=>{void 0!==n&&n(e)},dangerouslySetInnerHTML:{__html:i.content}});var r}));wr.displayName="ContentSpan";const yr=g(wr)`
  color: ${R("spanTextColor")};
  background-color: ${R("spanBackgroundColor")};
  border-radius: ${R("spanBorderRadius")};
  padding: ${R("spanPadding")};
  background-image: ${e=>{const t=R("spanIcon")(e);return void 0!==t?gr(t,12,R("spanTextColor"))(e):"none"}};
  background-repeat: no-repeat;
  background-position: 4px 1px;
  font-family: ${R("spanFontFamily")};
  font-weight: ${R("spanFontWeight")};
  font-size: ${R("spanFontSize")};

  a {
    color: ${R("spanTextColor")};
  }
`;var xr=Object.freeze({__proto__:null,darkTheme:pe,lightTheme:ge}),kr=Object.freeze({__proto__:null,darkTheme:me,lightTheme:fe});const Sr=r((function({className:t,block:i},n){const{factory:s}=o(ne);return e.createElement("div",{ref:n,className:V("aics-list",t,i.classNames),key:i.uuid},s?.buildAll(i.items,i))}));Sr.displayName="ListLayout";const Cr=g(Sr)`
margin: 4px 0;
`,Ar=r((function({className:t,block:i,selected:n,setSelected:s,collapsed:r,setCollapsed:l,variant:a},h){const{factory:c}=o(ne),d=new ie;return e.createElement("div",{className:(u=i,V("aics-list-item",u.classNames,t,(()=>u.selected?["selected"]:[]),(()=>(e=>{const t=c?.getParent(e),i=t.items.indexOf(e);if(i<0)return!1;for(let e=i+1;e<t.items.length;e++)if(d.run(t.items[e]).length>0)return!0;return!1})(u)?["before-selected"]:[]))),key:i.uuid},e.createElement(mr,{ref:h,block:i,selected:n,setSelected:s,collapsed:r,setCollapsed:l,variant:a}));var u}));Ar.displayName="ListItemLayout";const Mr=g(Ar)`
  padding: 4px 0;
  margin: 0;
  color: ${R("textColor")};
  background-color: ${R("contentBackgroundColor")};
  border-style: solid;
  border-color: ${R("borderColor")};
  border-top-width: 0;
  border-bottom-width: 1px;
  border-left-width: 1px;
  border-right-width: 1px;
  border-radius: 0;

  .selected & {
    color: ${e=>R("textColor",e.variant,!0)};
    background-color: ${e=>R("contentBackgroundColor",e.variant,!0)};
    border-color: ${e=>R("borderColor",e.variant,!0)};
  }

  & .aics-paragraph:first-child,
  & .aics-list:first-child,
  & .aics-collapsible-block:first-child {
      margin-top: 0;
  }

  & .aics-paragraph:last-child,
  & .aics-list:first-child,
  & .aics-collapsible-block:first-child {
      margin-bottom: 0;
  }

  &:first-child {
      border-top-left-radius: 4px;
      border-top-right-radius: 4px;
      border-top-width: 1px;
  }

  &:last-child {
      border-bottom-right-radius: 4px;
      border-bottom-left-radius: 4px;
  }

  &.before-selected {
    border-bottom-color: ${R("borderColor",null,!0)};
  }
`,Tr=r((function({className:t,block:i,onClick:n},s){const{factory:r}=o(ne),l=a((e=>{void 0!==n&&n(e)}),[n]);return e.createElement("div",{ref:s,key:i.uuid,className:((e,t)=>V("aics-paragraph",t,e.classNames))(i,t),onClick:l},e.createElement("span",null,r?.buildAll(i.spans,i)))}));Tr.displayName="ParagraphBlock";const Or=g(Tr)`
font-family: ${R("fontFamily")};
font-size: ${R("fontSize")};
margin: 12px 16px;


&.selected > span {
  color: ${R("spanTextColor")};
  background-color: ${R("spanBackgroundColor")};
}
`,Nr=r((function({block:t},i){return e.createElement("div",{ref:i,key:t.uuid,className:"aics-sentinal"})}));Nr.displayName="SentinalView";const Dr=r((function({className:t,block:i,onClick:n},s){const{factory:r}=o(ne),l=e=>V("aics-table-row",e.classNames),a=e=>V("aics-table-cell",e.classNames);return e.createElement("div",{ref:s,key:i.uuid,className:((e,t)=>V("aics-table",t,e.classNames))(i,t),onClick:e=>{void 0!==n&&n(e)}},i.rows.map((t=>e.createElement("div",{className:l(t),key:t.uuid},t.values.map((i=>e.createElement("div",{className:a(i),key:i.uuid},r?.build(i,t))))))))}));Dr.displayName="TableBlock";const Er=g(Dr)`
display: grid;
grid-template-columns: min-content 1fr;
gap: 0;
width: 100%;

.aics-table-row {
  display: contents;
}

.aics-table-row:hover > div {
  background-color: ${R("hoverColor")};
}

.aics-table-row:first-child {
  .aics-table-cell:first-child {
    border-top-left-radius: 4px;
    padding-top: 6px;
  }
  .aics-table-cell:last-child {
    border-top-right-radius: 4px;
    padding-top: 6px;
  }
}

.aics-table-row:last-child {
  .aics-table-cell:first-child {
    border-bottom-left-radius: 4px;
    padding-bottom: 6px;
  }
  .aics-table-cell:last-child {
    border-bottom-right-radius: 4px;
    padding-bottom: 6px;
  }
}

.aics-table-header {
  grid-column: auto;
  grid-row: auto;

  text-align: left;
  padding: 2px 16px 0 28px;
  color: ${R("fadedTextColor")};
  font-size: 9.5pt;
  font-weight: 500;
  width: 1%;
  vertical-align: top;
  white-space: nowrap;
}

.aics-table-cell {
  grid-column: auto;
  grid-row: auto;

  font-size: 11pt;

  .aics-paragraph {
    padding: 2px 0;
    margin: 4px;
  }
}

.aics-table-header {
  background-repeat: no-repeat;
  background-size: contain;
  white-space: nowrap;
}

.aics-table-header.aics-content-span-text {
  background-image: ${gr("text",12,R("fadedTextColor"))};
}

.aics-table-header.aics-content-span-number {
  background-image: ${gr("number",12,R("fadedTextColor"))};
}

.aics-table-header.aics-content-span-date {
  background-image: ${gr("date",12,R("fadedTextColor"))};
}
`,Br=({className:t,page:i,numPages:n,showEnds:s,setPage:r})=>{const[o,l]=e.useState(""),[a,h]=e.useState(""),[c,d]=e.useState(""),[u,f]=e.useState(""),g=(e,t)=>{t("pulse1"),setTimeout((()=>{t("")}),400)},p=e.useCallback((e=>{(e=Math.min(n,Math.max(1,e)))!==i&&r?.(e)}),[i,r]),m=e.useCallback((()=>{1!==i&&(p(1),g(0,l))}),[i,r]),b=e.useCallback((()=>{i!==n&&(p(n),g(0,f))}),[i,r]),v=e.useCallback((()=>{void 0!==i&&i>1&&(p(i-1),g(0,h))}),[i,r]),w=e.useCallback((()=>{void 0!==i&&i<n&&(p(i+1),g(0,d))}),[i,r]),y=(e,t,i)=>V((()=>1===t?["disabled"]:[]),"aics-pagination-start","aics-button-group-start",e),x=(e,t,i,n)=>V((()=>1===i?["disabled"]:[]),"aics-pagination-previous",(()=>t?[]:["aics-button-group-start"]),"aics-button-group-end",e),k=(e,t,i,n)=>V((()=>i===n?["disabled"]:[]),"aics-pagination-next","aics-button-group-start",(()=>t?[]:["aics-button-group-end"]),e),S=(e,t,i)=>V((()=>t===i?["disabled"]:[]),"aics-pagination-end","aics-button-group-end",e);return!0===s?e.createElement("div",{className:V("aics-pagination",t)},e.createElement("button",{className:y(o,i),title:"Return to start",onClick:m}),e.createElement("button",{className:x(a,s,i),title:"Previous",onClick:v}),e.createElement("span",{className:"aics-pagination-page"},i," of ",n),e.createElement("button",{className:k(c,s,i,n),title:"Next",onClick:w}),e.createElement("button",{className:S(u,i,n),title:"Jump to end",onClick:b})):e.createElement("div",{className:V("aics-pagination",t)},e.createElement("button",{className:x(a,!1,i),title:"Previous",onClick:v}),e.createElement("span",{className:"aics-pagination-page"},i," of ",n),e.createElement("button",{className:k(c,!1,i,n),title:"Next",onClick:w}))},Lr=g(Br)`
text-align: left;

.aics-pagination-page {
    vertical-align: top;
    line-height: 24px;
    margin: 0 8px;
    font-family: ${R("fontFamily",null,!1)};
    font-size: 10pt;
    font-variant-numeric: tabular-nums;
    color: ${R("textColor",null,!1)};
}
  
button {
    border: 0;
    background-color: ${R("buttonBgColor",null,!1)};
    color: ${R("secondaryTextColor",null,!1)};
    margin: 0 1px;
    width: 24px;
    height: 24px;
    background-repeat: no-repeat;
}

button.aics-button-group-start {
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px;
}

button.aics-button-group-end {
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
}
  
button:hover {
    background-color: ${R("buttonHoverBgColor",null,!1)};
}

button.disabled:hover {
  background-color: ${R("buttonBgColor",null,!1)};
}
  
button:focus {
    outline: 0;
}

button.pulse1 {
    animation-name: pulse1;
    animation-duration: 0.2s;
    animation-iteration-count: 1;
    animation-direction: alternate-reverse;
    animation-timing-function: ease;
}

button.disabled.pulse1 {
  animation-name: none;
}
  
@keyframes pulse1 {
    0% {}
    50% {
      background-color: ${R("buttonPulseBgColor",null,!1)};
    }
    100% {}
}

.aics-pagination-previous {
  background-image: ${gr("left",20,R("secondaryTextColor",null,!1))};
  background-position: 1px 2px;
}

.aics-pagination-previous.disabled {
  background-image: ${gr("left",20,R("fadedTextColor",null,!1))};
}

.aics-pagination-next {
  background-image: ${gr("right",20,R("secondaryTextColor",null,!1))};
  background-position: 2px 2px;
}

.aics-pagination-next.disabled {
  background-image: ${gr("right",20,R("fadedTextColor",null,!1))};
}

.aics-pagination-start {
  background-image: ${gr("start",20,R("secondaryTextColor",null,!1))};
  background-position: 2px 0;
  width: 28px;
  background-size: 24px;
}

.aics-pagination-start.disabled {
  background-image: ${gr("start",20,R("fadedTextColor",null,!1))};
}

.aics-pagination-end {
  background-image: ${gr("end",20,R("secondaryTextColor",null,!1))};
  background-position: 0;
  width: 28px;
  background-size: 24px;
}

.aics-pagination-end.disabled {
  background-image: ${gr("end",20,R("fadedTextColor",null,!1))};
}
`,Pr=r((function({className:t,block:i,level:n,page:s,setPage:r},l){const{factory:h}=o(ne),c=o(ae),d=new ie,u=(e,t)=>V("aics-tree",e.classNames,t,(()=>d.run(e).length>0?["selected"]:[]),(()=>void 0!==e.icon?["has-icon"]:[])),f=e=>V("aics-tree-node",e.classNames,t,(()=>d.run(e).length>0?["selected"]:[]),(()=>e instanceof Q?[]:["aics-tree-leaf-node"]),(()=>(e=>{const t=i.children.indexOf(e);if(t<0)return!1;for(let e=t+1;e<i.children.length;e++)if(d.run(i.children[e]).length>0)return!0;return!1})(e)?["before-selected"]:[])),g=a((()=>{const e=[];return i.children.forEach((t=>{void 0!==t.iteration&&t.iteration!==s||e.push(t)})),e}),[i,s]);return null!==c&&c.getNumPages(n)>1?e.createElement("div",{ref:l,key:i.uuid,className:u(i,t)},e.createElement("div",{className:"aics-tree-control"},e.createElement("span",null)),e.createElement("div",{className:"aics-tree-title"},e.createElement("label",{className:"aics-tree-page-label"},i.name),e.createElement(Lr,{level:n,page:s,numPages:c.getNumPages(n),setPage:r,key:i.uuid})),g().map((t=>e.createElement("div",{className:f(t),key:t.uuid},h?.build(t,i))))):e.createElement("div",{ref:l,key:i.uuid,className:V()},g().map((t=>e.createElement("div",{className:f(t),key:t.uuid},h?.build(t,i)))))}));Pr.displayName="TreeLayout";const Rr=u(Pr)`
position: relative;
margin-top: 12px;
margin-bottom: 12px;
margin-left: 0;
padding-left: 0;

.aics-tree-content {
  position: relative;
  margin-left: 24px;
}

& .aics-tree-title {
  position: relative;
  padding-left: 24px;
}

& .aics-tree-title > label {
  font-family: ${R("fontFamily")};
  font-size: 12pt;
  font-weight: 500;
  line-height: 24px;
  vertical-align: middle;
  color: ${R("textColor")};
  margin-right: 12px;
}

&.has-icon .aics-tree-title > label {
  padding-left: 26px;
  background-position: 4px center;
  background-size: contain;
  background-image: ${e=>void 0!==e.block.icon?gr(e.block.icon,24,R("textColor")):""};
  background-repeat: no-repeat;
}

.aics-pagination {
  display: inline-block;
  vertical-align: top;
}

& .aics-tree-node {
  display: block;
  position: relative;
  padding-left: 4px;
  margin: 0 0 0 8px;
}

& .aics-tree-leaf-node {
  padding-left: 24px;
}

& .aics-tree-node > .aics-tree {
  padding-left: 0px;
}

& .aics-tree-node {
  position: relative;
  border-left: 2px solid ${R("treeColor")};
}

& .aics-tree-node:last-child {
  border-color: transparent;
}

.aics-tree-node::before {
  content: "";
  display: block;
  position: absolute;
  z-index: -1;
  top: -19px;
  left: -2px;
  width: 10px;
  height: 32px;
  border: solid ${R("treeColor")};
  border-width: 0 0 2px 2px;
  border-bottom-left-radius: 6px;
}

.aics-tree-leaf-node::before {
  top: -12px;
}

.aics-tree-node:nth-child(3)::before {
  top: -10px;
  height: 30px;
}

& .aics-tree-title:focus {
  outline: none;
}

& .aics-tree-leaf-node::after {
  content: "";
  display: block;
  position: absolute;
  top: 17px;
  left: 9px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: ${R("treeColor")};
  z-index: 2;
}

& > .aics-tree-control > span {
  content: "";
  display: block;
  position: absolute;
  border-radius: 50%;
  z-index: 2;

  border: 2px solid ${R("treeColor")};
  left: 4px;
  top: 9px;
  width: 6px;
  height: 6px;
  background: transparent;
}

&.selected
  > .aics-tree-title::before,
&
  > .selected
  > .aics-tree-title::before {
  background-color: ${R("selectedTreeColor")};
}

& .before-selected {
  border-color: ${R("selectedTreeColor")};
}

&.selected
  > .aics-tree-control
  > span {
    border-color: ${R("selectedTreeColor")};
}

& > .selected::after {
  background: ${R("selectedTreeColor")};
}

& > .selected::before {
  border-color: ${R("selectedTreeColor")};
  z-index: 1;
}

& .aics-tree-title::before {
  z-index: 1;
  content: " ";
  position: absolute;
  top: 18px;
  left: 8px;
  background-color: ${R("treeColor")};
  background-clip: content-box;
  width: 2px;
  height: 18px;
}

`;function Hr(t){const i=r((function(i,r){const o=i,[l,a]=s(o.block.collapsed);n((()=>{void 0!==o.collapsed&&a(o.collapsed)}),[o.collapsed]),n((()=>{o.block.collapsed=l}),[l]);return e.createElement(t,{...o,ref:r,collapsed:l,setCollapsed:e=>{a(e),o.block.collapsed=e,void 0!==o.setCollapsed&&o.setCollapsed(e)},className:V(o.className,(()=>l?["collapsed"]:[]))})})),o=t.displayName??t.name??"Component";return i.displayName=`withCollapsible(${o})`,i}function Wr(e,t){return null!==e?e.pages[t-1]:1}function Vr(t){const i=r((function(i,s){const r=i,l=o(ae),a=o(he);n((()=>{let e=1;r.block.children.forEach((t=>{void 0===t.iteration?t.iteration=1:t.iteration>e&&(e=t.iteration)})),null===a||null!==l&&l.numPages[r.level-1]===e||a({type:"register",level:r.level,numPages:e})}),[r.level,a]);const h=e=>{r.block.page=e,null!==a&&Wr(l,r.level)!==e&&(a({type:"goto",page:e,level:r.level}),r.block.page=e,void 0!==r.setPage&&r.setPage(e))},c=new ie;return n((()=>{const e=Wr(l,r.level);null!==e&&c.run(r.block,e).length>0&&r.block.children.forEach((t=>{void 0!==t.iteration&&c.run(t,e).length>0&&h(t.iteration)}))}),[l]),e.createElement(t,{...r,ref:s,page:Wr(l,r.level),setPage:h,classNames:V(r.className,(()=>{return e=l,t=r.level,(null!==e?e.numPages[t-1]:1)>1?["aics-paginated"]:[];var e,t}))})})),s=t.displayName??t.name??"Component";return i.displayName=`withPageable(${s})`,i}function zr(t){const i=r((function(i,r){const o=i;console.log("WithSelectable",o);const[l,a]=s(o.block.selected);n((()=>{void 0!==o.selected&&a(o.selected)}),[o.selected]),n((()=>{o.block.selected=l}),[l]);return e.createElement(t,{...o,ref:r,selected:l,setSelected:e=>{a(e),o.block.selected=e,void 0!==o.setSelected&&o.setSelected(e)},className:V(o.className,(()=>l?["selected"]:[]))})})),o=t.displayName??t.name??"Component";return i.displayName=`withSelectable(${o})`,i}const Fr=(t,i)=>{const n=r((function(n,s){const{darkMode:r}=e.useContext(se),[o,l]=e.useState(i.lightTheme);return e.useEffect((()=>{null!=r&&l(r?i.darkTheme:i.lightTheme)}),[r]),e.createElement(p,{theme:o},e.createElement(t,{...n,ref:s}))})),s=t.displayName??t.name??"Component";return n.displayName=`withTheme(${s})`,n},_r=t=>{const i=r((function(i,n){const s=l(null);return h(s,(()=>({scrollIntoView:e=>{s.current?.scrollIntoView({behavior:"smooth",block:"center"})}}))),e.createElement(t,{...i,ref:s})})),n=t.displayName??t.name??"Component";return i.displayName=`withRef(${n})`,i};class Ir{block_types=[];builders=[];parentByBlock=new Map;themes=new Map;constructor(){this.registerBuilder(K,this.buildListItem),this.registerBuilder(q,this.buildCollapsible),this.registerBuilder($,this.buildContent),this.registerBuilder(_,this.buildSection),this.registerBuilder(I,this.buildCode),this.registerBuilder(G,this.buildList),this.registerBuilder(U,this.buildSpan),this.registerBuilder(F,this.buildSelectable),this.registerBuilder(Q,this.buildTree),this.registerBuilder(Z,this.buildTable),this.registerTheme("default",fe,me),this.registerTheme("blue",ge,pe)}registerBuilder(e,t){this.block_types.push(e),this.builders.push(t.bind(this))}registerTheme(e,t,i){this.themes.set(e,[t,i])}getTheme(e){if(""===e&&(e="default"),!this.themes.has(e))throw new Error("Theme not found: "+e);return this.themes.get(e)}getParent(e){return this.parentByBlock.get(e)}setParent(e,t){this.parentByBlock.set(e,t)}getTreeLevel(e){let t=1,i=this.getParent(e);for(;void 0!==i&&i instanceof Q;)t++,i=this.getParent(i);return t}build(e,t){for(let i=0;i<this.builders.length;i++){const n=this.block_types[i],s=this.builders[i];if(e.constructor.name===n.name){void 0!==t&&this.setParent(e,t);return s(e)}}throw new Error("Builder not found for: "+e.constructor.name)}buildAll(e,t){const i=[];return e.forEach((e=>{i.push(this.build(e,t))})),i}getClassNames(e,t){const i=new Set(Array.from(e.classNames));return Array.from(i)}withTheme(e,t){if(void 0!==t.block.theme){const i=this.themes.get(t.block.theme);if(void 0===i)throw new Error(`Theme not found: ${t.block.theme}`);return Fr(e,{lightTheme:i[0],darkTheme:i[1]})}return e}withSelectable(e){return zr(e)}withCollapsible(e){return Hr(e)}withPageable(e){return Vr(e)}buildCollapsible(t){const i=_r(mr),n=this.withTheme(i,{block:t}),s=this.withCollapsible(n),r=this.withSelectable(s);return e.createElement(r,{block:t,variant:t.variant})}buildListItem(t){const i=_r(Mr),n=this.withTheme(i,{block:t}),s=this.withCollapsible(n),r=this.withSelectable(s);return e.createElement(r,{block:t,variant:t.variant})}buildContent(t){const i=_r(vr),n=this.withTheme(i,{block:t}),s=this.withSelectable(n);return e.createElement(s,{block:t,variant:t.variant})}buildSection(t){const i=_r(Or),n=this.withTheme(i,{block:t}),s=this.withSelectable(n);return e.createElement(s,{block:t,variant:t.variant})}buildCode(t){const i=_r(ur),n=this.withTheme(i,{block:t}),s=this.withSelectable(n);return e.createElement(s,{block:t,editable:!1,variant:t.variant})}buildList(t){const i=_r(Cr),n=this.withTheme(i,{block:t});return e.createElement(n,{block:t,variant:t.variant})}buildSpan(t){const i=_r(yr),n=this.withTheme(i,{block:t}),s=this.withSelectable(n);return e.createElement(s,{block:t,variant:t.variant})}buildSelectable(t){const i=_r(Nr),n=this.withTheme(i,{block:t}),s=this.withSelectable(n);return e.createElement(s,{block:t,variant:t.variant})}buildTree(t){const i=_r(Rr),n=this.withPageable(i),s=this.withTheme(n,{block:t}),r=this.getTreeLevel(t);return 1===r?e.createElement(ce,{pages:[1],numPages:[1]},e.createElement(s,{level:r,block:t,variant:t.variant})):e.createElement(s,{level:r,block:t})}buildTable(t){const i=_r(Er),n=this.withTheme(i,{block:t});return e.createElement(n,{block:t,variant:t.variant})}}export{z as Base,ee as BaseVisitor,ne as BlockFactoryContext,Y as Checklist,j as ChecklistItem,I as Code,ur as CodeBlock,q as Collapsible,mr as CollapsibleBlock,pr as CollapsibleBlockComponent,$ as Content,vr as ContentBlock,br as ContentBlockComponent,yr as ContentSpan,wr as ContentSpanComponent,se as DarkModeContext,Ir as DefaultBlockFactory,G as List,K as ListItem,Ar as ListItemComponent,Cr as ListLayout,Sr as ListLayoutComponent,Mr as ListLayoutItem,ae as NestedPaginationContext,he as NestedPaginationDispatchContext,ce as NestedPaginationProvider,le as NestedPaginationReducer,re as NestedPaginationState,J as Pageable,Lr as Pagination,Br as PaginationComponent,_ as Paragraph,Or as ParagraphBlock,F as Selectable,ie as SelectedVisitor,Nr as SentinalView,U as Span,Z as Table,Er as TableBlock,Dr as TableBlockComponent,X as TableRow,Q as Tree,Rr as TreeLayout,Pr as TreeLayoutComponent,te as VisibleVisitor,xr as blueTheme,cr as codeTheme,kr as defaultTheme,W as extendTheme,V as getClasses,L as getColor,P as getColors,fr as getIcon,gr as themedIcon,R as themedVariant,de as useDarkMode,ue as useStorybookDarkMode,Hr as withCollapsible,Vr as withPageable,_r as withRef,zr as withSelectable,Fr as withTheme};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubWpzIiwic291cmNlcyI6WyIuLi9zcmMvdGhlbWVzL3RoZW1lLnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvQmFzZS50cyIsIi4uL3NyYy9kYXRhL0Jhc2UudHMiLCIuLi9zcmMvZGF0YS9TZWxlY3RhYmxlLnRzIiwiLi4vc3JjL2RhdGEvUGFyYWdyYXBoLnRzIiwiLi4vc3JjL2RhdGEvQ29kZS50cyIsIi4uL3NyYy9kYXRhL0NvbnRlbnQudHMiLCIuLi9zcmMvZGF0YS9Db2xsYXBzaWJsZS50cyIsIi4uL3NyYy9kYXRhL0xpc3QudHMiLCIuLi9zcmMvZGF0YS9TcGFuLnRzIiwiLi4vc3JjL2RhdGEvVGFibGUudHMiLCIuLi9zcmMvZGF0YS9QYWdlYWJsZS50cyIsIi4uL3NyYy9kYXRhL1RyZWUudHMiLCIuLi9zcmMvZGF0YS9WaXNpdG9yLnRzIiwiLi4vc3JjL2hvb2tzL0Jsb2NrRmFjdG9yeUNvbnRleHQudHMiLCIuLi9zcmMvaG9va3MvRGFya01vZGVQcm92aWRlci50c3giLCIuLi9zcmMvaG9va3MvTmVzdGVkUGFnaW5hdGlvbkNvbnRleHQudHN4IiwiLi4vc3JjL2hvb2tzL3VzZURhcmtNb2RlLnRzIiwiLi4vc3JjL2hvb2tzL3VzZVN0b3J5Ym9va0RhcmtNb2RlLnRzIiwiLi4vc3JjL3RoZW1lcy9kZWZhdWx0L2xpZ2h0VGhlbWUudHMiLCIuLi9zcmMvdGhlbWVzL2JsdWUvbGlnaHRUaGVtZS50cyIsIi4uL3NyYy90aGVtZXMvYmx1ZS9kYXJrVGhlbWUudHMiLCIuLi9zcmMvdGhlbWVzL2RlZmF1bHQvZGFya1RoZW1lLnRzIiwiLi4vbm9kZV9tb2R1bGVzL3N0eWxlLW1vZC9zcmMvc3R5bGUtbW9kLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3czYy1rZXluYW1lL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0Bjb2RlbWlycm9yL3ZpZXcvZGlzdC9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbGV6ZXIvY29tbW9uL2Rpc3QvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvQGxlemVyL2hpZ2hsaWdodC9kaXN0L2luZGV4LmpzIiwiLi4vc3JjL3RoZW1lcy9jb2RlLnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvQ29kZUJsb2NrLnRzeCIsIi4uL3NyYy90aGVtZXMvaWNvbnMudHMiLCIuLi9zcmMvY29tcG9uZW50cy9Db2xsYXBzaWJsZUJsb2NrLnRzeCIsIi4uL3NyYy9jb21wb25lbnRzL0NvbnRlbnRCbG9jay50c3giLCIuLi9zcmMvY29tcG9uZW50cy9Db250ZW50U3Bhbi50c3giLCIuLi9zcmMvY29tcG9uZW50cy9MaXN0TGF5b3V0LnRzeCIsIi4uL3NyYy9jb21wb25lbnRzL1BhcmFncmFwaEJsb2NrLnRzeCIsIi4uL3NyYy9jb21wb25lbnRzL1NlbnRpbmFsVmlldy50c3giLCIuLi9zcmMvY29tcG9uZW50cy9UYWJsZUJsb2NrLnRzeCIsIi4uL3NyYy9jb21wb25lbnRzL1BhZ2luYXRpb24udHN4IiwiLi4vc3JjL2NvbXBvbmVudHMvVHJlZUxheW91dC50c3giLCIuLi9zcmMvY29tcG9uZW50cy93aXRoQ29sbGFwc2libGUudHN4IiwiLi4vc3JjL2NvbXBvbmVudHMvd2l0aFBhZ2VhYmxlLnRzeCIsIi4uL3NyYy9jb21wb25lbnRzL3dpdGhTZWxlY3RhYmxlLnRzeCIsIi4uL3NyYy9jb21wb25lbnRzL3dpdGhUaGVtZS50c3giLCIuLi9zcmMvY29tcG9uZW50cy93aXRoUmVmLnRzeCIsIi4uL3NyYy9jb21wb25lbnRzL0Jsb2NrRmFjdG9yeS50c3giXSwic291cmNlc0NvbnRlbnQiOltudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsImNvbnN0IEMgPSBcIlxcdTAzN2NcIlxuY29uc3QgQ09VTlQgPSB0eXBlb2YgU3ltYm9sID09IFwidW5kZWZpbmVkXCIgPyBcIl9fXCIgKyBDIDogU3ltYm9sLmZvcihDKVxuY29uc3QgU0VUID0gdHlwZW9mIFN5bWJvbCA9PSBcInVuZGVmaW5lZFwiID8gXCJfX3N0eWxlU2V0XCIgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxZTgpIDogU3ltYm9sKFwic3R5bGVTZXRcIilcbmNvbnN0IHRvcCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge31cblxuLy8gOjogLSBTdHlsZSBtb2R1bGVzIGVuY2Fwc3VsYXRlIGEgc2V0IG9mIENTUyBydWxlcyBkZWZpbmVkIGZyb21cbi8vIEphdmFTY3JpcHQuIFRoZWlyIGRlZmluaXRpb25zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBhIGdpdmVuIERPTVxuLy8gcm9vdCBhZnRlciBpdCBoYXMgYmVlbiBfbW91bnRlZF8gdGhlcmUgd2l0aCBgU3R5bGVNb2R1bGUubW91bnRgLlxuLy9cbi8vIFN0eWxlIG1vZHVsZXMgc2hvdWxkIGJlIGNyZWF0ZWQgb25jZSBhbmQgc3RvcmVkIHNvbWV3aGVyZSwgYXNcbi8vIG9wcG9zZWQgdG8gcmUtY3JlYXRpbmcgdGhlbSBldmVyeSB0aW1lIHlvdSBuZWVkIHRoZW0uIFRoZSBhbW91bnQgb2Zcbi8vIENTUyBydWxlcyBnZW5lcmF0ZWQgZm9yIGEgZ2l2ZW4gRE9NIHJvb3QgaXMgYm91bmRlZCBieSB0aGUgYW1vdW50XG4vLyBvZiBzdHlsZSBtb2R1bGVzIHRoYXQgd2VyZSB1c2VkLiBTbyB0byBhdm9pZCBsZWFraW5nIHJ1bGVzLCBkb24ndFxuLy8gY3JlYXRlIHRoZXNlIGR5bmFtaWNhbGx5LCBidXQgdHJlYXQgdGhlbSBhcyBvbmUtdGltZSBhbGxvY2F0aW9ucy5cbmV4cG9ydCBjbGFzcyBTdHlsZU1vZHVsZSB7XG4gIC8vIDo6IChPYmplY3Q8U3R5bGU+LCA/e2ZpbmlzaDogPyhzdHJpbmcpIOKGkiBzdHJpbmd9KVxuICAvLyBDcmVhdGUgYSBzdHlsZSBtb2R1bGUgZnJvbSB0aGUgZ2l2ZW4gc3BlYy5cbiAgLy9cbiAgLy8gV2hlbiBgZmluaXNoYCBpcyBnaXZlbiwgaXQgaXMgY2FsbGVkIG9uIHJlZ3VsYXIgKG5vbi1gQGApXG4gIC8vIHNlbGVjdG9ycyAoYWZ0ZXIgYCZgIGV4cGFuc2lvbikgdG8gY29tcHV0ZSB0aGUgZmluYWwgc2VsZWN0b3IuXG4gIGNvbnN0cnVjdG9yKHNwZWMsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnJ1bGVzID0gW11cbiAgICBsZXQge2ZpbmlzaH0gPSBvcHRpb25zIHx8IHt9XG5cbiAgICBmdW5jdGlvbiBzcGxpdFNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgICByZXR1cm4gL15ALy50ZXN0KHNlbGVjdG9yKSA/IFtzZWxlY3Rvcl0gOiBzZWxlY3Rvci5zcGxpdCgvLFxccyovKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlcihzZWxlY3RvcnMsIHNwZWMsIHRhcmdldCwgaXNLZXlmcmFtZXMpIHtcbiAgICAgIGxldCBsb2NhbCA9IFtdLCBpc0F0ID0gL15AKFxcdyspXFxiLy5leGVjKHNlbGVjdG9yc1swXSksIGtleWZyYW1lcyA9IGlzQXQgJiYgaXNBdFsxXSA9PSBcImtleWZyYW1lc1wiXG4gICAgICBpZiAoaXNBdCAmJiBzcGVjID09IG51bGwpIHJldHVybiB0YXJnZXQucHVzaChzZWxlY3RvcnNbMF0gKyBcIjtcIilcbiAgICAgIGZvciAobGV0IHByb3AgaW4gc3BlYykge1xuICAgICAgICBsZXQgdmFsdWUgPSBzcGVjW3Byb3BdXG4gICAgICAgIGlmICgvJi8udGVzdChwcm9wKSkge1xuICAgICAgICAgIHJlbmRlcihwcm9wLnNwbGl0KC8sXFxzKi8pLm1hcChwYXJ0ID0+IHNlbGVjdG9ycy5tYXAoc2VsID0+IHBhcnQucmVwbGFjZSgvJi8sIHNlbCkpKS5yZWR1Y2UoKGEsIGIpID0+IGEuY29uY2F0KGIpKSxcbiAgICAgICAgICAgICAgICAgdmFsdWUsIHRhcmdldClcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGlmICghaXNBdCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgdmFsdWUgb2YgYSBwcm9wZXJ0eSAoXCIgKyBwcm9wICsgXCIpIHNob3VsZCBiZSBhIHByaW1pdGl2ZSB2YWx1ZS5cIilcbiAgICAgICAgICByZW5kZXIoc3BsaXRTZWxlY3Rvcihwcm9wKSwgdmFsdWUsIGxvY2FsLCBrZXlmcmFtZXMpXG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGxvY2FsLnB1c2gocHJvcC5yZXBsYWNlKC9fLiovLCBcIlwiKS5yZXBsYWNlKC9bQS1aXS9nLCBsID0+IFwiLVwiICsgbC50b0xvd2VyQ2FzZSgpKSArIFwiOiBcIiArIHZhbHVlICsgXCI7XCIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb2NhbC5sZW5ndGggfHwga2V5ZnJhbWVzKSB7XG4gICAgICAgIHRhcmdldC5wdXNoKChmaW5pc2ggJiYgIWlzQXQgJiYgIWlzS2V5ZnJhbWVzID8gc2VsZWN0b3JzLm1hcChmaW5pc2gpIDogc2VsZWN0b3JzKS5qb2luKFwiLCBcIikgK1xuICAgICAgICAgICAgICAgICAgICBcIiB7XCIgKyBsb2NhbC5qb2luKFwiIFwiKSArIFwifVwiKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IHByb3AgaW4gc3BlYykgcmVuZGVyKHNwbGl0U2VsZWN0b3IocHJvcCksIHNwZWNbcHJvcF0sIHRoaXMucnVsZXMpXG4gIH1cblxuICAvLyA6OiAoKSDihpIgc3RyaW5nXG4gIC8vIFJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgbW9kdWxlJ3MgQ1NTIHJ1bGVzLlxuICBnZXRSdWxlcygpIHsgcmV0dXJuIHRoaXMucnVsZXMuam9pbihcIlxcblwiKSB9XG5cbiAgLy8gOjogKCkg4oaSIHN0cmluZ1xuICAvLyBHZW5lcmF0ZSBhIG5ldyB1bmlxdWUgQ1NTIGNsYXNzIG5hbWUuXG4gIHN0YXRpYyBuZXdOYW1lKCkge1xuICAgIGxldCBpZCA9IHRvcFtDT1VOVF0gfHwgMVxuICAgIHRvcFtDT1VOVF0gPSBpZCArIDFcbiAgICByZXR1cm4gQyArIGlkLnRvU3RyaW5nKDM2KVxuICB9XG5cbiAgLy8gOjogKHVuaW9uPERvY3VtZW50LCBTaGFkb3dSb290PiwgdW5pb248W1N0eWxlTW9kdWxlXSwgU3R5bGVNb2R1bGU+LCA/e25vbmNlOiA/c3RyaW5nfSlcbiAgLy9cbiAgLy8gTW91bnQgdGhlIGdpdmVuIHNldCBvZiBtb2R1bGVzIGluIHRoZSBnaXZlbiBET00gcm9vdCwgd2hpY2ggZW5zdXJlc1xuICAvLyB0aGF0IHRoZSBDU1MgcnVsZXMgZGVmaW5lZCBieSB0aGUgbW9kdWxlIGFyZSBhdmFpbGFibGUgaW4gdGhhdFxuICAvLyBjb250ZXh0LlxuICAvL1xuICAvLyBSdWxlcyBhcmUgb25seSBhZGRlZCB0byB0aGUgZG9jdW1lbnQgb25jZSBwZXIgcm9vdC5cbiAgLy9cbiAgLy8gUnVsZSBvcmRlciB3aWxsIGZvbGxvdyB0aGUgb3JkZXIgb2YgdGhlIG1vZHVsZXMsIHNvIHRoYXQgcnVsZXMgZnJvbVxuICAvLyBtb2R1bGVzIGxhdGVyIGluIHRoZSBhcnJheSB0YWtlIHByZWNlZGVuY2Ugb2YgdGhvc2UgZnJvbSBlYXJsaWVyXG4gIC8vIG1vZHVsZXMuIElmIHlvdSBjYWxsIHRoaXMgZnVuY3Rpb24gbXVsdGlwbGUgdGltZXMgZm9yIHRoZSBzYW1lIHJvb3RcbiAgLy8gaW4gYSB3YXkgdGhhdCBjaGFuZ2VzIHRoZSBvcmRlciBvZiBhbHJlYWR5IG1vdW50ZWQgbW9kdWxlcywgdGhlIG9sZFxuICAvLyBvcmRlciB3aWxsIGJlIGNoYW5nZWQuXG4gIC8vXG4gIC8vIElmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgbm9uY2UgaXMgcHJvdmlkZWQsIGl0IGlzIGFkZGVkIHRvXG4gIC8vIHRoZSBgPHN0eWxlPmAgdGFnIGdlbmVyYXRlZCBieSB0aGUgbGlicmFyeS5cbiAgc3RhdGljIG1vdW50KHJvb3QsIG1vZHVsZXMsIG9wdGlvbnMpIHtcbiAgICBsZXQgc2V0ID0gcm9vdFtTRVRdLCBub25jZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5ub25jZVxuICAgIGlmICghc2V0KSBzZXQgPSBuZXcgU3R5bGVTZXQocm9vdCwgbm9uY2UpXG4gICAgZWxzZSBpZiAobm9uY2UpIHNldC5zZXROb25jZShub25jZSlcbiAgICBzZXQubW91bnQoQXJyYXkuaXNBcnJheShtb2R1bGVzKSA/IG1vZHVsZXMgOiBbbW9kdWxlc10pXG4gIH1cbn1cblxubGV0IGFkb3B0ZWRTZXQgPSBuZXcgTWFwIC8vPERvY3VtZW50LCBTdHlsZVNldD5cblxuY2xhc3MgU3R5bGVTZXQge1xuICBjb25zdHJ1Y3Rvcihyb290LCBub25jZSkge1xuICAgIGxldCBkb2MgPSByb290Lm93bmVyRG9jdW1lbnQgfHwgcm9vdCwgd2luID0gZG9jLmRlZmF1bHRWaWV3XG4gICAgaWYgKCFyb290LmhlYWQgJiYgcm9vdC5hZG9wdGVkU3R5bGVTaGVldHMgJiYgd2luLkNTU1N0eWxlU2hlZXQpIHtcbiAgICAgIGxldCBhZG9wdGVkID0gYWRvcHRlZFNldC5nZXQoZG9jKVxuICAgICAgaWYgKGFkb3B0ZWQpIHtcbiAgICAgICAgcm9vdC5hZG9wdGVkU3R5bGVTaGVldHMgPSBbYWRvcHRlZC5zaGVldCwgLi4ucm9vdC5hZG9wdGVkU3R5bGVTaGVldHNdXG4gICAgICAgIHJldHVybiByb290W1NFVF0gPSBhZG9wdGVkXG4gICAgICB9XG4gICAgICB0aGlzLnNoZWV0ID0gbmV3IHdpbi5DU1NTdHlsZVNoZWV0XG4gICAgICByb290LmFkb3B0ZWRTdHlsZVNoZWV0cyA9IFt0aGlzLnNoZWV0LCAuLi5yb290LmFkb3B0ZWRTdHlsZVNoZWV0c11cbiAgICAgIGFkb3B0ZWRTZXQuc2V0KGRvYywgdGhpcylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdHlsZVRhZyA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3R5bGVcIilcbiAgICAgIGlmIChub25jZSkgdGhpcy5zdHlsZVRhZy5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSlcbiAgICAgIGxldCB0YXJnZXQgPSByb290LmhlYWQgfHwgcm9vdFxuICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZSh0aGlzLnN0eWxlVGFnLCB0YXJnZXQuZmlyc3RDaGlsZClcbiAgICB9XG4gICAgdGhpcy5tb2R1bGVzID0gW11cbiAgICByb290W1NFVF0gPSB0aGlzXG4gIH1cblxuICBtb3VudChtb2R1bGVzKSB7XG4gICAgbGV0IHNoZWV0ID0gdGhpcy5zaGVldFxuICAgIGxldCBwb3MgPSAwIC8qIEN1cnJlbnQgcnVsZSBvZmZzZXQgKi8sIGogPSAwIC8qIEluZGV4IGludG8gdGhpcy5tb2R1bGVzICovXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbW9kID0gbW9kdWxlc1tpXSwgaW5kZXggPSB0aGlzLm1vZHVsZXMuaW5kZXhPZihtb2QpXG4gICAgICBpZiAoaW5kZXggPCBqICYmIGluZGV4ID4gLTEpIHsgLy8gT3JkZXJpbmcgY29uZmxpY3RcbiAgICAgICAgdGhpcy5tb2R1bGVzLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgai0tXG4gICAgICAgIGluZGV4ID0gLTFcbiAgICAgIH1cbiAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICB0aGlzLm1vZHVsZXMuc3BsaWNlKGorKywgMCwgbW9kKVxuICAgICAgICBpZiAoc2hlZXQpIGZvciAobGV0IGsgPSAwOyBrIDwgbW9kLnJ1bGVzLmxlbmd0aDsgaysrKVxuICAgICAgICAgIHNoZWV0Lmluc2VydFJ1bGUobW9kLnJ1bGVzW2tdLCBwb3MrKylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlIChqIDwgaW5kZXgpIHBvcyArPSB0aGlzLm1vZHVsZXNbaisrXS5ydWxlcy5sZW5ndGhcbiAgICAgICAgcG9zICs9IG1vZC5ydWxlcy5sZW5ndGhcbiAgICAgICAgaisrXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFzaGVldCkge1xuICAgICAgbGV0IHRleHQgPSBcIlwiXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubW9kdWxlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgdGV4dCArPSB0aGlzLm1vZHVsZXNbaV0uZ2V0UnVsZXMoKSArIFwiXFxuXCJcbiAgICAgIHRoaXMuc3R5bGVUYWcudGV4dENvbnRlbnQgPSB0ZXh0XG4gICAgfVxuICB9XG5cbiAgc2V0Tm9uY2Uobm9uY2UpIHtcbiAgICBpZiAodGhpcy5zdHlsZVRhZyAmJiB0aGlzLnN0eWxlVGFnLmdldEF0dHJpYnV0ZShcIm5vbmNlXCIpICE9IG5vbmNlKVxuICAgICAgdGhpcy5zdHlsZVRhZy5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSlcbiAgfVxufVxuXG4vLyBTdHlsZTo6T2JqZWN0PHVuaW9uPFN0eWxlLHN0cmluZz4+XG4vL1xuLy8gQSBzdHlsZSBpcyBhbiBvYmplY3QgdGhhdCwgaW4gdGhlIHNpbXBsZSBjYXNlLCBtYXBzIENTUyBwcm9wZXJ0eVxuLy8gbmFtZXMgdG8gc3RyaW5ncyBob2xkaW5nIHRoZWlyIHZhbHVlcywgYXMgaW4gYHtjb2xvcjogXCJyZWRcIixcbi8vIGZvbnRXZWlnaHQ6IFwiYm9sZFwifWAuIFRoZSBwcm9wZXJ0eSBuYW1lcyBjYW4gYmUgZ2l2ZW4gaW5cbi8vIGNhbWVsLWNhc2XigJR0aGUgbGlicmFyeSB3aWxsIGluc2VydCBhIGRhc2ggYmVmb3JlIGNhcGl0YWwgbGV0dGVyc1xuLy8gd2hlbiBjb252ZXJ0aW5nIHRoZW0gdG8gQ1NTLlxuLy9cbi8vIElmIHlvdSBpbmNsdWRlIGFuIHVuZGVyc2NvcmUgaW4gYSBwcm9wZXJ0eSBuYW1lLCBpdCBhbmQgZXZlcnl0aGluZ1xuLy8gYWZ0ZXIgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIG91dHB1dCwgd2hpY2ggY2FuIGJlIHVzZWZ1bCB3aGVuXG4vLyBwcm92aWRpbmcgYSBwcm9wZXJ0eSBtdWx0aXBsZSB0aW1lcywgZm9yIGJyb3dzZXIgY29tcGF0aWJpbGl0eVxuLy8gcmVhc29ucy5cbi8vXG4vLyBBIHByb3BlcnR5IGluIGEgc3R5bGUgb2JqZWN0IGNhbiBhbHNvIGJlIGEgc3ViLXNlbGVjdG9yLCB3aGljaFxuLy8gZXh0ZW5kcyB0aGUgY3VycmVudCBjb250ZXh0IHRvIGFkZCBhIHBzZXVkby1zZWxlY3RvciBvciBhIGNoaWxkXG4vLyBzZWxlY3Rvci4gU3VjaCBhIHByb3BlcnR5IHNob3VsZCBjb250YWluIGEgYCZgIGNoYXJhY3Rlciwgd2hpY2hcbi8vIHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIGN1cnJlbnQgc2VsZWN0b3IuIEZvciBleGFtcGxlIGB7XCImOmJlZm9yZVwiOlxuLy8ge2NvbnRlbnQ6ICdcImhpXCInfX1gLiBTdWItc2VsZWN0b3JzIGFuZCByZWd1bGFyIHByb3BlcnRpZXMgY2FuXG4vLyBmcmVlbHkgYmUgbWl4ZWQgaW4gYSBnaXZlbiBvYmplY3QuIEFueSBwcm9wZXJ0eSBjb250YWluaW5nIGEgYCZgIGlzXG4vLyBhc3N1bWVkIHRvIGJlIGEgc3ViLXNlbGVjdG9yLlxuLy9cbi8vIEZpbmFsbHksIGEgcHJvcGVydHkgY2FuIHNwZWNpZnkgYW4gQC1ibG9jayB0byBiZSB3cmFwcGVkIGFyb3VuZCB0aGVcbi8vIHN0eWxlcyBkZWZpbmVkIGluc2lkZSB0aGUgb2JqZWN0IHRoYXQncyB0aGUgcHJvcGVydHkncyB2YWx1ZS4gRm9yXG4vLyBleGFtcGxlIHRvIGNyZWF0ZSBhIG1lZGlhIHF1ZXJ5IHlvdSBjYW4gZG8gYHtcIkBtZWRpYSBzY3JlZW4gYW5kXG4vLyAobWluLXdpZHRoOiA0MDBweClcIjogey4uLn19YC5cbiIsImV4cG9ydCB2YXIgYmFzZSA9IHtcbiAgODogXCJCYWNrc3BhY2VcIixcbiAgOTogXCJUYWJcIixcbiAgMTA6IFwiRW50ZXJcIixcbiAgMTI6IFwiTnVtTG9ja1wiLFxuICAxMzogXCJFbnRlclwiLFxuICAxNjogXCJTaGlmdFwiLFxuICAxNzogXCJDb250cm9sXCIsXG4gIDE4OiBcIkFsdFwiLFxuICAyMDogXCJDYXBzTG9ja1wiLFxuICAyNzogXCJFc2NhcGVcIixcbiAgMzI6IFwiIFwiLFxuICAzMzogXCJQYWdlVXBcIixcbiAgMzQ6IFwiUGFnZURvd25cIixcbiAgMzU6IFwiRW5kXCIsXG4gIDM2OiBcIkhvbWVcIixcbiAgMzc6IFwiQXJyb3dMZWZ0XCIsXG4gIDM4OiBcIkFycm93VXBcIixcbiAgMzk6IFwiQXJyb3dSaWdodFwiLFxuICA0MDogXCJBcnJvd0Rvd25cIixcbiAgNDQ6IFwiUHJpbnRTY3JlZW5cIixcbiAgNDU6IFwiSW5zZXJ0XCIsXG4gIDQ2OiBcIkRlbGV0ZVwiLFxuICA1OTogXCI7XCIsXG4gIDYxOiBcIj1cIixcbiAgOTE6IFwiTWV0YVwiLFxuICA5MjogXCJNZXRhXCIsXG4gIDEwNjogXCIqXCIsXG4gIDEwNzogXCIrXCIsXG4gIDEwODogXCIsXCIsXG4gIDEwOTogXCItXCIsXG4gIDExMDogXCIuXCIsXG4gIDExMTogXCIvXCIsXG4gIDE0NDogXCJOdW1Mb2NrXCIsXG4gIDE0NTogXCJTY3JvbGxMb2NrXCIsXG4gIDE2MDogXCJTaGlmdFwiLFxuICAxNjE6IFwiU2hpZnRcIixcbiAgMTYyOiBcIkNvbnRyb2xcIixcbiAgMTYzOiBcIkNvbnRyb2xcIixcbiAgMTY0OiBcIkFsdFwiLFxuICAxNjU6IFwiQWx0XCIsXG4gIDE3MzogXCItXCIsXG4gIDE4NjogXCI7XCIsXG4gIDE4NzogXCI9XCIsXG4gIDE4ODogXCIsXCIsXG4gIDE4OTogXCItXCIsXG4gIDE5MDogXCIuXCIsXG4gIDE5MTogXCIvXCIsXG4gIDE5MjogXCJgXCIsXG4gIDIxOTogXCJbXCIsXG4gIDIyMDogXCJcXFxcXCIsXG4gIDIyMTogXCJdXCIsXG4gIDIyMjogXCInXCJcbn1cblxuZXhwb3J0IHZhciBzaGlmdCA9IHtcbiAgNDg6IFwiKVwiLFxuICA0OTogXCIhXCIsXG4gIDUwOiBcIkBcIixcbiAgNTE6IFwiI1wiLFxuICA1MjogXCIkXCIsXG4gIDUzOiBcIiVcIixcbiAgNTQ6IFwiXlwiLFxuICA1NTogXCImXCIsXG4gIDU2OiBcIipcIixcbiAgNTc6IFwiKFwiLFxuICA1OTogXCI6XCIsXG4gIDYxOiBcIitcIixcbiAgMTczOiBcIl9cIixcbiAgMTg2OiBcIjpcIixcbiAgMTg3OiBcIitcIixcbiAgMTg4OiBcIjxcIixcbiAgMTg5OiBcIl9cIixcbiAgMTkwOiBcIj5cIixcbiAgMTkxOiBcIj9cIixcbiAgMTkyOiBcIn5cIixcbiAgMjE5OiBcIntcIixcbiAgMjIwOiBcInxcIixcbiAgMjIxOiBcIn1cIixcbiAgMjIyOiBcIlxcXCJcIlxufVxuXG52YXIgbWFjID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKVxudmFyIGllID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9NU0lFIFxcZHxUcmlkZW50XFwvKD86WzctOV18XFxkezIsfSlcXC4uKnJ2OihcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KVxuXG4vLyBGaWxsIGluIHRoZSBkaWdpdCBrZXlzXG5mb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIGJhc2VbNDggKyBpXSA9IGJhc2VbOTYgKyBpXSA9IFN0cmluZyhpKVxuXG4vLyBUaGUgZnVuY3Rpb24ga2V5c1xuZm9yICh2YXIgaSA9IDE7IGkgPD0gMjQ7IGkrKykgYmFzZVtpICsgMTExXSA9IFwiRlwiICsgaVxuXG4vLyBBbmQgdGhlIGFscGhhYmV0aWMga2V5c1xuZm9yICh2YXIgaSA9IDY1OyBpIDw9IDkwOyBpKyspIHtcbiAgYmFzZVtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSArIDMyKVxuICBzaGlmdFtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSlcbn1cblxuLy8gRm9yIGVhY2ggY29kZSB0aGF0IGRvZXNuJ3QgaGF2ZSBhIHNoaWZ0LWVxdWl2YWxlbnQsIGNvcHkgdGhlIGJhc2UgbmFtZVxuZm9yICh2YXIgY29kZSBpbiBiYXNlKSBpZiAoIXNoaWZ0Lmhhc093blByb3BlcnR5KGNvZGUpKSBzaGlmdFtjb2RlXSA9IGJhc2VbY29kZV1cblxuZXhwb3J0IGZ1bmN0aW9uIGtleU5hbWUoZXZlbnQpIHtcbiAgLy8gT24gbWFjT1MsIGtleXMgaGVsZCB3aXRoIFNoaWZ0IGFuZCBDbWQgZG9uJ3QgcmVmbGVjdCB0aGUgZWZmZWN0IG9mIFNoaWZ0IGluIGAua2V5YC5cbiAgLy8gT24gSUUsIHNoaWZ0IGVmZmVjdCBpcyBuZXZlciBpbmNsdWRlZCBpbiBgLmtleWAuXG4gIHZhciBpZ25vcmVLZXkgPSBtYWMgJiYgZXZlbnQubWV0YUtleSAmJiBldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuYWx0S2V5IHx8XG4gICAgICBpZSAmJiBldmVudC5zaGlmdEtleSAmJiBldmVudC5rZXkgJiYgZXZlbnQua2V5Lmxlbmd0aCA9PSAxIHx8XG4gICAgICBldmVudC5rZXkgPT0gXCJVbmlkZW50aWZpZWRcIlxuICB2YXIgbmFtZSA9ICghaWdub3JlS2V5ICYmIGV2ZW50LmtleSkgfHxcbiAgICAoZXZlbnQuc2hpZnRLZXkgPyBzaGlmdCA6IGJhc2UpW2V2ZW50LmtleUNvZGVdIHx8XG4gICAgZXZlbnQua2V5IHx8IFwiVW5pZGVudGlmaWVkXCJcbiAgLy8gRWRnZSBzb21ldGltZXMgcHJvZHVjZXMgd3JvbmcgbmFtZXMgKElzc3VlICMzKVxuICBpZiAobmFtZSA9PSBcIkVzY1wiKSBuYW1lID0gXCJFc2NhcGVcIlxuICBpZiAobmFtZSA9PSBcIkRlbFwiKSBuYW1lID0gXCJEZWxldGVcIlxuICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy84ODYwNTcxL1xuICBpZiAobmFtZSA9PSBcIkxlZnRcIikgbmFtZSA9IFwiQXJyb3dMZWZ0XCJcbiAgaWYgKG5hbWUgPT0gXCJVcFwiKSBuYW1lID0gXCJBcnJvd1VwXCJcbiAgaWYgKG5hbWUgPT0gXCJSaWdodFwiKSBuYW1lID0gXCJBcnJvd1JpZ2h0XCJcbiAgaWYgKG5hbWUgPT0gXCJEb3duXCIpIG5hbWUgPSBcIkFycm93RG93blwiXG4gIHJldHVybiBuYW1lXG59XG4iLCJpbXBvcnQgeyBUZXh0LCBSYW5nZVNldCwgTWFwTW9kZSwgUmFuZ2VWYWx1ZSwgRmFjZXQsIFN0YXRlRWZmZWN0LCBDaGFuZ2VTZXQsIGZpbmRDbHVzdGVyQnJlYWssIEVkaXRvclNlbGVjdGlvbiwgZmluZENvbHVtbiwgQ2hhckNhdGVnb3J5LCBBbm5vdGF0aW9uLCBFZGl0b3JTdGF0ZSwgVHJhbnNhY3Rpb24sIFByZWMsIGNvZGVQb2ludEF0LCBjb2RlUG9pbnRTaXplLCBjb21iaW5lQ29uZmlnLCBTdGF0ZUZpZWxkLCBSYW5nZVNldEJ1aWxkZXIsIGNvdW50Q29sdW1uIH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuaW1wb3J0IHsgU3R5bGVNb2R1bGUgfSBmcm9tICdzdHlsZS1tb2QnO1xuaW1wb3J0IHsga2V5TmFtZSwgYmFzZSwgc2hpZnQgfSBmcm9tICd3M2Mta2V5bmFtZSc7XG5cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbihyb290KSB7XG4gICAgbGV0IHRhcmdldDtcbiAgICAvLyBCcm93c2VycyBkaWZmZXIgb24gd2hldGhlciBzaGFkb3cgcm9vdHMgaGF2ZSBhIGdldFNlbGVjdGlvblxuICAgIC8vIG1ldGhvZC4gSWYgaXQgZXhpc3RzLCB1c2UgdGhhdCwgb3RoZXJ3aXNlLCBjYWxsIGl0IG9uIHRoZVxuICAgIC8vIGRvY3VtZW50LlxuICAgIGlmIChyb290Lm5vZGVUeXBlID09IDExKSB7IC8vIFNoYWRvdyByb290XG4gICAgICAgIHRhcmdldCA9IHJvb3QuZ2V0U2VsZWN0aW9uID8gcm9vdCA6IHJvb3Qub3duZXJEb2N1bWVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhcmdldCA9IHJvb3Q7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQuZ2V0U2VsZWN0aW9uKCk7XG59XG5mdW5jdGlvbiBjb250YWlucyhkb20sIG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSA/IGRvbSA9PSBub2RlIHx8IGRvbS5jb250YWlucyhub2RlLm5vZGVUeXBlICE9IDEgPyBub2RlLnBhcmVudE5vZGUgOiBub2RlKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gZGVlcEFjdGl2ZUVsZW1lbnQoZG9jKSB7XG4gICAgbGV0IGVsdCA9IGRvYy5hY3RpdmVFbGVtZW50O1xuICAgIHdoaWxlIChlbHQgJiYgZWx0LnNoYWRvd1Jvb3QpXG4gICAgICAgIGVsdCA9IGVsdC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7XG4gICAgcmV0dXJuIGVsdDtcbn1cbmZ1bmN0aW9uIGhhc1NlbGVjdGlvbihkb20sIHNlbGVjdGlvbikge1xuICAgIGlmICghc2VsZWN0aW9uLmFuY2hvck5vZGUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICAvLyBGaXJlZm94IHdpbGwgcmFpc2UgJ3Blcm1pc3Npb24gZGVuaWVkJyBlcnJvcnMgd2hlbiBhY2Nlc3NpbmdcbiAgICAgICAgLy8gcHJvcGVydGllcyBvZiBgc2VsLmFuY2hvck5vZGVgIHdoZW4gaXQncyBpbiBhIGdlbmVyYXRlZCBDU1NcbiAgICAgICAgLy8gZWxlbWVudC5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zKGRvbSwgc2VsZWN0aW9uLmFuY2hvck5vZGUpO1xuICAgIH1cbiAgICBjYXRjaCAoXykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xpZW50UmVjdHNGb3IoZG9tKSB7XG4gICAgaWYgKGRvbS5ub2RlVHlwZSA9PSAzKVxuICAgICAgICByZXR1cm4gdGV4dFJhbmdlKGRvbSwgMCwgZG9tLm5vZGVWYWx1ZS5sZW5ndGgpLmdldENsaWVudFJlY3RzKCk7XG4gICAgZWxzZSBpZiAoZG9tLm5vZGVUeXBlID09IDEpXG4gICAgICAgIHJldHVybiBkb20uZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBbXTtcbn1cbi8vIFNjYW5zIGZvcndhcmQgYW5kIGJhY2t3YXJkIHRocm91Z2ggRE9NIHBvc2l0aW9ucyBlcXVpdmFsZW50IHRvIHRoZVxuLy8gZ2l2ZW4gb25lIHRvIHNlZSBpZiB0aGUgdHdvIGFyZSBpbiB0aGUgc2FtZSBwbGFjZSAoaS5lLiBhZnRlciBhXG4vLyB0ZXh0IG5vZGUgdnMgYXQgdGhlIGVuZCBvZiB0aGF0IHRleHQgbm9kZSlcbmZ1bmN0aW9uIGlzRXF1aXZhbGVudFBvc2l0aW9uKG5vZGUsIG9mZiwgdGFyZ2V0Tm9kZSwgdGFyZ2V0T2ZmKSB7XG4gICAgcmV0dXJuIHRhcmdldE5vZGUgPyAoc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgLTEpIHx8XG4gICAgICAgIHNjYW5Gb3Iobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYsIDEpKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gZG9tSW5kZXgobm9kZSkge1xuICAgIGZvciAodmFyIGluZGV4ID0gMDs7IGluZGV4KyspIHtcbiAgICAgICAgbm9kZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICBpZiAoIW5vZGUpXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxufVxuZnVuY3Rpb24gc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgZGlyKSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgICBpZiAobm9kZSA9PSB0YXJnZXROb2RlICYmIG9mZiA9PSB0YXJnZXRPZmYpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKG9mZiA9PSAoZGlyIDwgMCA/IDAgOiBtYXhPZmZzZXQobm9kZSkpKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PSBcIkRJVlwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQubm9kZVR5cGUgIT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBvZmYgPSBkb21JbmRleChub2RlKSArIChkaXIgPCAwID8gMCA6IDEpO1xuICAgICAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkTm9kZXNbb2ZmICsgKGRpciA8IDAgPyAtMSA6IDApXTtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIG9mZiA9IGRpciA8IDAgPyBtYXhPZmZzZXQobm9kZSkgOiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gbWF4T2Zmc2V0KG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSAzID8gbm9kZS5ub2RlVmFsdWUubGVuZ3RoIDogbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGZsYXR0ZW5SZWN0KHJlY3QsIGxlZnQpIHtcbiAgICBsZXQgeCA9IGxlZnQgPyByZWN0LmxlZnQgOiByZWN0LnJpZ2h0O1xuICAgIHJldHVybiB7IGxlZnQ6IHgsIHJpZ2h0OiB4LCB0b3A6IHJlY3QudG9wLCBib3R0b206IHJlY3QuYm90dG9tIH07XG59XG5mdW5jdGlvbiB3aW5kb3dSZWN0KHdpbikge1xuICAgIHJldHVybiB7IGxlZnQ6IDAsIHJpZ2h0OiB3aW4uaW5uZXJXaWR0aCxcbiAgICAgICAgdG9wOiAwLCBib3R0b206IHdpbi5pbm5lckhlaWdodCB9O1xufVxuZnVuY3Rpb24gc2Nyb2xsUmVjdEludG9WaWV3KGRvbSwgcmVjdCwgc2lkZSwgeCwgeSwgeE1hcmdpbiwgeU1hcmdpbiwgbHRyKSB7XG4gICAgbGV0IGRvYyA9IGRvbS5vd25lckRvY3VtZW50LCB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICAgIGZvciAobGV0IGN1ciA9IGRvbSwgc3RvcCA9IGZhbHNlOyBjdXIgJiYgIXN0b3A7KSB7XG4gICAgICAgIGlmIChjdXIubm9kZVR5cGUgPT0gMSkgeyAvLyBFbGVtZW50XG4gICAgICAgICAgICBsZXQgYm91bmRpbmcsIHRvcCA9IGN1ciA9PSBkb2MuYm9keTtcbiAgICAgICAgICAgIGxldCBzY2FsZVggPSAxLCBzY2FsZVkgPSAxO1xuICAgICAgICAgICAgaWYgKHRvcCkge1xuICAgICAgICAgICAgICAgIGJvdW5kaW5nID0gd2luZG93UmVjdCh3aW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKC9eKGZpeGVkfHN0aWNreSkkLy50ZXN0KGdldENvbXB1dGVkU3R5bGUoY3VyKS5wb3NpdGlvbikpXG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChjdXIuc2Nyb2xsSGVpZ2h0IDw9IGN1ci5jbGllbnRIZWlnaHQgJiYgY3VyLnNjcm9sbFdpZHRoIDw9IGN1ci5jbGllbnRXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjdXIgPSBjdXIuYXNzaWduZWRTbG90IHx8IGN1ci5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHJlY3QgPSBjdXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgc2NhbGVYID0gcmVjdC53aWR0aCAvIGN1ci5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICBzY2FsZVkgPSByZWN0LmhlaWdodCAvIGN1ci5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHNjcm9sbGJhciB3aWR0aCBpc24ndCBpbmNsdWRlZCBpbiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAgICAgICAgYm91bmRpbmcgPSB7IGxlZnQ6IHJlY3QubGVmdCwgcmlnaHQ6IHJlY3QubGVmdCArIGN1ci5jbGllbnRXaWR0aCAqIHNjYWxlWCxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiByZWN0LnRvcCwgYm90dG9tOiByZWN0LnRvcCArIGN1ci5jbGllbnRIZWlnaHQgKiBzY2FsZVkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtb3ZlWCA9IDAsIG1vdmVZID0gMDtcbiAgICAgICAgICAgIGlmICh5ID09IFwibmVhcmVzdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3QudG9wIDwgYm91bmRpbmcudG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVZID0gLShib3VuZGluZy50b3AgLSByZWN0LnRvcCArIHlNYXJnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2lkZSA+IDAgJiYgcmVjdC5ib3R0b20gPiBib3VuZGluZy5ib3R0b20gKyBtb3ZlWSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVZID0gcmVjdC5ib3R0b20gLSBib3VuZGluZy5ib3R0b20gKyBtb3ZlWSArIHlNYXJnaW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlY3QuYm90dG9tID4gYm91bmRpbmcuYm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVZID0gcmVjdC5ib3R0b20gLSBib3VuZGluZy5ib3R0b20gKyB5TWFyZ2luO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2lkZSA8IDAgJiYgKHJlY3QudG9wIC0gbW92ZVkpIDwgYm91bmRpbmcudG9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVkgPSAtKGJvdW5kaW5nLnRvcCArIG1vdmVZIC0gcmVjdC50b3AgKyB5TWFyZ2luKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVjdEhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3AsIGJvdW5kaW5nSGVpZ2h0ID0gYm91bmRpbmcuYm90dG9tIC0gYm91bmRpbmcudG9wO1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRUb3AgPSB5ID09IFwiY2VudGVyXCIgJiYgcmVjdEhlaWdodCA8PSBib3VuZGluZ0hlaWdodCA/IHJlY3QudG9wICsgcmVjdEhlaWdodCAvIDIgLSBib3VuZGluZ0hlaWdodCAvIDIgOlxuICAgICAgICAgICAgICAgICAgICB5ID09IFwic3RhcnRcIiB8fCB5ID09IFwiY2VudGVyXCIgJiYgc2lkZSA8IDAgPyByZWN0LnRvcCAtIHlNYXJnaW4gOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC5ib3R0b20gLSBib3VuZGluZ0hlaWdodCArIHlNYXJnaW47XG4gICAgICAgICAgICAgICAgbW92ZVkgPSB0YXJnZXRUb3AgLSBib3VuZGluZy50b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeCA9PSBcIm5lYXJlc3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChyZWN0LmxlZnQgPCBib3VuZGluZy5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVYID0gLShib3VuZGluZy5sZWZ0IC0gcmVjdC5sZWZ0ICsgeE1hcmdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWRlID4gMCAmJiByZWN0LnJpZ2h0ID4gYm91bmRpbmcucmlnaHQgKyBtb3ZlWClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVYID0gcmVjdC5yaWdodCAtIGJvdW5kaW5nLnJpZ2h0ICsgbW92ZVggKyB4TWFyZ2luO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZWN0LnJpZ2h0ID4gYm91bmRpbmcucmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZVggPSByZWN0LnJpZ2h0IC0gYm91bmRpbmcucmlnaHQgKyB4TWFyZ2luO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2lkZSA8IDAgJiYgcmVjdC5sZWZ0IDwgYm91bmRpbmcubGVmdCArIG1vdmVYKVxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVggPSAtKGJvdW5kaW5nLmxlZnQgKyBtb3ZlWCAtIHJlY3QubGVmdCArIHhNYXJnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRMZWZ0ID0geCA9PSBcImNlbnRlclwiID8gcmVjdC5sZWZ0ICsgKHJlY3QucmlnaHQgLSByZWN0LmxlZnQpIC8gMiAtIChib3VuZGluZy5yaWdodCAtIGJvdW5kaW5nLmxlZnQpIC8gMiA6XG4gICAgICAgICAgICAgICAgICAgICh4ID09IFwic3RhcnRcIikgPT0gbHRyID8gcmVjdC5sZWZ0IC0geE1hcmdpbiA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0LnJpZ2h0IC0gKGJvdW5kaW5nLnJpZ2h0IC0gYm91bmRpbmcubGVmdCkgKyB4TWFyZ2luO1xuICAgICAgICAgICAgICAgIG1vdmVYID0gdGFyZ2V0TGVmdCAtIGJvdW5kaW5nLmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW92ZVggfHwgbW92ZVkpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbi5zY3JvbGxCeShtb3ZlWCwgbW92ZVkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1vdmVkWCA9IDAsIG1vdmVkWSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3ZlWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gY3VyLnNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ci5zY3JvbGxUb3AgKz0gbW92ZVkgLyBzY2FsZVk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZFkgPSAoY3VyLnNjcm9sbFRvcCAtIHN0YXJ0KSAqIHNjYWxlWTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobW92ZVgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IGN1ci5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyLnNjcm9sbExlZnQgKz0gbW92ZVggLyBzY2FsZVg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZFggPSAoY3VyLnNjcm9sbExlZnQgLSBzdGFydCkgKiBzY2FsZVg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVjdCA9IHsgbGVmdDogcmVjdC5sZWZ0IC0gbW92ZWRYLCB0b3A6IHJlY3QudG9wIC0gbW92ZWRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHJlY3QucmlnaHQgLSBtb3ZlZFgsIGJvdHRvbTogcmVjdC5ib3R0b20gLSBtb3ZlZFkgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdmVkWCAmJiBNYXRoLmFicyhtb3ZlZFggLSBtb3ZlWCkgPCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IFwibmVhcmVzdFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW92ZWRZICYmIE1hdGguYWJzKG1vdmVkWSAtIG1vdmVZKSA8IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gXCJuZWFyZXN0XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvcClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGN1ciA9IGN1ci5hc3NpZ25lZFNsb3QgfHwgY3VyLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VyLm5vZGVUeXBlID09IDExKSB7IC8vIEEgc2hhZG93IHJvb3RcbiAgICAgICAgICAgIGN1ciA9IGN1ci5ob3N0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBzY3JvbGxhYmxlUGFyZW50KGRvbSkge1xuICAgIGxldCBkb2MgPSBkb20ub3duZXJEb2N1bWVudDtcbiAgICBmb3IgKGxldCBjdXIgPSBkb20ucGFyZW50Tm9kZTsgY3VyOykge1xuICAgICAgICBpZiAoY3VyID09IGRvYy5ib2R5KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXIubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgaWYgKGN1ci5zY3JvbGxIZWlnaHQgPiBjdXIuY2xpZW50SGVpZ2h0IHx8IGN1ci5zY3JvbGxXaWR0aCA+IGN1ci5jbGllbnRXaWR0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICAgICAgY3VyID0gY3VyLmFzc2lnbmVkU2xvdCB8fCBjdXIucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXIubm9kZVR5cGUgPT0gMTEpIHtcbiAgICAgICAgICAgIGN1ciA9IGN1ci5ob3N0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5jbGFzcyBET01TZWxlY3Rpb25TdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYW5jaG9yTm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYW5jaG9yT2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5mb2N1c05vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZvY3VzT2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgZXEoZG9tU2VsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuY2hvck5vZGUgPT0gZG9tU2VsLmFuY2hvck5vZGUgJiYgdGhpcy5hbmNob3JPZmZzZXQgPT0gZG9tU2VsLmFuY2hvck9mZnNldCAmJlxuICAgICAgICAgICAgdGhpcy5mb2N1c05vZGUgPT0gZG9tU2VsLmZvY3VzTm9kZSAmJiB0aGlzLmZvY3VzT2Zmc2V0ID09IGRvbVNlbC5mb2N1c09mZnNldDtcbiAgICB9XG4gICAgc2V0UmFuZ2UocmFuZ2UpIHtcbiAgICAgICAgbGV0IHsgYW5jaG9yTm9kZSwgZm9jdXNOb2RlIH0gPSByYW5nZTtcbiAgICAgICAgLy8gQ2xpcCBvZmZzZXRzIHRvIG5vZGUgc2l6ZSB0byBhdm9pZCBjcmFzaGVzIHdoZW4gU2FmYXJpIHJlcG9ydHMgYm9ndXMgb2Zmc2V0cyAoIzExNTIpXG4gICAgICAgIHRoaXMuc2V0KGFuY2hvck5vZGUsIE1hdGgubWluKHJhbmdlLmFuY2hvck9mZnNldCwgYW5jaG9yTm9kZSA/IG1heE9mZnNldChhbmNob3JOb2RlKSA6IDApLCBmb2N1c05vZGUsIE1hdGgubWluKHJhbmdlLmZvY3VzT2Zmc2V0LCBmb2N1c05vZGUgPyBtYXhPZmZzZXQoZm9jdXNOb2RlKSA6IDApKTtcbiAgICB9XG4gICAgc2V0KGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCkge1xuICAgICAgICB0aGlzLmFuY2hvck5vZGUgPSBhbmNob3JOb2RlO1xuICAgICAgICB0aGlzLmFuY2hvck9mZnNldCA9IGFuY2hvck9mZnNldDtcbiAgICAgICAgdGhpcy5mb2N1c05vZGUgPSBmb2N1c05vZGU7XG4gICAgICAgIHRoaXMuZm9jdXNPZmZzZXQgPSBmb2N1c09mZnNldDtcbiAgICB9XG59XG5sZXQgcHJldmVudFNjcm9sbFN1cHBvcnRlZCA9IG51bGw7XG4vLyBGZWF0dXJlLWRldGVjdHMgc3VwcG9ydCBmb3IgLmZvY3VzKHtwcmV2ZW50U2Nyb2xsOiB0cnVlfSksIGFuZCB1c2VzXG4vLyBhIGZhbGxiYWNrIGtsdWRnZSB3aGVuIG5vdCBzdXBwb3J0ZWQuXG5mdW5jdGlvbiBmb2N1c1ByZXZlbnRTY3JvbGwoZG9tKSB7XG4gICAgaWYgKGRvbS5zZXRBY3RpdmUpXG4gICAgICAgIHJldHVybiBkb20uc2V0QWN0aXZlKCk7IC8vIGluIElFXG4gICAgaWYgKHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQpXG4gICAgICAgIHJldHVybiBkb20uZm9jdXMocHJldmVudFNjcm9sbFN1cHBvcnRlZCk7XG4gICAgbGV0IHN0YWNrID0gW107XG4gICAgZm9yIChsZXQgY3VyID0gZG9tOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlKSB7XG4gICAgICAgIHN0YWNrLnB1c2goY3VyLCBjdXIuc2Nyb2xsVG9wLCBjdXIuc2Nyb2xsTGVmdCk7XG4gICAgICAgIGlmIChjdXIgPT0gY3VyLm93bmVyRG9jdW1lbnQpXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgZG9tLmZvY3VzKHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPT0gbnVsbCA/IHtcbiAgICAgICAgZ2V0IHByZXZlbnRTY3JvbGwoKSB7XG4gICAgICAgICAgICBwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID0geyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH07XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gOiB1bmRlZmluZWQpO1xuICAgIGlmICghcHJldmVudFNjcm9sbFN1cHBvcnRlZCkge1xuICAgICAgICBwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGVsdCA9IHN0YWNrW2krK10sIHRvcCA9IHN0YWNrW2krK10sIGxlZnQgPSBzdGFja1tpKytdO1xuICAgICAgICAgICAgaWYgKGVsdC5zY3JvbGxUb3AgIT0gdG9wKVxuICAgICAgICAgICAgICAgIGVsdC5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICAgICAgICBpZiAoZWx0LnNjcm9sbExlZnQgIT0gbGVmdClcbiAgICAgICAgICAgICAgICBlbHQuc2Nyb2xsTGVmdCA9IGxlZnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5sZXQgc2NyYXRjaFJhbmdlO1xuZnVuY3Rpb24gdGV4dFJhbmdlKG5vZGUsIGZyb20sIHRvID0gZnJvbSkge1xuICAgIGxldCByYW5nZSA9IHNjcmF0Y2hSYW5nZSB8fCAoc2NyYXRjaFJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSk7XG4gICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIHRvKTtcbiAgICByYW5nZS5zZXRTdGFydChub2RlLCBmcm9tKTtcbiAgICByZXR1cm4gcmFuZ2U7XG59XG5mdW5jdGlvbiBkaXNwYXRjaEtleShlbHQsIG5hbWUsIGNvZGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHsga2V5OiBuYW1lLCBjb2RlOiBuYW1lLCBrZXlDb2RlOiBjb2RlLCB3aGljaDogY29kZSwgY2FuY2VsYWJsZTogdHJ1ZSB9O1xuICAgIGxldCBkb3duID0gbmV3IEtleWJvYXJkRXZlbnQoXCJrZXlkb3duXCIsIG9wdGlvbnMpO1xuICAgIGRvd24uc3ludGhldGljID0gdHJ1ZTtcbiAgICBlbHQuZGlzcGF0Y2hFdmVudChkb3duKTtcbiAgICBsZXQgdXAgPSBuZXcgS2V5Ym9hcmRFdmVudChcImtleXVwXCIsIG9wdGlvbnMpO1xuICAgIHVwLnN5bnRoZXRpYyA9IHRydWU7XG4gICAgZWx0LmRpc3BhdGNoRXZlbnQodXApO1xuICAgIHJldHVybiBkb3duLmRlZmF1bHRQcmV2ZW50ZWQgfHwgdXAuZGVmYXVsdFByZXZlbnRlZDtcbn1cbmZ1bmN0aW9uIGdldFJvb3Qobm9kZSkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlICYmIChub2RlLm5vZGVUeXBlID09IDkgfHwgbm9kZS5ub2RlVHlwZSA9PSAxMSAmJiBub2RlLmhvc3QpKVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmFzc2lnbmVkU2xvdCB8fCBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gY2xlYXJBdHRyaWJ1dGVzKG5vZGUpIHtcbiAgICB3aGlsZSAobm9kZS5hdHRyaWJ1dGVzLmxlbmd0aClcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGVOb2RlKG5vZGUuYXR0cmlidXRlc1swXSk7XG59XG5mdW5jdGlvbiBhdEVsZW1lbnRTdGFydChkb2MsIHNlbGVjdGlvbikge1xuICAgIGxldCBub2RlID0gc2VsZWN0aW9uLmZvY3VzTm9kZSwgb2Zmc2V0ID0gc2VsZWN0aW9uLmZvY3VzT2Zmc2V0O1xuICAgIGlmICghbm9kZSB8fCBzZWxlY3Rpb24uYW5jaG9yTm9kZSAhPSBub2RlIHx8IHNlbGVjdGlvbi5hbmNob3JPZmZzZXQgIT0gb2Zmc2V0KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gU2FmYXJpIGNhbiByZXBvcnQgYm9ndXMgb2Zmc2V0cyAoIzExNTIpXG4gICAgb2Zmc2V0ID0gTWF0aC5taW4ob2Zmc2V0LCBtYXhPZmZzZXQobm9kZSkpO1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKG9mZnNldCkge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcHJldiA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXTtcbiAgICAgICAgICAgIGlmIChwcmV2LmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpXG4gICAgICAgICAgICAgICAgb2Zmc2V0LS07XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gcHJldjtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBtYXhPZmZzZXQobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZSA9PSBkb2MpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2Zmc2V0ID0gZG9tSW5kZXgobm9kZSk7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNTY3JvbGxlZFRvQm90dG9tKGVsdCkge1xuICAgIHJldHVybiBlbHQuc2Nyb2xsVG9wID4gTWF0aC5tYXgoMSwgZWx0LnNjcm9sbEhlaWdodCAtIGVsdC5jbGllbnRIZWlnaHQgLSA0KTtcbn1cblxuY2xhc3MgRE9NUG9zIHtcbiAgICBjb25zdHJ1Y3Rvcihub2RlLCBvZmZzZXQsIHByZWNpc2UgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLnByZWNpc2UgPSBwcmVjaXNlO1xuICAgIH1cbiAgICBzdGF0aWMgYmVmb3JlKGRvbSwgcHJlY2lzZSkgeyByZXR1cm4gbmV3IERPTVBvcyhkb20ucGFyZW50Tm9kZSwgZG9tSW5kZXgoZG9tKSwgcHJlY2lzZSk7IH1cbiAgICBzdGF0aWMgYWZ0ZXIoZG9tLCBwcmVjaXNlKSB7IHJldHVybiBuZXcgRE9NUG9zKGRvbS5wYXJlbnROb2RlLCBkb21JbmRleChkb20pICsgMSwgcHJlY2lzZSk7IH1cbn1cbmNvbnN0IG5vQ2hpbGRyZW4gPSBbXTtcbmNsYXNzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmRvbSA9IG51bGw7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSAyIC8qIFZpZXdGbGFnLk5vZGVEaXJ0eSAqLztcbiAgICB9XG4gICAgZ2V0IG92ZXJyaWRlRE9NVGV4dCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBnZXQgcG9zQXRTdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQucG9zQmVmb3JlKHRoaXMpIDogMDtcbiAgICB9XG4gICAgZ2V0IHBvc0F0RW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NBdFN0YXJ0ICsgdGhpcy5sZW5ndGg7XG4gICAgfVxuICAgIHBvc0JlZm9yZSh2aWV3KSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnBvc0F0U3RhcnQ7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCA9PSB2aWV3KVxuICAgICAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgICAgICBwb3MgKz0gY2hpbGQubGVuZ3RoICsgY2hpbGQuYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgY2hpbGQgaW4gcG9zQmVmb3JlXCIpO1xuICAgIH1cbiAgICBwb3NBZnRlcih2aWV3KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc0JlZm9yZSh2aWV3KSArIHZpZXcubGVuZ3RoO1xuICAgIH1cbiAgICBzeW5jKHZpZXcsIHRyYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi8pIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLmRvbTtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gbnVsbCwgbmV4dDtcbiAgICAgICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZmxhZ3MgJiA3IC8qIFZpZXdGbGFnLkRpcnR5ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQuZG9tICYmIChuZXh0ID0gcHJldiA/IHByZXYubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250ZW50VmlldyA9IENvbnRlbnRWaWV3LmdldChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGVudFZpZXcgfHwgIWNvbnRlbnRWaWV3LnBhcmVudCAmJiBjb250ZW50Vmlldy5jYW5SZXVzZURPTShjaGlsZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQucmV1c2VET00obmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuc3luYyh2aWV3LCB0cmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmZsYWdzICY9IH43IC8qIFZpZXdGbGFnLkRpcnR5ICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0ID0gcHJldiA/IHByZXYubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2sgJiYgIXRyYWNrLndyaXR0ZW4gJiYgdHJhY2subm9kZSA9PSBwYXJlbnQgJiYgbmV4dCAhPSBjaGlsZC5kb20pXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLndyaXR0ZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5kb20ucGFyZW50Tm9kZSA9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5leHQgJiYgbmV4dCAhPSBjaGlsZC5kb20pXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gcm0kMShuZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQuZG9tLCBuZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldiA9IGNoaWxkLmRvbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQgPSBwcmV2ID8gcHJldi5uZXh0U2libGluZyA6IHBhcmVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKG5leHQgJiYgdHJhY2sgJiYgdHJhY2subm9kZSA9PSBwYXJlbnQpXG4gICAgICAgICAgICAgICAgdHJhY2sud3JpdHRlbiA9IHRydWU7XG4gICAgICAgICAgICB3aGlsZSAobmV4dClcbiAgICAgICAgICAgICAgICBuZXh0ID0gcm0kMShuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZsYWdzICYgMSAvKiBWaWV3RmxhZy5DaGlsZERpcnR5ICovKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5mbGFncyAmIDcgLyogVmlld0ZsYWcuRGlydHkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuc3luYyh2aWV3LCB0cmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmZsYWdzICY9IH43IC8qIFZpZXdGbGFnLkRpcnR5ICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXVzZURPTShfZG9tKSB7IH1cbiAgICBsb2NhbFBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCBhZnRlcjtcbiAgICAgICAgaWYgKG5vZGUgPT0gdGhpcy5kb20pIHtcbiAgICAgICAgICAgIGFmdGVyID0gdGhpcy5kb20uY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGJpYXMgPSBtYXhPZmZzZXQobm9kZSkgPT0gMCA/IDAgOiBvZmZzZXQgPT0gMCA/IC0xIDogMTtcbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgPT0gdGhpcy5kb20pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChiaWFzID09IDAgJiYgcGFyZW50LmZpcnN0Q2hpbGQgIT0gcGFyZW50Lmxhc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQuZmlyc3RDaGlsZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpYXMgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgYmlhcyA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmlhcyA8IDApXG4gICAgICAgICAgICAgICAgYWZ0ZXIgPSBub2RlO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGFmdGVyID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWZ0ZXIgPT0gdGhpcy5kb20uZmlyc3RDaGlsZClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB3aGlsZSAoYWZ0ZXIgJiYgIUNvbnRlbnRWaWV3LmdldChhZnRlcikpXG4gICAgICAgICAgICBhZnRlciA9IGFmdGVyLm5leHRTaWJsaW5nO1xuICAgICAgICBpZiAoIWFmdGVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDs7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC5kb20gPT0gYWZ0ZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgICAgICAgIHBvcyArPSBjaGlsZC5sZW5ndGggKyBjaGlsZC5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRvbUJvdW5kc0Fyb3VuZChmcm9tLCB0bywgb2Zmc2V0ID0gMCkge1xuICAgICAgICBsZXQgZnJvbUkgPSAtMSwgZnJvbVN0YXJ0ID0gLTEsIHRvSSA9IC0xLCB0b0VuZCA9IC0xO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gb2Zmc2V0LCBwcmV2RW5kID0gb2Zmc2V0OyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gcG9zICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHBvcyA8IGZyb20gJiYgZW5kID4gdG8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmRvbUJvdW5kc0Fyb3VuZChmcm9tLCB0bywgcG9zKTtcbiAgICAgICAgICAgIGlmIChlbmQgPj0gZnJvbSAmJiBmcm9tSSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGZyb21JID0gaTtcbiAgICAgICAgICAgICAgICBmcm9tU3RhcnQgPSBwb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zID4gdG8gJiYgY2hpbGQuZG9tLnBhcmVudE5vZGUgPT0gdGhpcy5kb20pIHtcbiAgICAgICAgICAgICAgICB0b0kgPSBpO1xuICAgICAgICAgICAgICAgIHRvRW5kID0gcHJldkVuZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZFbmQgPSBlbmQ7XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyBjaGlsZC5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGZyb206IGZyb21TdGFydCwgdG86IHRvRW5kIDwgMCA/IG9mZnNldCArIHRoaXMubGVuZ3RoIDogdG9FbmQsXG4gICAgICAgICAgICBzdGFydERPTTogKGZyb21JID8gdGhpcy5jaGlsZHJlbltmcm9tSSAtIDFdLmRvbS5uZXh0U2libGluZyA6IG51bGwpIHx8IHRoaXMuZG9tLmZpcnN0Q2hpbGQsXG4gICAgICAgICAgICBlbmRET006IHRvSSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoICYmIHRvSSA+PSAwID8gdGhpcy5jaGlsZHJlblt0b0ldLmRvbSA6IG51bGwgfTtcbiAgICB9XG4gICAgbWFya0RpcnR5KGFuZFBhcmVudCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZmxhZ3MgfD0gMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi87XG4gICAgICAgIHRoaXMubWFya1BhcmVudHNEaXJ0eShhbmRQYXJlbnQpO1xuICAgIH1cbiAgICBtYXJrUGFyZW50c0RpcnR5KGNoaWxkTGlzdCkge1xuICAgICAgICBmb3IgKGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudDsgcGFyZW50OyBwYXJlbnQgPSBwYXJlbnQucGFyZW50KSB7XG4gICAgICAgICAgICBpZiAoY2hpbGRMaXN0KVxuICAgICAgICAgICAgICAgIHBhcmVudC5mbGFncyB8PSAyIC8qIFZpZXdGbGFnLk5vZGVEaXJ0eSAqLztcbiAgICAgICAgICAgIGlmIChwYXJlbnQuZmxhZ3MgJiAxIC8qIFZpZXdGbGFnLkNoaWxkRGlydHkgKi8pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgcGFyZW50LmZsYWdzIHw9IDEgLyogVmlld0ZsYWcuQ2hpbGREaXJ0eSAqLztcbiAgICAgICAgICAgIGNoaWxkTGlzdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFBhcmVudChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50ICE9IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5mbGFncyAmIDcgLyogVmlld0ZsYWcuRGlydHkgKi8pXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrUGFyZW50c0RpcnR5KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldERPTShkb20pIHtcbiAgICAgICAgaWYgKHRoaXMuZG9tID09IGRvbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuZG9tKVxuICAgICAgICAgICAgdGhpcy5kb20uY21WaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5kb20gPSBkb207XG4gICAgICAgIGRvbS5jbVZpZXcgPSB0aGlzO1xuICAgIH1cbiAgICBnZXQgcm9vdFZpZXcoKSB7XG4gICAgICAgIGZvciAobGV0IHYgPSB0aGlzOzspIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB2LnBhcmVudDtcbiAgICAgICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgICAgdiA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlQ2hpbGRyZW4oZnJvbSwgdG8sIGNoaWxkcmVuID0gbm9DaGlsZHJlbikge1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50ID09IHRoaXMpXG4gICAgICAgICAgICAgICAgY2hpbGQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGZyb20sIHRvIC0gZnJvbSwgLi4uY2hpbGRyZW4pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgY2hpbGRyZW5baV0uc2V0UGFyZW50KHRoaXMpO1xuICAgIH1cbiAgICBpZ25vcmVNdXRhdGlvbihfcmVjKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGlnbm9yZUV2ZW50KF9ldmVudCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBjaGlsZEN1cnNvcihwb3MgPSB0aGlzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IENoaWxkQ3Vyc29yKHRoaXMuY2hpbGRyZW4sIHBvcywgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgIH1cbiAgICBjaGlsZFBvcyhwb3MsIGJpYXMgPSAxKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkQ3Vyc29yKCkuZmluZFBvcyhwb3MsIGJpYXMpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IG5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWUucmVwbGFjZShcIlZpZXdcIiwgXCJcIik7XG4gICAgICAgIHJldHVybiBuYW1lICsgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID8gXCIoXCIgKyB0aGlzLmNoaWxkcmVuLmpvaW4oKSArIFwiKVwiIDpcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID8gXCJbXCIgKyAobmFtZSA9PSBcIlRleHRcIiA/IHRoaXMudGV4dCA6IHRoaXMubGVuZ3RoKSArIFwiXVwiIDogXCJcIikgK1xuICAgICAgICAgICAgKHRoaXMuYnJlYWtBZnRlciA/IFwiI1wiIDogXCJcIik7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQobm9kZSkgeyByZXR1cm4gbm9kZS5jbVZpZXc7IH1cbiAgICBnZXQgaXNFZGl0YWJsZSgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBnZXQgaXNXaWRnZXQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBpc0hpZGRlbigpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgbWVyZ2UoZnJvbSwgdG8sIHNvdXJjZSwgaGFzU3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGJlY29tZShvdGhlcikgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBjYW5SZXVzZURPTShvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIuY29uc3RydWN0b3IgPT0gdGhpcy5jb25zdHJ1Y3RvciAmJiAhKCh0aGlzLmZsYWdzIHwgb3RoZXIuZmxhZ3MpICYgOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLyk7XG4gICAgfVxuICAgIC8vIFdoZW4gdGhpcyBpcyBhIHplcm8tbGVuZ3RoIHZpZXcgd2l0aCBhIHNpZGUsIHRoaXMgc2hvdWxkIHJldHVybiBhXG4gICAgLy8gbnVtYmVyIDw9IDAgdG8gaW5kaWNhdGUgaXQgaXMgYmVmb3JlIGl0cyBwb3NpdGlvbiwgb3IgYVxuICAgIC8vIG51bWJlciA+IDAgd2hlbiBhZnRlciBpdHMgcG9zaXRpb24uXG4gICAgZ2V0U2lkZSgpIHsgcmV0dXJuIDA7IH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfVxufVxuQ29udGVudFZpZXcucHJvdG90eXBlLmJyZWFrQWZ0ZXIgPSAwO1xuLy8gUmVtb3ZlIGEgRE9NIG5vZGUgYW5kIHJldHVybiBpdHMgbmV4dCBzaWJsaW5nLlxuZnVuY3Rpb24gcm0kMShkb20pIHtcbiAgICBsZXQgbmV4dCA9IGRvbS5uZXh0U2libGluZztcbiAgICBkb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkb20pO1xuICAgIHJldHVybiBuZXh0O1xufVxuY2xhc3MgQ2hpbGRDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkcmVuLCBwb3MsIGkpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5pID0gaTtcbiAgICAgICAgdGhpcy5vZmYgPSAwO1xuICAgIH1cbiAgICBmaW5kUG9zKHBvcywgYmlhcyA9IDEpIHtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKHBvcyA+IHRoaXMucG9zIHx8IHBvcyA9PSB0aGlzLnBvcyAmJlxuICAgICAgICAgICAgICAgIChiaWFzID4gMCB8fCB0aGlzLmkgPT0gMCB8fCB0aGlzLmNoaWxkcmVuW3RoaXMuaSAtIDFdLmJyZWFrQWZ0ZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmYgPSBwb3MgLSB0aGlzLnBvcztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuZXh0ID0gdGhpcy5jaGlsZHJlblstLXRoaXMuaV07XG4gICAgICAgICAgICB0aGlzLnBvcyAtPSBuZXh0Lmxlbmd0aCArIG5leHQuYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHJlcGxhY2VSYW5nZShwYXJlbnQsIGZyb21JLCBmcm9tT2ZmLCB0b0ksIHRvT2ZmLCBpbnNlcnQsIGJyZWFrQXRTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgbGV0IHsgY2hpbGRyZW4gfSA9IHBhcmVudDtcbiAgICBsZXQgYmVmb3JlID0gY2hpbGRyZW4ubGVuZ3RoID8gY2hpbGRyZW5bZnJvbUldIDogbnVsbDtcbiAgICBsZXQgbGFzdCA9IGluc2VydC5sZW5ndGggPyBpbnNlcnRbaW5zZXJ0Lmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICBsZXQgYnJlYWtBdEVuZCA9IGxhc3QgPyBsYXN0LmJyZWFrQWZ0ZXIgOiBicmVha0F0U3RhcnQ7XG4gICAgLy8gQ2hhbmdlIHdpdGhpbiBhIHNpbmdsZSBjaGlsZFxuICAgIGlmIChmcm9tSSA9PSB0b0kgJiYgYmVmb3JlICYmICFicmVha0F0U3RhcnQgJiYgIWJyZWFrQXRFbmQgJiYgaW5zZXJ0Lmxlbmd0aCA8IDIgJiZcbiAgICAgICAgYmVmb3JlLm1lcmdlKGZyb21PZmYsIHRvT2ZmLCBpbnNlcnQubGVuZ3RoID8gbGFzdCA6IG51bGwsIGZyb21PZmYgPT0gMCwgb3BlblN0YXJ0LCBvcGVuRW5kKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh0b0kgPCBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgbGV0IGFmdGVyID0gY2hpbGRyZW5bdG9JXTtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBlbmQgb2YgdGhlIGNoaWxkIGFmdGVyIHRoZSB1cGRhdGUgaXMgcHJlc2VydmVkIGluIGBhZnRlcmBcbiAgICAgICAgaWYgKGFmdGVyICYmICh0b09mZiA8IGFmdGVyLmxlbmd0aCB8fCBhZnRlci5icmVha0FmdGVyICYmIChsYXN0ID09PSBudWxsIHx8IGxhc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxhc3QuYnJlYWtBZnRlcikpKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBzcGxpdHRpbmcgYSBjaGlsZCwgc2VwYXJhdGUgcGFydCBvZiBpdCB0byBhdm9pZCB0aGF0XG4gICAgICAgICAgICAvLyBiZWluZyBtYW5nbGVkIHdoZW4gdXBkYXRpbmcgdGhlIGNoaWxkIGJlZm9yZSB0aGUgdXBkYXRlLlxuICAgICAgICAgICAgaWYgKGZyb21JID09IHRvSSkge1xuICAgICAgICAgICAgICAgIGFmdGVyID0gYWZ0ZXIuc3BsaXQodG9PZmYpO1xuICAgICAgICAgICAgICAgIHRvT2ZmID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGFmdGVyIHRoZSByZXBsYWNlbWVudCBzaG91bGQgYmUgbWVyZ2VkIHdpdGhcbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IHJlcGxhY2luZyBlbGVtZW50LCB1cGRhdGUgYGNvbnRlbnRgXG4gICAgICAgICAgICBpZiAoIWJyZWFrQXRFbmQgJiYgbGFzdCAmJiBhZnRlci5tZXJnZSgwLCB0b09mZiwgbGFzdCwgdHJ1ZSwgMCwgb3BlbkVuZCkpIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRbaW5zZXJ0Lmxlbmd0aCAtIDFdID0gYWZ0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHN0YXJ0IG9mIHRoZSBhZnRlciBlbGVtZW50LCBpZiBuZWNlc3NhcnksIGFuZFxuICAgICAgICAgICAgICAgIC8vIGFkZCBpdCB0byBgY29udGVudGAuXG4gICAgICAgICAgICAgICAgaWYgKHRvT2ZmIHx8IGFmdGVyLmNoaWxkcmVuLmxlbmd0aCAmJiAhYWZ0ZXIuY2hpbGRyZW5bMF0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBhZnRlci5tZXJnZSgwLCB0b09mZiwgbnVsbCwgZmFsc2UsIDAsIG9wZW5FbmQpO1xuICAgICAgICAgICAgICAgIGluc2VydC5wdXNoKGFmdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhZnRlciA9PT0gbnVsbCB8fCBhZnRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWZ0ZXIuYnJlYWtBZnRlcikge1xuICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgYXQgYHRvSWAgaXMgZW50aXJlbHkgY292ZXJlZCBieSB0aGlzIHJhbmdlLlxuICAgICAgICAgICAgLy8gUHJlc2VydmUgaXRzIGxpbmUgYnJlYWssIGlmIGFueS5cbiAgICAgICAgICAgIGlmIChsYXN0KVxuICAgICAgICAgICAgICAgIGxhc3QuYnJlYWtBZnRlciA9IDE7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYnJlYWtBdFN0YXJ0ID0gMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaW5jZSB3ZSd2ZSBoYW5kbGVkIHRoZSBuZXh0IGVsZW1lbnQgZnJvbSB0aGUgY3VycmVudCBlbGVtZW50c1xuICAgICAgICAvLyBub3csIG1ha2Ugc3VyZSBgdG9JYCBwb2ludHMgYWZ0ZXIgdGhhdC5cbiAgICAgICAgdG9JKys7XG4gICAgfVxuICAgIGlmIChiZWZvcmUpIHtcbiAgICAgICAgYmVmb3JlLmJyZWFrQWZ0ZXIgPSBicmVha0F0U3RhcnQ7XG4gICAgICAgIGlmIChmcm9tT2ZmID4gMCkge1xuICAgICAgICAgICAgaWYgKCFicmVha0F0U3RhcnQgJiYgaW5zZXJ0Lmxlbmd0aCAmJiBiZWZvcmUubWVyZ2UoZnJvbU9mZiwgYmVmb3JlLmxlbmd0aCwgaW5zZXJ0WzBdLCBmYWxzZSwgb3BlblN0YXJ0LCAwKSkge1xuICAgICAgICAgICAgICAgIGJlZm9yZS5icmVha0FmdGVyID0gaW5zZXJ0LnNoaWZ0KCkuYnJlYWtBZnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZyb21PZmYgPCBiZWZvcmUubGVuZ3RoIHx8IGJlZm9yZS5jaGlsZHJlbi5sZW5ndGggJiYgYmVmb3JlLmNoaWxkcmVuW2JlZm9yZS5jaGlsZHJlbi5sZW5ndGggLSAxXS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGJlZm9yZS5tZXJnZShmcm9tT2ZmLCBiZWZvcmUubGVuZ3RoLCBudWxsLCBmYWxzZSwgb3BlblN0YXJ0LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyb21JKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVHJ5IHRvIG1lcmdlIHdpZGdldHMgb24gdGhlIGJvdW5kYXJpZXMgb2YgdGhlIHJlcGxhY2VtZW50XG4gICAgd2hpbGUgKGZyb21JIDwgdG9JICYmIGluc2VydC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuW3RvSSAtIDFdLmJlY29tZShpbnNlcnRbaW5zZXJ0Lmxlbmd0aCAtIDFdKSkge1xuICAgICAgICAgICAgdG9JLS07XG4gICAgICAgICAgICBpbnNlcnQucG9wKCk7XG4gICAgICAgICAgICBvcGVuRW5kID0gaW5zZXJ0Lmxlbmd0aCA/IDAgOiBvcGVuU3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hpbGRyZW5bZnJvbUldLmJlY29tZShpbnNlcnRbMF0pKSB7XG4gICAgICAgICAgICBmcm9tSSsrO1xuICAgICAgICAgICAgaW5zZXJ0LnNoaWZ0KCk7XG4gICAgICAgICAgICBvcGVuU3RhcnQgPSBpbnNlcnQubGVuZ3RoID8gMCA6IG9wZW5FbmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWluc2VydC5sZW5ndGggJiYgZnJvbUkgJiYgdG9JIDwgY2hpbGRyZW4ubGVuZ3RoICYmICFjaGlsZHJlbltmcm9tSSAtIDFdLmJyZWFrQWZ0ZXIgJiZcbiAgICAgICAgY2hpbGRyZW5bdG9JXS5tZXJnZSgwLCAwLCBjaGlsZHJlbltmcm9tSSAtIDFdLCBmYWxzZSwgb3BlblN0YXJ0LCBvcGVuRW5kKSlcbiAgICAgICAgZnJvbUktLTtcbiAgICBpZiAoZnJvbUkgPCB0b0kgfHwgaW5zZXJ0Lmxlbmd0aClcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZHJlbihmcm9tSSwgdG9JLCBpbnNlcnQpO1xufVxuZnVuY3Rpb24gbWVyZ2VDaGlsZHJlbkludG8ocGFyZW50LCBmcm9tLCB0bywgaW5zZXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICBsZXQgY3VyID0gcGFyZW50LmNoaWxkQ3Vyc29yKCk7XG4gICAgbGV0IHsgaTogdG9JLCBvZmY6IHRvT2ZmIH0gPSBjdXIuZmluZFBvcyh0bywgMSk7XG4gICAgbGV0IHsgaTogZnJvbUksIG9mZjogZnJvbU9mZiB9ID0gY3VyLmZpbmRQb3MoZnJvbSwgLTEpO1xuICAgIGxldCBkTGVuID0gZnJvbSAtIHRvO1xuICAgIGZvciAobGV0IHZpZXcgb2YgaW5zZXJ0KVxuICAgICAgICBkTGVuICs9IHZpZXcubGVuZ3RoO1xuICAgIHBhcmVudC5sZW5ndGggKz0gZExlbjtcbiAgICByZXBsYWNlUmFuZ2UocGFyZW50LCBmcm9tSSwgZnJvbU9mZiwgdG9JLCB0b09mZiwgaW5zZXJ0LCAwLCBvcGVuU3RhcnQsIG9wZW5FbmQpO1xufVxuXG5sZXQgbmF2ID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiID8gbmF2aWdhdG9yIDogeyB1c2VyQWdlbnQ6IFwiXCIsIHZlbmRvcjogXCJcIiwgcGxhdGZvcm06IFwiXCIgfTtcbmxldCBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT0gXCJ1bmRlZmluZWRcIiA/IGRvY3VtZW50IDogeyBkb2N1bWVudEVsZW1lbnQ6IHsgc3R5bGU6IHt9IH0gfTtcbmNvbnN0IGllX2VkZ2UgPSAvKkBfX1BVUkVfXyovL0VkZ2VcXC8oXFxkKykvLmV4ZWMobmF2LnVzZXJBZ2VudCk7XG5jb25zdCBpZV91cHRvMTAgPSAvKkBfX1BVUkVfXyovL01TSUUgXFxkLy50ZXN0KG5hdi51c2VyQWdlbnQpO1xuY29uc3QgaWVfMTF1cCA9IC8qQF9fUFVSRV9fKi8vVHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWMobmF2LnVzZXJBZ2VudCk7XG5jb25zdCBpZSA9ICEhKGllX3VwdG8xMCB8fCBpZV8xMXVwIHx8IGllX2VkZ2UpO1xuY29uc3QgZ2Vja28gPSAhaWUgJiYgLypAX19QVVJFX18qLy9nZWNrb1xcLyhcXGQrKS9pLnRlc3QobmF2LnVzZXJBZ2VudCk7XG5jb25zdCBjaHJvbWUgPSAhaWUgJiYgLypAX19QVVJFX18qLy9DaHJvbWVcXC8oXFxkKykvLmV4ZWMobmF2LnVzZXJBZ2VudCk7XG5jb25zdCB3ZWJraXQgPSBcIndlYmtpdEZvbnRTbW9vdGhpbmdcIiBpbiBkb2MuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xuY29uc3Qgc2FmYXJpID0gIWllICYmIC8qQF9fUFVSRV9fKi8vQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2LnZlbmRvcik7XG5jb25zdCBpb3MgPSBzYWZhcmkgJiYgKC8qQF9fUFVSRV9fKi8vTW9iaWxlXFwvXFx3Ky8udGVzdChuYXYudXNlckFnZW50KSB8fCBuYXYubWF4VG91Y2hQb2ludHMgPiAyKTtcbnZhciBicm93c2VyID0ge1xuICAgIG1hYzogaW9zIHx8IC8qQF9fUFVSRV9fKi8vTWFjLy50ZXN0KG5hdi5wbGF0Zm9ybSksXG4gICAgd2luZG93czogLypAX19QVVJFX18qLy9XaW4vLnRlc3QobmF2LnBsYXRmb3JtKSxcbiAgICBsaW51eDogLypAX19QVVJFX18qLy9MaW51eHxYMTEvLnRlc3QobmF2LnBsYXRmb3JtKSxcbiAgICBpZSxcbiAgICBpZV92ZXJzaW9uOiBpZV91cHRvMTAgPyBkb2MuZG9jdW1lbnRNb2RlIHx8IDYgOiBpZV8xMXVwID8gK2llXzExdXBbMV0gOiBpZV9lZGdlID8gK2llX2VkZ2VbMV0gOiAwLFxuICAgIGdlY2tvLFxuICAgIGdlY2tvX3ZlcnNpb246IGdlY2tvID8gKygvKkBfX1BVUkVfXyovL0ZpcmVmb3hcXC8oXFxkKykvLmV4ZWMobmF2LnVzZXJBZ2VudCkgfHwgWzAsIDBdKVsxXSA6IDAsXG4gICAgY2hyb21lOiAhIWNocm9tZSxcbiAgICBjaHJvbWVfdmVyc2lvbjogY2hyb21lID8gK2Nocm9tZVsxXSA6IDAsXG4gICAgaW9zLFxuICAgIGFuZHJvaWQ6IC8qQF9fUFVSRV9fKi8vQW5kcm9pZFxcYi8udGVzdChuYXYudXNlckFnZW50KSxcbiAgICB3ZWJraXQsXG4gICAgc2FmYXJpLFxuICAgIHdlYmtpdF92ZXJzaW9uOiB3ZWJraXQgPyArKC8qQF9fUFVSRV9fKi8vXFxiQXBwbGVXZWJLaXRcXC8oXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgWzAsIDBdKVsxXSA6IDAsXG4gICAgdGFiU2l6ZTogZG9jLmRvY3VtZW50RWxlbWVudC5zdHlsZS50YWJTaXplICE9IG51bGwgPyBcInRhYi1zaXplXCIgOiBcIi1tb3otdGFiLXNpemVcIlxufTtcblxuY29uc3QgTWF4Sm9pbkxlbiA9IDI1NjtcbmNsYXNzIFRleHRWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHRleHQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMudGV4dC5sZW5ndGg7IH1cbiAgICBjcmVhdGVET00odGV4dERPTSkge1xuICAgICAgICB0aGlzLnNldERPTSh0ZXh0RE9NIHx8IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMudGV4dCkpO1xuICAgIH1cbiAgICBzeW5jKHZpZXcsIHRyYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5kb20pXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURPTSgpO1xuICAgICAgICBpZiAodGhpcy5kb20ubm9kZVZhbHVlICE9IHRoaXMudGV4dCkge1xuICAgICAgICAgICAgaWYgKHRyYWNrICYmIHRyYWNrLm5vZGUgPT0gdGhpcy5kb20pXG4gICAgICAgICAgICAgICAgdHJhY2sud3JpdHRlbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRvbS5ub2RlVmFsdWUgPSB0aGlzLnRleHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV1c2VET00oZG9tKSB7XG4gICAgICAgIGlmIChkb20ubm9kZVR5cGUgPT0gMylcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRE9NKGRvbSk7XG4gICAgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UpIHtcbiAgICAgICAgaWYgKCh0aGlzLmZsYWdzICYgOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLykgfHxcbiAgICAgICAgICAgIHNvdXJjZSAmJiAoIShzb3VyY2UgaW5zdGFuY2VvZiBUZXh0VmlldykgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCAtICh0byAtIGZyb20pICsgc291cmNlLmxlbmd0aCA+IE1heEpvaW5MZW4gfHxcbiAgICAgICAgICAgICAgICAoc291cmNlLmZsYWdzICYgOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLykpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnRleHQgPSB0aGlzLnRleHQuc2xpY2UoMCwgZnJvbSkgKyAoc291cmNlID8gc291cmNlLnRleHQgOiBcIlwiKSArIHRoaXMudGV4dC5zbGljZSh0byk7XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzcGxpdChmcm9tKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgVGV4dFZpZXcodGhpcy50ZXh0LnNsaWNlKGZyb20pKTtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGhpcy50ZXh0LnNsaWNlKDAsIGZyb20pO1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICByZXN1bHQuZmxhZ3MgfD0gdGhpcy5mbGFncyAmIDggLyogVmlld0ZsYWcuQ29tcG9zaXRpb24gKi87XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGxvY2FsUG9zRnJvbURPTShub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUgPT0gdGhpcy5kb20gPyBvZmZzZXQgOiBvZmZzZXQgPyB0aGlzLnRleHQubGVuZ3RoIDogMDtcbiAgICB9XG4gICAgZG9tQXRQb3MocG9zKSB7IHJldHVybiBuZXcgRE9NUG9zKHRoaXMuZG9tLCBwb3MpOyB9XG4gICAgZG9tQm91bmRzQXJvdW5kKF9mcm9tLCBfdG8sIG9mZnNldCkge1xuICAgICAgICByZXR1cm4geyBmcm9tOiBvZmZzZXQsIHRvOiBvZmZzZXQgKyB0aGlzLmxlbmd0aCwgc3RhcnRET006IHRoaXMuZG9tLCBlbmRET006IHRoaXMuZG9tLm5leHRTaWJsaW5nIH07XG4gICAgfVxuICAgIGNvb3Jkc0F0KHBvcywgc2lkZSkge1xuICAgICAgICByZXR1cm4gdGV4dENvb3Jkcyh0aGlzLmRvbSwgcG9zLCBzaWRlKTtcbiAgICB9XG59XG5jbGFzcyBNYXJrVmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihtYXJrLCBjaGlsZHJlbiA9IFtdLCBsZW5ndGggPSAwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWFyayA9IG1hcms7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGNoIG9mIGNoaWxkcmVuKVxuICAgICAgICAgICAgY2guc2V0UGFyZW50KHRoaXMpO1xuICAgIH1cbiAgICBzZXRBdHRycyhkb20pIHtcbiAgICAgICAgY2xlYXJBdHRyaWJ1dGVzKGRvbSk7XG4gICAgICAgIGlmICh0aGlzLm1hcmsuY2xhc3MpXG4gICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gdGhpcy5tYXJrLmNsYXNzO1xuICAgICAgICBpZiAodGhpcy5tYXJrLmF0dHJzKVxuICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiB0aGlzLm1hcmsuYXR0cnMpXG4gICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShuYW1lLCB0aGlzLm1hcmsuYXR0cnNbbmFtZV0pO1xuICAgICAgICByZXR1cm4gZG9tO1xuICAgIH1cbiAgICBjYW5SZXVzZURPTShvdGhlcikge1xuICAgICAgICByZXR1cm4gc3VwZXIuY2FuUmV1c2VET00ob3RoZXIpICYmICEoKHRoaXMuZmxhZ3MgfCBvdGhlci5mbGFncykgJiA4IC8qIFZpZXdGbGFnLkNvbXBvc2l0aW9uICovKTtcbiAgICB9XG4gICAgcmV1c2VET00obm9kZSkge1xuICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PSB0aGlzLm1hcmsudGFnTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNldERPTShub2RlKTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgfD0gNCAvKiBWaWV3RmxhZy5BdHRyc0RpcnR5ICovIHwgMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3luYyh2aWV3LCB0cmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuZG9tKVxuICAgICAgICAgICAgdGhpcy5zZXRET00odGhpcy5zZXRBdHRycyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMubWFyay50YWdOYW1lKSkpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZsYWdzICYgNCAvKiBWaWV3RmxhZy5BdHRyc0RpcnR5ICovKVxuICAgICAgICAgICAgdGhpcy5zZXRBdHRycyh0aGlzLmRvbSk7XG4gICAgICAgIHN1cGVyLnN5bmModmlldywgdHJhY2spO1xuICAgIH1cbiAgICBtZXJnZShmcm9tLCB0bywgc291cmNlLCBfaGFzU3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAgICAgICBpZiAoc291cmNlICYmICghKHNvdXJjZSBpbnN0YW5jZW9mIE1hcmtWaWV3ICYmIHNvdXJjZS5tYXJrLmVxKHRoaXMubWFyaykpIHx8XG4gICAgICAgICAgICAoZnJvbSAmJiBvcGVuU3RhcnQgPD0gMCkgfHwgKHRvIDwgdGhpcy5sZW5ndGggJiYgb3BlbkVuZCA8PSAwKSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIG1lcmdlQ2hpbGRyZW5JbnRvKHRoaXMsIGZyb20sIHRvLCBzb3VyY2UgPyBzb3VyY2UuY2hpbGRyZW4gOiBbXSwgb3BlblN0YXJ0IC0gMSwgb3BlbkVuZCAtIDEpO1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc3BsaXQoZnJvbSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW10sIG9mZiA9IDAsIGRldGFjaEZyb20gPSAtMSwgaSA9IDA7XG4gICAgICAgIGZvciAobGV0IGVsdCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBsZXQgZW5kID0gb2ZmICsgZWx0Lmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChlbmQgPiBmcm9tKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9mZiA8IGZyb20gPyBlbHQuc3BsaXQoZnJvbSAtIG9mZikgOiBlbHQpO1xuICAgICAgICAgICAgaWYgKGRldGFjaEZyb20gPCAwICYmIG9mZiA+PSBmcm9tKVxuICAgICAgICAgICAgICAgIGRldGFjaEZyb20gPSBpO1xuICAgICAgICAgICAgb2ZmID0gZW5kO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsZW5ndGggPSB0aGlzLmxlbmd0aCAtIGZyb207XG4gICAgICAgIHRoaXMubGVuZ3RoID0gZnJvbTtcbiAgICAgICAgaWYgKGRldGFjaEZyb20gPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggPSBkZXRhY2hGcm9tO1xuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE1hcmtWaWV3KHRoaXMubWFyaywgcmVzdWx0LCBsZW5ndGgpO1xuICAgIH1cbiAgICBkb21BdFBvcyhwb3MpIHtcbiAgICAgICAgcmV0dXJuIGlubGluZURPTUF0UG9zKHRoaXMsIHBvcyk7XG4gICAgfVxuICAgIGNvb3Jkc0F0KHBvcywgc2lkZSkge1xuICAgICAgICByZXR1cm4gY29vcmRzSW5DaGlsZHJlbih0aGlzLCBwb3MsIHNpZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRleHRDb29yZHModGV4dCwgcG9zLCBzaWRlKSB7XG4gICAgbGV0IGxlbmd0aCA9IHRleHQubm9kZVZhbHVlLmxlbmd0aDtcbiAgICBpZiAocG9zID4gbGVuZ3RoKVxuICAgICAgICBwb3MgPSBsZW5ndGg7XG4gICAgbGV0IGZyb20gPSBwb3MsIHRvID0gcG9zLCBmbGF0dGVuID0gMDtcbiAgICBpZiAocG9zID09IDAgJiYgc2lkZSA8IDAgfHwgcG9zID09IGxlbmd0aCAmJiBzaWRlID49IDApIHtcbiAgICAgICAgaWYgKCEoYnJvd3Nlci5jaHJvbWUgfHwgYnJvd3Nlci5nZWNrbykpIHsgLy8gVGhlc2UgYnJvd3NlcnMgcmVsaWFibHkgcmV0dXJuIHZhbGlkIHJlY3RhbmdsZXMgZm9yIGVtcHR5IHJhbmdlc1xuICAgICAgICAgICAgaWYgKHBvcykge1xuICAgICAgICAgICAgICAgIGZyb20tLTtcbiAgICAgICAgICAgICAgICBmbGF0dGVuID0gMTtcbiAgICAgICAgICAgIH0gLy8gRklYTUUgdGhpcyBpcyB3cm9uZyBpbiBSVEwgdGV4dFxuICAgICAgICAgICAgZWxzZSBpZiAodG8gPCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0bysrO1xuICAgICAgICAgICAgICAgIGZsYXR0ZW4gPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHNpZGUgPCAwKVxuICAgICAgICAgICAgZnJvbS0tO1xuICAgICAgICBlbHNlIGlmICh0byA8IGxlbmd0aClcbiAgICAgICAgICAgIHRvKys7XG4gICAgfVxuICAgIGxldCByZWN0cyA9IHRleHRSYW5nZSh0ZXh0LCBmcm9tLCB0bykuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICBpZiAoIXJlY3RzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IHJlY3QgPSByZWN0c1soZmxhdHRlbiA/IGZsYXR0ZW4gPCAwIDogc2lkZSA+PSAwKSA/IDAgOiByZWN0cy5sZW5ndGggLSAxXTtcbiAgICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgIWZsYXR0ZW4gJiYgcmVjdC53aWR0aCA9PSAwKVxuICAgICAgICByZWN0ID0gQXJyYXkucHJvdG90eXBlLmZpbmQuY2FsbChyZWN0cywgciA9PiByLndpZHRoKSB8fCByZWN0O1xuICAgIHJldHVybiBmbGF0dGVuID8gZmxhdHRlblJlY3QocmVjdCwgZmxhdHRlbiA8IDApIDogcmVjdCB8fCBudWxsO1xufVxuLy8gQWxzbyB1c2VkIGZvciBjb2xsYXBzZWQgcmFuZ2VzIHRoYXQgZG9uJ3QgaGF2ZSBhIHBsYWNlaG9sZGVyIHdpZGdldCFcbmNsYXNzIFdpZGdldFZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgc3RhdGljIGNyZWF0ZSh3aWRnZXQsIGxlbmd0aCwgc2lkZSkge1xuICAgICAgICByZXR1cm4gbmV3IFdpZGdldFZpZXcod2lkZ2V0LCBsZW5ndGgsIHNpZGUpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih3aWRnZXQsIGxlbmd0aCwgc2lkZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLndpZGdldCA9IHdpZGdldDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMuc2lkZSA9IHNpZGU7XG4gICAgICAgIHRoaXMucHJldldpZGdldCA9IG51bGw7XG4gICAgfVxuICAgIHNwbGl0KGZyb20pIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFdpZGdldFZpZXcuY3JlYXRlKHRoaXMud2lkZ2V0LCB0aGlzLmxlbmd0aCAtIGZyb20sIHRoaXMuc2lkZSk7XG4gICAgICAgIHRoaXMubGVuZ3RoIC09IGZyb207XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHN5bmModmlldykge1xuICAgICAgICBpZiAoIXRoaXMuZG9tIHx8ICF0aGlzLndpZGdldC51cGRhdGVET00odGhpcy5kb20sIHZpZXcpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kb20gJiYgdGhpcy5wcmV2V2lkZ2V0KVxuICAgICAgICAgICAgICAgIHRoaXMucHJldldpZGdldC5kZXN0cm95KHRoaXMuZG9tKTtcbiAgICAgICAgICAgIHRoaXMucHJldldpZGdldCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNldERPTSh0aGlzLndpZGdldC50b0RPTSh2aWV3KSk7XG4gICAgICAgICAgICB0aGlzLmRvbS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2lkZSgpIHsgcmV0dXJuIHRoaXMuc2lkZTsgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIGhhc1N0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiAoIShzb3VyY2UgaW5zdGFuY2VvZiBXaWRnZXRWaWV3KSB8fCAhdGhpcy53aWRnZXQuY29tcGFyZShzb3VyY2Uud2lkZ2V0KSB8fFxuICAgICAgICAgICAgZnJvbSA+IDAgJiYgb3BlblN0YXJ0IDw9IDAgfHwgdG8gPCB0aGlzLmxlbmd0aCAmJiBvcGVuRW5kIDw9IDApKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGZyb20gKyAoc291cmNlID8gc291cmNlLmxlbmd0aCA6IDApICsgKHRoaXMubGVuZ3RoIC0gdG8pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFdpZGdldFZpZXcgJiYgb3RoZXIuc2lkZSA9PSB0aGlzLnNpZGUgJiZcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmNvbnN0cnVjdG9yID09IG90aGVyLndpZGdldC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLndpZGdldC5jb21wYXJlKG90aGVyLndpZGdldCkpXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrRGlydHkodHJ1ZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5kb20gJiYgIXRoaXMucHJldldpZGdldClcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSB0aGlzLndpZGdldDtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0ID0gb3RoZXIud2lkZ2V0O1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBvdGhlci5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlnbm9yZU11dGF0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGlnbm9yZUV2ZW50KGV2ZW50KSB7IHJldHVybiB0aGlzLndpZGdldC5pZ25vcmVFdmVudChldmVudCk7IH1cbiAgICBnZXQgb3ZlcnJpZGVET01UZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBUZXh0LmVtcHR5O1xuICAgICAgICBsZXQgdG9wID0gdGhpcztcbiAgICAgICAgd2hpbGUgKHRvcC5wYXJlbnQpXG4gICAgICAgICAgICB0b3AgPSB0b3AucGFyZW50O1xuICAgICAgICBsZXQgeyB2aWV3IH0gPSB0b3AsIHRleHQgPSB2aWV3ICYmIHZpZXcuc3RhdGUuZG9jLCBzdGFydCA9IHRoaXMucG9zQXRTdGFydDtcbiAgICAgICAgcmV0dXJuIHRleHQgPyB0ZXh0LnNsaWNlKHN0YXJ0LCBzdGFydCArIHRoaXMubGVuZ3RoKSA6IFRleHQuZW1wdHk7XG4gICAgfVxuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICByZXR1cm4gKHRoaXMubGVuZ3RoID8gcG9zID09IDAgOiB0aGlzLnNpZGUgPiAwKVxuICAgICAgICAgICAgPyBET01Qb3MuYmVmb3JlKHRoaXMuZG9tKVxuICAgICAgICAgICAgOiBET01Qb3MuYWZ0ZXIodGhpcy5kb20sIHBvcyA9PSB0aGlzLmxlbmd0aCk7XG4gICAgfVxuICAgIGRvbUJvdW5kc0Fyb3VuZCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBjb29yZHNBdChwb3MsIHNpZGUpIHtcbiAgICAgICAgbGV0IGN1c3RvbSA9IHRoaXMud2lkZ2V0LmNvb3Jkc0F0KHRoaXMuZG9tLCBwb3MsIHNpZGUpO1xuICAgICAgICBpZiAoY3VzdG9tKVxuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbTtcbiAgICAgICAgbGV0IHJlY3RzID0gdGhpcy5kb20uZ2V0Q2xpZW50UmVjdHMoKSwgcmVjdCA9IG51bGw7XG4gICAgICAgIGlmICghcmVjdHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBmcm9tQmFjayA9IHRoaXMuc2lkZSA/IHRoaXMuc2lkZSA8IDAgOiBwb3MgPiAwO1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbUJhY2sgPyByZWN0cy5sZW5ndGggLSAxIDogMDs7IGkgKz0gKGZyb21CYWNrID8gLTEgOiAxKSkge1xuICAgICAgICAgICAgcmVjdCA9IHJlY3RzW2ldO1xuICAgICAgICAgICAgaWYgKHBvcyA+IDAgPyBpID09IDAgOiBpID09IHJlY3RzLmxlbmd0aCAtIDEgfHwgcmVjdC50b3AgPCByZWN0LmJvdHRvbSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmxhdHRlblJlY3QocmVjdCwgIWZyb21CYWNrKTtcbiAgICB9XG4gICAgZ2V0IGlzRWRpdGFibGUoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBpc1dpZGdldCgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBnZXQgaXNIaWRkZW4oKSB7IHJldHVybiB0aGlzLndpZGdldC5pc0hpZGRlbjsgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuZG9tKVxuICAgICAgICAgICAgdGhpcy53aWRnZXQuZGVzdHJveSh0aGlzLmRvbSk7XG4gICAgfVxufVxuLy8gVGhlc2UgYXJlIGRyYXduIGFyb3VuZCB1bmVkaXRhYmxlIHdpZGdldHMgdG8gYXZvaWQgYSBudW1iZXIgb2Zcbi8vIGJyb3dzZXIgYnVncyB0aGF0IHNob3cgdXAgd2hlbiB0aGUgY3Vyc29yIGlzIGRpcmVjdGx5IG5leHQgdG9cbi8vIHVuZWRpdGFibGUgaW5saW5lIGNvbnRlbnQuXG5jbGFzcyBXaWRnZXRCdWZmZXJWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHNpZGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zaWRlID0gc2lkZTtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIDA7IH1cbiAgICBtZXJnZSgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFdpZGdldEJ1ZmZlclZpZXcgJiYgb3RoZXIuc2lkZSA9PSB0aGlzLnNpZGU7XG4gICAgfVxuICAgIHNwbGl0KCkgeyByZXR1cm4gbmV3IFdpZGdldEJ1ZmZlclZpZXcodGhpcy5zaWRlKTsgfVxuICAgIHN5bmMoKSB7XG4gICAgICAgIGlmICghdGhpcy5kb20pIHtcbiAgICAgICAgICAgIGxldCBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgZG9tLmNsYXNzTmFtZSA9IFwiY20td2lkZ2V0QnVmZmVyXCI7XG4gICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgdGhpcy5zZXRET00oZG9tKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTaWRlKCkgeyByZXR1cm4gdGhpcy5zaWRlOyB9XG4gICAgZG9tQXRQb3MocG9zKSB7IHJldHVybiB0aGlzLnNpZGUgPiAwID8gRE9NUG9zLmJlZm9yZSh0aGlzLmRvbSkgOiBET01Qb3MuYWZ0ZXIodGhpcy5kb20pOyB9XG4gICAgbG9jYWxQb3NGcm9tRE9NKCkgeyByZXR1cm4gMDsgfVxuICAgIGRvbUJvdW5kc0Fyb3VuZCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBjb29yZHNBdChwb3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICBnZXQgb3ZlcnJpZGVET01UZXh0KCkge1xuICAgICAgICByZXR1cm4gVGV4dC5lbXB0eTtcbiAgICB9XG4gICAgZ2V0IGlzSGlkZGVuKCkgeyByZXR1cm4gdHJ1ZTsgfVxufVxuVGV4dFZpZXcucHJvdG90eXBlLmNoaWxkcmVuID0gV2lkZ2V0Vmlldy5wcm90b3R5cGUuY2hpbGRyZW4gPSBXaWRnZXRCdWZmZXJWaWV3LnByb3RvdHlwZS5jaGlsZHJlbiA9IG5vQ2hpbGRyZW47XG5mdW5jdGlvbiBpbmxpbmVET01BdFBvcyhwYXJlbnQsIHBvcykge1xuICAgIGxldCBkb20gPSBwYXJlbnQuZG9tLCB7IGNoaWxkcmVuIH0gPSBwYXJlbnQsIGkgPSAwO1xuICAgIGZvciAobGV0IG9mZiA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlbltpXSwgZW5kID0gb2ZmICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICBpZiAoZW5kID09IG9mZiAmJiBjaGlsZC5nZXRTaWRlKCkgPD0gMClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAocG9zID4gb2ZmICYmIHBvcyA8IGVuZCAmJiBjaGlsZC5kb20ucGFyZW50Tm9kZSA9PSBkb20pXG4gICAgICAgICAgICByZXR1cm4gY2hpbGQuZG9tQXRQb3MocG9zIC0gb2ZmKTtcbiAgICAgICAgaWYgKHBvcyA8PSBvZmYpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgb2ZmID0gZW5kO1xuICAgIH1cbiAgICBmb3IgKGxldCBqID0gaTsgaiA+IDA7IGotLSkge1xuICAgICAgICBsZXQgcHJldiA9IGNoaWxkcmVuW2ogLSAxXTtcbiAgICAgICAgaWYgKHByZXYuZG9tLnBhcmVudE5vZGUgPT0gZG9tKVxuICAgICAgICAgICAgcmV0dXJuIHByZXYuZG9tQXRQb3MocHJldi5sZW5ndGgpO1xuICAgIH1cbiAgICBmb3IgKGxldCBqID0gaTsgaiA8IGNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBuZXh0ID0gY2hpbGRyZW5bal07XG4gICAgICAgIGlmIChuZXh0LmRvbS5wYXJlbnROb2RlID09IGRvbSlcbiAgICAgICAgICAgIHJldHVybiBuZXh0LmRvbUF0UG9zKDApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERPTVBvcyhkb20sIDApO1xufVxuLy8gQXNzdW1lcyBgdmlld2AsIGlmIGEgbWFyayB2aWV3LCBoYXMgcHJlY2lzZWx5IDEgY2hpbGQuXG5mdW5jdGlvbiBqb2luSW5saW5lSW50byhwYXJlbnQsIHZpZXcsIG9wZW4pIHtcbiAgICBsZXQgbGFzdCwgeyBjaGlsZHJlbiB9ID0gcGFyZW50O1xuICAgIGlmIChvcGVuID4gMCAmJiB2aWV3IGluc3RhbmNlb2YgTWFya1ZpZXcgJiYgY2hpbGRyZW4ubGVuZ3RoICYmXG4gICAgICAgIChsYXN0ID0gY2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoIC0gMV0pIGluc3RhbmNlb2YgTWFya1ZpZXcgJiYgbGFzdC5tYXJrLmVxKHZpZXcubWFyaykpIHtcbiAgICAgICAgam9pbklubGluZUludG8obGFzdCwgdmlldy5jaGlsZHJlblswXSwgb3BlbiAtIDEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaCh2aWV3KTtcbiAgICAgICAgdmlldy5zZXRQYXJlbnQocGFyZW50KTtcbiAgICB9XG4gICAgcGFyZW50Lmxlbmd0aCArPSB2aWV3Lmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGNvb3Jkc0luQ2hpbGRyZW4odmlldywgcG9zLCBzaWRlKSB7XG4gICAgbGV0IGJlZm9yZSA9IG51bGwsIGJlZm9yZVBvcyA9IC0xLCBhZnRlciA9IG51bGwsIGFmdGVyUG9zID0gLTE7XG4gICAgZnVuY3Rpb24gc2Nhbih2aWV3LCBwb3MpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG9mZiA9IDA7IGkgPCB2aWV3LmNoaWxkcmVuLmxlbmd0aCAmJiBvZmYgPD0gcG9zOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHZpZXcuY2hpbGRyZW5baV0sIGVuZCA9IG9mZiArIGNoaWxkLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChlbmQgPj0gcG9zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzY2FuKGNoaWxkLCBwb3MgLSBvZmYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoIWFmdGVyIHx8IGFmdGVyLmlzSGlkZGVuICYmIHNpZGUgPiAwKSAmJlxuICAgICAgICAgICAgICAgICAgICAoZW5kID4gcG9zIHx8IG9mZiA9PSBlbmQgJiYgY2hpbGQuZ2V0U2lkZSgpID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJQb3MgPSBwb3MgLSBvZmY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9mZiA8IHBvcyB8fCAob2ZmID09IGVuZCAmJiBjaGlsZC5nZXRTaWRlKCkgPCAwKSAmJiAhY2hpbGQuaXNIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZVBvcyA9IHBvcyAtIG9mZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmYgPSBlbmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2Nhbih2aWV3LCBwb3MpO1xuICAgIGxldCB0YXJnZXQgPSAoc2lkZSA8IDAgPyBiZWZvcmUgOiBhZnRlcikgfHwgYmVmb3JlIHx8IGFmdGVyO1xuICAgIGlmICh0YXJnZXQpXG4gICAgICAgIHJldHVybiB0YXJnZXQuY29vcmRzQXQoTWF0aC5tYXgoMCwgdGFyZ2V0ID09IGJlZm9yZSA/IGJlZm9yZVBvcyA6IGFmdGVyUG9zKSwgc2lkZSk7XG4gICAgcmV0dXJuIGZhbGxiYWNrUmVjdCh2aWV3KTtcbn1cbmZ1bmN0aW9uIGZhbGxiYWNrUmVjdCh2aWV3KSB7XG4gICAgbGV0IGxhc3QgPSB2aWV3LmRvbS5sYXN0Q2hpbGQ7XG4gICAgaWYgKCFsYXN0KVxuICAgICAgICByZXR1cm4gdmlldy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHJlY3RzID0gY2xpZW50UmVjdHNGb3IobGFzdCk7XG4gICAgcmV0dXJuIHJlY3RzW3JlY3RzLmxlbmd0aCAtIDFdIHx8IG51bGw7XG59XG5cbmZ1bmN0aW9uIGNvbWJpbmVBdHRycyhzb3VyY2UsIHRhcmdldCkge1xuICAgIGZvciAobGV0IG5hbWUgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChuYW1lID09IFwiY2xhc3NcIiAmJiB0YXJnZXQuY2xhc3MpXG4gICAgICAgICAgICB0YXJnZXQuY2xhc3MgKz0gXCIgXCIgKyBzb3VyY2UuY2xhc3M7XG4gICAgICAgIGVsc2UgaWYgKG5hbWUgPT0gXCJzdHlsZVwiICYmIHRhcmdldC5zdHlsZSlcbiAgICAgICAgICAgIHRhcmdldC5zdHlsZSArPSBcIjtcIiArIHNvdXJjZS5zdHlsZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gc291cmNlW25hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuY29uc3Qgbm9BdHRycyA9IC8qQF9fUFVSRV9fKi9PYmplY3QuY3JlYXRlKG51bGwpO1xuZnVuY3Rpb24gYXR0cnNFcShhLCBiLCBpZ25vcmUpIHtcbiAgICBpZiAoYSA9PSBiKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoIWEpXG4gICAgICAgIGEgPSBub0F0dHJzO1xuICAgIGlmICghYilcbiAgICAgICAgYiA9IG5vQXR0cnM7XG4gICAgbGV0IGtleXNBID0gT2JqZWN0LmtleXMoYSksIGtleXNCID0gT2JqZWN0LmtleXMoYik7XG4gICAgaWYgKGtleXNBLmxlbmd0aCAtIChpZ25vcmUgJiYga2V5c0EuaW5kZXhPZihpZ25vcmUpID4gLTEgPyAxIDogMCkgIT1cbiAgICAgICAga2V5c0IubGVuZ3RoIC0gKGlnbm9yZSAmJiBrZXlzQi5pbmRleE9mKGlnbm9yZSkgPiAtMSA/IDEgOiAwKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGtleSBvZiBrZXlzQSkge1xuICAgICAgICBpZiAoa2V5ICE9IGlnbm9yZSAmJiAoa2V5c0IuaW5kZXhPZihrZXkpID09IC0xIHx8IGFba2V5XSAhPT0gYltrZXldKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiB1cGRhdGVBdHRycyhkb20sIHByZXYsIGF0dHJzKSB7XG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICBpZiAocHJldilcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBwcmV2KVxuICAgICAgICAgICAgaWYgKCEoYXR0cnMgJiYgbmFtZSBpbiBhdHRycykpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBcInN0eWxlXCIpXG4gICAgICAgICAgICAgICAgICAgIGRvbS5zdHlsZS5jc3NUZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGRvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgaWYgKGF0dHJzKVxuICAgICAgICBmb3IgKGxldCBuYW1lIGluIGF0dHJzKVxuICAgICAgICAgICAgaWYgKCEocHJldiAmJiBwcmV2W25hbWVdID09IGF0dHJzW25hbWVdKSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lID09IFwic3R5bGVcIilcbiAgICAgICAgICAgICAgICAgICAgZG9tLnN0eWxlLmNzc1RleHQgPSBhdHRyc1tuYW1lXTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUobmFtZSwgYXR0cnNbbmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgIHJldHVybiBjaGFuZ2VkO1xufVxuZnVuY3Rpb24gZ2V0QXR0cnMoZG9tKSB7XG4gICAgbGV0IGF0dHJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvbS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBhdHRyID0gZG9tLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgIGF0dHJzW2F0dHIubmFtZV0gPSBhdHRyLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cnM7XG59XG5cbmNsYXNzIExpbmVWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5wcmV2QXR0cnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYXR0cnMgPSBudWxsO1xuICAgICAgICB0aGlzLmJyZWFrQWZ0ZXIgPSAwO1xuICAgIH1cbiAgICAvLyBDb25zdW1lcyBzb3VyY2VcbiAgICBtZXJnZShmcm9tLCB0bywgc291cmNlLCBoYXNTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIExpbmVWaWV3KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZG9tKVxuICAgICAgICAgICAgICAgIHNvdXJjZS50cmFuc2ZlckRPTSh0aGlzKTsgLy8gUmV1c2Ugc291cmNlLmRvbSB3aGVuIGFwcHJvcHJpYXRlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc1N0YXJ0KVxuICAgICAgICAgICAgdGhpcy5zZXREZWNvKHNvdXJjZSA/IHNvdXJjZS5hdHRycyA6IG51bGwpO1xuICAgICAgICBtZXJnZUNoaWxkcmVuSW50byh0aGlzLCBmcm9tLCB0bywgc291cmNlID8gc291cmNlLmNoaWxkcmVuIDogW10sIG9wZW5TdGFydCwgb3BlbkVuZCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzcGxpdChhdCkge1xuICAgICAgICBsZXQgZW5kID0gbmV3IExpbmVWaWV3O1xuICAgICAgICBlbmQuYnJlYWtBZnRlciA9IHRoaXMuYnJlYWtBZnRlcjtcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gZW5kO1xuICAgICAgICBsZXQgeyBpLCBvZmYgfSA9IHRoaXMuY2hpbGRQb3MoYXQpO1xuICAgICAgICBpZiAob2ZmKSB7XG4gICAgICAgICAgICBlbmQuYXBwZW5kKHRoaXMuY2hpbGRyZW5baV0uc3BsaXQob2ZmKSwgMCk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLm1lcmdlKG9mZiwgdGhpcy5jaGlsZHJlbltpXS5sZW5ndGgsIG51bGwsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICBlbmQuYXBwZW5kKHRoaXMuY2hpbGRyZW5bal0sIDApO1xuICAgICAgICB3aGlsZSAoaSA+IDAgJiYgdGhpcy5jaGlsZHJlbltpIC0gMV0ubGVuZ3RoID09IDApXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuWy0taV0uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IGk7XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXQ7XG4gICAgICAgIHJldHVybiBlbmQ7XG4gICAgfVxuICAgIHRyYW5zZmVyRE9NKG90aGVyKSB7XG4gICAgICAgIGlmICghdGhpcy5kb20pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIG90aGVyLnNldERPTSh0aGlzLmRvbSk7XG4gICAgICAgIG90aGVyLnByZXZBdHRycyA9IHRoaXMucHJldkF0dHJzID09PSB1bmRlZmluZWQgPyB0aGlzLmF0dHJzIDogdGhpcy5wcmV2QXR0cnM7XG4gICAgICAgIHRoaXMucHJldkF0dHJzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmRvbSA9IG51bGw7XG4gICAgfVxuICAgIHNldERlY28oYXR0cnMpIHtcbiAgICAgICAgaWYgKCFhdHRyc0VxKHRoaXMuYXR0cnMsIGF0dHJzKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2QXR0cnMgPSB0aGlzLmF0dHJzO1xuICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmF0dHJzID0gYXR0cnM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXBwZW5kKGNoaWxkLCBvcGVuU3RhcnQpIHtcbiAgICAgICAgam9pbklubGluZUludG8odGhpcywgY2hpbGQsIG9wZW5TdGFydCk7XG4gICAgfVxuICAgIC8vIE9ubHkgY2FsbGVkIHdoZW4gYnVpbGRpbmcgYSBsaW5lIHZpZXcgaW4gQ29udGVudEJ1aWxkZXJcbiAgICBhZGRMaW5lRGVjbyhkZWNvKSB7XG4gICAgICAgIGxldCBhdHRycyA9IGRlY28uc3BlYy5hdHRyaWJ1dGVzLCBjbHMgPSBkZWNvLnNwZWMuY2xhc3M7XG4gICAgICAgIGlmIChhdHRycylcbiAgICAgICAgICAgIHRoaXMuYXR0cnMgPSBjb21iaW5lQXR0cnMoYXR0cnMsIHRoaXMuYXR0cnMgfHwge30pO1xuICAgICAgICBpZiAoY2xzKVxuICAgICAgICAgICAgdGhpcy5hdHRycyA9IGNvbWJpbmVBdHRycyh7IGNsYXNzOiBjbHMgfSwgdGhpcy5hdHRycyB8fCB7fSk7XG4gICAgfVxuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICByZXR1cm4gaW5saW5lRE9NQXRQb3ModGhpcywgcG9zKTtcbiAgICB9XG4gICAgcmV1c2VET00obm9kZSkge1xuICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PSBcIkRJVlwiKSB7XG4gICAgICAgICAgICB0aGlzLnNldERPTShub2RlKTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgfD0gNCAvKiBWaWV3RmxhZy5BdHRyc0RpcnR5ICovIHwgMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3luYyh2aWV3LCB0cmFjaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5kb20pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1saW5lXCI7XG4gICAgICAgICAgICB0aGlzLnByZXZBdHRycyA9IHRoaXMuYXR0cnMgPyBudWxsIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmxhZ3MgJiA0IC8qIFZpZXdGbGFnLkF0dHJzRGlydHkgKi8pIHtcbiAgICAgICAgICAgIGNsZWFyQXR0cmlidXRlcyh0aGlzLmRvbSk7XG4gICAgICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcImNtLWxpbmVcIjtcbiAgICAgICAgICAgIHRoaXMucHJldkF0dHJzID0gdGhpcy5hdHRycyA/IG51bGwgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJldkF0dHJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHVwZGF0ZUF0dHJzKHRoaXMuZG9tLCB0aGlzLnByZXZBdHRycywgdGhpcy5hdHRycyk7XG4gICAgICAgICAgICB0aGlzLmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tbGluZVwiKTtcbiAgICAgICAgICAgIHRoaXMucHJldkF0dHJzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLnN5bmModmlldywgdHJhY2spO1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuZG9tLmxhc3RDaGlsZDtcbiAgICAgICAgd2hpbGUgKGxhc3QgJiYgQ29udGVudFZpZXcuZ2V0KGxhc3QpIGluc3RhbmNlb2YgTWFya1ZpZXcpXG4gICAgICAgICAgICBsYXN0ID0gbGFzdC5sYXN0Q2hpbGQ7XG4gICAgICAgIGlmICghbGFzdCB8fCAhdGhpcy5sZW5ndGggfHxcbiAgICAgICAgICAgIGxhc3Qubm9kZU5hbWUgIT0gXCJCUlwiICYmICgoX2EgPSBDb250ZW50Vmlldy5nZXQobGFzdCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0VkaXRhYmxlKSA9PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICghYnJvd3Nlci5pb3MgfHwgIXRoaXMuY2hpbGRyZW4uc29tZShjaCA9PiBjaCBpbnN0YW5jZW9mIFRleHRWaWV3KSkpIHtcbiAgICAgICAgICAgIGxldCBoYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkJSXCIpO1xuICAgICAgICAgICAgaGFjay5jbUlnbm9yZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZChoYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtZWFzdXJlVGV4dFNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PSAwIHx8IHRoaXMubGVuZ3RoID4gMjApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHRvdGFsV2lkdGggPSAwLCB0ZXh0SGVpZ2h0O1xuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoIShjaGlsZCBpbnN0YW5jZW9mIFRleHRWaWV3KSB8fCAvW14gLX5dLy50ZXN0KGNoaWxkLnRleHQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbGV0IHJlY3RzID0gY2xpZW50UmVjdHNGb3IoY2hpbGQuZG9tKTtcbiAgICAgICAgICAgIGlmIChyZWN0cy5sZW5ndGggIT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHRvdGFsV2lkdGggKz0gcmVjdHNbMF0ud2lkdGg7XG4gICAgICAgICAgICB0ZXh0SGVpZ2h0ID0gcmVjdHNbMF0uaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhdG90YWxXaWR0aCA/IG51bGwgOiB7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiB0aGlzLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQsXG4gICAgICAgICAgICBjaGFyV2lkdGg6IHRvdGFsV2lkdGggLyB0aGlzLmxlbmd0aCxcbiAgICAgICAgICAgIHRleHRIZWlnaHRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29vcmRzQXQocG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCByZWN0ID0gY29vcmRzSW5DaGlsZHJlbih0aGlzLCBwb3MsIHNpZGUpO1xuICAgICAgICAvLyBDb3JyZWN0IHJlY3RhbmdsZSBoZWlnaHQgZm9yIGVtcHR5IGxpbmVzIHdoZW4gdGhlIHJldHVybmVkXG4gICAgICAgIC8vIGhlaWdodCBpcyBsYXJnZXIgdGhhbiB0aGUgdGV4dCBoZWlnaHQuXG4gICAgICAgIGlmICghdGhpcy5jaGlsZHJlbi5sZW5ndGggJiYgcmVjdCAmJiB0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgbGV0IHsgaGVpZ2h0T3JhY2xlIH0gPSB0aGlzLnBhcmVudC52aWV3LnZpZXdTdGF0ZSwgaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcDtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhoZWlnaHQgLSBoZWlnaHRPcmFjbGUubGluZUhlaWdodCkgPCAyICYmIGhlaWdodE9yYWNsZS50ZXh0SGVpZ2h0IDwgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRpc3QgPSAoaGVpZ2h0IC0gaGVpZ2h0T3JhY2xlLnRleHRIZWlnaHQpIC8gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0b3A6IHJlY3QudG9wICsgZGlzdCwgYm90dG9tOiByZWN0LmJvdHRvbSAtIGRpc3QsIGxlZnQ6IHJlY3QubGVmdCwgcmlnaHQ6IHJlY3QubGVmdCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cbiAgICBiZWNvbWUoX290aGVyKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGNvdmVycygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBzdGF0aWMgZmluZChkb2NWaWV3LCBwb3MpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG9mZiA9IDA7IGkgPCBkb2NWaWV3LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYmxvY2sgPSBkb2NWaWV3LmNoaWxkcmVuW2ldLCBlbmQgPSBvZmYgKyBibG9jay5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kID49IHBvcykge1xuICAgICAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIExpbmVWaWV3KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmxvY2s7XG4gICAgICAgICAgICAgICAgaWYgKGVuZCA+IHBvcylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmYgPSBlbmQgKyBibG9jay5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmNsYXNzIEJsb2NrV2lkZ2V0VmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcih3aWRnZXQsIGxlbmd0aCwgZGVjbykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLndpZGdldCA9IHdpZGdldDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMuZGVjbyA9IGRlY287XG4gICAgICAgIHRoaXMuYnJlYWtBZnRlciA9IDA7XG4gICAgICAgIHRoaXMucHJldldpZGdldCA9IG51bGw7XG4gICAgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIF90YWtlRGVjbywgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgKCEoc291cmNlIGluc3RhbmNlb2YgQmxvY2tXaWRnZXRWaWV3KSB8fCAhdGhpcy53aWRnZXQuY29tcGFyZShzb3VyY2Uud2lkZ2V0KSB8fFxuICAgICAgICAgICAgZnJvbSA+IDAgJiYgb3BlblN0YXJ0IDw9IDAgfHwgdG8gPCB0aGlzLmxlbmd0aCAmJiBvcGVuRW5kIDw9IDApKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGZyb20gKyAoc291cmNlID8gc291cmNlLmxlbmd0aCA6IDApICsgKHRoaXMubGVuZ3RoIC0gdG8pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZG9tQXRQb3MocG9zKSB7XG4gICAgICAgIHJldHVybiBwb3MgPT0gMCA/IERPTVBvcy5iZWZvcmUodGhpcy5kb20pIDogRE9NUG9zLmFmdGVyKHRoaXMuZG9tLCBwb3MgPT0gdGhpcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzcGxpdChhdCkge1xuICAgICAgICBsZXQgbGVuID0gdGhpcy5sZW5ndGggLSBhdDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBhdDtcbiAgICAgICAgbGV0IGVuZCA9IG5ldyBCbG9ja1dpZGdldFZpZXcodGhpcy53aWRnZXQsIGxlbiwgdGhpcy5kZWNvKTtcbiAgICAgICAgZW5kLmJyZWFrQWZ0ZXIgPSB0aGlzLmJyZWFrQWZ0ZXI7XG4gICAgICAgIHJldHVybiBlbmQ7XG4gICAgfVxuICAgIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIG5vQ2hpbGRyZW47IH1cbiAgICBzeW5jKHZpZXcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRvbSB8fCAhdGhpcy53aWRnZXQudXBkYXRlRE9NKHRoaXMuZG9tLCB2aWV3KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tICYmIHRoaXMucHJldldpZGdldClcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQuZGVzdHJveSh0aGlzLmRvbSk7XG4gICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zZXRET00odGhpcy53aWRnZXQudG9ET00odmlldykpO1xuICAgICAgICAgICAgdGhpcy5kb20uY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvdmVycmlkZURPTVRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LnZpZXcuc3RhdGUuZG9jLnNsaWNlKHRoaXMucG9zQXRTdGFydCwgdGhpcy5wb3NBdEVuZCkgOiBUZXh0LmVtcHR5O1xuICAgIH1cbiAgICBkb21Cb3VuZHNBcm91bmQoKSB7IHJldHVybiBudWxsOyB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIEJsb2NrV2lkZ2V0VmlldyAmJlxuICAgICAgICAgICAgb3RoZXIud2lkZ2V0LmNvbnN0cnVjdG9yID09IHRoaXMud2lkZ2V0LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICBpZiAoIW90aGVyLndpZGdldC5jb21wYXJlKHRoaXMud2lkZ2V0KSlcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSh0cnVlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvbSAmJiAhdGhpcy5wcmV2V2lkZ2V0KVxuICAgICAgICAgICAgICAgIHRoaXMucHJldldpZGdldCA9IHRoaXMud2lkZ2V0O1xuICAgICAgICAgICAgdGhpcy53aWRnZXQgPSBvdGhlci53aWRnZXQ7XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IG90aGVyLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuZGVjbyA9IG90aGVyLmRlY287XG4gICAgICAgICAgICB0aGlzLmJyZWFrQWZ0ZXIgPSBvdGhlci5icmVha0FmdGVyO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZ25vcmVNdXRhdGlvbigpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBpZ25vcmVFdmVudChldmVudCkgeyByZXR1cm4gdGhpcy53aWRnZXQuaWdub3JlRXZlbnQoZXZlbnQpOyB9XG4gICAgZ2V0IGlzRWRpdGFibGUoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBpc1dpZGdldCgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBjb29yZHNBdChwb3MsIHNpZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkZ2V0LmNvb3Jkc0F0KHRoaXMuZG9tLCBwb3MsIHNpZGUpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmRvbSlcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmRlc3Ryb3kodGhpcy5kb20pO1xuICAgIH1cbiAgICBjb3ZlcnMoc2lkZSkge1xuICAgICAgICBsZXQgeyBzdGFydFNpZGUsIGVuZFNpZGUgfSA9IHRoaXMuZGVjbztcbiAgICAgICAgcmV0dXJuIHN0YXJ0U2lkZSA9PSBlbmRTaWRlID8gZmFsc2UgOiBzaWRlIDwgMCA/IHN0YXJ0U2lkZSA8IDAgOiBlbmRTaWRlID4gMDtcbiAgICB9XG59XG5cbi8qKlxuV2lkZ2V0cyBhZGRlZCB0byB0aGUgY29udGVudCBhcmUgZGVzY3JpYmVkIGJ5IHN1YmNsYXNzZXMgb2YgdGhpc1xuY2xhc3MuIFVzaW5nIGEgZGVzY3JpcHRpb24gb2JqZWN0IGxpa2UgdGhhdCBtYWtlcyBpdCBwb3NzaWJsZSB0b1xuZGVsYXkgY3JlYXRpbmcgb2YgdGhlIERPTSBzdHJ1Y3R1cmUgZm9yIGEgd2lkZ2V0IHVudGlsIGl0IGlzXG5uZWVkZWQsIGFuZCB0byBhdm9pZCByZWRyYXdpbmcgd2lkZ2V0cyBldmVuIGlmIHRoZSBkZWNvcmF0aW9uc1xudGhhdCBkZWZpbmUgdGhlbSBhcmUgcmVjcmVhdGVkLlxuKi9cbmNsYXNzIFdpZGdldFR5cGUge1xuICAgIC8qKlxuICAgIENvbXBhcmUgdGhpcyBpbnN0YW5jZSB0byBhbm90aGVyIGluc3RhbmNlIG9mIHRoZSBzYW1lIHR5cGUuXG4gICAgKFR5cGVTY3JpcHQgY2FuJ3QgZXhwcmVzcyB0aGlzLCBidXQgb25seSBpbnN0YW5jZXMgb2YgdGhlIHNhbWVcbiAgICBzcGVjaWZpYyBjbGFzcyB3aWxsIGJlIHBhc3NlZCB0byB0aGlzIG1ldGhvZC4pIFRoaXMgaXMgdXNlZCB0b1xuICAgIGF2b2lkIHJlZHJhd2luZyB3aWRnZXRzIHdoZW4gdGhleSBhcmUgcmVwbGFjZWQgYnkgYSBuZXdcbiAgICBkZWNvcmF0aW9uIG9mIHRoZSBzYW1lIHR5cGUuIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGp1c3RcbiAgICByZXR1cm5zIGBmYWxzZWAsIHdoaWNoIHdpbGwgY2F1c2UgbmV3IGluc3RhbmNlcyBvZiB0aGUgd2lkZ2V0IHRvXG4gICAgYWx3YXlzIGJlIHJlZHJhd24uXG4gICAgKi9cbiAgICBlcSh3aWRnZXQpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgVXBkYXRlIGEgRE9NIGVsZW1lbnQgY3JlYXRlZCBieSBhIHdpZGdldCBvZiB0aGUgc2FtZSB0eXBlIChidXRcbiAgICBkaWZmZXJlbnQsIG5vbi1gZXFgIGNvbnRlbnQpIHRvIHJlZmxlY3QgdGhpcyB3aWRnZXQuIE1heSByZXR1cm5cbiAgICB0cnVlIHRvIGluZGljYXRlIHRoYXQgaXQgY291bGQgdXBkYXRlLCBmYWxzZSB0byBpbmRpY2F0ZSBpdFxuICAgIGNvdWxkbid0IChpbiB3aGljaCBjYXNlIHRoZSB3aWRnZXQgd2lsbCBiZSByZWRyYXduKS4gVGhlIGRlZmF1bHRcbiAgICBpbXBsZW1lbnRhdGlvbiBqdXN0IHJldHVybnMgZmFsc2UuXG4gICAgKi9cbiAgICB1cGRhdGVET00oZG9tLCB2aWV3KSB7IHJldHVybiBmYWxzZTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29tcGFyZShvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcyA9PSBvdGhlciB8fCB0aGlzLmNvbnN0cnVjdG9yID09IG90aGVyLmNvbnN0cnVjdG9yICYmIHRoaXMuZXEob3RoZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZXN0aW1hdGVkIGhlaWdodCB0aGlzIHdpZGdldCB3aWxsIGhhdmUsIHRvIGJlIHVzZWQgd2hlblxuICAgIGVzdGltYXRpbmcgdGhlIGhlaWdodCBvZiBjb250ZW50IHRoYXQgaGFzbid0IGJlZW4gZHJhd24uIE1heVxuICAgIHJldHVybiAtMSB0byBpbmRpY2F0ZSB5b3UgZG9uJ3Qga25vdy4gVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgICByZXR1cm5zIC0xLlxuICAgICovXG4gICAgZ2V0IGVzdGltYXRlZEhlaWdodCgpIHsgcmV0dXJuIC0xOyB9XG4gICAgLyoqXG4gICAgRm9yIGlubGluZSB3aWRnZXRzIHRoYXQgYXJlIGRpc3BsYXllZCBpbmxpbmUgKGFzIG9wcG9zZWQgdG9cbiAgICBgaW5saW5lLWJsb2NrYCkgYW5kIGludHJvZHVjZSBsaW5lIGJyZWFrcyAodGhyb3VnaCBgPGJyPmAgdGFnc1xuICAgIG9yIHRleHR1YWwgbmV3bGluZXMpLCB0aGlzIG11c3QgaW5kaWNhdGUgdGhlIGFtb3VudCBvZiBsaW5lXG4gICAgYnJlYWtzIHRoZXkgaW50cm9kdWNlLiBEZWZhdWx0cyB0byAwLlxuICAgICovXG4gICAgZ2V0IGxpbmVCcmVha3MoKSB7IHJldHVybiAwOyB9XG4gICAgLyoqXG4gICAgQ2FuIGJlIHVzZWQgdG8gY29uZmlndXJlIHdoaWNoIGtpbmRzIG9mIGV2ZW50cyBpbnNpZGUgdGhlIHdpZGdldFxuICAgIHNob3VsZCBiZSBpZ25vcmVkIGJ5IHRoZSBlZGl0b3IuIFRoZSBkZWZhdWx0IGlzIHRvIGlnbm9yZSBhbGxcbiAgICBldmVudHMuXG4gICAgKi9cbiAgICBpZ25vcmVFdmVudChldmVudCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIC8qKlxuICAgIE92ZXJyaWRlIHRoZSB3YXkgc2NyZWVuIGNvb3JkaW5hdGVzIGZvciBwb3NpdGlvbnMgYXQvaW4gdGhlXG4gICAgd2lkZ2V0IGFyZSBmb3VuZC4gYHBvc2Agd2lsbCBiZSB0aGUgb2Zmc2V0IGludG8gdGhlIHdpZGdldCwgYW5kXG4gICAgYHNpZGVgIHRoZSBzaWRlIG9mIHRoZSBwb3NpdGlvbiB0aGF0IGlzIGJlaW5nIHF1ZXJpZWTigJRsZXNzIHRoYW5cbiAgICB6ZXJvIGZvciBiZWZvcmUsIGdyZWF0ZXIgdGhhbiB6ZXJvIGZvciBhZnRlciwgYW5kIHplcm8gZm9yXG4gICAgZGlyZWN0bHkgYXQgdGhhdCBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGNvb3Jkc0F0KGRvbSwgcG9zLCBzaWRlKSB7IHJldHVybiBudWxsOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgaXNIaWRkZW4oKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIC8qKlxuICAgIFRoaXMgaXMgY2FsbGVkIHdoZW4gdGhlIGFuIGluc3RhbmNlIG9mIHRoZSB3aWRnZXQgaXMgcmVtb3ZlZFxuICAgIGZyb20gdGhlIGVkaXRvciB2aWV3LlxuICAgICovXG4gICAgZGVzdHJveShkb20pIHsgfVxufVxuLyoqXG5UaGUgZGlmZmVyZW50IHR5cGVzIG9mIGJsb2NrcyB0aGF0IGNhbiBvY2N1ciBpbiBhbiBlZGl0b3Igdmlldy5cbiovXG52YXIgQmxvY2tUeXBlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmxvY2tUeXBlKSB7XG4gICAgLyoqXG4gICAgQSBsaW5lIG9mIHRleHQuXG4gICAgKi9cbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiVGV4dFwiXSA9IDBdID0gXCJUZXh0XCI7XG4gICAgLyoqXG4gICAgQSBibG9jayB3aWRnZXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBwb3NpdGlvbiBhZnRlciBpdC5cbiAgICAqL1xuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJXaWRnZXRCZWZvcmVcIl0gPSAxXSA9IFwiV2lkZ2V0QmVmb3JlXCI7XG4gICAgLyoqXG4gICAgQSBibG9jayB3aWRnZXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBwb3NpdGlvbiBiZWZvcmUgaXQuXG4gICAgKi9cbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiV2lkZ2V0QWZ0ZXJcIl0gPSAyXSA9IFwiV2lkZ2V0QWZ0ZXJcIjtcbiAgICAvKipcbiAgICBBIGJsb2NrIHdpZGdldCBbcmVwbGFjaW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvbl5yZXBsYWNlKSBhIHJhbmdlIG9mIGNvbnRlbnQuXG4gICAgKi9cbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiV2lkZ2V0UmFuZ2VcIl0gPSAzXSA9IFwiV2lkZ2V0UmFuZ2VcIjtcbnJldHVybiBCbG9ja1R5cGV9KShCbG9ja1R5cGUgfHwgKEJsb2NrVHlwZSA9IHt9KSk7XG4vKipcbkEgZGVjb3JhdGlvbiBwcm92aWRlcyBpbmZvcm1hdGlvbiBvbiBob3cgdG8gZHJhdyBvciBzdHlsZSBhIHBpZWNlXG5vZiBjb250ZW50LiBZb3UnbGwgdXN1YWxseSB1c2UgaXQgd3JhcHBlZCBpbiBhXG5bYFJhbmdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZSksIHdoaWNoIGFkZHMgYSBzdGFydCBhbmQgZW5kIHBvc2l0aW9uLlxuQG5vbmFic3RyYWN0XG4qL1xuY2xhc3MgRGVjb3JhdGlvbiBleHRlbmRzIFJhbmdlVmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhcnRTaWRlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGVuZFNpZGUsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgd2lkZ2V0LCBcbiAgICAvKipcbiAgICBUaGUgY29uZmlnIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIGRlY29yYXRpb24uIFlvdSBjYW5cbiAgICBpbmNsdWRlIGFkZGl0aW9uYWwgcHJvcGVydGllcyBpbiB0aGVyZSB0byBzdG9yZSBtZXRhZGF0YSBhYm91dFxuICAgIHlvdXIgZGVjb3JhdGlvbi5cbiAgICAqL1xuICAgIHNwZWMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGFydFNpZGUgPSBzdGFydFNpZGU7XG4gICAgICAgIHRoaXMuZW5kU2lkZSA9IGVuZFNpZGU7XG4gICAgICAgIHRoaXMud2lkZ2V0ID0gd2lkZ2V0O1xuICAgICAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBoZWlnaHRSZWxldmFudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbWFyayBkZWNvcmF0aW9uLCB3aGljaCBpbmZsdWVuY2VzIHRoZSBzdHlsaW5nIG9mIHRoZVxuICAgIGNvbnRlbnQgaW4gaXRzIHJhbmdlLiBOZXN0ZWQgbWFyayBkZWNvcmF0aW9ucyB3aWxsIGNhdXNlIG5lc3RlZFxuICAgIERPTSBlbGVtZW50cyB0byBiZSBjcmVhdGVkLiBOZXN0aW5nIG9yZGVyIGlzIGRldGVybWluZWQgYnlcbiAgICBwcmVjZWRlbmNlIG9mIHRoZSBbZmFjZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmRlY29yYXRpb25zKSwgd2l0aFxuICAgIHRoZSBoaWdoZXItcHJlY2VkZW5jZSBkZWNvcmF0aW9ucyBjcmVhdGluZyB0aGUgaW5uZXIgRE9NIG5vZGVzLlxuICAgIFN1Y2ggZWxlbWVudHMgYXJlIHNwbGl0IG9uIGxpbmUgYm91bmRhcmllcyBhbmQgb24gdGhlIGJvdW5kYXJpZXNcbiAgICBvZiBsb3dlci1wcmVjZWRlbmNlIGRlY29yYXRpb25zLlxuICAgICovXG4gICAgc3RhdGljIG1hcmsoc3BlYykge1xuICAgICAgICByZXR1cm4gbmV3IE1hcmtEZWNvcmF0aW9uKHNwZWMpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSB3aWRnZXQgZGVjb3JhdGlvbiwgd2hpY2ggZGlzcGxheXMgYSBET00gZWxlbWVudCBhdCB0aGVcbiAgICBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyB3aWRnZXQoc3BlYykge1xuICAgICAgICBsZXQgc2lkZSA9IE1hdGgubWF4KC0xMDAwMCwgTWF0aC5taW4oMTAwMDAsIHNwZWMuc2lkZSB8fCAwKSksIGJsb2NrID0gISFzcGVjLmJsb2NrO1xuICAgICAgICBzaWRlICs9IChibG9jayAmJiAhc3BlYy5pbmxpbmVPcmRlcilcbiAgICAgICAgICAgID8gKHNpZGUgPiAwID8gMzAwMDAwMDAwIC8qIFNpZGUuQmxvY2tBZnRlciAqLyA6IC00MDAwMDAwMDAgLyogU2lkZS5CbG9ja0JlZm9yZSAqLylcbiAgICAgICAgICAgIDogKHNpZGUgPiAwID8gMTAwMDAwMDAwIC8qIFNpZGUuSW5saW5lQWZ0ZXIgKi8gOiAtMTAwMDAwMDAwIC8qIFNpZGUuSW5saW5lQmVmb3JlICovKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludERlY29yYXRpb24oc3BlYywgc2lkZSwgc2lkZSwgYmxvY2ssIHNwZWMud2lkZ2V0IHx8IG51bGwsIGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgcmVwbGFjZSBkZWNvcmF0aW9uIHdoaWNoIHJlcGxhY2VzIHRoZSBnaXZlbiByYW5nZSB3aXRoXG4gICAgYSB3aWRnZXQsIG9yIHNpbXBseSBoaWRlcyBpdC5cbiAgICAqL1xuICAgIHN0YXRpYyByZXBsYWNlKHNwZWMpIHtcbiAgICAgICAgbGV0IGJsb2NrID0gISFzcGVjLmJsb2NrLCBzdGFydFNpZGUsIGVuZFNpZGU7XG4gICAgICAgIGlmIChzcGVjLmlzQmxvY2tHYXApIHtcbiAgICAgICAgICAgIHN0YXJ0U2lkZSA9IC01MDAwMDAwMDAgLyogU2lkZS5HYXBTdGFydCAqLztcbiAgICAgICAgICAgIGVuZFNpZGUgPSA0MDAwMDAwMDAgLyogU2lkZS5HYXBFbmQgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgeyBzdGFydCwgZW5kIH0gPSBnZXRJbmNsdXNpdmUoc3BlYywgYmxvY2spO1xuICAgICAgICAgICAgc3RhcnRTaWRlID0gKHN0YXJ0ID8gKGJsb2NrID8gLTMwMDAwMDAwMCAvKiBTaWRlLkJsb2NrSW5jU3RhcnQgKi8gOiAtMSAvKiBTaWRlLklubGluZUluY1N0YXJ0ICovKSA6IDUwMDAwMDAwMCAvKiBTaWRlLk5vbkluY1N0YXJ0ICovKSAtIDE7XG4gICAgICAgICAgICBlbmRTaWRlID0gKGVuZCA/IChibG9jayA/IDIwMDAwMDAwMCAvKiBTaWRlLkJsb2NrSW5jRW5kICovIDogMSAvKiBTaWRlLklubGluZUluY0VuZCAqLykgOiAtNjAwMDAwMDAwIC8qIFNpZGUuTm9uSW5jRW5kICovKSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludERlY29yYXRpb24oc3BlYywgc3RhcnRTaWRlLCBlbmRTaWRlLCBibG9jaywgc3BlYy53aWRnZXQgfHwgbnVsbCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGxpbmUgZGVjb3JhdGlvbiwgd2hpY2ggY2FuIGFkZCBET00gYXR0cmlidXRlcyB0byB0aGVcbiAgICBsaW5lIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBsaW5lKHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lRGVjb3JhdGlvbihzcGVjKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQnVpbGQgYSBbYERlY29yYXRpb25TZXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvblNldCkgZnJvbSB0aGUgZ2l2ZW5cbiAgICBkZWNvcmF0ZWQgcmFuZ2Ugb3IgcmFuZ2VzLiBJZiB0aGUgcmFuZ2VzIGFyZW4ndCBhbHJlYWR5IHNvcnRlZCxcbiAgICBwYXNzIGB0cnVlYCBmb3IgYHNvcnRgIHRvIG1ha2UgdGhlIGxpYnJhcnkgc29ydCB0aGVtIGZvciB5b3UuXG4gICAgKi9cbiAgICBzdGF0aWMgc2V0KG9mLCBzb3J0ID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlU2V0Lm9mKG9mLCBzb3J0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBoYXNIZWlnaHQoKSB7IHJldHVybiB0aGlzLndpZGdldCA/IHRoaXMud2lkZ2V0LmVzdGltYXRlZEhlaWdodCA+IC0xIDogZmFsc2U7IH1cbn1cbi8qKlxuVGhlIGVtcHR5IHNldCBvZiBkZWNvcmF0aW9ucy5cbiovXG5EZWNvcmF0aW9uLm5vbmUgPSBSYW5nZVNldC5lbXB0eTtcbmNsYXNzIE1hcmtEZWNvcmF0aW9uIGV4dGVuZHMgRGVjb3JhdGlvbiB7XG4gICAgY29uc3RydWN0b3Ioc3BlYykge1xuICAgICAgICBsZXQgeyBzdGFydCwgZW5kIH0gPSBnZXRJbmNsdXNpdmUoc3BlYyk7XG4gICAgICAgIHN1cGVyKHN0YXJ0ID8gLTEgLyogU2lkZS5JbmxpbmVJbmNTdGFydCAqLyA6IDUwMDAwMDAwMCAvKiBTaWRlLk5vbkluY1N0YXJ0ICovLCBlbmQgPyAxIC8qIFNpZGUuSW5saW5lSW5jRW5kICovIDogLTYwMDAwMDAwMCAvKiBTaWRlLk5vbkluY0VuZCAqLywgbnVsbCwgc3BlYyk7XG4gICAgICAgIHRoaXMudGFnTmFtZSA9IHNwZWMudGFnTmFtZSB8fCBcInNwYW5cIjtcbiAgICAgICAgdGhpcy5jbGFzcyA9IHNwZWMuY2xhc3MgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5hdHRycyA9IHNwZWMuYXR0cmlidXRlcyB8fCBudWxsO1xuICAgIH1cbiAgICBlcShvdGhlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gdGhpcyA9PSBvdGhlciB8fFxuICAgICAgICAgICAgb3RoZXIgaW5zdGFuY2VvZiBNYXJrRGVjb3JhdGlvbiAmJlxuICAgICAgICAgICAgICAgIHRoaXMudGFnTmFtZSA9PSBvdGhlci50YWdOYW1lICYmXG4gICAgICAgICAgICAgICAgKHRoaXMuY2xhc3MgfHwgKChfYSA9IHRoaXMuYXR0cnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzcykpID09IChvdGhlci5jbGFzcyB8fCAoKF9iID0gb3RoZXIuYXR0cnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jbGFzcykpICYmXG4gICAgICAgICAgICAgICAgYXR0cnNFcSh0aGlzLmF0dHJzLCBvdGhlci5hdHRycywgXCJjbGFzc1wiKTtcbiAgICB9XG4gICAgcmFuZ2UoZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgICAgIGlmIChmcm9tID49IHRvKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJNYXJrIGRlY29yYXRpb25zIG1heSBub3QgYmUgZW1wdHlcIik7XG4gICAgICAgIHJldHVybiBzdXBlci5yYW5nZShmcm9tLCB0byk7XG4gICAgfVxufVxuTWFya0RlY29yYXRpb24ucHJvdG90eXBlLnBvaW50ID0gZmFsc2U7XG5jbGFzcyBMaW5lRGVjb3JhdGlvbiBleHRlbmRzIERlY29yYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAgICAgc3VwZXIoLTIwMDAwMDAwMCAvKiBTaWRlLkxpbmUgKi8sIC0yMDAwMDAwMDAgLyogU2lkZS5MaW5lICovLCBudWxsLCBzcGVjKTtcbiAgICB9XG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgTGluZURlY29yYXRpb24gJiZcbiAgICAgICAgICAgIHRoaXMuc3BlYy5jbGFzcyA9PSBvdGhlci5zcGVjLmNsYXNzICYmXG4gICAgICAgICAgICBhdHRyc0VxKHRoaXMuc3BlYy5hdHRyaWJ1dGVzLCBvdGhlci5zcGVjLmF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICByYW5nZShmcm9tLCB0byA9IGZyb20pIHtcbiAgICAgICAgaWYgKHRvICE9IGZyb20pXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkxpbmUgZGVjb3JhdGlvbiByYW5nZXMgbXVzdCBiZSB6ZXJvLWxlbmd0aFwiKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnJhbmdlKGZyb20sIHRvKTtcbiAgICB9XG59XG5MaW5lRGVjb3JhdGlvbi5wcm90b3R5cGUubWFwTW9kZSA9IE1hcE1vZGUuVHJhY2tCZWZvcmU7XG5MaW5lRGVjb3JhdGlvbi5wcm90b3R5cGUucG9pbnQgPSB0cnVlO1xuY2xhc3MgUG9pbnREZWNvcmF0aW9uIGV4dGVuZHMgRGVjb3JhdGlvbiB7XG4gICAgY29uc3RydWN0b3Ioc3BlYywgc3RhcnRTaWRlLCBlbmRTaWRlLCBibG9jaywgd2lkZ2V0LCBpc1JlcGxhY2UpIHtcbiAgICAgICAgc3VwZXIoc3RhcnRTaWRlLCBlbmRTaWRlLCB3aWRnZXQsIHNwZWMpO1xuICAgICAgICB0aGlzLmJsb2NrID0gYmxvY2s7XG4gICAgICAgIHRoaXMuaXNSZXBsYWNlID0gaXNSZXBsYWNlO1xuICAgICAgICB0aGlzLm1hcE1vZGUgPSAhYmxvY2sgPyBNYXBNb2RlLlRyYWNrRGVsIDogc3RhcnRTaWRlIDw9IDAgPyBNYXBNb2RlLlRyYWNrQmVmb3JlIDogTWFwTW9kZS5UcmFja0FmdGVyO1xuICAgIH1cbiAgICAvLyBPbmx5IHJlbGV2YW50IHdoZW4gdGhpcy5ibG9jayA9PSB0cnVlXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0U2lkZSAhPSB0aGlzLmVuZFNpZGUgPyBCbG9ja1R5cGUuV2lkZ2V0UmFuZ2VcbiAgICAgICAgICAgIDogdGhpcy5zdGFydFNpZGUgPD0gMCA/IEJsb2NrVHlwZS5XaWRnZXRCZWZvcmUgOiBCbG9ja1R5cGUuV2lkZ2V0QWZ0ZXI7XG4gICAgfVxuICAgIGdldCBoZWlnaHRSZWxldmFudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2sgfHwgISF0aGlzLndpZGdldCAmJiAodGhpcy53aWRnZXQuZXN0aW1hdGVkSGVpZ2h0ID49IDUgfHwgdGhpcy53aWRnZXQubGluZUJyZWFrcyA+IDApO1xuICAgIH1cbiAgICBlcShvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBQb2ludERlY29yYXRpb24gJiZcbiAgICAgICAgICAgIHdpZGdldHNFcSh0aGlzLndpZGdldCwgb3RoZXIud2lkZ2V0KSAmJlxuICAgICAgICAgICAgdGhpcy5ibG9jayA9PSBvdGhlci5ibG9jayAmJlxuICAgICAgICAgICAgdGhpcy5zdGFydFNpZGUgPT0gb3RoZXIuc3RhcnRTaWRlICYmIHRoaXMuZW5kU2lkZSA9PSBvdGhlci5lbmRTaWRlO1xuICAgIH1cbiAgICByYW5nZShmcm9tLCB0byA9IGZyb20pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSZXBsYWNlICYmIChmcm9tID4gdG8gfHwgKGZyb20gPT0gdG8gJiYgdGhpcy5zdGFydFNpZGUgPiAwICYmIHRoaXMuZW5kU2lkZSA8PSAwKSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgcmFuZ2UgZm9yIHJlcGxhY2VtZW50IGRlY29yYXRpb25cIik7XG4gICAgICAgIGlmICghdGhpcy5pc1JlcGxhY2UgJiYgdG8gIT0gZnJvbSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiV2lkZ2V0IGRlY29yYXRpb25zIGNhbiBvbmx5IGhhdmUgemVyby1sZW5ndGggcmFuZ2VzXCIpO1xuICAgICAgICByZXR1cm4gc3VwZXIucmFuZ2UoZnJvbSwgdG8pO1xuICAgIH1cbn1cblBvaW50RGVjb3JhdGlvbi5wcm90b3R5cGUucG9pbnQgPSB0cnVlO1xuZnVuY3Rpb24gZ2V0SW5jbHVzaXZlKHNwZWMsIGJsb2NrID0gZmFsc2UpIHtcbiAgICBsZXQgeyBpbmNsdXNpdmVTdGFydDogc3RhcnQsIGluY2x1c2l2ZUVuZDogZW5kIH0gPSBzcGVjO1xuICAgIGlmIChzdGFydCA9PSBudWxsKVxuICAgICAgICBzdGFydCA9IHNwZWMuaW5jbHVzaXZlO1xuICAgIGlmIChlbmQgPT0gbnVsbClcbiAgICAgICAgZW5kID0gc3BlYy5pbmNsdXNpdmU7XG4gICAgcmV0dXJuIHsgc3RhcnQ6IHN0YXJ0ICE9PSBudWxsICYmIHN0YXJ0ICE9PSB2b2lkIDAgPyBzdGFydCA6IGJsb2NrLCBlbmQ6IGVuZCAhPT0gbnVsbCAmJiBlbmQgIT09IHZvaWQgMCA/IGVuZCA6IGJsb2NrIH07XG59XG5mdW5jdGlvbiB3aWRnZXRzRXEoYSwgYikge1xuICAgIHJldHVybiBhID09IGIgfHwgISEoYSAmJiBiICYmIGEuY29tcGFyZShiKSk7XG59XG5mdW5jdGlvbiBhZGRSYW5nZShmcm9tLCB0bywgcmFuZ2VzLCBtYXJnaW4gPSAwKSB7XG4gICAgbGV0IGxhc3QgPSByYW5nZXMubGVuZ3RoIC0gMTtcbiAgICBpZiAobGFzdCA+PSAwICYmIHJhbmdlc1tsYXN0XSArIG1hcmdpbiA+PSBmcm9tKVxuICAgICAgICByYW5nZXNbbGFzdF0gPSBNYXRoLm1heChyYW5nZXNbbGFzdF0sIHRvKTtcbiAgICBlbHNlXG4gICAgICAgIHJhbmdlcy5wdXNoKGZyb20sIHRvKTtcbn1cblxuY2xhc3MgQ29udGVudEJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKGRvYywgcG9zLCBlbmQsIGRpc2FsbG93QmxvY2tFZmZlY3RzRm9yKSB7XG4gICAgICAgIHRoaXMuZG9jID0gZG9jO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgICAgIHRoaXMuZGlzYWxsb3dCbG9ja0VmZmVjdHNGb3IgPSBkaXNhbGxvd0Jsb2NrRWZmZWN0c0ZvcjtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gW107XG4gICAgICAgIHRoaXMuY3VyTGluZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYnJlYWtBdFN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyID0gMCAvKiBCdWYuTm8gKi87XG4gICAgICAgIHRoaXMuYnVmZmVyTWFya3MgPSBbXTtcbiAgICAgICAgLy8gU2V0IHRvIGZhbHNlIGRpcmVjdGx5IGFmdGVyIGEgd2lkZ2V0IHRoYXQgY292ZXJzIHRoZSBwb3NpdGlvbiBhZnRlciBpdFxuICAgICAgICB0aGlzLmF0Q3Vyc29yUG9zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vcGVuU3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy5vcGVuRW5kID0gLTE7XG4gICAgICAgIHRoaXMudGV4dCA9IFwiXCI7XG4gICAgICAgIHRoaXMudGV4dE9mZiA9IDA7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gZG9jLml0ZXIoKTtcbiAgICAgICAgdGhpcy5za2lwID0gcG9zO1xuICAgIH1cbiAgICBwb3NDb3ZlcmVkKCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50Lmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmJyZWFrQXRTdGFydCAmJiB0aGlzLmRvYy5saW5lQXQodGhpcy5wb3MpLmZyb20gIT0gdGhpcy5wb3M7XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuICEobGFzdC5icmVha0FmdGVyIHx8IGxhc3QgaW5zdGFuY2VvZiBCbG9ja1dpZGdldFZpZXcgJiYgbGFzdC5kZWNvLmVuZFNpZGUgPCAwKTtcbiAgICB9XG4gICAgZ2V0TGluZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1ckxpbmUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5wdXNoKHRoaXMuY3VyTGluZSA9IG5ldyBMaW5lVmlldyk7XG4gICAgICAgICAgICB0aGlzLmF0Q3Vyc29yUG9zID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jdXJMaW5lO1xuICAgIH1cbiAgICBmbHVzaEJ1ZmZlcihhY3RpdmUgPSB0aGlzLmJ1ZmZlck1hcmtzKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY3VyTGluZS5hcHBlbmQod3JhcE1hcmtzKG5ldyBXaWRnZXRCdWZmZXJWaWV3KC0xKSwgYWN0aXZlKSwgYWN0aXZlLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXIgPSAwIC8qIEJ1Zi5ObyAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRCbG9ja1dpZGdldCh2aWV3KSB7XG4gICAgICAgIHRoaXMuZmx1c2hCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5jdXJMaW5lID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZW50LnB1c2godmlldyk7XG4gICAgfVxuICAgIGZpbmlzaChvcGVuRW5kKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdCdWZmZXIgJiYgb3BlbkVuZCA8PSB0aGlzLmJ1ZmZlck1hcmtzLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuZmx1c2hCdWZmZXIoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyID0gMCAvKiBCdWYuTm8gKi87XG4gICAgICAgIGlmICghdGhpcy5wb3NDb3ZlcmVkKCkgJiZcbiAgICAgICAgICAgICEob3BlbkVuZCAmJiB0aGlzLmNvbnRlbnQubGVuZ3RoICYmIHRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMV0gaW5zdGFuY2VvZiBCbG9ja1dpZGdldFZpZXcpKVxuICAgICAgICAgICAgdGhpcy5nZXRMaW5lKCk7XG4gICAgfVxuICAgIGJ1aWxkVGV4dChsZW5ndGgsIGFjdGl2ZSwgb3BlblN0YXJ0KSB7XG4gICAgICAgIHdoaWxlIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0T2ZmID09IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgeyB2YWx1ZSwgbGluZUJyZWFrLCBkb25lIH0gPSB0aGlzLmN1cnNvci5uZXh0KHRoaXMuc2tpcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmFuIG91dCBvZiB0ZXh0IGNvbnRlbnQgd2hlbiBkcmF3aW5nIGlubGluZSB2aWV3c1wiKTtcbiAgICAgICAgICAgICAgICBpZiAobGluZUJyZWFrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5wb3NDb3ZlcmVkKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aCAtIDFdLmJyZWFrQWZ0ZXIgPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyZWFrQXRTdGFydCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJMaW5lID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRPZmYgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0YWtlID0gTWF0aC5taW4odGhpcy50ZXh0Lmxlbmd0aCAtIHRoaXMudGV4dE9mZiwgbGVuZ3RoLCA1MTIgLyogVC5DaHVuayAqLyk7XG4gICAgICAgICAgICB0aGlzLmZsdXNoQnVmZmVyKGFjdGl2ZS5zbGljZShhY3RpdmUubGVuZ3RoIC0gb3BlblN0YXJ0KSk7XG4gICAgICAgICAgICB0aGlzLmdldExpbmUoKS5hcHBlbmQod3JhcE1hcmtzKG5ldyBUZXh0Vmlldyh0aGlzLnRleHQuc2xpY2UodGhpcy50ZXh0T2ZmLCB0aGlzLnRleHRPZmYgKyB0YWtlKSksIGFjdGl2ZSksIG9wZW5TdGFydCk7XG4gICAgICAgICAgICB0aGlzLmF0Q3Vyc29yUG9zID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudGV4dE9mZiArPSB0YWtlO1xuICAgICAgICAgICAgbGVuZ3RoIC09IHRha2U7XG4gICAgICAgICAgICBvcGVuU3RhcnQgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNwYW4oZnJvbSwgdG8sIGFjdGl2ZSwgb3BlblN0YXJ0KSB7XG4gICAgICAgIHRoaXMuYnVpbGRUZXh0KHRvIC0gZnJvbSwgYWN0aXZlLCBvcGVuU3RhcnQpO1xuICAgICAgICB0aGlzLnBvcyA9IHRvO1xuICAgICAgICBpZiAodGhpcy5vcGVuU3RhcnQgPCAwKVxuICAgICAgICAgICAgdGhpcy5vcGVuU3RhcnQgPSBvcGVuU3RhcnQ7XG4gICAgfVxuICAgIHBvaW50KGZyb20sIHRvLCBkZWNvLCBhY3RpdmUsIG9wZW5TdGFydCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlzYWxsb3dCbG9ja0VmZmVjdHNGb3JbaW5kZXhdICYmIGRlY28gaW5zdGFuY2VvZiBQb2ludERlY29yYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChkZWNvLmJsb2NrKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQmxvY2sgZGVjb3JhdGlvbnMgbWF5IG5vdCBiZSBzcGVjaWZpZWQgdmlhIHBsdWdpbnNcIik7XG4gICAgICAgICAgICBpZiAodG8gPiB0aGlzLmRvYy5saW5lQXQodGhpcy5wb3MpLnRvKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRGVjb3JhdGlvbnMgdGhhdCByZXBsYWNlIGxpbmUgYnJlYWtzIG1heSBub3QgYmUgc3BlY2lmaWVkIHZpYSBwbHVnaW5zXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsZW4gPSB0byAtIGZyb207XG4gICAgICAgIGlmIChkZWNvIGluc3RhbmNlb2YgUG9pbnREZWNvcmF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZGVjby5ibG9jaykge1xuICAgICAgICAgICAgICAgIGlmIChkZWNvLnN0YXJ0U2lkZSA+IDAgJiYgIXRoaXMucG9zQ292ZXJlZCgpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJsb2NrV2lkZ2V0KG5ldyBCbG9ja1dpZGdldFZpZXcoZGVjby53aWRnZXQgfHwgbmV3IE51bGxXaWRnZXQoXCJkaXZcIiksIGxlbiwgZGVjbykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHZpZXcgPSBXaWRnZXRWaWV3LmNyZWF0ZShkZWNvLndpZGdldCB8fCBuZXcgTnVsbFdpZGdldChcInNwYW5cIiksIGxlbiwgbGVuID8gMCA6IGRlY28uc3RhcnRTaWRlKTtcbiAgICAgICAgICAgICAgICBsZXQgY3Vyc29yQmVmb3JlID0gdGhpcy5hdEN1cnNvclBvcyAmJiAhdmlldy5pc0VkaXRhYmxlICYmIG9wZW5TdGFydCA8PSBhY3RpdmUubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgIChmcm9tIDwgdG8gfHwgZGVjby5zdGFydFNpZGUgPiAwKTtcbiAgICAgICAgICAgICAgICBsZXQgY3Vyc29yQWZ0ZXIgPSAhdmlldy5pc0VkaXRhYmxlICYmIChmcm9tIDwgdG8gfHwgb3BlblN0YXJ0ID4gYWN0aXZlLmxlbmd0aCB8fCBkZWNvLnN0YXJ0U2lkZSA8PSAwKTtcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IHRoaXMuZ2V0TGluZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdCdWZmZXIgPT0gMiAvKiBCdWYuSWZDdXJzb3IgKi8gJiYgIWN1cnNvckJlZm9yZSAmJiAhdmlldy5pc0VkaXRhYmxlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXIgPSAwIC8qIEJ1Zi5ObyAqLztcbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoQnVmZmVyKGFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvckJlZm9yZSkge1xuICAgICAgICAgICAgICAgICAgICBsaW5lLmFwcGVuZCh3cmFwTWFya3MobmV3IFdpZGdldEJ1ZmZlclZpZXcoMSksIGFjdGl2ZSksIG9wZW5TdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIG9wZW5TdGFydCA9IGFjdGl2ZS5sZW5ndGggKyBNYXRoLm1heCgwLCBvcGVuU3RhcnQgLSBhY3RpdmUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGluZS5hcHBlbmQod3JhcE1hcmtzKHZpZXcsIGFjdGl2ZSksIG9wZW5TdGFydCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IGN1cnNvckFmdGVyO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlciA9ICFjdXJzb3JBZnRlciA/IDAgLyogQnVmLk5vICovIDogZnJvbSA8IHRvIHx8IG9wZW5TdGFydCA+IGFjdGl2ZS5sZW5ndGggPyAxIC8qIEJ1Zi5ZZXMgKi8gOiAyIC8qIEJ1Zi5JZkN1cnNvciAqLztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQnVmZmVyKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlck1hcmtzID0gYWN0aXZlLnNsaWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5kb2MubGluZUF0KHRoaXMucG9zKS5mcm9tID09IHRoaXMucG9zKSB7IC8vIExpbmUgZGVjb3JhdGlvblxuICAgICAgICAgICAgdGhpcy5nZXRMaW5lKCkuYWRkTGluZURlY28oZGVjbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbikge1xuICAgICAgICAgICAgLy8gQWR2YW5jZSB0aGUgaXRlcmF0b3IgcGFzdCB0aGUgcmVwbGFjZWQgY29udGVudFxuICAgICAgICAgICAgaWYgKHRoaXMudGV4dE9mZiArIGxlbiA8PSB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T2ZmICs9IGxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcCArPSBsZW4gLSAodGhpcy50ZXh0Lmxlbmd0aCAtIHRoaXMudGV4dE9mZik7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRPZmYgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wb3MgPSB0bztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcGVuU3RhcnQgPCAwKVxuICAgICAgICAgICAgdGhpcy5vcGVuU3RhcnQgPSBvcGVuU3RhcnQ7XG4gICAgfVxuICAgIHN0YXRpYyBidWlsZCh0ZXh0LCBmcm9tLCB0bywgZGVjb3JhdGlvbnMsIGR5bmFtaWNEZWNvcmF0aW9uTWFwKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IENvbnRlbnRCdWlsZGVyKHRleHQsIGZyb20sIHRvLCBkeW5hbWljRGVjb3JhdGlvbk1hcCk7XG4gICAgICAgIGJ1aWxkZXIub3BlbkVuZCA9IFJhbmdlU2V0LnNwYW5zKGRlY29yYXRpb25zLCBmcm9tLCB0bywgYnVpbGRlcik7XG4gICAgICAgIGlmIChidWlsZGVyLm9wZW5TdGFydCA8IDApXG4gICAgICAgICAgICBidWlsZGVyLm9wZW5TdGFydCA9IGJ1aWxkZXIub3BlbkVuZDtcbiAgICAgICAgYnVpbGRlci5maW5pc2goYnVpbGRlci5vcGVuRW5kKTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxufVxuZnVuY3Rpb24gd3JhcE1hcmtzKHZpZXcsIGFjdGl2ZSkge1xuICAgIGZvciAobGV0IG1hcmsgb2YgYWN0aXZlKVxuICAgICAgICB2aWV3ID0gbmV3IE1hcmtWaWV3KG1hcmssIFt2aWV3XSwgdmlldy5sZW5ndGgpO1xuICAgIHJldHVybiB2aWV3O1xufVxuY2xhc3MgTnVsbFdpZGdldCBleHRlbmRzIFdpZGdldFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKHRhZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRhZyA9IHRhZztcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIG90aGVyLnRhZyA9PSB0aGlzLnRhZzsgfVxuICAgIHRvRE9NKCkgeyByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLnRhZyk7IH1cbiAgICB1cGRhdGVET00oZWx0KSB7IHJldHVybiBlbHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSB0aGlzLnRhZzsgfVxuICAgIGdldCBpc0hpZGRlbigpIHsgcmV0dXJuIHRydWU7IH1cbn1cblxuY29uc3QgY2xpY2tBZGRzU2VsZWN0aW9uUmFuZ2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBkcmFnTW92ZXNTZWxlY3Rpb24kMSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IG1vdXNlU2VsZWN0aW9uU3R5bGUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBleGNlcHRpb25TaW5rID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgdXBkYXRlTGlzdGVuZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBpbnB1dEhhbmRsZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBmb2N1c0NoYW5nZUVmZmVjdCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IHBlckxpbmVUZXh0RGlyZWN0aW9uID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5zb21lKHggPT4geClcbn0pO1xuY29uc3QgbmF0aXZlU2VsZWN0aW9uSGlkZGVuID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5zb21lKHggPT4geClcbn0pO1xuY2xhc3MgU2Nyb2xsVGFyZ2V0IHtcbiAgICBjb25zdHJ1Y3RvcihyYW5nZSwgeSA9IFwibmVhcmVzdFwiLCB4ID0gXCJuZWFyZXN0XCIsIHlNYXJnaW4gPSA1LCB4TWFyZ2luID0gNSkge1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueU1hcmdpbiA9IHlNYXJnaW47XG4gICAgICAgIHRoaXMueE1hcmdpbiA9IHhNYXJnaW47XG4gICAgfVxuICAgIG1hcChjaGFuZ2VzKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VzLmVtcHR5ID8gdGhpcyA6IG5ldyBTY3JvbGxUYXJnZXQodGhpcy5yYW5nZS5tYXAoY2hhbmdlcyksIHRoaXMueSwgdGhpcy54LCB0aGlzLnlNYXJnaW4sIHRoaXMueE1hcmdpbik7XG4gICAgfVxufVxuY29uc3Qgc2Nyb2xsSW50b1ZpZXcgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKHsgbWFwOiAodCwgY2gpID0+IHQubWFwKGNoKSB9KTtcbi8qKlxuTG9nIG9yIHJlcG9ydCBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uIGluIGNsaWVudCBjb2RlLiBTaG91bGRcbnByb2JhYmx5IG9ubHkgYmUgdXNlZCBieSBleHRlbnNpb24gY29kZSB0aGF0IGFsbG93cyBjbGllbnQgY29kZSB0b1xucHJvdmlkZSBmdW5jdGlvbnMsIGFuZCBjYWxscyB0aG9zZSBmdW5jdGlvbnMgaW4gYSBjb250ZXh0IHdoZXJlIGFuXG5leGNlcHRpb24gY2FuJ3QgYmUgcHJvcGFnYXRlZCB0byBjYWxsaW5nIGNvZGUgaW4gYSByZWFzb25hYmxlIHdheVxuKGZvciBleGFtcGxlIHdoZW4gaW4gYW4gZXZlbnQgaGFuZGxlcikuXG5cbkVpdGhlciBjYWxscyBhIGhhbmRsZXIgcmVnaXN0ZXJlZCB3aXRoXG5bYEVkaXRvclZpZXcuZXhjZXB0aW9uU2lua2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmV4Y2VwdGlvblNpbmspLFxuYHdpbmRvdy5vbmVycm9yYCwgaWYgZGVmaW5lZCwgb3IgYGNvbnNvbGUuZXJyb3JgIChpbiB3aGljaCBjYXNlXG5pdCdsbCBwYXNzIGBjb250ZXh0YCwgd2hlbiBnaXZlbiwgYXMgZmlyc3QgYXJndW1lbnQpLlxuKi9cbmZ1bmN0aW9uIGxvZ0V4Y2VwdGlvbihzdGF0ZSwgZXhjZXB0aW9uLCBjb250ZXh0KSB7XG4gICAgbGV0IGhhbmRsZXIgPSBzdGF0ZS5mYWNldChleGNlcHRpb25TaW5rKTtcbiAgICBpZiAoaGFuZGxlci5sZW5ndGgpXG4gICAgICAgIGhhbmRsZXJbMF0oZXhjZXB0aW9uKTtcbiAgICBlbHNlIGlmICh3aW5kb3cub25lcnJvcilcbiAgICAgICAgd2luZG93Lm9uZXJyb3IoU3RyaW5nKGV4Y2VwdGlvbiksIGNvbnRleHQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBleGNlcHRpb24pO1xuICAgIGVsc2UgaWYgKGNvbnRleHQpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoY29udGV4dCArIFwiOlwiLCBleGNlcHRpb24pO1xuICAgIGVsc2VcbiAgICAgICAgY29uc29sZS5lcnJvcihleGNlcHRpb24pO1xufVxuY29uc3QgZWRpdGFibGUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbMF0gOiB0cnVlIH0pO1xubGV0IG5leHRQbHVnaW5JRCA9IDA7XG5jb25zdCB2aWV3UGx1Z2luID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLyoqXG5WaWV3IHBsdWdpbnMgYXNzb2NpYXRlIHN0YXRlZnVsIHZhbHVlcyB3aXRoIGEgdmlldy4gVGhleSBjYW5cbmluZmx1ZW5jZSB0aGUgd2F5IHRoZSBjb250ZW50IGlzIGRyYXduLCBhbmQgYXJlIG5vdGlmaWVkIG9mIHRoaW5nc1xudGhhdCBoYXBwZW4gaW4gdGhlIHZpZXcuXG4qL1xuY2xhc3MgVmlld1BsdWdpbiB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBpZCwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjcmVhdGUsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZG9tRXZlbnRIYW5kbGVycywgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBkb21FdmVudE9ic2VydmVycywgYnVpbGRFeHRlbnNpb25zKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5jcmVhdGUgPSBjcmVhdGU7XG4gICAgICAgIHRoaXMuZG9tRXZlbnRIYW5kbGVycyA9IGRvbUV2ZW50SGFuZGxlcnM7XG4gICAgICAgIHRoaXMuZG9tRXZlbnRPYnNlcnZlcnMgPSBkb21FdmVudE9ic2VydmVycztcbiAgICAgICAgdGhpcy5leHRlbnNpb24gPSBidWlsZEV4dGVuc2lvbnModGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIHBsdWdpbiBmcm9tIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIHRoZVxuICAgIHBsdWdpbidzIHZhbHVlLCBnaXZlbiBhbiBlZGl0b3Igdmlldy5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoY3JlYXRlLCBzcGVjKSB7XG4gICAgICAgIGNvbnN0IHsgZXZlbnRIYW5kbGVycywgZXZlbnRPYnNlcnZlcnMsIHByb3ZpZGUsIGRlY29yYXRpb25zOiBkZWNvIH0gPSBzcGVjIHx8IHt9O1xuICAgICAgICByZXR1cm4gbmV3IFZpZXdQbHVnaW4obmV4dFBsdWdpbklEKyssIGNyZWF0ZSwgZXZlbnRIYW5kbGVycywgZXZlbnRPYnNlcnZlcnMsIHBsdWdpbiA9PiB7XG4gICAgICAgICAgICBsZXQgZXh0ID0gW3ZpZXdQbHVnaW4ub2YocGx1Z2luKV07XG4gICAgICAgICAgICBpZiAoZGVjbylcbiAgICAgICAgICAgICAgICBleHQucHVzaChkZWNvcmF0aW9ucy5vZih2aWV3ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsdWdpbkluc3QgPSB2aWV3LnBsdWdpbihwbHVnaW4pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGx1Z2luSW5zdCA/IGRlY28ocGx1Z2luSW5zdCkgOiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKHByb3ZpZGUpXG4gICAgICAgICAgICAgICAgZXh0LnB1c2gocHJvdmlkZShwbHVnaW4pKTtcbiAgICAgICAgICAgIHJldHVybiBleHQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBwbHVnaW4gZm9yIGEgY2xhc3Mgd2hvc2UgY29uc3RydWN0b3IgdGFrZXMgYSBzaW5nbGVcbiAgICBlZGl0b3IgdmlldyBhcyBhcmd1bWVudC5cbiAgICAqL1xuICAgIHN0YXRpYyBmcm9tQ2xhc3MoY2xzLCBzcGVjKSB7XG4gICAgICAgIHJldHVybiBWaWV3UGx1Z2luLmRlZmluZSh2aWV3ID0+IG5ldyBjbHModmlldyksIHNwZWMpO1xuICAgIH1cbn1cbmNsYXNzIFBsdWdpbkluc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihzcGVjKSB7XG4gICAgICAgIHRoaXMuc3BlYyA9IHNwZWM7XG4gICAgICAgIC8vIFdoZW4gc3RhcnRpbmcgYW4gdXBkYXRlLCBhbGwgcGx1Z2lucyBoYXZlIHRoaXMgZmllbGQgc2V0IHRvIHRoZVxuICAgICAgICAvLyB1cGRhdGUgb2JqZWN0LCBpbmRpY2F0aW5nIHRoZXkgbmVlZCB0byBiZSB1cGRhdGVkLiBXaGVuIGZpbmlzaGVkXG4gICAgICAgIC8vIHVwZGF0aW5nLCBpdCBpcyBzZXQgdG8gYGZhbHNlYC4gUmV0cmlldmluZyBhIHBsdWdpbiB0aGF0IG5lZWRzIHRvXG4gICAgICAgIC8vIGJlIHVwZGF0ZWQgd2l0aCBgdmlldy5wbHVnaW5gIGZvcmNlcyBhbiBlYWdlciB1cGRhdGUuXG4gICAgICAgIHRoaXMubXVzdFVwZGF0ZSA9IG51bGw7XG4gICAgICAgIC8vIFRoaXMgaXMgbnVsbCB3aGVuIHRoZSBwbHVnaW4gaXMgaW5pdGlhbGx5IGNyZWF0ZWQsIGJ1dFxuICAgICAgICAvLyBpbml0aWFsaXplZCBvbiB0aGUgZmlyc3QgdXBkYXRlLlxuICAgICAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgICB9XG4gICAgdXBkYXRlKHZpZXcpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zcGVjKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuc3BlYy5jcmVhdGUodmlldyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih2aWV3LnN0YXRlLCBlLCBcIkNvZGVNaXJyb3IgcGx1Z2luIGNyYXNoZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm11c3RVcGRhdGUpIHtcbiAgICAgICAgICAgIGxldCB1cGRhdGUgPSB0aGlzLm11c3RVcGRhdGU7XG4gICAgICAgICAgICB0aGlzLm11c3RVcGRhdGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUudXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZS51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHVwZGF0ZS5zdGF0ZSwgZSwgXCJDb2RlTWlycm9yIHBsdWdpbiBjcmFzaGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZS5kZXN0cm95KVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZXN0cm95KHZpZXcpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoKF9hID0gdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3kpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih2aWV3LnN0YXRlLCBlLCBcIkNvZGVNaXJyb3IgcGx1Z2luIGNyYXNoZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5zcGVjID0gdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgfVxufVxuY29uc3QgZWRpdG9yQXR0cmlidXRlcyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGNvbnRlbnRBdHRyaWJ1dGVzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLy8gUHJvdmlkZSBkZWNvcmF0aW9uc1xuY29uc3QgZGVjb3JhdGlvbnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBhdG9taWNSYW5nZXMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBiaWRpSXNvbGF0ZWRSYW5nZXMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5mdW5jdGlvbiBnZXRJc29sYXRlZFJhbmdlcyh2aWV3LCBmcm9tLCB0bykge1xuICAgIGxldCBpc29sYXRlcyA9IHZpZXcuc3RhdGUuZmFjZXQoYmlkaUlzb2xhdGVkUmFuZ2VzKTtcbiAgICBpZiAoIWlzb2xhdGVzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGlzb2xhdGVzO1xuICAgIGxldCBzZXRzID0gaXNvbGF0ZXMubWFwKGkgPT4gaSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gaSh2aWV3KSA6IGkpO1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBSYW5nZVNldC5zcGFucyhzZXRzLCBmcm9tLCB0bywge1xuICAgICAgICBwb2ludCgpIHsgfSxcbiAgICAgICAgc3Bhbihmcm9tLCB0bywgYWN0aXZlLCBvcGVuKSB7XG4gICAgICAgICAgICBsZXQgbGV2ZWwgPSByZXN1bHQ7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gYWN0aXZlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tLCBvcGVuLS0pIHtcbiAgICAgICAgICAgICAgICBsZXQgaXNvID0gYWN0aXZlW2ldLnNwZWMuYmlkaUlzb2xhdGUsIHVwZGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNvID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChvcGVuID4gMCAmJiBsZXZlbC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgKHVwZGF0ZSA9IGxldmVsW2xldmVsLmxlbmd0aCAtIDFdKS50byA9PSBmcm9tICYmIHVwZGF0ZS5kaXJlY3Rpb24gPT0gaXNvKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZS50byA9IHRvO1xuICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IHVwZGF0ZS5pbm5lcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhZGQgPSB7IGZyb20sIHRvLCBkaXJlY3Rpb246IGlzbywgaW5uZXI6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgIGxldmVsLnB1c2goYWRkKTtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwgPSBhZGQuaW5uZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IHNjcm9sbE1hcmdpbnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5mdW5jdGlvbiBnZXRTY3JvbGxNYXJnaW5zKHZpZXcpIHtcbiAgICBsZXQgbGVmdCA9IDAsIHJpZ2h0ID0gMCwgdG9wID0gMCwgYm90dG9tID0gMDtcbiAgICBmb3IgKGxldCBzb3VyY2Ugb2Ygdmlldy5zdGF0ZS5mYWNldChzY3JvbGxNYXJnaW5zKSkge1xuICAgICAgICBsZXQgbSA9IHNvdXJjZSh2aWV3KTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIGlmIChtLmxlZnQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICBsZWZ0ID0gTWF0aC5tYXgobGVmdCwgbS5sZWZ0KTtcbiAgICAgICAgICAgIGlmIChtLnJpZ2h0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgcmlnaHQgPSBNYXRoLm1heChyaWdodCwgbS5yaWdodCk7XG4gICAgICAgICAgICBpZiAobS50b3AgIT0gbnVsbClcbiAgICAgICAgICAgICAgICB0b3AgPSBNYXRoLm1heCh0b3AsIG0udG9wKTtcbiAgICAgICAgICAgIGlmIChtLmJvdHRvbSAhPSBudWxsKVxuICAgICAgICAgICAgICAgIGJvdHRvbSA9IE1hdGgubWF4KGJvdHRvbSwgbS5ib3R0b20pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSB9O1xufVxuY29uc3Qgc3R5bGVNb2R1bGUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jbGFzcyBDaGFuZ2VkUmFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGZyb21BLCB0b0EsIGZyb21CLCB0b0IpIHtcbiAgICAgICAgdGhpcy5mcm9tQSA9IGZyb21BO1xuICAgICAgICB0aGlzLnRvQSA9IHRvQTtcbiAgICAgICAgdGhpcy5mcm9tQiA9IGZyb21CO1xuICAgICAgICB0aGlzLnRvQiA9IHRvQjtcbiAgICB9XG4gICAgam9pbihvdGhlcikge1xuICAgICAgICByZXR1cm4gbmV3IENoYW5nZWRSYW5nZShNYXRoLm1pbih0aGlzLmZyb21BLCBvdGhlci5mcm9tQSksIE1hdGgubWF4KHRoaXMudG9BLCBvdGhlci50b0EpLCBNYXRoLm1pbih0aGlzLmZyb21CLCBvdGhlci5mcm9tQiksIE1hdGgubWF4KHRoaXMudG9CLCBvdGhlci50b0IpKTtcbiAgICB9XG4gICAgYWRkVG9TZXQoc2V0KSB7XG4gICAgICAgIGxldCBpID0gc2V0Lmxlbmd0aCwgbWUgPSB0aGlzO1xuICAgICAgICBmb3IgKDsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gc2V0W2kgLSAxXTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5mcm9tQSA+IG1lLnRvQSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChyYW5nZS50b0EgPCBtZS5mcm9tQSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIG1lID0gbWUuam9pbihyYW5nZSk7XG4gICAgICAgICAgICBzZXQuc3BsaWNlKGkgLSAxLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQuc3BsaWNlKGksIDAsIG1lKTtcbiAgICAgICAgcmV0dXJuIHNldDtcbiAgICB9XG4gICAgc3RhdGljIGV4dGVuZFdpdGhSYW5nZXMoZGlmZiwgcmFuZ2VzKSB7XG4gICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBkSSA9IDAsIHJJID0gMCwgcG9zQSA9IDAsIHBvc0IgPSAwOzsgZEkrKykge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBkSSA9PSBkaWZmLmxlbmd0aCA/IG51bGwgOiBkaWZmW2RJXSwgb2ZmID0gcG9zQSAtIHBvc0I7XG4gICAgICAgICAgICBsZXQgZW5kID0gbmV4dCA/IG5leHQuZnJvbUIgOiAxZTk7XG4gICAgICAgICAgICB3aGlsZSAockkgPCByYW5nZXMubGVuZ3RoICYmIHJhbmdlc1tySV0gPCBlbmQpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHJhbmdlc1tySV0sIHRvID0gcmFuZ2VzW3JJICsgMV07XG4gICAgICAgICAgICAgICAgbGV0IGZyb21CID0gTWF0aC5tYXgocG9zQiwgZnJvbSksIHRvQiA9IE1hdGgubWluKGVuZCwgdG8pO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tQiA8PSB0b0IpXG4gICAgICAgICAgICAgICAgICAgIG5ldyBDaGFuZ2VkUmFuZ2UoZnJvbUIgKyBvZmYsIHRvQiArIG9mZiwgZnJvbUIsIHRvQikuYWRkVG9TZXQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBpZiAodG8gPiBlbmQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgckkgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmV4dClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgbmV3IENoYW5nZWRSYW5nZShuZXh0LmZyb21BLCBuZXh0LnRvQSwgbmV4dC5mcm9tQiwgbmV4dC50b0IpLmFkZFRvU2V0KHJlc3VsdCk7XG4gICAgICAgICAgICBwb3NBID0gbmV4dC50b0E7XG4gICAgICAgICAgICBwb3NCID0gbmV4dC50b0I7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcblZpZXcgW3BsdWdpbnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5WaWV3UGx1Z2luKSBhcmUgZ2l2ZW4gaW5zdGFuY2VzIG9mIHRoaXNcbmNsYXNzLCB3aGljaCBkZXNjcmliZSB3aGF0IGhhcHBlbmVkLCB3aGVuZXZlciB0aGUgdmlldyBpcyB1cGRhdGVkLlxuKi9cbmNsYXNzIFZpZXdVcGRhdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBlZGl0b3IgdmlldyB0aGF0IHRoZSB1cGRhdGUgaXMgYXNzb2NpYXRlZCB3aXRoLlxuICAgICovXG4gICAgdmlldywgXG4gICAgLyoqXG4gICAgVGhlIG5ldyBlZGl0b3Igc3RhdGUuXG4gICAgKi9cbiAgICBzdGF0ZSwgXG4gICAgLyoqXG4gICAgVGhlIHRyYW5zYWN0aW9ucyBpbnZvbHZlZCBpbiB0aGUgdXBkYXRlLiBNYXkgYmUgZW1wdHkuXG4gICAgKi9cbiAgICB0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9ucyA9IHRyYW5zYWN0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmZsYWdzID0gMDtcbiAgICAgICAgdGhpcy5zdGFydFN0YXRlID0gdmlldy5zdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gQ2hhbmdlU2V0LmVtcHR5KHRoaXMuc3RhcnRTdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgdHIgb2YgdHJhbnNhY3Rpb25zKVxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VzID0gdGhpcy5jaGFuZ2VzLmNvbXBvc2UodHIuY2hhbmdlcyk7XG4gICAgICAgIGxldCBjaGFuZ2VkUmFuZ2VzID0gW107XG4gICAgICAgIHRoaXMuY2hhbmdlcy5pdGVyQ2hhbmdlZFJhbmdlcygoZnJvbUEsIHRvQSwgZnJvbUIsIHRvQikgPT4gY2hhbmdlZFJhbmdlcy5wdXNoKG5ldyBDaGFuZ2VkUmFuZ2UoZnJvbUEsIHRvQSwgZnJvbUIsIHRvQikpKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkUmFuZ2VzID0gY2hhbmdlZFJhbmdlcztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKHZpZXcsIHN0YXRlLCB0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3VXBkYXRlKHZpZXcsIHN0YXRlLCB0cmFuc2FjdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICBUZWxscyB5b3Ugd2hldGhlciB0aGUgW3ZpZXdwb3J0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy52aWV3cG9ydCkgb3JcbiAgICBbdmlzaWJsZSByYW5nZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnZpc2libGVSYW5nZXMpIGNoYW5nZWQgaW4gdGhpc1xuICAgIHVwZGF0ZS5cbiAgICAqL1xuICAgIGdldCB2aWV3cG9ydENoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5mbGFncyAmIDQgLyogVXBkYXRlRmxhZy5WaWV3cG9ydCAqLykgPiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGUgaGVpZ2h0IG9mIGEgYmxvY2sgZWxlbWVudCBpbiB0aGUgZWRpdG9yXG4gICAgY2hhbmdlZCBpbiB0aGlzIHVwZGF0ZS5cbiAgICAqL1xuICAgIGdldCBoZWlnaHRDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovKSA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBkb2N1bWVudCB3YXMgbW9kaWZpZWQgb3IgdGhlIHNpemUgb2YgdGhlXG4gICAgZWRpdG9yLCBvciBlbGVtZW50cyB3aXRoaW4gdGhlIGVkaXRvciwgY2hhbmdlZC5cbiAgICAqL1xuICAgIGdldCBnZW9tZXRyeUNoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY0NoYW5nZWQgfHwgKHRoaXMuZmxhZ3MgJiAoOCAvKiBVcGRhdGVGbGFnLkdlb21ldHJ5ICovIHwgMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLykpID4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgVHJ1ZSB3aGVuIHRoaXMgdXBkYXRlIGluZGljYXRlcyBhIGZvY3VzIGNoYW5nZS5cbiAgICAqL1xuICAgIGdldCBmb2N1c0NoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5mbGFncyAmIDEgLyogVXBkYXRlRmxhZy5Gb2N1cyAqLykgPiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBXaGV0aGVyIHRoZSBkb2N1bWVudCBjaGFuZ2VkIGluIHRoaXMgdXBkYXRlLlxuICAgICovXG4gICAgZ2V0IGRvY0NoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5jaGFuZ2VzLmVtcHR5O1xuICAgIH1cbiAgICAvKipcbiAgICBXaGV0aGVyIHRoZSBzZWxlY3Rpb24gd2FzIGV4cGxpY2l0bHkgc2V0IGluIHRoaXMgdXBkYXRlLlxuICAgICovXG4gICAgZ2V0IHNlbGVjdGlvblNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNhY3Rpb25zLnNvbWUodHIgPT4gdHIuc2VsZWN0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgZW1wdHkoKSB7IHJldHVybiB0aGlzLmZsYWdzID09IDAgJiYgdGhpcy50cmFuc2FjdGlvbnMubGVuZ3RoID09IDA7IH1cbn1cblxuLyoqXG5Vc2VkIHRvIGluZGljYXRlIFt0ZXh0IGRpcmVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcudGV4dERpcmVjdGlvbikuXG4qL1xudmFyIERpcmVjdGlvbiA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKERpcmVjdGlvbikge1xuICAgIC8vIChUaGVzZSBhcmUgY2hvc2VuIHRvIG1hdGNoIHRoZSBiYXNlIGxldmVscywgaW4gYmlkaSBhbGdvcml0aG1cbiAgICAvLyB0ZXJtcywgb2Ygc3BhbnMgaW4gdGhhdCBkaXJlY3Rpb24uKVxuICAgIC8qKlxuICAgIExlZnQtdG8tcmlnaHQuXG4gICAgKi9cbiAgICBEaXJlY3Rpb25bRGlyZWN0aW9uW1wiTFRSXCJdID0gMF0gPSBcIkxUUlwiO1xuICAgIC8qKlxuICAgIFJpZ2h0LXRvLWxlZnQuXG4gICAgKi9cbiAgICBEaXJlY3Rpb25bRGlyZWN0aW9uW1wiUlRMXCJdID0gMV0gPSBcIlJUTFwiO1xucmV0dXJuIERpcmVjdGlvbn0pKERpcmVjdGlvbiB8fCAoRGlyZWN0aW9uID0ge30pKTtcbmNvbnN0IExUUiA9IERpcmVjdGlvbi5MVFIsIFJUTCA9IERpcmVjdGlvbi5SVEw7XG4vLyBEZWNvZGUgYSBzdHJpbmcgd2l0aCBlYWNoIHR5cGUgZW5jb2RlZCBhcyBsb2cyKHR5cGUpXG5mdW5jdGlvbiBkZWMoc3RyKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKVxuICAgICAgICByZXN1bHQucHVzaCgxIDw8ICtzdHJbaV0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBDaGFyYWN0ZXIgdHlwZXMgZm9yIGNvZGVwb2ludHMgMCB0byAweGY4XG5jb25zdCBMb3dUeXBlcyA9IC8qQF9fUFVSRV9fKi9kZWMoXCI4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODY2Njg4ODg4ODc4NzgzMzMzMzMzMzMzNzg4ODg4ODAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODg4ODg4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4Nzg2NjY2ODg4ODA4ODg4ODY2MzM4MDg4ODMwODg4ODgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOFwiKTtcbi8vIENoYXJhY3RlciB0eXBlcyBmb3IgY29kZXBvaW50cyAweDYwMCB0byAweDZmOVxuY29uc3QgQXJhYmljVHlwZXMgPSAvKkBfX1BVUkVfXyovZGVjKFwiNDQ0NDQ0ODgyNjYyNzI4ODk5OTk5OTk5OTk5MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyOTk5OTk5OTk5OTk5OTk5OTk5OTk5NDQ0NDQ0NDQ0NDY0NDIyMjgyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjk5OTk5OTk0OTk5OTk5OTIyOTk4OTk5OTIyMzMzMzMzMzMzM1wiKTtcbmNvbnN0IEJyYWNrZXRzID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCksIEJyYWNrZXRTdGFjayA9IFtdO1xuLy8gVGhlcmUncyBhIGxvdCBtb3JlIGluXG4vLyBodHRwczovL3d3dy51bmljb2RlLm9yZy9QdWJsaWMvVUNEL2xhdGVzdC91Y2QvQmlkaUJyYWNrZXRzLnR4dCxcbi8vIHdoaWNoIGFyZSBsZWZ0IG91dCB0byBrZWVwIGNvZGUgc2l6ZSBkb3duLlxuZm9yIChsZXQgcCBvZiBbXCIoKVwiLCBcIltdXCIsIFwie31cIl0pIHtcbiAgICBsZXQgbCA9IC8qQF9fUFVSRV9fKi9wLmNoYXJDb2RlQXQoMCksIHIgPSAvKkBfX1BVUkVfXyovcC5jaGFyQ29kZUF0KDEpO1xuICAgIEJyYWNrZXRzW2xdID0gcjtcbiAgICBCcmFja2V0c1tyXSA9IC1sO1xufVxuZnVuY3Rpb24gY2hhclR5cGUoY2gpIHtcbiAgICByZXR1cm4gY2ggPD0gMHhmNyA/IExvd1R5cGVzW2NoXSA6XG4gICAgICAgIDB4NTkwIDw9IGNoICYmIGNoIDw9IDB4NWY0ID8gMiAvKiBULlIgKi8gOlxuICAgICAgICAgICAgMHg2MDAgPD0gY2ggJiYgY2ggPD0gMHg2ZjkgPyBBcmFiaWNUeXBlc1tjaCAtIDB4NjAwXSA6XG4gICAgICAgICAgICAgICAgMHg2ZWUgPD0gY2ggJiYgY2ggPD0gMHg4YWMgPyA0IC8qIFQuQUwgKi8gOlxuICAgICAgICAgICAgICAgICAgICAweDIwMDAgPD0gY2ggJiYgY2ggPD0gMHgyMDBiID8gMjU2IC8qIFQuTkkgKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgMHhmYjUwIDw9IGNoICYmIGNoIDw9IDB4ZmRmZiA/IDQgLyogVC5BTCAqLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ggPT0gMHgyMDBjID8gMjU2IC8qIFQuTkkgKi8gOiAxIC8qIFQuTCAqLztcbn1cbmNvbnN0IEJpZGlSRSA9IC9bXFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MDcwMC1cXHUwOGFjXFx1ZmI1MC1cXHVmZGZmXS87XG4vKipcblJlcHJlc2VudHMgYSBjb250aWd1b3VzIHJhbmdlIG9mIHRleHQgdGhhdCBoYXMgYSBzaW5nbGUgZGlyZWN0aW9uXG4oYXMgaW4gbGVmdC10by1yaWdodCBvciByaWdodC10by1sZWZ0KS5cbiovXG5jbGFzcyBCaWRpU3BhbiB7XG4gICAgLyoqXG4gICAgVGhlIGRpcmVjdGlvbiBvZiB0aGlzIHNwYW4uXG4gICAgKi9cbiAgICBnZXQgZGlyKCkgeyByZXR1cm4gdGhpcy5sZXZlbCAlIDIgPyBSVEwgOiBMVFI7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBzdGFydCBvZiB0aGUgc3BhbiAocmVsYXRpdmUgdG8gdGhlIHN0YXJ0IG9mIHRoZSBsaW5lKS5cbiAgICAqL1xuICAgIGZyb20sIFxuICAgIC8qKlxuICAgIFRoZSBlbmQgb2YgdGhlIHNwYW4uXG4gICAgKi9cbiAgICB0bywgXG4gICAgLyoqXG4gICAgVGhlIFtcImJpZGlcbiAgICBsZXZlbFwiXShodHRwczovL3VuaWNvZGUub3JnL3JlcG9ydHMvdHI5LyNCYXNpY19EaXNwbGF5X0FsZ29yaXRobSlcbiAgICBvZiB0aGUgc3BhbiAoaW4gdGhpcyBjb250ZXh0LCAwIG1lYW5zXG4gICAgbGVmdC10by1yaWdodCwgMSBtZWFucyByaWdodC10by1sZWZ0LCAyIG1lYW5zIGxlZnQtdG8tcmlnaHRcbiAgICBudW1iZXIgaW5zaWRlIHJpZ2h0LXRvLWxlZnQgdGV4dCkuXG4gICAgKi9cbiAgICBsZXZlbCkge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzaWRlKGVuZCwgZGlyKSB7IHJldHVybiAodGhpcy5kaXIgPT0gZGlyKSA9PSBlbmQgPyB0aGlzLnRvIDogdGhpcy5mcm9tOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgZmluZChvcmRlciwgaW5kZXgsIGxldmVsLCBhc3NvYykge1xuICAgICAgICBsZXQgbWF5YmUgPSAtMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcmRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNwYW4gPSBvcmRlcltpXTtcbiAgICAgICAgICAgIGlmIChzcGFuLmZyb20gPD0gaW5kZXggJiYgc3Bhbi50byA+PSBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChzcGFuLmxldmVsID09IGxldmVsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIG11bHRpcGxlIHNwYW5zIG1hdGNoLCBpZiBhc3NvYyAhPSAwLCB0YWtlIHRoZSBvbmUgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGNvdmVycyB0aGF0IHNpZGUsIG90aGVyd2lzZSB0YWtlIHRoZSBvbmUgd2l0aCB0aGUgbWluaW11bVxuICAgICAgICAgICAgICAgIC8vIGxldmVsLlxuICAgICAgICAgICAgICAgIGlmIChtYXliZSA8IDAgfHwgKGFzc29jICE9IDAgPyAoYXNzb2MgPCAwID8gc3Bhbi5mcm9tIDwgaW5kZXggOiBzcGFuLnRvID4gaW5kZXgpIDogb3JkZXJbbWF5YmVdLmxldmVsID4gc3Bhbi5sZXZlbCkpXG4gICAgICAgICAgICAgICAgICAgIG1heWJlID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF5YmUgPCAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7XG4gICAgICAgIHJldHVybiBtYXliZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc29sYXRlc0VxKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGlBID0gYVtpXSwgaUIgPSBiW2ldO1xuICAgICAgICBpZiAoaUEuZnJvbSAhPSBpQi5mcm9tIHx8IGlBLnRvICE9IGlCLnRvIHx8IGlBLmRpcmVjdGlvbiAhPSBpQi5kaXJlY3Rpb24gfHwgIWlzb2xhdGVzRXEoaUEuaW5uZXIsIGlCLmlubmVyKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyBSZXVzZWQgYXJyYXkgb2YgY2hhcmFjdGVyIHR5cGVzXG5jb25zdCB0eXBlcyA9IFtdO1xuLy8gRmlsbCBpbiB0aGUgY2hhcmFjdGVyIHR5cGVzIChpbiBgdHlwZXNgKSBmcm9tIGBmcm9tYCB0byBgdG9gIGFuZFxuLy8gYXBwbHkgVyBub3JtYWxpemF0aW9uIHJ1bGVzLlxuZnVuY3Rpb24gY29tcHV0ZUNoYXJUeXBlcyhsaW5lLCByRnJvbSwgclRvLCBpc29sYXRlcywgb3V0ZXJUeXBlKSB7XG4gICAgZm9yIChsZXQgaUkgPSAwOyBpSSA8PSBpc29sYXRlcy5sZW5ndGg7IGlJKyspIHtcbiAgICAgICAgbGV0IGZyb20gPSBpSSA/IGlzb2xhdGVzW2lJIC0gMV0udG8gOiByRnJvbSwgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICBsZXQgcHJldlR5cGUgPSBpSSA/IDI1NiAvKiBULk5JICovIDogb3V0ZXJUeXBlO1xuICAgICAgICAvLyBXMS4gRXhhbWluZSBlYWNoIG5vbi1zcGFjaW5nIG1hcmsgKE5TTSkgaW4gdGhlIGxldmVsIHJ1biwgYW5kXG4gICAgICAgIC8vIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgTlNNIHRvIHRoZSB0eXBlIG9mIHRoZSBwcmV2aW91c1xuICAgICAgICAvLyBjaGFyYWN0ZXIuIElmIHRoZSBOU00gaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBsZXZlbCBydW4sIGl0IHdpbGxcbiAgICAgICAgLy8gZ2V0IHRoZSB0eXBlIG9mIHNvci5cbiAgICAgICAgLy8gVzIuIFNlYXJjaCBiYWNrd2FyZHMgZnJvbSBlYWNoIGluc3RhbmNlIG9mIGEgRXVyb3BlYW4gbnVtYmVyXG4gICAgICAgIC8vIHVudGlsIHRoZSBmaXJzdCBzdHJvbmcgdHlwZSAoUiwgTCwgQUwsIG9yIHNvcikgaXMgZm91bmQuIElmIGFuXG4gICAgICAgIC8vIEFMIGlzIGZvdW5kLCBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIEV1cm9wZWFuIG51bWJlciB0byBBcmFiaWNcbiAgICAgICAgLy8gbnVtYmVyLlxuICAgICAgICAvLyBXMy4gQ2hhbmdlIGFsbCBBTHMgdG8gUi5cbiAgICAgICAgLy8gKExlZnQgYWZ0ZXIgdGhpczogTCwgUiwgRU4sIEFOLCBFVCwgQ1MsIE5JKVxuICAgICAgICBmb3IgKGxldCBpID0gZnJvbSwgcHJldiA9IHByZXZUeXBlLCBwcmV2U3Ryb25nID0gcHJldlR5cGU7IGkgPCB0bzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IGNoYXJUeXBlKGxpbmUuY2hhckNvZGVBdChpKSk7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSA1MTIgLyogVC5OU00gKi8pXG4gICAgICAgICAgICAgICAgdHlwZSA9IHByZXY7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IDggLyogVC5FTiAqLyAmJiBwcmV2U3Ryb25nID09IDQgLyogVC5BTCAqLylcbiAgICAgICAgICAgICAgICB0eXBlID0gMTYgLyogVC5BTiAqLztcbiAgICAgICAgICAgIHR5cGVzW2ldID0gdHlwZSA9PSA0IC8qIFQuQUwgKi8gPyAyIC8qIFQuUiAqLyA6IHR5cGU7XG4gICAgICAgICAgICBpZiAodHlwZSAmIDcgLyogVC5TdHJvbmcgKi8pXG4gICAgICAgICAgICAgICAgcHJldlN0cm9uZyA9IHR5cGU7XG4gICAgICAgICAgICBwcmV2ID0gdHlwZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXNS4gQSBzZXF1ZW5jZSBvZiBFdXJvcGVhbiB0ZXJtaW5hdG9ycyBhZGphY2VudCB0byBFdXJvcGVhblxuICAgICAgICAvLyBudW1iZXJzIGNoYW5nZXMgdG8gYWxsIEV1cm9wZWFuIG51bWJlcnMuXG4gICAgICAgIC8vIFc2LiBPdGhlcndpc2UsIHNlcGFyYXRvcnMgYW5kIHRlcm1pbmF0b3JzIGNoYW5nZSB0byBPdGhlclxuICAgICAgICAvLyBOZXV0cmFsLlxuICAgICAgICAvLyBXNy4gU2VhcmNoIGJhY2t3YXJkcyBmcm9tIGVhY2ggaW5zdGFuY2Ugb2YgYSBFdXJvcGVhbiBudW1iZXJcbiAgICAgICAgLy8gdW50aWwgdGhlIGZpcnN0IHN0cm9uZyB0eXBlIChSLCBMLCBvciBzb3IpIGlzIGZvdW5kLiBJZiBhbiBMIGlzXG4gICAgICAgIC8vIGZvdW5kLCB0aGVuIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgRXVyb3BlYW4gbnVtYmVyIHRvIEwuXG4gICAgICAgIC8vIChMZWZ0IGFmdGVyIHRoaXM6IEwsIFIsIEVOK0FOLCBOSSlcbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb20sIHByZXYgPSBwcmV2VHlwZSwgcHJldlN0cm9uZyA9IHByZXZUeXBlOyBpIDwgdG87IGkrKykge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlID09IDEyOCAvKiBULkNTICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPCB0byAtIDEgJiYgcHJldiA9PSB0eXBlc1tpICsgMV0gJiYgKHByZXYgJiAyNCAvKiBULk51bSAqLykpXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlc1tpXSA9IHByZXY7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0eXBlc1tpXSA9IDI1NiAvKiBULk5JICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSA2NCAvKiBULkVUICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIHdoaWxlIChlbmQgPCB0byAmJiB0eXBlc1tlbmRdID09IDY0IC8qIFQuRVQgKi8pXG4gICAgICAgICAgICAgICAgICAgIGVuZCsrO1xuICAgICAgICAgICAgICAgIGxldCByZXBsYWNlID0gKGkgJiYgcHJldiA9PSA4IC8qIFQuRU4gKi8pIHx8IChlbmQgPCByVG8gJiYgdHlwZXNbZW5kXSA9PSA4IC8qIFQuRU4gKi8pID8gKHByZXZTdHJvbmcgPT0gMSAvKiBULkwgKi8gPyAxIC8qIFQuTCAqLyA6IDggLyogVC5FTiAqLykgOiAyNTYgLyogVC5OSSAqLztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IGVuZDsgaisrKVxuICAgICAgICAgICAgICAgICAgICB0eXBlc1tqXSA9IHJlcGxhY2U7XG4gICAgICAgICAgICAgICAgaSA9IGVuZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IDggLyogVC5FTiAqLyAmJiBwcmV2U3Ryb25nID09IDEgLyogVC5MICovKSB7XG4gICAgICAgICAgICAgICAgdHlwZXNbaV0gPSAxIC8qIFQuTCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXYgPSB0eXBlO1xuICAgICAgICAgICAgaWYgKHR5cGUgJiA3IC8qIFQuU3Ryb25nICovKVxuICAgICAgICAgICAgICAgIHByZXZTdHJvbmcgPSB0eXBlO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gUHJvY2VzcyBicmFja2V0cyB0aHJvdWdob3V0IGEgcnVuIHNlcXVlbmNlLlxuZnVuY3Rpb24gcHJvY2Vzc0JyYWNrZXRQYWlycyhsaW5lLCByRnJvbSwgclRvLCBpc29sYXRlcywgb3V0ZXJUeXBlKSB7XG4gICAgbGV0IG9wcG9zaXRlVHlwZSA9IG91dGVyVHlwZSA9PSAxIC8qIFQuTCAqLyA/IDIgLyogVC5SICovIDogMSAvKiBULkwgKi87XG4gICAgZm9yIChsZXQgaUkgPSAwLCBzSSA9IDAsIGNvbnRleHQgPSAwOyBpSSA8PSBpc29sYXRlcy5sZW5ndGg7IGlJKyspIHtcbiAgICAgICAgbGV0IGZyb20gPSBpSSA/IGlzb2xhdGVzW2lJIC0gMV0udG8gOiByRnJvbSwgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICAvLyBOMC4gUHJvY2VzcyBicmFja2V0IHBhaXJzIGluIGFuIGlzb2xhdGluZyBydW4gc2VxdWVuY2VcbiAgICAgICAgLy8gc2VxdWVudGlhbGx5IGluIHRoZSBsb2dpY2FsIG9yZGVyIG9mIHRoZSB0ZXh0IHBvc2l0aW9ucyBvZiB0aGVcbiAgICAgICAgLy8gb3BlbmluZyBwYWlyZWQgYnJhY2tldHMgdXNpbmcgdGhlIGxvZ2ljIGdpdmVuIGJlbG93LiBXaXRoaW4gdGhpc1xuICAgICAgICAvLyBzY29wZSwgYmlkaXJlY3Rpb25hbCB0eXBlcyBFTiBhbmQgQU4gYXJlIHRyZWF0ZWQgYXMgUi5cbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb20sIGNoLCBiciwgdHlwZTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgIC8vIEtlZXBzIFtzdGFydEluZGV4LCB0eXBlLCBzdHJvbmdTZWVuXSB0cmlwbGVzIGZvciBlYWNoIG9wZW5cbiAgICAgICAgICAgIC8vIGJyYWNrZXQgb24gQnJhY2tldFN0YWNrLlxuICAgICAgICAgICAgaWYgKGJyID0gQnJhY2tldHNbY2ggPSBsaW5lLmNoYXJDb2RlQXQoaSldKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJyIDwgMCkgeyAvLyBDbG9zaW5nIGJyYWNrZXRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgc0ogPSBzSSAtIDM7IHNKID49IDA7IHNKIC09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChCcmFja2V0U3RhY2tbc0ogKyAxXSA9PSAtYnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmxhZ3MgPSBCcmFja2V0U3RhY2tbc0ogKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IChmbGFncyAmIDIgLyogQnJhY2tldGVkLkVtYmVkSW5zaWRlICovKSA/IG91dGVyVHlwZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoZmxhZ3MgJiA0IC8qIEJyYWNrZXRlZC5PcHBvc2l0ZUluc2lkZSAqLykgPyAwIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmbGFncyAmIDEgLyogQnJhY2tldGVkLk9wcG9zaXRlQmVmb3JlICovKSA/IG9wcG9zaXRlVHlwZSA6IG91dGVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZXNbaV0gPSB0eXBlc1tCcmFja2V0U3RhY2tbc0pdXSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc0kgPSBzSjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChCcmFja2V0U3RhY2subGVuZ3RoID09IDE4OSAvKiBCcmFja2V0ZWQuTWF4RGVwdGggKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0krK10gPSBpO1xuICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0krK10gPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgQnJhY2tldFN0YWNrW3NJKytdID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgodHlwZSA9IHR5cGVzW2ldKSA9PSAyIC8qIFQuUiAqLyB8fCB0eXBlID09IDEgLyogVC5MICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVtYmVkID0gdHlwZSA9PSBvdXRlclR5cGU7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGVtYmVkID8gMCA6IDEgLyogQnJhY2tldGVkLk9wcG9zaXRlQmVmb3JlICovO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHNKID0gc0kgLSAzOyBzSiA+PSAwOyBzSiAtPSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXIgPSBCcmFja2V0U3RhY2tbc0ogKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ciAmIDIgLyogQnJhY2tldGVkLkVtYmVkSW5zaWRlICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQnJhY2tldFN0YWNrW3NKICsgMl0gfD0gMiAvKiBCcmFja2V0ZWQuRW1iZWRJbnNpZGUgKi87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyICYgNCAvKiBCcmFja2V0ZWQuT3Bwb3NpdGVJbnNpZGUgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0ogKyAyXSB8PSA0IC8qIEJyYWNrZXRlZC5PcHBvc2l0ZUluc2lkZSAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHByb2Nlc3NOZXV0cmFscyhyRnJvbSwgclRvLCBpc29sYXRlcywgb3V0ZXJUeXBlKSB7XG4gICAgZm9yIChsZXQgaUkgPSAwLCBwcmV2ID0gb3V0ZXJUeXBlOyBpSSA8PSBpc29sYXRlcy5sZW5ndGg7IGlJKyspIHtcbiAgICAgICAgbGV0IGZyb20gPSBpSSA/IGlzb2xhdGVzW2lJIC0gMV0udG8gOiByRnJvbSwgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICAvLyBOMS4gQSBzZXF1ZW5jZSBvZiBuZXV0cmFscyB0YWtlcyB0aGUgZGlyZWN0aW9uIG9mIHRoZVxuICAgICAgICAvLyBzdXJyb3VuZGluZyBzdHJvbmcgdGV4dCBpZiB0aGUgdGV4dCBvbiBib3RoIHNpZGVzIGhhcyB0aGUgc2FtZVxuICAgICAgICAvLyBkaXJlY3Rpb24uIEV1cm9wZWFuIGFuZCBBcmFiaWMgbnVtYmVycyBhY3QgYXMgaWYgdGhleSB3ZXJlIFIgaW5cbiAgICAgICAgLy8gdGVybXMgb2YgdGhlaXIgaW5mbHVlbmNlIG9uIG5ldXRyYWxzLiBTdGFydC1vZi1sZXZlbC1ydW4gKHNvcilcbiAgICAgICAgLy8gYW5kIGVuZC1vZi1sZXZlbC1ydW4gKGVvcikgYXJlIHVzZWQgYXQgbGV2ZWwgcnVuIGJvdW5kYXJpZXMuXG4gICAgICAgIC8vIE4yLiBBbnkgcmVtYWluaW5nIG5ldXRyYWxzIHRha2UgdGhlIGVtYmVkZGluZyBkaXJlY3Rpb24uXG4gICAgICAgIC8vIChMZWZ0IGFmdGVyIHRoaXM6IEwsIFIsIEVOK0FOKVxuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOykge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlID09IDI1NiAvKiBULk5JICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCA9PSB0bykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlJID09IGlzb2xhdGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGlzb2xhdGVzW2lJKytdLnRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVzW2VuZF0gPT0gMjU2IC8qIFQuTkkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGJlZm9yZUwgPSBwcmV2ID09IDEgLyogVC5MICovO1xuICAgICAgICAgICAgICAgIGxldCBhZnRlckwgPSAoZW5kIDwgclRvID8gdHlwZXNbZW5kXSA6IG91dGVyVHlwZSkgPT0gMSAvKiBULkwgKi87XG4gICAgICAgICAgICAgICAgbGV0IHJlcGxhY2UgPSBiZWZvcmVMID09IGFmdGVyTCA/IChiZWZvcmVMID8gMSAvKiBULkwgKi8gOiAyIC8qIFQuUiAqLykgOiBvdXRlclR5cGU7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGVuZCwgakkgPSBpSSwgZnJvbUogPSBqSSA/IGlzb2xhdGVzW2pJIC0gMV0udG8gOiByRnJvbTsgaiA+IGk7KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqID09IGZyb21KKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqID0gaXNvbGF0ZXNbLS1qSV0uZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21KID0gakkgPyBpc29sYXRlc1tqSSAtIDFdLnRvIDogckZyb207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHlwZXNbLS1qXSA9IHJlcGxhY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGkgPSBlbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmV2ID0gdHlwZTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBGaW5kIHRoZSBjb250aWd1b3VzIHJhbmdlcyBvZiBjaGFyYWN0ZXIgdHlwZXMgaW4gYSBnaXZlbiByYW5nZSwgYW5kXG4vLyBlbWl0IHNwYW5zIGZvciB0aGVtLiBGbGlwIHRoZSBvcmRlciBvZiB0aGUgc3BhbnMgYXMgYXBwcm9wcmlhdGVcbi8vIGJhc2VkIG9uIHRoZSBsZXZlbCwgYW5kIGNhbGwgdGhyb3VnaCB0byBjb21wdXRlIHRoZSBzcGFucyBmb3Jcbi8vIGlzb2xhdGVzIGF0IHRoZSBwcm9wZXIgcG9pbnQuXG5mdW5jdGlvbiBlbWl0U3BhbnMobGluZSwgZnJvbSwgdG8sIGxldmVsLCBiYXNlTGV2ZWwsIGlzb2xhdGVzLCBvcmRlcikge1xuICAgIGxldCBvdXJUeXBlID0gbGV2ZWwgJSAyID8gMiAvKiBULlIgKi8gOiAxIC8qIFQuTCAqLztcbiAgICBpZiAoKGxldmVsICUgMikgPT0gKGJhc2VMZXZlbCAlIDIpKSB7IC8vIFNhbWUgZGlyIGFzIGJhc2UgZGlyZWN0aW9uLCBkb24ndCBmbGlwXG4gICAgICAgIGZvciAobGV0IGlDaCA9IGZyb20sIGlJID0gMDsgaUNoIDwgdG87KSB7XG4gICAgICAgICAgICAvLyBTY2FuIGEgc2VjdGlvbiBvZiBjaGFyYWN0ZXJzIGluIGRpcmVjdGlvbiBvdXJUeXBlLCB1bmxlc3NcbiAgICAgICAgICAgIC8vIHRoZXJlJ3MgYW5vdGhlciB0eXBlIG9mIGNoYXIgcmlnaHQgYWZ0ZXIgaUNoLCBpbiB3aGljaCBjYXNlXG4gICAgICAgICAgICAvLyB3ZSBzY2FuIGEgc2VjdGlvbiBvZiBvdGhlciBjaGFyYWN0ZXJzICh3aGljaCwgaWYgb3VyVHlwZSA9PVxuICAgICAgICAgICAgLy8gVC5MLCBtYXkgY29udGFpbiBib3RoIFQuUiBhbmQgVC5BTiBjaGFycykuXG4gICAgICAgICAgICBsZXQgc2FtZURpciA9IHRydWUsIGlzTnVtID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaUkgPT0gaXNvbGF0ZXMubGVuZ3RoIHx8IGlDaCA8IGlzb2xhdGVzW2lJXS5mcm9tKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSB0eXBlc1tpQ2hdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9IG91clR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtZURpciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc051bSA9IG5leHQgPT0gMTYgLyogVC5BTiAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBIb2xkcyBhbiBhcnJheSBvZiBpc29sYXRlcyB0byBwYXNzIHRvIGEgcmVjdXJzaXZlIGNhbGwgaWYgd2VcbiAgICAgICAgICAgIC8vIG11c3QgcmVjdXJzZSAodG8gZGlzdGluZ3Vpc2ggVC5BTiBpbnNpZGUgYW4gUlRMIHNlY3Rpb24gaW5cbiAgICAgICAgICAgIC8vIExUUiB0ZXh0KSwgbnVsbCBpZiB3ZSBjYW4gZW1pdCBkaXJlY3RseVxuICAgICAgICAgICAgbGV0IHJlY3Vyc2UgPSAhc2FtZURpciAmJiBvdXJUeXBlID09IDEgLyogVC5MICovID8gW10gOiBudWxsO1xuICAgICAgICAgICAgbGV0IGxvY2FsTGV2ZWwgPSBzYW1lRGlyID8gbGV2ZWwgOiBsZXZlbCArIDE7XG4gICAgICAgICAgICBsZXQgaVNjYW4gPSBpQ2g7XG4gICAgICAgICAgICBydW46IGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBpZiAoaUkgPCBpc29sYXRlcy5sZW5ndGggJiYgaVNjYW4gPT0gaXNvbGF0ZXNbaUldLmZyb20pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgcnVuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXNvID0gaXNvbGF0ZXNbaUldO1xuICAgICAgICAgICAgICAgICAgICAvLyBTY2FuIGFoZWFkIHRvIHZlcmlmeSB0aGF0IHRoZXJlIGlzIGFub3RoZXIgY2hhciBpbiB0aGlzIGRpciBhZnRlciB0aGUgaXNvbGF0ZShzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNhbWVEaXIpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB1cHRvID0gaXNvLnRvLCBqSSA9IGlJICsgMTs7KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwdG8gPT0gdG8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoakkgPCBpc29sYXRlcy5sZW5ndGggJiYgaXNvbGF0ZXNbakldLmZyb20gPT0gdXB0bylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXB0byA9IGlzb2xhdGVzW2pJKytdLnRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVzW3VwdG9dID09IG91clR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpSSsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjdXJzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdXJzZS5wdXNoKGlzbyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNvLmZyb20gPiBpQ2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaUNoLCBpc28uZnJvbSwgbG9jYWxMZXZlbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpclN3YXAgPSAoaXNvLmRpcmVjdGlvbiA9PSBMVFIpICE9ICEobG9jYWxMZXZlbCAlIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZVNlY3Rpb25PcmRlcihsaW5lLCBkaXJTd2FwID8gbGV2ZWwgKyAxIDogbGV2ZWwsIGJhc2VMZXZlbCwgaXNvLmlubmVyLCBpc28uZnJvbSwgaXNvLnRvLCBvcmRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpQ2ggPSBpc28udG87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaVNjYW4gPSBpc28udG87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlTY2FuID09IHRvIHx8IChzYW1lRGlyID8gdHlwZXNbaVNjYW5dICE9IG91clR5cGUgOiB0eXBlc1tpU2Nhbl0gPT0gb3VyVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpU2NhbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWN1cnNlKVxuICAgICAgICAgICAgICAgIGVtaXRTcGFucyhsaW5lLCBpQ2gsIGlTY2FuLCBsZXZlbCArIDEsIGJhc2VMZXZlbCwgcmVjdXJzZSwgb3JkZXIpO1xuICAgICAgICAgICAgZWxzZSBpZiAoaUNoIDwgaVNjYW4pXG4gICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaUNoLCBpU2NhbiwgbG9jYWxMZXZlbCkpO1xuICAgICAgICAgICAgaUNoID0gaVNjYW47XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEl0ZXJhdGUgaW4gcmV2ZXJzZSB0byBmbGlwIHRoZSBzcGFuIG9yZGVyLiBTYW1lIGNvZGUgYWdhaW4sIGJ1dFxuICAgICAgICAvLyBnb2luZyBmcm9tIHRoZSBiYWNrIG9mIHRoZSBzZWN0aW9uIHRvIHRoZSBmcm9udFxuICAgICAgICBmb3IgKGxldCBpQ2ggPSB0bywgaUkgPSBpc29sYXRlcy5sZW5ndGg7IGlDaCA+IGZyb207KSB7XG4gICAgICAgICAgICBsZXQgc2FtZURpciA9IHRydWUsIGlzTnVtID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIWlJIHx8IGlDaCA+IGlzb2xhdGVzW2lJIC0gMV0udG8pIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHR5cGVzW2lDaCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9IG91clR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtZURpciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc051bSA9IG5leHQgPT0gMTYgLyogVC5BTiAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmVjdXJzZSA9ICFzYW1lRGlyICYmIG91clR5cGUgPT0gMSAvKiBULkwgKi8gPyBbXSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgbG9jYWxMZXZlbCA9IHNhbWVEaXIgPyBsZXZlbCA6IGxldmVsICsgMTtcbiAgICAgICAgICAgIGxldCBpU2NhbiA9IGlDaDtcbiAgICAgICAgICAgIHJ1bjogZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGlmIChpSSAmJiBpU2NhbiA9PSBpc29sYXRlc1tpSSAtIDFdLnRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc051bSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlzbyA9IGlzb2xhdGVzWy0taUldO1xuICAgICAgICAgICAgICAgICAgICAvLyBTY2FuIGFoZWFkIHRvIHZlcmlmeSB0aGF0IHRoZXJlIGlzIGFub3RoZXIgY2hhciBpbiB0aGlzIGRpciBhZnRlciB0aGUgaXNvbGF0ZShzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNhbWVEaXIpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB1cHRvID0gaXNvLmZyb20sIGpJID0gaUk7Oykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cHRvID09IGZyb20pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoakkgJiYgaXNvbGF0ZXNbakkgLSAxXS50byA9PSB1cHRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHRvID0gaXNvbGF0ZXNbLS1qSV0uZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlc1t1cHRvIC0gMV0gPT0gb3VyVHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgcnVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWN1cnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN1cnNlLnB1c2goaXNvKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc28udG8gPCBpQ2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaXNvLnRvLCBpQ2gsIGxvY2FsTGV2ZWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXJTd2FwID0gKGlzby5kaXJlY3Rpb24gPT0gTFRSKSAhPSAhKGxvY2FsTGV2ZWwgJSAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVTZWN0aW9uT3JkZXIobGluZSwgZGlyU3dhcCA/IGxldmVsICsgMSA6IGxldmVsLCBiYXNlTGV2ZWwsIGlzby5pbm5lciwgaXNvLmZyb20sIGlzby50bywgb3JkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaUNoID0gaXNvLmZyb207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaVNjYW4gPSBpc28uZnJvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaVNjYW4gPT0gZnJvbSB8fCAoc2FtZURpciA/IHR5cGVzW2lTY2FuIC0gMV0gIT0gb3VyVHlwZSA6IHR5cGVzW2lTY2FuIC0gMV0gPT0gb3VyVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpU2Nhbi0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWN1cnNlKVxuICAgICAgICAgICAgICAgIGVtaXRTcGFucyhsaW5lLCBpU2NhbiwgaUNoLCBsZXZlbCArIDEsIGJhc2VMZXZlbCwgcmVjdXJzZSwgb3JkZXIpO1xuICAgICAgICAgICAgZWxzZSBpZiAoaVNjYW4gPCBpQ2gpXG4gICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaVNjYW4sIGlDaCwgbG9jYWxMZXZlbCkpO1xuICAgICAgICAgICAgaUNoID0gaVNjYW47XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb21wdXRlU2VjdGlvbk9yZGVyKGxpbmUsIGxldmVsLCBiYXNlTGV2ZWwsIGlzb2xhdGVzLCBmcm9tLCB0bywgb3JkZXIpIHtcbiAgICBsZXQgb3V0ZXJUeXBlID0gKGxldmVsICUgMiA/IDIgLyogVC5SICovIDogMSAvKiBULkwgKi8pO1xuICAgIGNvbXB1dGVDaGFyVHlwZXMobGluZSwgZnJvbSwgdG8sIGlzb2xhdGVzLCBvdXRlclR5cGUpO1xuICAgIHByb2Nlc3NCcmFja2V0UGFpcnMobGluZSwgZnJvbSwgdG8sIGlzb2xhdGVzLCBvdXRlclR5cGUpO1xuICAgIHByb2Nlc3NOZXV0cmFscyhmcm9tLCB0bywgaXNvbGF0ZXMsIG91dGVyVHlwZSk7XG4gICAgZW1pdFNwYW5zKGxpbmUsIGZyb20sIHRvLCBsZXZlbCwgYmFzZUxldmVsLCBpc29sYXRlcywgb3JkZXIpO1xufVxuZnVuY3Rpb24gY29tcHV0ZU9yZGVyKGxpbmUsIGRpcmVjdGlvbiwgaXNvbGF0ZXMpIHtcbiAgICBpZiAoIWxpbmUpXG4gICAgICAgIHJldHVybiBbbmV3IEJpZGlTcGFuKDAsIDAsIGRpcmVjdGlvbiA9PSBSVEwgPyAxIDogMCldO1xuICAgIGlmIChkaXJlY3Rpb24gPT0gTFRSICYmICFpc29sYXRlcy5sZW5ndGggJiYgIUJpZGlSRS50ZXN0KGxpbmUpKVxuICAgICAgICByZXR1cm4gdHJpdmlhbE9yZGVyKGxpbmUubGVuZ3RoKTtcbiAgICBpZiAoaXNvbGF0ZXMubGVuZ3RoKVxuICAgICAgICB3aGlsZSAobGluZS5sZW5ndGggPiB0eXBlcy5sZW5ndGgpXG4gICAgICAgICAgICB0eXBlc1t0eXBlcy5sZW5ndGhdID0gMjU2IC8qIFQuTkkgKi87IC8vIE1ha2Ugc3VyZSB0eXBlcyBhcnJheSBoYXMgbm8gZ2Fwc1xuICAgIGxldCBvcmRlciA9IFtdLCBsZXZlbCA9IGRpcmVjdGlvbiA9PSBMVFIgPyAwIDogMTtcbiAgICBjb21wdXRlU2VjdGlvbk9yZGVyKGxpbmUsIGxldmVsLCBsZXZlbCwgaXNvbGF0ZXMsIDAsIGxpbmUubGVuZ3RoLCBvcmRlcik7XG4gICAgcmV0dXJuIG9yZGVyO1xufVxuZnVuY3Rpb24gdHJpdmlhbE9yZGVyKGxlbmd0aCkge1xuICAgIHJldHVybiBbbmV3IEJpZGlTcGFuKDAsIGxlbmd0aCwgMCldO1xufVxubGV0IG1vdmVkT3ZlciA9IFwiXCI7XG5mdW5jdGlvbiBtb3ZlVmlzdWFsbHkobGluZSwgb3JkZXIsIGRpciwgc3RhcnQsIGZvcndhcmQpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHN0YXJ0SW5kZXggPSBzdGFydC5oZWFkIC0gbGluZS5mcm9tLCBzcGFuSSA9IC0xO1xuICAgIGlmIChzdGFydEluZGV4ID09IDApIHtcbiAgICAgICAgaWYgKCFmb3J3YXJkIHx8ICFsaW5lLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAob3JkZXJbMF0ubGV2ZWwgIT0gZGlyKSB7XG4gICAgICAgICAgICBzdGFydEluZGV4ID0gb3JkZXJbMF0uc2lkZShmYWxzZSwgZGlyKTtcbiAgICAgICAgICAgIHNwYW5JID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChzdGFydEluZGV4ID09IGxpbmUubGVuZ3RoKSB7XG4gICAgICAgIGlmIChmb3J3YXJkKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBsYXN0ID0gb3JkZXJbb3JkZXIubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChsYXN0LmxldmVsICE9IGRpcikge1xuICAgICAgICAgICAgc3RhcnRJbmRleCA9IGxhc3Quc2lkZSh0cnVlLCBkaXIpO1xuICAgICAgICAgICAgc3BhbkkgPSBvcmRlci5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzcGFuSSA8IDApXG4gICAgICAgIHNwYW5JID0gQmlkaVNwYW4uZmluZChvcmRlciwgc3RhcnRJbmRleCwgKF9hID0gc3RhcnQuYmlkaUxldmVsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAtMSwgc3RhcnQuYXNzb2MpO1xuICAgIGxldCBzcGFuID0gb3JkZXJbc3BhbkldO1xuICAgIC8vIEVuZCBvZiBzcGFuLiAoQnV0IG5vdCBlbmQgb2YgbGluZS0tdGhhdCB3YXMgY2hlY2tlZCBmb3IgYWJvdmUuKVxuICAgIGlmIChzdGFydEluZGV4ID09IHNwYW4uc2lkZShmb3J3YXJkLCBkaXIpKSB7XG4gICAgICAgIHNwYW4gPSBvcmRlcltzcGFuSSArPSBmb3J3YXJkID8gMSA6IC0xXTtcbiAgICAgICAgc3RhcnRJbmRleCA9IHNwYW4uc2lkZSghZm9yd2FyZCwgZGlyKTtcbiAgICB9XG4gICAgbGV0IGluZGV4Rm9yd2FyZCA9IGZvcndhcmQgPT0gKHNwYW4uZGlyID09IGRpcik7XG4gICAgbGV0IG5leHRJbmRleCA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBzdGFydEluZGV4LCBpbmRleEZvcndhcmQpO1xuICAgIG1vdmVkT3ZlciA9IGxpbmUudGV4dC5zbGljZShNYXRoLm1pbihzdGFydEluZGV4LCBuZXh0SW5kZXgpLCBNYXRoLm1heChzdGFydEluZGV4LCBuZXh0SW5kZXgpKTtcbiAgICBpZiAobmV4dEluZGV4ICE9IHNwYW4uc2lkZShmb3J3YXJkLCBkaXIpKVxuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihuZXh0SW5kZXggKyBsaW5lLmZyb20sIGluZGV4Rm9yd2FyZCA/IC0xIDogMSwgc3Bhbi5sZXZlbCk7XG4gICAgbGV0IG5leHRTcGFuID0gc3BhbkkgPT0gKGZvcndhcmQgPyBvcmRlci5sZW5ndGggLSAxIDogMCkgPyBudWxsIDogb3JkZXJbc3BhbkkgKyAoZm9yd2FyZCA/IDEgOiAtMSldO1xuICAgIGlmICghbmV4dFNwYW4gJiYgc3Bhbi5sZXZlbCAhPSBkaXIpXG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGZvcndhcmQgPyBsaW5lLnRvIDogbGluZS5mcm9tLCBmb3J3YXJkID8gLTEgOiAxLCBkaXIpO1xuICAgIGlmIChuZXh0U3BhbiAmJiBuZXh0U3Bhbi5sZXZlbCA8IHNwYW4ubGV2ZWwpXG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKG5leHRTcGFuLnNpZGUoIWZvcndhcmQsIGRpcikgKyBsaW5lLmZyb20sIGZvcndhcmQgPyAxIDogLTEsIG5leHRTcGFuLmxldmVsKTtcbiAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihuZXh0SW5kZXggKyBsaW5lLmZyb20sIGZvcndhcmQgPyAtMSA6IDEsIHNwYW4ubGV2ZWwpO1xufVxuXG5jbGFzcyBEb2NWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLnZpZXcuc3RhdGUuZG9jLmxlbmd0aDsgfVxuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwID0gW107XG4gICAgICAgIHRoaXMuZG9tQ2hhbmdlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFzQ29tcG9zaXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm1hcmtlZEZvckNvbXBvc2l0aW9uID0gbmV3IFNldDtcbiAgICAgICAgLy8gVHJhY2sgYSBtaW5pbXVtIHdpZHRoIGZvciB0aGUgZWRpdG9yLiBXaGVuIG1lYXN1cmluZyBzaXplcyBpblxuICAgICAgICAvLyBtZWFzdXJlVmlzaWJsZUxpbmVIZWlnaHRzLCB0aGlzIGlzIHVwZGF0ZWQgdG8gcG9pbnQgYXQgdGhlIHdpZHRoXG4gICAgICAgIC8vIG9mIGEgZ2l2ZW4gZWxlbWVudCBhbmQgaXRzIGV4dGVudCBpbiB0aGUgZG9jdW1lbnQuIFdoZW4gYSBjaGFuZ2VcbiAgICAgICAgLy8gaGFwcGVucyBpbiB0aGF0IHJhbmdlLCB0aGVzZSBhcmUgcmVzZXQuIFRoYXQgd2F5LCBvbmNlIHdlJ3ZlIHNlZW5cbiAgICAgICAgLy8gYSBsaW5lL2VsZW1lbnQgb2YgYSBnaXZlbiBsZW5ndGgsIHdlIGtlZXAgdGhlIGVkaXRvciB3aWRlIGVub3VnaFxuICAgICAgICAvLyB0byBmaXQgYXQgbGVhc3QgdGhhdCBlbGVtZW50LCB1bnRpbCBpdCBpcyBjaGFuZ2VkLCBhdCB3aGljaCBwb2ludFxuICAgICAgICAvLyB3ZSBmb3JnZXQgaXQgYWdhaW4uXG4gICAgICAgIHRoaXMubWluV2lkdGggPSAwO1xuICAgICAgICB0aGlzLm1pbldpZHRoRnJvbSA9IDA7XG4gICAgICAgIHRoaXMubWluV2lkdGhUbyA9IDA7XG4gICAgICAgIC8vIFRyYWNrIHdoZXRoZXIgdGhlIERPTSBzZWxlY3Rpb24gd2FzIHNldCBpbiBhIGxvc3N5IHdheSwgc28gdGhhdFxuICAgICAgICAvLyB3ZSBkb24ndCBtZXNzIGl0IHVwIHdoZW4gcmVhZGluZyBpdCBiYWNrIGl0XG4gICAgICAgIHRoaXMuaW1wcmVjaXNlQW5jaG9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbXByZWNpc2VIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5mb3JjZVNlbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAvLyBVc2VkIGJ5IHRoZSByZXNpemUgb2JzZXJ2ZXIgdG8gaWdub3JlIHJlc2l6ZXMgdGhhdCB3ZSBjYXVzZWRcbiAgICAgICAgLy8gb3Vyc2VsdmVzXG4gICAgICAgIHRoaXMubGFzdFVwZGF0ZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuc2V0RE9NKHZpZXcuY29udGVudERPTSk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbbmV3IExpbmVWaWV3XTtcbiAgICAgICAgdGhpcy5jaGlsZHJlblswXS5zZXRQYXJlbnQodGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlRGVjbygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUlubmVyKFtuZXcgQ2hhbmdlZFJhbmdlKDAsIDAsIDAsIHZpZXcuc3RhdGUuZG9jLmxlbmd0aCldLCAwLCBudWxsKTtcbiAgICB9XG4gICAgLy8gVXBkYXRlIHRoZSBkb2N1bWVudCB2aWV3IHRvIGEgZ2l2ZW4gc3RhdGUuXG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBjaGFuZ2VkUmFuZ2VzID0gdXBkYXRlLmNoYW5nZWRSYW5nZXM7XG4gICAgICAgIGlmICh0aGlzLm1pbldpZHRoID4gMCAmJiBjaGFuZ2VkUmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCFjaGFuZ2VkUmFuZ2VzLmV2ZXJ5KCh7IGZyb21BLCB0b0EgfSkgPT4gdG9BIDwgdGhpcy5taW5XaWR0aEZyb20gfHwgZnJvbUEgPiB0aGlzLm1pbldpZHRoVG8pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5taW5XaWR0aCA9IHRoaXMubWluV2lkdGhGcm9tID0gdGhpcy5taW5XaWR0aFRvID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubWluV2lkdGhGcm9tID0gdXBkYXRlLmNoYW5nZXMubWFwUG9zKHRoaXMubWluV2lkdGhGcm9tLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1pbldpZHRoVG8gPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3ModGhpcy5taW5XaWR0aFRvLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVhZENvbXBvc2l0aW9uQXQgPSAtMTtcbiAgICAgICAgaWYgKHRoaXMudmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA+PSAwKSB7XG4gICAgICAgICAgICBpZiAoKF9hID0gdGhpcy5kb21DaGFuZ2VkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmV3U2VsKVxuICAgICAgICAgICAgICAgIHJlYWRDb21wb3NpdGlvbkF0ID0gdGhpcy5kb21DaGFuZ2VkLm5ld1NlbC5oZWFkO1xuICAgICAgICAgICAgZWxzZSBpZiAoIXRvdWNoZXNDb21wb3NpdGlvbih1cGRhdGUuY2hhbmdlcywgdGhpcy5oYXNDb21wb3NpdGlvbikgJiYgIXVwZGF0ZS5zZWxlY3Rpb25TZXQpXG4gICAgICAgICAgICAgICAgcmVhZENvbXBvc2l0aW9uQXQgPSB1cGRhdGUuc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29tcG9zaXRpb24gPSByZWFkQ29tcG9zaXRpb25BdCA+IC0xID8gZmluZENvbXBvc2l0aW9uUmFuZ2UodGhpcy52aWV3LCB1cGRhdGUuY2hhbmdlcywgcmVhZENvbXBvc2l0aW9uQXQpIDogbnVsbDtcbiAgICAgICAgdGhpcy5kb21DaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ29tcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMubWFya2VkRm9yQ29tcG9zaXRpb24uY2xlYXIoKTtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0aGlzLmhhc0NvbXBvc2l0aW9uO1xuICAgICAgICAgICAgY2hhbmdlZFJhbmdlcyA9IG5ldyBDaGFuZ2VkUmFuZ2UoZnJvbSwgdG8sIHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyhmcm9tLCAtMSksIHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyh0bywgMSkpXG4gICAgICAgICAgICAgICAgLmFkZFRvU2V0KGNoYW5nZWRSYW5nZXMuc2xpY2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNDb21wb3NpdGlvbiA9IGNvbXBvc2l0aW9uID8geyBmcm9tOiBjb21wb3NpdGlvbi5yYW5nZS5mcm9tQiwgdG86IGNvbXBvc2l0aW9uLnJhbmdlLnRvQiB9IDogbnVsbDtcbiAgICAgICAgLy8gV2hlbiB0aGUgRE9NIG5vZGVzIGFyb3VuZCB0aGUgc2VsZWN0aW9uIGFyZSBtb3ZlZCB0byBhbm90aGVyXG4gICAgICAgIC8vIHBhcmVudCwgQ2hyb21lIHNvbWV0aW1lcyByZXBvcnRzIGEgZGlmZmVyZW50IHNlbGVjdGlvbiB0aHJvdWdoXG4gICAgICAgIC8vIGdldFNlbGVjdGlvbiB0aGFuIHRoZSBvbmUgdGhhdCBpdCBhY3R1YWxseSBzaG93cyB0byB0aGUgdXNlci5cbiAgICAgICAgLy8gVGhpcyBmb3JjZXMgYSBzZWxlY3Rpb24gdXBkYXRlIHdoZW4gbGluZXMgYXJlIGpvaW5lZCB0byB3b3JrXG4gICAgICAgIC8vIGFyb3VuZCB0aGF0LiBJc3N1ZSAjNTRcbiAgICAgICAgaWYgKChicm93c2VyLmllIHx8IGJyb3dzZXIuY2hyb21lKSAmJiAhY29tcG9zaXRpb24gJiYgdXBkYXRlICYmXG4gICAgICAgICAgICB1cGRhdGUuc3RhdGUuZG9jLmxpbmVzICE9IHVwZGF0ZS5zdGFydFN0YXRlLmRvYy5saW5lcylcbiAgICAgICAgICAgIHRoaXMuZm9yY2VTZWxlY3Rpb24gPSB0cnVlO1xuICAgICAgICBsZXQgcHJldkRlY28gPSB0aGlzLmRlY29yYXRpb25zLCBkZWNvID0gdGhpcy51cGRhdGVEZWNvKCk7XG4gICAgICAgIGxldCBkZWNvRGlmZiA9IGZpbmRDaGFuZ2VkRGVjbyhwcmV2RGVjbywgZGVjbywgdXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICBjaGFuZ2VkUmFuZ2VzID0gQ2hhbmdlZFJhbmdlLmV4dGVuZFdpdGhSYW5nZXMoY2hhbmdlZFJhbmdlcywgZGVjb0RpZmYpO1xuICAgICAgICBpZiAoISh0aGlzLmZsYWdzICYgNyAvKiBWaWV3RmxhZy5EaXJ0eSAqLykgJiYgY2hhbmdlZFJhbmdlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbm5lcihjaGFuZ2VkUmFuZ2VzLCB1cGRhdGUuc3RhcnRTdGF0ZS5kb2MubGVuZ3RoLCBjb21wb3NpdGlvbik7XG4gICAgICAgICAgICBpZiAodXBkYXRlLnRyYW5zYWN0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VXBkYXRlID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFVzZWQgYnkgdXBkYXRlIGFuZCB0aGUgY29uc3RydWN0b3IgZG8gcGVyZm9ybSB0aGUgYWN0dWFsIERPTVxuICAgIC8vIHVwZGF0ZVxuICAgIHVwZGF0ZUlubmVyKGNoYW5nZXMsIG9sZExlbmd0aCwgY29tcG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy52aWV3LnZpZXdTdGF0ZS5tdXN0TWVhc3VyZUNvbnRlbnQgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkcmVuKGNoYW5nZXMsIG9sZExlbmd0aCwgY29tcG9zaXRpb24pO1xuICAgICAgICBsZXQgeyBvYnNlcnZlciB9ID0gdGhpcy52aWV3O1xuICAgICAgICBvYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgLy8gTG9jayB0aGUgaGVpZ2h0IGR1cmluZyByZWRyYXdpbmcsIHNpbmNlIENocm9tZSBzb21ldGltZXNcbiAgICAgICAgICAgIC8vIG1lc3NlcyB3aXRoIHRoZSBzY3JvbGwgcG9zaXRpb24gZHVyaW5nIERPTSBtdXRhdGlvbiAodGhvdWdoXG4gICAgICAgICAgICAvLyBubyByZWxheW91dCBpcyB0cmlnZ2VyZWQgYW5kIEkgY2Fubm90IGltYWdpbmUgaG93IGl0IGNhblxuICAgICAgICAgICAgLy8gcmVjb21wdXRlIHRoZSBzY3JvbGwgcG9zaXRpb24gd2l0aG91dCBhIGxheW91dClcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLmhlaWdodCA9IHRoaXMudmlldy52aWV3U3RhdGUuY29udGVudEhlaWdodCAvIHRoaXMudmlldy5zY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5mbGV4QmFzaXMgPSB0aGlzLm1pbldpZHRoID8gdGhpcy5taW5XaWR0aCArIFwicHhcIiA6IFwiXCI7XG4gICAgICAgICAgICAvLyBDaHJvbWUgd2lsbCBzb21ldGltZXMsIHdoZW4gRE9NIG11dGF0aW9ucyBvY2N1ciBkaXJlY3RseVxuICAgICAgICAgICAgLy8gYXJvdW5kIHRoZSBzZWxlY3Rpb24sIGdldCBjb25mdXNlZCBhbmQgcmVwb3J0IGEgZGlmZmVyZW50XG4gICAgICAgICAgICAvLyBzZWxlY3Rpb24gZnJvbSB0aGUgb25lIGl0IGRpc3BsYXlzIChpc3N1ZSAjMjE4KS4gVGhpcyB0cmllc1xuICAgICAgICAgICAgLy8gdG8gZGV0ZWN0IHRoYXQgc2l0dWF0aW9uLlxuICAgICAgICAgICAgbGV0IHRyYWNrID0gYnJvd3Nlci5jaHJvbWUgfHwgYnJvd3Nlci5pb3MgPyB7IG5vZGU6IG9ic2VydmVyLnNlbGVjdGlvblJhbmdlLmZvY3VzTm9kZSwgd3JpdHRlbjogZmFsc2UgfSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuc3luYyh0aGlzLnZpZXcsIHRyYWNrKTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgJj0gfjcgLyogVmlld0ZsYWcuRGlydHkgKi87XG4gICAgICAgICAgICBpZiAodHJhY2sgJiYgKHRyYWNrLndyaXR0ZW4gfHwgb2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2UuZm9jdXNOb2RlICE9IHRyYWNrLm5vZGUpKVxuICAgICAgICAgICAgICAgIHRoaXMuZm9yY2VTZWxlY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGUuaGVpZ2h0ID0gXCJcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFya2VkRm9yQ29tcG9zaXRpb24uZm9yRWFjaChjVmlldyA9PiBjVmlldy5mbGFncyAmPSB+OCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLyk7XG4gICAgICAgIGxldCBnYXBzID0gW107XG4gICAgICAgIGlmICh0aGlzLnZpZXcudmlld3BvcnQuZnJvbSB8fCB0aGlzLnZpZXcudmlld3BvcnQudG8gPCB0aGlzLnZpZXcuc3RhdGUuZG9jLmxlbmd0aClcbiAgICAgICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgQmxvY2tXaWRnZXRWaWV3ICYmIGNoaWxkLndpZGdldCBpbnN0YW5jZW9mIEJsb2NrR2FwV2lkZ2V0KVxuICAgICAgICAgICAgICAgICAgICBnYXBzLnB1c2goY2hpbGQuZG9tKTtcbiAgICAgICAgb2JzZXJ2ZXIudXBkYXRlR2FwcyhnYXBzKTtcbiAgICB9XG4gICAgdXBkYXRlQ2hpbGRyZW4oY2hhbmdlcywgb2xkTGVuZ3RoLCBjb21wb3NpdGlvbikge1xuICAgICAgICBsZXQgcmFuZ2VzID0gY29tcG9zaXRpb24gPyBjb21wb3NpdGlvbi5yYW5nZS5hZGRUb1NldChjaGFuZ2VzLnNsaWNlKCkpIDogY2hhbmdlcztcbiAgICAgICAgbGV0IGN1cnNvciA9IHRoaXMuY2hpbGRDdXJzb3Iob2xkTGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHJhbmdlcy5sZW5ndGggLSAxOzsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IGkgPj0gMCA/IHJhbmdlc1tpXSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoIW5leHQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBsZXQgeyBmcm9tQSwgdG9BLCBmcm9tQiwgdG9CIH0gPSBuZXh0LCBjb250ZW50LCBicmVha0F0U3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZDtcbiAgICAgICAgICAgIGlmIChjb21wb3NpdGlvbiAmJiBjb21wb3NpdGlvbi5yYW5nZS5mcm9tQiA8IHRvQiAmJiBjb21wb3NpdGlvbi5yYW5nZS50b0IgPiBmcm9tQikge1xuICAgICAgICAgICAgICAgIGxldCBiZWZvcmUgPSBDb250ZW50QnVpbGRlci5idWlsZCh0aGlzLnZpZXcuc3RhdGUuZG9jLCBmcm9tQiwgY29tcG9zaXRpb24ucmFuZ2UuZnJvbUIsIHRoaXMuZGVjb3JhdGlvbnMsIHRoaXMuZHluYW1pY0RlY29yYXRpb25NYXApO1xuICAgICAgICAgICAgICAgIGxldCBhZnRlciA9IENvbnRlbnRCdWlsZGVyLmJ1aWxkKHRoaXMudmlldy5zdGF0ZS5kb2MsIGNvbXBvc2l0aW9uLnJhbmdlLnRvQiwgdG9CLCB0aGlzLmRlY29yYXRpb25zLCB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwKTtcbiAgICAgICAgICAgICAgICBicmVha0F0U3RhcnQgPSBiZWZvcmUuYnJlYWtBdFN0YXJ0O1xuICAgICAgICAgICAgICAgIG9wZW5TdGFydCA9IGJlZm9yZS5vcGVuU3RhcnQ7XG4gICAgICAgICAgICAgICAgb3BlbkVuZCA9IGFmdGVyLm9wZW5FbmQ7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBMaW5lID0gdGhpcy5jb21wb3NpdGlvblZpZXcoY29tcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChhZnRlci5icmVha0F0U3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcExpbmUuYnJlYWtBZnRlciA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFmdGVyLmNvbnRlbnQubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbXBMaW5lLm1lcmdlKGNvbXBMaW5lLmxlbmd0aCwgY29tcExpbmUubGVuZ3RoLCBhZnRlci5jb250ZW50WzBdLCBmYWxzZSwgYWZ0ZXIub3BlblN0YXJ0LCAwKSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wTGluZS5icmVha0FmdGVyID0gYWZ0ZXIuY29udGVudFswXS5icmVha0FmdGVyO1xuICAgICAgICAgICAgICAgICAgICBhZnRlci5jb250ZW50LnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiZWZvcmUuY29udGVudC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgY29tcExpbmUubWVyZ2UoMCwgMCwgYmVmb3JlLmNvbnRlbnRbYmVmb3JlLmNvbnRlbnQubGVuZ3RoIC0gMV0sIHRydWUsIDAsIGJlZm9yZS5vcGVuRW5kKSkge1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmUuY29udGVudC5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGVudCA9IGJlZm9yZS5jb250ZW50LmNvbmNhdChjb21wTGluZSkuY29uY2F0KGFmdGVyLmNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKHsgY29udGVudCwgYnJlYWtBdFN0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQgfSA9XG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRCdWlsZGVyLmJ1aWxkKHRoaXMudmlldy5zdGF0ZS5kb2MsIGZyb21CLCB0b0IsIHRoaXMuZGVjb3JhdGlvbnMsIHRoaXMuZHluYW1pY0RlY29yYXRpb25NYXApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB7IGk6IHRvSSwgb2ZmOiB0b09mZiB9ID0gY3Vyc29yLmZpbmRQb3ModG9BLCAxKTtcbiAgICAgICAgICAgIGxldCB7IGk6IGZyb21JLCBvZmY6IGZyb21PZmYgfSA9IGN1cnNvci5maW5kUG9zKGZyb21BLCAtMSk7XG4gICAgICAgICAgICByZXBsYWNlUmFuZ2UodGhpcywgZnJvbUksIGZyb21PZmYsIHRvSSwgdG9PZmYsIGNvbnRlbnQsIGJyZWFrQXRTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcG9zaXRpb24pXG4gICAgICAgICAgICB0aGlzLmZpeENvbXBvc2l0aW9uRE9NKGNvbXBvc2l0aW9uKTtcbiAgICB9XG4gICAgY29tcG9zaXRpb25WaWV3KGNvbXBvc2l0aW9uKSB7XG4gICAgICAgIGxldCBjdXIgPSBuZXcgVGV4dFZpZXcoY29tcG9zaXRpb24udGV4dC5ub2RlVmFsdWUpO1xuICAgICAgICBjdXIuZmxhZ3MgfD0gOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLztcbiAgICAgICAgZm9yIChsZXQgeyBkZWNvIH0gb2YgY29tcG9zaXRpb24ubWFya3MpXG4gICAgICAgICAgICBjdXIgPSBuZXcgTWFya1ZpZXcoZGVjbywgW2N1cl0sIGN1ci5sZW5ndGgpO1xuICAgICAgICBsZXQgbGluZSA9IG5ldyBMaW5lVmlldztcbiAgICAgICAgbGluZS5hcHBlbmQoY3VyLCAwKTtcbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfVxuICAgIGZpeENvbXBvc2l0aW9uRE9NKGNvbXBvc2l0aW9uKSB7XG4gICAgICAgIGxldCBmaXggPSAoZG9tLCBjVmlldykgPT4ge1xuICAgICAgICAgICAgY1ZpZXcuZmxhZ3MgfD0gOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLyB8IChjVmlldy5jaGlsZHJlbi5zb21lKGMgPT4gYy5mbGFncyAmIDcgLyogVmlld0ZsYWcuRGlydHkgKi8pID8gMSAvKiBWaWV3RmxhZy5DaGlsZERpcnR5ICovIDogMCk7XG4gICAgICAgICAgICB0aGlzLm1hcmtlZEZvckNvbXBvc2l0aW9uLmFkZChjVmlldyk7XG4gICAgICAgICAgICBsZXQgcHJldiA9IENvbnRlbnRWaWV3LmdldChkb20pO1xuICAgICAgICAgICAgaWYgKHByZXYgJiYgcHJldiAhPSBjVmlldylcbiAgICAgICAgICAgICAgICBwcmV2LmRvbSA9IG51bGw7XG4gICAgICAgICAgICBjVmlldy5zZXRET00oZG9tKTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuY2hpbGRQb3MoY29tcG9zaXRpb24ucmFuZ2UuZnJvbUIsIDEpO1xuICAgICAgICBsZXQgY1ZpZXcgPSB0aGlzLmNoaWxkcmVuW3Bvcy5pXTtcbiAgICAgICAgZml4KGNvbXBvc2l0aW9uLmxpbmUsIGNWaWV3KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNvbXBvc2l0aW9uLm1hcmtzLmxlbmd0aCAtIDE7IGkgPj0gLTE7IGktLSkge1xuICAgICAgICAgICAgcG9zID0gY1ZpZXcuY2hpbGRQb3MocG9zLm9mZiwgMSk7XG4gICAgICAgICAgICBjVmlldyA9IGNWaWV3LmNoaWxkcmVuW3Bvcy5pXTtcbiAgICAgICAgICAgIGZpeChpID49IDAgPyBjb21wb3NpdGlvbi5tYXJrc1tpXS5ub2RlIDogY29tcG9zaXRpb24udGV4dCwgY1ZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFN5bmMgdGhlIERPTSBzZWxlY3Rpb24gdG8gdGhpcy5zdGF0ZS5zZWxlY3Rpb25cbiAgICB1cGRhdGVTZWxlY3Rpb24obXVzdFJlYWQgPSBmYWxzZSwgZnJvbVBvaW50ZXIgPSBmYWxzZSkge1xuICAgICAgICBpZiAobXVzdFJlYWQgfHwgIXRoaXMudmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZS5mb2N1c05vZGUpXG4gICAgICAgICAgICB0aGlzLnZpZXcub2JzZXJ2ZXIucmVhZFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGxldCBhY3RpdmVFbHQgPSB0aGlzLnZpZXcucm9vdC5hY3RpdmVFbGVtZW50LCBmb2N1c2VkID0gYWN0aXZlRWx0ID09IHRoaXMuZG9tO1xuICAgICAgICBsZXQgc2VsZWN0aW9uTm90Rm9jdXMgPSAhZm9jdXNlZCAmJlxuICAgICAgICAgICAgaGFzU2VsZWN0aW9uKHRoaXMuZG9tLCB0aGlzLnZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2UpICYmICEoYWN0aXZlRWx0ICYmIHRoaXMuZG9tLmNvbnRhaW5zKGFjdGl2ZUVsdCkpO1xuICAgICAgICBpZiAoIShmb2N1c2VkIHx8IGZyb21Qb2ludGVyIHx8IHNlbGVjdGlvbk5vdEZvY3VzKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGZvcmNlID0gdGhpcy5mb3JjZVNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5mb3JjZVNlbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICBsZXQgbWFpbiA9IHRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgbGV0IGFuY2hvciA9IHRoaXMubW92ZVRvTGluZSh0aGlzLmRvbUF0UG9zKG1haW4uYW5jaG9yKSk7XG4gICAgICAgIGxldCBoZWFkID0gbWFpbi5lbXB0eSA/IGFuY2hvciA6IHRoaXMubW92ZVRvTGluZSh0aGlzLmRvbUF0UG9zKG1haW4uaGVhZCkpO1xuICAgICAgICAvLyBBbHdheXMgcmVzZXQgb24gRmlyZWZveCB3aGVuIG5leHQgdG8gYW4gdW5lZGl0YWJsZSBub2RlIHRvXG4gICAgICAgIC8vIGF2b2lkIGludmlzaWJsZSBjdXJzb3IgYnVncyAoIzExMSlcbiAgICAgICAgaWYgKGJyb3dzZXIuZ2Vja28gJiYgbWFpbi5lbXB0eSAmJiAhdGhpcy5oYXNDb21wb3NpdGlvbiAmJiBiZXR3ZWVuVW5lZGl0YWJsZShhbmNob3IpKSB7XG4gICAgICAgICAgICBsZXQgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5pZ25vcmUoKCkgPT4gYW5jaG9yLm5vZGUuaW5zZXJ0QmVmb3JlKGR1bW15LCBhbmNob3Iubm9kZS5jaGlsZE5vZGVzW2FuY2hvci5vZmZzZXRdIHx8IG51bGwpKTtcbiAgICAgICAgICAgIGFuY2hvciA9IGhlYWQgPSBuZXcgRE9NUG9zKGR1bW15LCAwKTtcbiAgICAgICAgICAgIGZvcmNlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZG9tU2VsID0gdGhpcy52aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlO1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0aW9uIGlzIGFscmVhZHkgaGVyZSwgb3IgaW4gYW4gZXF1aXZhbGVudCBwb3NpdGlvbiwgZG9uJ3QgdG91Y2ggaXRcbiAgICAgICAgaWYgKGZvcmNlIHx8ICFkb21TZWwuZm9jdXNOb2RlIHx8XG4gICAgICAgICAgICAhaXNFcXVpdmFsZW50UG9zaXRpb24oYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQsIGRvbVNlbC5hbmNob3JOb2RlLCBkb21TZWwuYW5jaG9yT2Zmc2V0KSB8fFxuICAgICAgICAgICAgIWlzRXF1aXZhbGVudFBvc2l0aW9uKGhlYWQubm9kZSwgaGVhZC5vZmZzZXQsIGRvbVNlbC5mb2N1c05vZGUsIGRvbVNlbC5mb2N1c09mZnNldCkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIENocm9tZSBBbmRyb2lkIHdpbGwgaGlkZSB0aGUgdmlydHVhbCBrZXlib2FyZCB3aGVuIHRhcHBpbmdcbiAgICAgICAgICAgICAgICAvLyBpbnNpZGUgYW4gdW5lZGl0YWJsZSBub2RlLCBhbmQgbm90IGJyaW5nIGl0IGJhY2sgd2hlbiB3ZVxuICAgICAgICAgICAgICAgIC8vIG1vdmUgdGhlIGN1cnNvciB0byBpdHMgcHJvcGVyIHBvc2l0aW9uLiBUaGlzIHRyaWVzIHRvXG4gICAgICAgICAgICAgICAgLy8gcmVzdG9yZSB0aGUga2V5Ym9hcmQgYnkgY3ljbGluZyBmb2N1cy5cbiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5hbmRyb2lkICYmIGJyb3dzZXIuY2hyb21lICYmIHRoaXMuZG9tLmNvbnRhaW5zKGRvbVNlbC5mb2N1c05vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGluVW5lZGl0YWJsZShkb21TZWwuZm9jdXNOb2RlLCB0aGlzLmRvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb20uYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbS5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByYXdTZWwgPSBnZXRTZWxlY3Rpb24odGhpcy52aWV3LnJvb3QpO1xuICAgICAgICAgICAgICAgIGlmICghcmF3U2VsKSA7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWFpbi5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXb3JrIGFyb3VuZCBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNjEyMDc2XG4gICAgICAgICAgICAgICAgICAgIGlmIChicm93c2VyLmdlY2tvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvID0gbmV4dFRvVW5lZGl0YWJsZShhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRvICYmIG5leHRUbyAhPSAoMSAvKiBOZXh0VG8uQmVmb3JlICovIHwgMiAvKiBOZXh0VG8uQWZ0ZXIgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSBuZWFyYnlUZXh0Tm9kZShhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCwgbmV4dFRvID09IDEgLyogTmV4dFRvLkJlZm9yZSAqLyA/IDEgOiAtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IG5ldyBET01Qb3ModGV4dC5ub2RlLCB0ZXh0Lm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmF3U2VsLmNvbGxhcHNlKGFuY2hvci5ub2RlLCBhbmNob3Iub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1haW4uYmlkaUxldmVsICE9IG51bGwgJiYgcmF3U2VsLmNhcmV0QmlkaUxldmVsICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdTZWwuY2FyZXRCaWRpTGV2ZWwgPSBtYWluLmJpZGlMZXZlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmF3U2VsLmV4dGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZWxlY3Rpb24uZXh0ZW5kIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiAnaW52ZXJ0ZWQnIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyAob25lIHdoZXJlIHRoZSBmb2N1cyBpcyBiZWZvcmUgdGhlIGFuY2hvciksIGJ1dCBub3QgYWxsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJyb3dzZXJzIHN1cHBvcnQgaXQgeWV0LlxuICAgICAgICAgICAgICAgICAgICByYXdTZWwuY29sbGFwc2UoYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTYWZhcmkgd2lsbCBpZ25vcmUgdGhlIGNhbGwgYWJvdmUgd2hlbiB0aGUgZWRpdG9yIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIGhpZGRlbiwgYW5kIHRoZW4gcmFpc2UgYW4gZXJyb3Igb24gdGhlIGNhbGwgdG8gZXh0ZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vICgjOTQwKS5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd1NlbC5leHRlbmQoaGVhZC5ub2RlLCBoZWFkLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJpbWl0aXZlIChJRSkgd2F5XG4gICAgICAgICAgICAgICAgICAgIGxldCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYWluLmFuY2hvciA+IG1haW4uaGVhZClcbiAgICAgICAgICAgICAgICAgICAgICAgIFthbmNob3IsIGhlYWRdID0gW2hlYWQsIGFuY2hvcl07XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChoZWFkLm5vZGUsIGhlYWQub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICByYXdTZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJhd1NlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25Ob3RGb2N1cyAmJiB0aGlzLnZpZXcucm9vdC5hY3RpdmVFbGVtZW50ID09IHRoaXMuZG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9tLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUVsdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVsdC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy52aWV3Lm9ic2VydmVyLnNldFNlbGVjdGlvblJhbmdlKGFuY2hvciwgaGVhZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbXByZWNpc2VBbmNob3IgPSBhbmNob3IucHJlY2lzZSA/IG51bGwgOiBuZXcgRE9NUG9zKGRvbVNlbC5hbmNob3JOb2RlLCBkb21TZWwuYW5jaG9yT2Zmc2V0KTtcbiAgICAgICAgdGhpcy5pbXByZWNpc2VIZWFkID0gaGVhZC5wcmVjaXNlID8gbnVsbCA6IG5ldyBET01Qb3MoZG9tU2VsLmZvY3VzTm9kZSwgZG9tU2VsLmZvY3VzT2Zmc2V0KTtcbiAgICB9XG4gICAgZW5mb3JjZUN1cnNvckFzc29jKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNDb21wb3NpdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdGhpcywgY3Vyc29yID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgbGV0IHNlbCA9IGdldFNlbGVjdGlvbih2aWV3LnJvb3QpO1xuICAgICAgICBsZXQgeyBhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQgfSA9IHZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2U7XG4gICAgICAgIGlmICghc2VsIHx8ICFjdXJzb3IuZW1wdHkgfHwgIWN1cnNvci5hc3NvYyB8fCAhc2VsLm1vZGlmeSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGxpbmUgPSBMaW5lVmlldy5maW5kKHRoaXMsIGN1cnNvci5oZWFkKTtcbiAgICAgICAgaWYgKCFsaW5lKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgbGluZVN0YXJ0ID0gbGluZS5wb3NBdFN0YXJ0O1xuICAgICAgICBpZiAoY3Vyc29yLmhlYWQgPT0gbGluZVN0YXJ0IHx8IGN1cnNvci5oZWFkID09IGxpbmVTdGFydCArIGxpbmUubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgYmVmb3JlID0gdGhpcy5jb29yZHNBdChjdXJzb3IuaGVhZCwgLTEpLCBhZnRlciA9IHRoaXMuY29vcmRzQXQoY3Vyc29yLmhlYWQsIDEpO1xuICAgICAgICBpZiAoIWJlZm9yZSB8fCAhYWZ0ZXIgfHwgYmVmb3JlLmJvdHRvbSA+IGFmdGVyLnRvcClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGRvbSA9IHRoaXMuZG9tQXRQb3MoY3Vyc29yLmhlYWQgKyBjdXJzb3IuYXNzb2MpO1xuICAgICAgICBzZWwuY29sbGFwc2UoZG9tLm5vZGUsIGRvbS5vZmZzZXQpO1xuICAgICAgICBzZWwubW9kaWZ5KFwibW92ZVwiLCBjdXJzb3IuYXNzb2MgPCAwID8gXCJmb3J3YXJkXCIgOiBcImJhY2t3YXJkXCIsIFwibGluZWJvdW5kYXJ5XCIpO1xuICAgICAgICAvLyBUaGlzIGNhbiBnbyB3cm9uZyBpbiBjb3JuZXIgY2FzZXMgbGlrZSBzaW5nbGUtY2hhcmFjdGVyIGxpbmVzLFxuICAgICAgICAvLyBzbyBjaGVjayBhbmQgcmVzZXQgaWYgbmVjZXNzYXJ5LlxuICAgICAgICB2aWV3Lm9ic2VydmVyLnJlYWRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBsZXQgbmV3UmFuZ2UgPSB2aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlO1xuICAgICAgICBpZiAodmlldy5kb2NWaWV3LnBvc0Zyb21ET00obmV3UmFuZ2UuYW5jaG9yTm9kZSwgbmV3UmFuZ2UuYW5jaG9yT2Zmc2V0KSAhPSBjdXJzb3IuZnJvbSlcbiAgICAgICAgICAgIHNlbC5jb2xsYXBzZShhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQpO1xuICAgIH1cbiAgICAvLyBJZiBhIHBvc2l0aW9uIGlzIGluL25lYXIgYSBibG9jayB3aWRnZXQsIG1vdmUgaXQgdG8gYSBuZWFyYnkgdGV4dFxuICAgIC8vIGxpbmUsIHNpbmNlIHdlIGRvbid0IHdhbnQgdGhlIGN1cnNvciBpbnNpZGUgYSBibG9jayB3aWRnZXQuXG4gICAgbW92ZVRvTGluZShwb3MpIHtcbiAgICAgICAgLy8gQmxvY2sgd2lkZ2V0cyB3aWxsIHJldHVybiBwb3NpdGlvbnMgYmVmb3JlL2FmdGVyIHRoZW0sIHdoaWNoXG4gICAgICAgIC8vIGFyZSB0aHVzIGRpcmVjdGx5IGluIHRoZSBkb2N1bWVudCBET00gZWxlbWVudC5cbiAgICAgICAgbGV0IGRvbSA9IHRoaXMuZG9tLCBuZXdQb3M7XG4gICAgICAgIGlmIChwb3Mubm9kZSAhPSBkb20pXG4gICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICBmb3IgKGxldCBpID0gcG9zLm9mZnNldDsgIW5ld1BvcyAmJiBpIDwgZG9tLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2aWV3ID0gQ29udGVudFZpZXcuZ2V0KGRvbS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmICh2aWV3IGluc3RhbmNlb2YgTGluZVZpZXcpXG4gICAgICAgICAgICAgICAgbmV3UG9zID0gdmlldy5kb21BdFBvcygwKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gcG9zLm9mZnNldCAtIDE7ICFuZXdQb3MgJiYgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCB2aWV3ID0gQ29udGVudFZpZXcuZ2V0KGRvbS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmICh2aWV3IGluc3RhbmNlb2YgTGluZVZpZXcpXG4gICAgICAgICAgICAgICAgbmV3UG9zID0gdmlldy5kb21BdFBvcyh2aWV3Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1BvcyA/IG5ldyBET01Qb3MobmV3UG9zLm5vZGUsIG5ld1Bvcy5vZmZzZXQsIHRydWUpIDogcG9zO1xuICAgIH1cbiAgICBuZWFyZXN0KGRvbSkge1xuICAgICAgICBmb3IgKGxldCBjdXIgPSBkb207IGN1cjspIHtcbiAgICAgICAgICAgIGxldCBkb21WaWV3ID0gQ29udGVudFZpZXcuZ2V0KGN1cik7XG4gICAgICAgICAgICBpZiAoZG9tVmlldyAmJiBkb21WaWV3LnJvb3RWaWV3ID09IHRoaXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbVZpZXc7XG4gICAgICAgICAgICBjdXIgPSBjdXIucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcG9zRnJvbURPTShub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IHZpZXcgPSB0aGlzLm5lYXJlc3Qobm9kZSk7XG4gICAgICAgIGlmICghdmlldylcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVHJ5aW5nIHRvIGZpbmQgcG9zaXRpb24gZm9yIGEgRE9NIHBvc2l0aW9uIG91dHNpZGUgb2YgdGhlIGRvY3VtZW50XCIpO1xuICAgICAgICByZXR1cm4gdmlldy5sb2NhbFBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KSArIHZpZXcucG9zQXRTdGFydDtcbiAgICB9XG4gICAgZG9tQXRQb3MocG9zKSB7XG4gICAgICAgIGxldCB7IGksIG9mZiB9ID0gdGhpcy5jaGlsZEN1cnNvcigpLmZpbmRQb3MocG9zLCAtMSk7XG4gICAgICAgIGZvciAoOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChvZmYgPCBjaGlsZC5sZW5ndGggfHwgY2hpbGQgaW5zdGFuY2VvZiBMaW5lVmlldylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIG9mZiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baV0uZG9tQXRQb3Mob2ZmKTtcbiAgICB9XG4gICAgY29vcmRzQXQocG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCBiZXN0ID0gbnVsbCwgYmVzdFBvcyA9IDA7XG4gICAgICAgIGZvciAobGV0IG9mZiA9IHRoaXMubGVuZ3RoLCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gb2ZmIC0gY2hpbGQuYnJlYWtBZnRlciwgc3RhcnQgPSBlbmQgLSBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kIDwgcG9zKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHN0YXJ0IDw9IHBvcyAmJiAoc3RhcnQgPCBwb3MgfHwgY2hpbGQuY292ZXJzKC0xKSkgJiYgKGVuZCA+IHBvcyB8fCBjaGlsZC5jb3ZlcnMoMSkpICYmXG4gICAgICAgICAgICAgICAgKCFiZXN0IHx8IGNoaWxkIGluc3RhbmNlb2YgTGluZVZpZXcgJiYgIShiZXN0IGluc3RhbmNlb2YgTGluZVZpZXcgJiYgc2lkZSA+PSAwKSkpIHtcbiAgICAgICAgICAgICAgICBiZXN0ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgYmVzdFBvcyA9IHN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2ZmID0gc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJlc3QgPyBiZXN0LmNvb3Jkc0F0KHBvcyAtIGJlc3RQb3MsIHNpZGUpIDogbnVsbDtcbiAgICB9XG4gICAgY29vcmRzRm9yQ2hhcihwb3MpIHtcbiAgICAgICAgbGV0IHsgaSwgb2ZmIH0gPSB0aGlzLmNoaWxkUG9zKHBvcywgMSksIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKCEoY2hpbGQgaW5zdGFuY2VvZiBMaW5lVmlldykpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgd2hpbGUgKGNoaWxkLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHsgaSwgb2ZmOiBjaGlsZE9mZiB9ID0gY2hpbGQuY2hpbGRQb3Mob2ZmLCAxKTtcbiAgICAgICAgICAgIGZvciAoOzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gY2hpbGQuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoKGNoaWxkID0gY2hpbGQuY2hpbGRyZW5baV0pLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmYgPSBjaGlsZE9mZjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjaGlsZCBpbnN0YW5jZW9mIFRleHRWaWV3KSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgZW5kID0gZmluZENsdXN0ZXJCcmVhayhjaGlsZC50ZXh0LCBvZmYpO1xuICAgICAgICBpZiAoZW5kID09IG9mZilcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgcmVjdHMgPSB0ZXh0UmFuZ2UoY2hpbGQuZG9tLCBvZmYsIGVuZCkuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlY3QgPSByZWN0c1tpXTtcbiAgICAgICAgICAgIGlmIChpID09IHJlY3RzLmxlbmd0aCAtIDEgfHwgcmVjdC50b3AgPCByZWN0LmJvdHRvbSAmJiByZWN0LmxlZnQgPCByZWN0LnJpZ2h0KVxuICAgICAgICAgICAgICAgIHJldHVybiByZWN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBtZWFzdXJlVmlzaWJsZUxpbmVIZWlnaHRzKHZpZXdwb3J0KSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXSwgeyBmcm9tLCB0byB9ID0gdmlld3BvcnQ7XG4gICAgICAgIGxldCBjb250ZW50V2lkdGggPSB0aGlzLnZpZXcuY29udGVudERPTS5jbGllbnRXaWR0aDtcbiAgICAgICAgbGV0IGlzV2lkZXIgPSBjb250ZW50V2lkdGggPiBNYXRoLm1heCh0aGlzLnZpZXcuc2Nyb2xsRE9NLmNsaWVudFdpZHRoLCB0aGlzLm1pbldpZHRoKSArIDE7XG4gICAgICAgIGxldCB3aWRlc3QgPSAtMSwgbHRyID0gdGhpcy52aWV3LnRleHREaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUjtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMCwgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBwb3MgKyBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kID4gdG8pXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAocG9zID49IGZyb20pIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGRSZWN0ID0gY2hpbGQuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNoaWxkUmVjdC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGlmIChpc1dpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gY2hpbGQuZG9tLmxhc3RDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlY3RzID0gbGFzdCA/IGNsaWVudFJlY3RzRm9yKGxhc3QpIDogW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWN0ID0gcmVjdHNbcmVjdHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSBsdHIgPyByZWN0LnJpZ2h0IC0gY2hpbGRSZWN0LmxlZnQgOiBjaGlsZFJlY3QucmlnaHQgLSByZWN0LmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiB3aWRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRlc3QgPSB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbldpZHRoID0gY29udGVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWluV2lkdGhGcm9tID0gcG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWluV2lkdGhUbyA9IGVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcyA9IGVuZCArIGNoaWxkLmJyZWFrQWZ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgdGV4dERpcmVjdGlvbkF0KHBvcykge1xuICAgICAgICBsZXQgeyBpIH0gPSB0aGlzLmNoaWxkUG9zKHBvcywgMSk7XG4gICAgICAgIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKHRoaXMuY2hpbGRyZW5baV0uZG9tKS5kaXJlY3Rpb24gPT0gXCJydGxcIiA/IERpcmVjdGlvbi5SVEwgOiBEaXJlY3Rpb24uTFRSO1xuICAgIH1cbiAgICBtZWFzdXJlVGV4dFNpemUoKSB7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIExpbmVWaWV3KSB7XG4gICAgICAgICAgICAgICAgbGV0IG1lYXN1cmUgPSBjaGlsZC5tZWFzdXJlVGV4dFNpemUoKTtcbiAgICAgICAgICAgICAgICBpZiAobWVhc3VyZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lYXN1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgbm8gd29ya2FibGUgbGluZSBleGlzdHMsIGZvcmNlIGEgbGF5b3V0IG9mIGEgbWVhc3VyYWJsZSBlbGVtZW50XG4gICAgICAgIGxldCBkdW1teSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGxpbmVIZWlnaHQsIGNoYXJXaWR0aCwgdGV4dEhlaWdodDtcbiAgICAgICAgZHVtbXkuY2xhc3NOYW1lID0gXCJjbS1saW5lXCI7XG4gICAgICAgIGR1bW15LnN0eWxlLndpZHRoID0gXCI5OTk5OXB4XCI7XG4gICAgICAgIGR1bW15LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICBkdW1teS50ZXh0Q29udGVudCA9IFwiYWJjIGRlZiBnaGkgamtsIG1ubyBwcXIgc3R1XCI7XG4gICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQoZHVtbXkpO1xuICAgICAgICAgICAgbGV0IHJlY3QgPSBjbGllbnRSZWN0c0ZvcihkdW1teS5maXJzdENoaWxkKVswXTtcbiAgICAgICAgICAgIGxpbmVIZWlnaHQgPSBkdW1teS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgICAgICAgICBjaGFyV2lkdGggPSByZWN0ID8gcmVjdC53aWR0aCAvIDI3IDogNztcbiAgICAgICAgICAgIHRleHRIZWlnaHQgPSByZWN0ID8gcmVjdC5oZWlnaHQgOiBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgZHVtbXkucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyBsaW5lSGVpZ2h0LCBjaGFyV2lkdGgsIHRleHRIZWlnaHQgfTtcbiAgICB9XG4gICAgY2hpbGRDdXJzb3IocG9zID0gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gTW92ZSBiYWNrIHRvIHN0YXJ0IG9mIGxhc3QgZWxlbWVudCB3aGVuIHBvc3NpYmxlLCBzbyB0aGF0XG4gICAgICAgIC8vIGBDaGlsZEN1cnNvci5maW5kUG9zYCBkb2Vzbid0IGhhdmUgdG8gZGVhbCB3aXRoIHRoZSBlZGdlIGNhc2VcbiAgICAgICAgLy8gb2YgYmVpbmcgYWZ0ZXIgdGhlIGxhc3QgZWxlbWVudC5cbiAgICAgICAgbGV0IGkgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgaWYgKGkpXG4gICAgICAgICAgICBwb3MgLT0gdGhpcy5jaGlsZHJlblstLWldLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGlsZEN1cnNvcih0aGlzLmNoaWxkcmVuLCBwb3MsIGkpO1xuICAgIH1cbiAgICBjb21wdXRlQmxvY2tHYXBEZWNvKCkge1xuICAgICAgICBsZXQgZGVjbyA9IFtdLCB2cyA9IHRoaXMudmlldy52aWV3U3RhdGU7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IDAsIGkgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IGkgPT0gdnMudmlld3BvcnRzLmxlbmd0aCA/IG51bGwgOiB2cy52aWV3cG9ydHNbaV07XG4gICAgICAgICAgICBsZXQgZW5kID0gbmV4dCA/IG5leHQuZnJvbSAtIDEgOiB0aGlzLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChlbmQgPiBwb3MpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0ID0gKHZzLmxpbmVCbG9ja0F0KGVuZCkuYm90dG9tIC0gdnMubGluZUJsb2NrQXQocG9zKS50b3ApIC8gdGhpcy52aWV3LnNjYWxlWTtcbiAgICAgICAgICAgICAgICBkZWNvLnB1c2goRGVjb3JhdGlvbi5yZXBsYWNlKHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0OiBuZXcgQmxvY2tHYXBXaWRnZXQoaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2s6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNCbG9ja0dhcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KS5yYW5nZShwb3MsIGVuZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuZXh0KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcG9zID0gbmV4dC50byArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24uc2V0KGRlY28pO1xuICAgIH1cbiAgICB1cGRhdGVEZWNvKCkge1xuICAgICAgICBsZXQgYWxsRGVjbyA9IHRoaXMudmlldy5zdGF0ZS5mYWNldChkZWNvcmF0aW9ucykubWFwKChkLCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgZHluYW1pYyA9IHRoaXMuZHluYW1pY0RlY29yYXRpb25NYXBbaV0gPSB0eXBlb2YgZCA9PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgICAgICByZXR1cm4gZHluYW1pYyA/IGQodGhpcy52aWV3KSA6IGQ7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBpID0gYWxsRGVjby5sZW5ndGg7IGkgPCBhbGxEZWNvLmxlbmd0aCArIDM7IGkrKylcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY0RlY29yYXRpb25NYXBbaV0gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb3JhdGlvbnMgPSBbXG4gICAgICAgICAgICAuLi5hbGxEZWNvLFxuICAgICAgICAgICAgdGhpcy5jb21wdXRlQmxvY2tHYXBEZWNvKCksXG4gICAgICAgICAgICB0aGlzLnZpZXcudmlld1N0YXRlLmxpbmVHYXBEZWNvXG4gICAgICAgIF07XG4gICAgfVxuICAgIHNjcm9sbEludG9WaWV3KHRhcmdldCkge1xuICAgICAgICBsZXQgeyByYW5nZSB9ID0gdGFyZ2V0O1xuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuY29vcmRzQXQocmFuZ2UuaGVhZCwgcmFuZ2UuZW1wdHkgPyByYW5nZS5hc3NvYyA6IHJhbmdlLmhlYWQgPiByYW5nZS5hbmNob3IgPyAtMSA6IDEpLCBvdGhlcjtcbiAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIXJhbmdlLmVtcHR5ICYmIChvdGhlciA9IHRoaXMuY29vcmRzQXQocmFuZ2UuYW5jaG9yLCByYW5nZS5hbmNob3IgPiByYW5nZS5oZWFkID8gLTEgOiAxKSkpXG4gICAgICAgICAgICByZWN0ID0geyBsZWZ0OiBNYXRoLm1pbihyZWN0LmxlZnQsIG90aGVyLmxlZnQpLCB0b3A6IE1hdGgubWluKHJlY3QudG9wLCBvdGhlci50b3ApLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBNYXRoLm1heChyZWN0LnJpZ2h0LCBvdGhlci5yaWdodCksIGJvdHRvbTogTWF0aC5tYXgocmVjdC5ib3R0b20sIG90aGVyLmJvdHRvbSkgfTtcbiAgICAgICAgbGV0IG1hcmdpbnMgPSBnZXRTY3JvbGxNYXJnaW5zKHRoaXMudmlldyk7XG4gICAgICAgIGxldCB0YXJnZXRSZWN0ID0ge1xuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0IC0gbWFyZ2lucy5sZWZ0LCB0b3A6IHJlY3QudG9wIC0gbWFyZ2lucy50b3AsXG4gICAgICAgICAgICByaWdodDogcmVjdC5yaWdodCArIG1hcmdpbnMucmlnaHQsIGJvdHRvbTogcmVjdC5ib3R0b20gKyBtYXJnaW5zLmJvdHRvbVxuICAgICAgICB9O1xuICAgICAgICBzY3JvbGxSZWN0SW50b1ZpZXcodGhpcy52aWV3LnNjcm9sbERPTSwgdGFyZ2V0UmVjdCwgcmFuZ2UuaGVhZCA8IHJhbmdlLmFuY2hvciA/IC0xIDogMSwgdGFyZ2V0LngsIHRhcmdldC55LCB0YXJnZXQueE1hcmdpbiwgdGFyZ2V0LnlNYXJnaW4sIHRoaXMudmlldy50ZXh0RGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJldHdlZW5VbmVkaXRhYmxlKHBvcykge1xuICAgIHJldHVybiBwb3Mubm9kZS5ub2RlVHlwZSA9PSAxICYmIHBvcy5ub2RlLmZpcnN0Q2hpbGQgJiZcbiAgICAgICAgKHBvcy5vZmZzZXQgPT0gMCB8fCBwb3Mubm9kZS5jaGlsZE5vZGVzW3Bvcy5vZmZzZXQgLSAxXS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKSAmJlxuICAgICAgICAocG9zLm9mZnNldCA9PSBwb3Mubm9kZS5jaGlsZE5vZGVzLmxlbmd0aCB8fCBwb3Mubm9kZS5jaGlsZE5vZGVzW3Bvcy5vZmZzZXRdLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpO1xufVxuY2xhc3MgQmxvY2tHYXBXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihoZWlnaHQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuICAgIHRvRE9NKCkge1xuICAgICAgICBsZXQgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy51cGRhdGVET00oZWx0KTtcbiAgICAgICAgcmV0dXJuIGVsdDtcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIG90aGVyLmhlaWdodCA9PSB0aGlzLmhlaWdodDsgfVxuICAgIHVwZGF0ZURPTShlbHQpIHtcbiAgICAgICAgZWx0LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZ2V0IGVzdGltYXRlZEhlaWdodCgpIHsgcmV0dXJuIHRoaXMuaGVpZ2h0OyB9XG59XG5mdW5jdGlvbiBmaW5kQ29tcG9zaXRpb25Ob2RlKHZpZXcsIGhlYWRQb3MpIHtcbiAgICBsZXQgc2VsID0gdmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZTtcbiAgICBsZXQgdGV4dE5vZGUgPSBzZWwuZm9jdXNOb2RlICYmIG5lYXJieVRleHROb2RlKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCwgMCk7XG4gICAgaWYgKCF0ZXh0Tm9kZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGZyb20gPSBoZWFkUG9zIC0gdGV4dE5vZGUub2Zmc2V0O1xuICAgIHJldHVybiB7IGZyb20sIHRvOiBmcm9tICsgdGV4dE5vZGUubm9kZS5ub2RlVmFsdWUubGVuZ3RoLCBub2RlOiB0ZXh0Tm9kZS5ub2RlIH07XG59XG5mdW5jdGlvbiBmaW5kQ29tcG9zaXRpb25SYW5nZSh2aWV3LCBjaGFuZ2VzLCBoZWFkUG9zKSB7XG4gICAgbGV0IGZvdW5kID0gZmluZENvbXBvc2l0aW9uTm9kZSh2aWV3LCBoZWFkUG9zKTtcbiAgICBpZiAoIWZvdW5kKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgeyBub2RlOiB0ZXh0Tm9kZSwgZnJvbSwgdG8gfSA9IGZvdW5kLCB0ZXh0ID0gdGV4dE5vZGUubm9kZVZhbHVlO1xuICAgIC8vIERvbid0IHRyeSB0byBwcmVzZXJ2ZSBtdWx0aS1saW5lIGNvbXBvc2l0aW9uc1xuICAgIGlmICgvW1xcblxccl0vLnRlc3QodGV4dCkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGlmICh2aWV3LnN0YXRlLmRvYy5zbGljZVN0cmluZyhmb3VuZC5mcm9tLCBmb3VuZC50bykgIT0gdGV4dClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGludiA9IGNoYW5nZXMuaW52ZXJ0ZWREZXNjO1xuICAgIGxldCByYW5nZSA9IG5ldyBDaGFuZ2VkUmFuZ2UoaW52Lm1hcFBvcyhmcm9tKSwgaW52Lm1hcFBvcyh0byksIGZyb20sIHRvKTtcbiAgICBsZXQgbWFya3MgPSBbXTtcbiAgICBmb3IgKGxldCBwYXJlbnQgPSB0ZXh0Tm9kZS5wYXJlbnROb2RlOzsgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgbGV0IHBhcmVudFZpZXcgPSBDb250ZW50Vmlldy5nZXQocGFyZW50KTtcbiAgICAgICAgaWYgKHBhcmVudFZpZXcgaW5zdGFuY2VvZiBNYXJrVmlldylcbiAgICAgICAgICAgIG1hcmtzLnB1c2goeyBub2RlOiBwYXJlbnQsIGRlY286IHBhcmVudFZpZXcubWFyayB9KTtcbiAgICAgICAgZWxzZSBpZiAocGFyZW50VmlldyBpbnN0YW5jZW9mIExpbmVWaWV3IHx8IHBhcmVudC5ub2RlTmFtZSA9PSBcIkRJVlwiICYmIHBhcmVudC5wYXJlbnROb2RlID09IHZpZXcuY29udGVudERPTSlcbiAgICAgICAgICAgIHJldHVybiB7IHJhbmdlLCB0ZXh0OiB0ZXh0Tm9kZSwgbWFya3MsIGxpbmU6IHBhcmVudCB9O1xuICAgICAgICBlbHNlIGlmIChwYXJlbnQgIT0gdmlldy5jb250ZW50RE9NKVxuICAgICAgICAgICAgbWFya3MucHVzaCh7IG5vZGU6IHBhcmVudCwgZGVjbzogbmV3IE1hcmtEZWNvcmF0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBnZXRBdHRycyhwYXJlbnQpLFxuICAgICAgICAgICAgICAgICAgICB0YWdOYW1lOiBwYXJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgfSkgfSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5lYXJieVRleHROb2RlKHN0YXJ0Tm9kZSwgc3RhcnRPZmZzZXQsIHNpZGUpIHtcbiAgICBpZiAoc2lkZSA8PSAwKVxuICAgICAgICBmb3IgKGxldCBub2RlID0gc3RhcnROb2RlLCBvZmZzZXQgPSBzdGFydE9mZnNldDs7KSB7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAzKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IG5vZGU6IG5vZGUsIG9mZnNldDogb2Zmc2V0IH07XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIG9mZnNldCA+IDApIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IG1heE9mZnNldChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgaWYgKHNpZGUgPj0gMClcbiAgICAgICAgZm9yIChsZXQgbm9kZSA9IHN0YXJ0Tm9kZSwgb2Zmc2V0ID0gc3RhcnRPZmZzZXQ7Oykge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMylcbiAgICAgICAgICAgICAgICByZXR1cm4geyBub2RlOiBub2RlLCBvZmZzZXQ6IG9mZnNldCB9O1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiBvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoICYmIHNpZGUgPj0gMCkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIG5leHRUb1VuZWRpdGFibGUobm9kZSwgb2Zmc2V0KSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSlcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgcmV0dXJuIChvZmZzZXQgJiYgbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIgPyAxIC8qIE5leHRUby5CZWZvcmUgKi8gOiAwKSB8XG4gICAgICAgIChvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoICYmIG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIgPyAyIC8qIE5leHRUby5BZnRlciAqLyA6IDApO1xufVxubGV0IERlY29yYXRpb25Db21wYXJhdG9yJDEgPSBjbGFzcyBEZWNvcmF0aW9uQ29tcGFyYXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IFtdO1xuICAgIH1cbiAgICBjb21wYXJlUmFuZ2UoZnJvbSwgdG8pIHsgYWRkUmFuZ2UoZnJvbSwgdG8sIHRoaXMuY2hhbmdlcyk7IH1cbiAgICBjb21wYXJlUG9pbnQoZnJvbSwgdG8pIHsgYWRkUmFuZ2UoZnJvbSwgdG8sIHRoaXMuY2hhbmdlcyk7IH1cbn07XG5mdW5jdGlvbiBmaW5kQ2hhbmdlZERlY28oYSwgYiwgZGlmZikge1xuICAgIGxldCBjb21wID0gbmV3IERlY29yYXRpb25Db21wYXJhdG9yJDE7XG4gICAgUmFuZ2VTZXQuY29tcGFyZShhLCBiLCBkaWZmLCBjb21wKTtcbiAgICByZXR1cm4gY29tcC5jaGFuZ2VzO1xufVxuZnVuY3Rpb24gaW5VbmVkaXRhYmxlKG5vZGUsIGluc2lkZSkge1xuICAgIGZvciAobGV0IGN1ciA9IG5vZGU7IGN1ciAmJiBjdXIgIT0gaW5zaWRlOyBjdXIgPSBjdXIuYXNzaWduZWRTbG90IHx8IGN1ci5wYXJlbnROb2RlKSB7XG4gICAgICAgIGlmIChjdXIubm9kZVR5cGUgPT0gMSAmJiBjdXIuY29udGVudEVkaXRhYmxlID09ICdmYWxzZScpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHRvdWNoZXNDb21wb3NpdGlvbihjaGFuZ2VzLCBjb21wb3NpdGlvbikge1xuICAgIGxldCB0b3VjaGVkID0gZmFsc2U7XG4gICAgaWYgKGNvbXBvc2l0aW9uKVxuICAgICAgICBjaGFuZ2VzLml0ZXJDaGFuZ2VkUmFuZ2VzKChmcm9tLCB0bykgPT4ge1xuICAgICAgICAgICAgaWYgKGZyb20gPCBjb21wb3NpdGlvbi50byAmJiB0byA+IGNvbXBvc2l0aW9uLmZyb20pXG4gICAgICAgICAgICAgICAgdG91Y2hlZCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgIHJldHVybiB0b3VjaGVkO1xufVxuXG5mdW5jdGlvbiBncm91cEF0KHN0YXRlLCBwb3MsIGJpYXMgPSAxKSB7XG4gICAgbGV0IGNhdGVnb3JpemUgPSBzdGF0ZS5jaGFyQ2F0ZWdvcml6ZXIocG9zKTtcbiAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQocG9zKSwgbGluZVBvcyA9IHBvcyAtIGxpbmUuZnJvbTtcbiAgICBpZiAobGluZS5sZW5ndGggPT0gMClcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zKTtcbiAgICBpZiAobGluZVBvcyA9PSAwKVxuICAgICAgICBiaWFzID0gMTtcbiAgICBlbHNlIGlmIChsaW5lUG9zID09IGxpbmUubGVuZ3RoKVxuICAgICAgICBiaWFzID0gLTE7XG4gICAgbGV0IGZyb20gPSBsaW5lUG9zLCB0byA9IGxpbmVQb3M7XG4gICAgaWYgKGJpYXMgPCAwKVxuICAgICAgICBmcm9tID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIGxpbmVQb3MsIGZhbHNlKTtcbiAgICBlbHNlXG4gICAgICAgIHRvID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIGxpbmVQb3MpO1xuICAgIGxldCBjYXQgPSBjYXRlZ29yaXplKGxpbmUudGV4dC5zbGljZShmcm9tLCB0bykpO1xuICAgIHdoaWxlIChmcm9tID4gMCkge1xuICAgICAgICBsZXQgcHJldiA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBmcm9tLCBmYWxzZSk7XG4gICAgICAgIGlmIChjYXRlZ29yaXplKGxpbmUudGV4dC5zbGljZShwcmV2LCBmcm9tKSkgIT0gY2F0KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGZyb20gPSBwcmV2O1xuICAgIH1cbiAgICB3aGlsZSAodG8gPCBsaW5lLmxlbmd0aCkge1xuICAgICAgICBsZXQgbmV4dCA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCB0byk7XG4gICAgICAgIGlmIChjYXRlZ29yaXplKGxpbmUudGV4dC5zbGljZSh0bywgbmV4dCkpICE9IGNhdClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB0byA9IG5leHQ7XG4gICAgfVxuICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoZnJvbSArIGxpbmUuZnJvbSwgdG8gKyBsaW5lLmZyb20pO1xufVxuLy8gU2VhcmNoIHRoZSBET00gZm9yIHRoZSB7bm9kZSwgb2Zmc2V0fSBwb3NpdGlvbiBjbG9zZXN0IHRvIHRoZSBnaXZlblxuLy8gY29vcmRpbmF0ZXMuIFZlcnkgaW5lZmZpY2llbnQgYW5kIGNydWRlLCBidXQgY2FuIHVzdWFsbHkgYmUgYXZvaWRlZFxuLy8gYnkgY2FsbGluZyBjYXJldChQb3NpdGlvbnxSYW5nZSlGcm9tUG9pbnQgaW5zdGVhZC5cbmZ1bmN0aW9uIGdldGR4KHgsIHJlY3QpIHtcbiAgICByZXR1cm4gcmVjdC5sZWZ0ID4geCA/IHJlY3QubGVmdCAtIHggOiBNYXRoLm1heCgwLCB4IC0gcmVjdC5yaWdodCk7XG59XG5mdW5jdGlvbiBnZXRkeSh5LCByZWN0KSB7XG4gICAgcmV0dXJuIHJlY3QudG9wID4geSA/IHJlY3QudG9wIC0geSA6IE1hdGgubWF4KDAsIHkgLSByZWN0LmJvdHRvbSk7XG59XG5mdW5jdGlvbiB5T3ZlcmxhcChhLCBiKSB7XG4gICAgcmV0dXJuIGEudG9wIDwgYi5ib3R0b20gLSAxICYmIGEuYm90dG9tID4gYi50b3AgKyAxO1xufVxuZnVuY3Rpb24gdXBUb3AocmVjdCwgdG9wKSB7XG4gICAgcmV0dXJuIHRvcCA8IHJlY3QudG9wID8geyB0b3AsIGxlZnQ6IHJlY3QubGVmdCwgcmlnaHQ6IHJlY3QucmlnaHQsIGJvdHRvbTogcmVjdC5ib3R0b20gfSA6IHJlY3Q7XG59XG5mdW5jdGlvbiB1cEJvdChyZWN0LCBib3R0b20pIHtcbiAgICByZXR1cm4gYm90dG9tID4gcmVjdC5ib3R0b20gPyB7IHRvcDogcmVjdC50b3AsIGxlZnQ6IHJlY3QubGVmdCwgcmlnaHQ6IHJlY3QucmlnaHQsIGJvdHRvbSB9IDogcmVjdDtcbn1cbmZ1bmN0aW9uIGRvbVBvc0F0Q29vcmRzKHBhcmVudCwgeCwgeSkge1xuICAgIGxldCBjbG9zZXN0LCBjbG9zZXN0UmVjdCwgY2xvc2VzdFgsIGNsb3Nlc3RZLCBjbG9zZXN0T3ZlcmxhcCA9IGZhbHNlO1xuICAgIGxldCBhYm92ZSwgYmVsb3csIGFib3ZlUmVjdCwgYmVsb3dSZWN0O1xuICAgIGZvciAobGV0IGNoaWxkID0gcGFyZW50LmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGxldCByZWN0cyA9IGNsaWVudFJlY3RzRm9yKGNoaWxkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlY3QgPSByZWN0c1tpXTtcbiAgICAgICAgICAgIGlmIChjbG9zZXN0UmVjdCAmJiB5T3ZlcmxhcChjbG9zZXN0UmVjdCwgcmVjdCkpXG4gICAgICAgICAgICAgICAgcmVjdCA9IHVwVG9wKHVwQm90KHJlY3QsIGNsb3Nlc3RSZWN0LmJvdHRvbSksIGNsb3Nlc3RSZWN0LnRvcCk7XG4gICAgICAgICAgICBsZXQgZHggPSBnZXRkeCh4LCByZWN0KSwgZHkgPSBnZXRkeSh5LCByZWN0KTtcbiAgICAgICAgICAgIGlmIChkeCA9PSAwICYmIGR5ID09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLm5vZGVUeXBlID09IDMgPyBkb21Qb3NJblRleHQoY2hpbGQsIHgsIHkpIDogZG9tUG9zQXRDb29yZHMoY2hpbGQsIHgsIHkpO1xuICAgICAgICAgICAgaWYgKCFjbG9zZXN0IHx8IGNsb3Nlc3RZID4gZHkgfHwgY2xvc2VzdFkgPT0gZHkgJiYgY2xvc2VzdFggPiBkeCkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3QgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICBjbG9zZXN0UmVjdCA9IHJlY3Q7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFggPSBkeDtcbiAgICAgICAgICAgICAgICBjbG9zZXN0WSA9IGR5O1xuICAgICAgICAgICAgICAgIGxldCBzaWRlID0gZHkgPyAoeSA8IHJlY3QudG9wID8gLTEgOiAxKSA6IGR4ID8gKHggPCByZWN0LmxlZnQgPyAtMSA6IDEpIDogMDtcbiAgICAgICAgICAgICAgICBjbG9zZXN0T3ZlcmxhcCA9ICFzaWRlIHx8IChzaWRlID4gMCA/IGkgPCByZWN0cy5sZW5ndGggLSAxIDogaSA+IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGR4ID09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoeSA+IHJlY3QuYm90dG9tICYmICghYWJvdmVSZWN0IHx8IGFib3ZlUmVjdC5ib3R0b20gPCByZWN0LmJvdHRvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWJvdmUgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgYWJvdmVSZWN0ID0gcmVjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoeSA8IHJlY3QudG9wICYmICghYmVsb3dSZWN0IHx8IGJlbG93UmVjdC50b3AgPiByZWN0LnRvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVsb3cgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgYmVsb3dSZWN0ID0gcmVjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhYm92ZVJlY3QgJiYgeU92ZXJsYXAoYWJvdmVSZWN0LCByZWN0KSkge1xuICAgICAgICAgICAgICAgIGFib3ZlUmVjdCA9IHVwQm90KGFib3ZlUmVjdCwgcmVjdC5ib3R0b20pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmVsb3dSZWN0ICYmIHlPdmVybGFwKGJlbG93UmVjdCwgcmVjdCkpIHtcbiAgICAgICAgICAgICAgICBiZWxvd1JlY3QgPSB1cFRvcChiZWxvd1JlY3QsIHJlY3QudG9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYWJvdmVSZWN0ICYmIGFib3ZlUmVjdC5ib3R0b20gPj0geSkge1xuICAgICAgICBjbG9zZXN0ID0gYWJvdmU7XG4gICAgICAgIGNsb3Nlc3RSZWN0ID0gYWJvdmVSZWN0O1xuICAgIH1cbiAgICBlbHNlIGlmIChiZWxvd1JlY3QgJiYgYmVsb3dSZWN0LnRvcCA8PSB5KSB7XG4gICAgICAgIGNsb3Nlc3QgPSBiZWxvdztcbiAgICAgICAgY2xvc2VzdFJlY3QgPSBiZWxvd1JlY3Q7XG4gICAgfVxuICAgIGlmICghY2xvc2VzdClcbiAgICAgICAgcmV0dXJuIHsgbm9kZTogcGFyZW50LCBvZmZzZXQ6IDAgfTtcbiAgICBsZXQgY2xpcFggPSBNYXRoLm1heChjbG9zZXN0UmVjdC5sZWZ0LCBNYXRoLm1pbihjbG9zZXN0UmVjdC5yaWdodCwgeCkpO1xuICAgIGlmIChjbG9zZXN0Lm5vZGVUeXBlID09IDMpXG4gICAgICAgIHJldHVybiBkb21Qb3NJblRleHQoY2xvc2VzdCwgY2xpcFgsIHkpO1xuICAgIGlmIChjbG9zZXN0T3ZlcmxhcCAmJiBjbG9zZXN0LmNvbnRlbnRFZGl0YWJsZSAhPSBcImZhbHNlXCIpXG4gICAgICAgIHJldHVybiBkb21Qb3NBdENvb3JkcyhjbG9zZXN0LCBjbGlwWCwgeSk7XG4gICAgbGV0IG9mZnNldCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwocGFyZW50LmNoaWxkTm9kZXMsIGNsb3Nlc3QpICtcbiAgICAgICAgKHggPj0gKGNsb3Nlc3RSZWN0LmxlZnQgKyBjbG9zZXN0UmVjdC5yaWdodCkgLyAyID8gMSA6IDApO1xuICAgIHJldHVybiB7IG5vZGU6IHBhcmVudCwgb2Zmc2V0IH07XG59XG5mdW5jdGlvbiBkb21Qb3NJblRleHQobm9kZSwgeCwgeSkge1xuICAgIGxldCBsZW4gPSBub2RlLm5vZGVWYWx1ZS5sZW5ndGg7XG4gICAgbGV0IGNsb3Nlc3RPZmZzZXQgPSAtMSwgY2xvc2VzdERZID0gMWU5LCBnZW5lcmFsU2lkZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgcmVjdHMgPSB0ZXh0UmFuZ2Uobm9kZSwgaSwgaSArIDEpLmdldENsaWVudFJlY3RzKCk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVjdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGxldCByZWN0ID0gcmVjdHNbal07XG4gICAgICAgICAgICBpZiAocmVjdC50b3AgPT0gcmVjdC5ib3R0b20pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIWdlbmVyYWxTaWRlKVxuICAgICAgICAgICAgICAgIGdlbmVyYWxTaWRlID0geCAtIHJlY3QubGVmdDtcbiAgICAgICAgICAgIGxldCBkeSA9IChyZWN0LnRvcCA+IHkgPyByZWN0LnRvcCAtIHkgOiB5IC0gcmVjdC5ib3R0b20pIC0gMTtcbiAgICAgICAgICAgIGlmIChyZWN0LmxlZnQgLSAxIDw9IHggJiYgcmVjdC5yaWdodCArIDEgPj0geCAmJiBkeSA8IGNsb3Nlc3REWSkge1xuICAgICAgICAgICAgICAgIGxldCByaWdodCA9IHggPj0gKHJlY3QubGVmdCArIHJlY3QucmlnaHQpIC8gMiwgYWZ0ZXIgPSByaWdodDtcbiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5jaHJvbWUgfHwgYnJvd3Nlci5nZWNrbykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgUlRMIG9uIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBnZXR0aW5nIGNsaWVudFxuICAgICAgICAgICAgICAgICAgICAvLyByZWN0cyBmb3IgZW1wdHkgcmFuZ2VzLlxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdEJlZm9yZSA9IHRleHRSYW5nZShub2RlLCBpKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY3RCZWZvcmUubGVmdCA9PSByZWN0LnJpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSAhcmlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkeSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBub2RlLCBvZmZzZXQ6IGkgKyAoYWZ0ZXIgPyAxIDogMCkgfTtcbiAgICAgICAgICAgICAgICBjbG9zZXN0T2Zmc2V0ID0gaSArIChhZnRlciA/IDEgOiAwKTtcbiAgICAgICAgICAgICAgICBjbG9zZXN0RFkgPSBkeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBub2RlLCBvZmZzZXQ6IGNsb3Nlc3RPZmZzZXQgPiAtMSA/IGNsb3Nlc3RPZmZzZXQgOiBnZW5lcmFsU2lkZSA+IDAgPyBub2RlLm5vZGVWYWx1ZS5sZW5ndGggOiAwIH07XG59XG5mdW5jdGlvbiBwb3NBdENvb3Jkcyh2aWV3LCBjb29yZHMsIHByZWNpc2UsIGJpYXMgPSAtMSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgbGV0IGNvbnRlbnQgPSB2aWV3LmNvbnRlbnRET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGRvY1RvcCA9IGNvbnRlbnQudG9wICsgdmlldy52aWV3U3RhdGUucGFkZGluZ1RvcDtcbiAgICBsZXQgYmxvY2ssIHsgZG9jSGVpZ2h0IH0gPSB2aWV3LnZpZXdTdGF0ZTtcbiAgICBsZXQgeyB4LCB5IH0gPSBjb29yZHMsIHlPZmZzZXQgPSB5IC0gZG9jVG9wO1xuICAgIGlmICh5T2Zmc2V0IDwgMClcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgaWYgKHlPZmZzZXQgPiBkb2NIZWlnaHQpXG4gICAgICAgIHJldHVybiB2aWV3LnN0YXRlLmRvYy5sZW5ndGg7XG4gICAgLy8gU2NhbiBmb3IgYSB0ZXh0IGJsb2NrIG5lYXIgdGhlIHF1ZXJpZWQgeSBwb3NpdGlvblxuICAgIGZvciAobGV0IGhhbGZMaW5lID0gdmlldy52aWV3U3RhdGUuaGVpZ2h0T3JhY2xlLnRleHRIZWlnaHQgLyAyLCBib3VuY2VkID0gZmFsc2U7Oykge1xuICAgICAgICBibG9jayA9IHZpZXcuZWxlbWVudEF0SGVpZ2h0KHlPZmZzZXQpO1xuICAgICAgICBpZiAoYmxvY2sudHlwZSA9PSBCbG9ja1R5cGUuVGV4dClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAvLyBNb3ZlIHRoZSB5IHBvc2l0aW9uIG91dCBvZiB0aGlzIGJsb2NrXG4gICAgICAgICAgICB5T2Zmc2V0ID0gYmlhcyA+IDAgPyBibG9jay5ib3R0b20gKyBoYWxmTGluZSA6IGJsb2NrLnRvcCAtIGhhbGZMaW5lO1xuICAgICAgICAgICAgaWYgKHlPZmZzZXQgPj0gMCAmJiB5T2Zmc2V0IDw9IGRvY0hlaWdodClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIElmIHRoZSBkb2N1bWVudCBjb25zaXN0cyBlbnRpcmVseSBvZiByZXBsYWNlZCB3aWRnZXRzLCB3ZVxuICAgICAgICAgICAgLy8gd29uJ3QgZmluZCBhIHRleHQgYmxvY2ssIHNvIHJldHVybiAwXG4gICAgICAgICAgICBpZiAoYm91bmNlZClcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJlY2lzZSA/IG51bGwgOiAwO1xuICAgICAgICAgICAgYm91bmNlZCA9IHRydWU7XG4gICAgICAgICAgICBiaWFzID0gLWJpYXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeSA9IGRvY1RvcCArIHlPZmZzZXQ7XG4gICAgbGV0IGxpbmVTdGFydCA9IGJsb2NrLmZyb207XG4gICAgLy8gSWYgdGhpcyBpcyBvdXRzaWRlIG9mIHRoZSByZW5kZXJlZCB2aWV3cG9ydCwgd2UgY2FuJ3QgZGV0ZXJtaW5lIGEgcG9zaXRpb25cbiAgICBpZiAobGluZVN0YXJ0IDwgdmlldy52aWV3cG9ydC5mcm9tKVxuICAgICAgICByZXR1cm4gdmlldy52aWV3cG9ydC5mcm9tID09IDAgPyAwIDogcHJlY2lzZSA/IG51bGwgOiBwb3NBdENvb3Jkc0ltcHJlY2lzZSh2aWV3LCBjb250ZW50LCBibG9jaywgeCwgeSk7XG4gICAgaWYgKGxpbmVTdGFydCA+IHZpZXcudmlld3BvcnQudG8pXG4gICAgICAgIHJldHVybiB2aWV3LnZpZXdwb3J0LnRvID09IHZpZXcuc3RhdGUuZG9jLmxlbmd0aCA/IHZpZXcuc3RhdGUuZG9jLmxlbmd0aCA6XG4gICAgICAgICAgICBwcmVjaXNlID8gbnVsbCA6IHBvc0F0Q29vcmRzSW1wcmVjaXNlKHZpZXcsIGNvbnRlbnQsIGJsb2NrLCB4LCB5KTtcbiAgICAvLyBQcmVmZXIgU2hhZG93Um9vdE9yRG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCBpZiBwcmVzZW50LCBmYWxsIGJhY2sgdG8gZG9jdW1lbnQgaWYgbm90XG4gICAgbGV0IGRvYyA9IHZpZXcuZG9tLm93bmVyRG9jdW1lbnQ7XG4gICAgbGV0IHJvb3QgPSB2aWV3LnJvb3QuZWxlbWVudEZyb21Qb2ludCA/IHZpZXcucm9vdCA6IGRvYztcbiAgICBsZXQgZWxlbWVudCA9IHJvb3QuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICBpZiAoZWxlbWVudCAmJiAhdmlldy5jb250ZW50RE9NLmNvbnRhaW5zKGVsZW1lbnQpKVxuICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyB1bmV4cGVjdGVkLCBjbGlwIHggYXQgdGhlIHNpZGVzIG9mIHRoZSBjb250ZW50IGFyZWEgYW5kIHRyeSBhZ2FpblxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICB4ID0gTWF0aC5tYXgoY29udGVudC5sZWZ0ICsgMSwgTWF0aC5taW4oY29udGVudC5yaWdodCAtIDEsIHgpKTtcbiAgICAgICAgZWxlbWVudCA9IHJvb3QuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgIXZpZXcuY29udGVudERPTS5jb250YWlucyhlbGVtZW50KSlcbiAgICAgICAgICAgIGVsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgICAvLyBUaGVyZSdzIHZpc2libGUgZWRpdG9yIGNvbnRlbnQgdW5kZXIgdGhlIHBvaW50LCBzbyB3ZSBjYW4gdHJ5XG4gICAgLy8gdXNpbmcgY2FyZXQoUG9zaXRpb258UmFuZ2UpRnJvbVBvaW50IGFzIGEgc2hvcnRjdXRcbiAgICBsZXQgbm9kZSwgb2Zmc2V0ID0gLTE7XG4gICAgaWYgKGVsZW1lbnQgJiYgKChfYSA9IHZpZXcuZG9jVmlldy5uZWFyZXN0KGVsZW1lbnQpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNFZGl0YWJsZSkgIT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGRvYy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gZG9jLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoeCwgeSk7XG4gICAgICAgICAgICBpZiAocG9zKVxuICAgICAgICAgICAgICAgICh7IG9mZnNldE5vZGU6IG5vZGUsIG9mZnNldCB9ID0gcG9zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkb2MuY2FyZXRSYW5nZUZyb21Qb2ludCkge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gZG9jLmNhcmV0UmFuZ2VGcm9tUG9pbnQoeCwgeSk7XG4gICAgICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAoeyBzdGFydENvbnRhaW5lcjogbm9kZSwgc3RhcnRPZmZzZXQ6IG9mZnNldCB9ID0gcmFuZ2UpO1xuICAgICAgICAgICAgICAgIGlmICghdmlldy5jb250ZW50RE9NLmNvbnRhaW5zKG5vZGUpIHx8XG4gICAgICAgICAgICAgICAgICAgIGJyb3dzZXIuc2FmYXJpICYmIGlzU3VzcGljaW91c1NhZmFyaUNhcmV0UmVzdWx0KG5vZGUsIG9mZnNldCwgeCkgfHxcbiAgICAgICAgICAgICAgICAgICAgYnJvd3Nlci5jaHJvbWUgJiYgaXNTdXNwaWNpb3VzQ2hyb21lQ2FyZXRSZXN1bHQobm9kZSwgb2Zmc2V0LCB4KSlcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBObyBsdWNrLCBkbyBvdXIgb3duIChwb3RlbnRpYWxseSBleHBlbnNpdmUpIHNlYXJjaFxuICAgIGlmICghbm9kZSB8fCAhdmlldy5kb2NWaWV3LmRvbS5jb250YWlucyhub2RlKSkge1xuICAgICAgICBsZXQgbGluZSA9IExpbmVWaWV3LmZpbmQodmlldy5kb2NWaWV3LCBsaW5lU3RhcnQpO1xuICAgICAgICBpZiAoIWxpbmUpXG4gICAgICAgICAgICByZXR1cm4geU9mZnNldCA+IGJsb2NrLnRvcCArIGJsb2NrLmhlaWdodCAvIDIgPyBibG9jay50byA6IGJsb2NrLmZyb207XG4gICAgICAgICh7IG5vZGUsIG9mZnNldCB9ID0gZG9tUG9zQXRDb29yZHMobGluZS5kb20sIHgsIHkpKTtcbiAgICB9XG4gICAgbGV0IG5lYXJlc3QgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdChub2RlKTtcbiAgICBpZiAoIW5lYXJlc3QpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChuZWFyZXN0LmlzV2lkZ2V0ICYmICgoX2IgPSBuZWFyZXN0LmRvbSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm5vZGVUeXBlKSA9PSAxKSB7XG4gICAgICAgIGxldCByZWN0ID0gbmVhcmVzdC5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiBjb29yZHMueSA8IHJlY3QudG9wIHx8IGNvb3Jkcy55IDw9IHJlY3QuYm90dG9tICYmIGNvb3Jkcy54IDw9IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDJcbiAgICAgICAgICAgID8gbmVhcmVzdC5wb3NBdFN0YXJ0IDogbmVhcmVzdC5wb3NBdEVuZDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZWFyZXN0LmxvY2FsUG9zRnJvbURPTShub2RlLCBvZmZzZXQpICsgbmVhcmVzdC5wb3NBdFN0YXJ0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBvc0F0Q29vcmRzSW1wcmVjaXNlKHZpZXcsIGNvbnRlbnRSZWN0LCBibG9jaywgeCwgeSkge1xuICAgIGxldCBpbnRvID0gTWF0aC5yb3VuZCgoeCAtIGNvbnRlbnRSZWN0LmxlZnQpICogdmlldy5kZWZhdWx0Q2hhcmFjdGVyV2lkdGgpO1xuICAgIGlmICh2aWV3LmxpbmVXcmFwcGluZyAmJiBibG9jay5oZWlnaHQgPiB2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0ICogMS41KSB7XG4gICAgICAgIGxldCB0ZXh0SGVpZ2h0ID0gdmlldy52aWV3U3RhdGUuaGVpZ2h0T3JhY2xlLnRleHRIZWlnaHQ7XG4gICAgICAgIGxldCBsaW5lID0gTWF0aC5mbG9vcigoeSAtIGJsb2NrLnRvcCAtICh2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0IC0gdGV4dEhlaWdodCkgKiAwLjUpIC8gdGV4dEhlaWdodCk7XG4gICAgICAgIGludG8gKz0gbGluZSAqIHZpZXcudmlld1N0YXRlLmhlaWdodE9yYWNsZS5saW5lTGVuZ3RoO1xuICAgIH1cbiAgICBsZXQgY29udGVudCA9IHZpZXcuc3RhdGUuc2xpY2VEb2MoYmxvY2suZnJvbSwgYmxvY2sudG8pO1xuICAgIHJldHVybiBibG9jay5mcm9tICsgZmluZENvbHVtbihjb250ZW50LCBpbnRvLCB2aWV3LnN0YXRlLnRhYlNpemUpO1xufVxuLy8gSW4gY2FzZSBvZiBhIGhpZ2ggbGluZSBoZWlnaHQsIFNhZmFyaSdzIGNhcmV0UmFuZ2VGcm9tUG9pbnQgdHJlYXRzXG4vLyB0aGUgc3BhY2UgYmV0d2VlbiBsaW5lcyBhcyBiZWxvbmdpbmcgdG8gdGhlIGxhc3QgY2hhcmFjdGVyIG9mIHRoZVxuLy8gbGluZSBiZWZvcmUuIFRoaXMgaXMgdXNlZCB0byBkZXRlY3Qgc3VjaCBhIHJlc3VsdCBzbyB0aGF0IGl0IGNhbiBiZVxuLy8gaWdub3JlZCAoaXNzdWUgIzQwMSkuXG5mdW5jdGlvbiBpc1N1c3BpY2lvdXNTYWZhcmlDYXJldFJlc3VsdChub2RlLCBvZmZzZXQsIHgpIHtcbiAgICBsZXQgbGVuO1xuICAgIGlmIChub2RlLm5vZGVUeXBlICE9IDMgfHwgb2Zmc2V0ICE9IChsZW4gPSBub2RlLm5vZGVWYWx1ZS5sZW5ndGgpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7IG5leHQ7IG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nKVxuICAgICAgICBpZiAobmV4dC5ub2RlVHlwZSAhPSAxIHx8IG5leHQubm9kZU5hbWUgIT0gXCJCUlwiKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0ZXh0UmFuZ2Uobm9kZSwgbGVuIC0gMSwgbGVuKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ID4geDtcbn1cbi8vIENocm9tZSB3aWxsIG1vdmUgcG9zaXRpb25zIGJldHdlZW4gbGluZXMgdG8gdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IGxpbmVcbmZ1bmN0aW9uIGlzU3VzcGljaW91c0Nocm9tZUNhcmV0UmVzdWx0KG5vZGUsIG9mZnNldCwgeCkge1xuICAgIGlmIChvZmZzZXQgIT0gMClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGN1ciA9IG5vZGU7Oykge1xuICAgICAgICBsZXQgcGFyZW50ID0gY3VyLnBhcmVudE5vZGU7XG4gICAgICAgIGlmICghcGFyZW50IHx8IHBhcmVudC5ub2RlVHlwZSAhPSAxIHx8IHBhcmVudC5maXJzdENoaWxkICE9IGN1cilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJjbS1saW5lXCIpKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGN1ciA9IHBhcmVudDtcbiAgICB9XG4gICAgbGV0IHJlY3QgPSBub2RlLm5vZGVUeXBlID09IDEgPyBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIDogdGV4dFJhbmdlKG5vZGUsIDAsIE1hdGgubWF4KG5vZGUubm9kZVZhbHVlLmxlbmd0aCwgMSkpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiB4IC0gcmVjdC5sZWZ0ID4gNTtcbn1cbmZ1bmN0aW9uIGJsb2NrQXQodmlldywgcG9zKSB7XG4gICAgbGV0IGxpbmUgPSB2aWV3LmxpbmVCbG9ja0F0KHBvcyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobGluZS50eXBlKSlcbiAgICAgICAgZm9yIChsZXQgbCBvZiBsaW5lLnR5cGUpIHtcbiAgICAgICAgICAgIGlmIChsLnRvID4gcG9zIHx8IGwudG8gPT0gcG9zICYmIChsLnRvID09IGxpbmUudG8gfHwgbC50eXBlID09IEJsb2NrVHlwZS5UZXh0KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbDtcbiAgICAgICAgfVxuICAgIHJldHVybiBsaW5lO1xufVxuZnVuY3Rpb24gbW92ZVRvTGluZUJvdW5kYXJ5KHZpZXcsIHN0YXJ0LCBmb3J3YXJkLCBpbmNsdWRlV3JhcCkge1xuICAgIGxldCBsaW5lID0gYmxvY2tBdCh2aWV3LCBzdGFydC5oZWFkKTtcbiAgICBsZXQgY29vcmRzID0gIWluY2x1ZGVXcmFwIHx8IGxpbmUudHlwZSAhPSBCbG9ja1R5cGUuVGV4dCB8fCAhKHZpZXcubGluZVdyYXBwaW5nIHx8IGxpbmUud2lkZ2V0TGluZUJyZWFrcykgPyBudWxsXG4gICAgICAgIDogdmlldy5jb29yZHNBdFBvcyhzdGFydC5hc3NvYyA8IDAgJiYgc3RhcnQuaGVhZCA+IGxpbmUuZnJvbSA/IHN0YXJ0LmhlYWQgLSAxIDogc3RhcnQuaGVhZCk7XG4gICAgaWYgKGNvb3Jkcykge1xuICAgICAgICBsZXQgZWRpdG9yUmVjdCA9IHZpZXcuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgZGlyZWN0aW9uID0gdmlldy50ZXh0RGlyZWN0aW9uQXQobGluZS5mcm9tKTtcbiAgICAgICAgbGV0IHBvcyA9IHZpZXcucG9zQXRDb29yZHMoeyB4OiBmb3J3YXJkID09IChkaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUikgPyBlZGl0b3JSZWN0LnJpZ2h0IC0gMSA6IGVkaXRvclJlY3QubGVmdCArIDEsXG4gICAgICAgICAgICB5OiAoY29vcmRzLnRvcCArIGNvb3Jkcy5ib3R0b20pIC8gMiB9KTtcbiAgICAgICAgaWYgKHBvcyAhPSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zLCBmb3J3YXJkID8gLTEgOiAxKTtcbiAgICB9XG4gICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoZm9yd2FyZCA/IGxpbmUudG8gOiBsaW5lLmZyb20sIGZvcndhcmQgPyAtMSA6IDEpO1xufVxuZnVuY3Rpb24gbW92ZUJ5Q2hhcih2aWV3LCBzdGFydCwgZm9yd2FyZCwgYnkpIHtcbiAgICBsZXQgbGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChzdGFydC5oZWFkKSwgc3BhbnMgPSB2aWV3LmJpZGlTcGFucyhsaW5lKTtcbiAgICBsZXQgZGlyZWN0aW9uID0gdmlldy50ZXh0RGlyZWN0aW9uQXQobGluZS5mcm9tKTtcbiAgICBmb3IgKGxldCBjdXIgPSBzdGFydCwgY2hlY2sgPSBudWxsOzspIHtcbiAgICAgICAgbGV0IG5leHQgPSBtb3ZlVmlzdWFsbHkobGluZSwgc3BhbnMsIGRpcmVjdGlvbiwgY3VyLCBmb3J3YXJkKSwgY2hhciA9IG1vdmVkT3ZlcjtcbiAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICBpZiAobGluZS5udW1iZXIgPT0gKGZvcndhcmQgPyB2aWV3LnN0YXRlLmRvYy5saW5lcyA6IDEpKVxuICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgICAgICBjaGFyID0gXCJcXG5cIjtcbiAgICAgICAgICAgIGxpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lKGxpbmUubnVtYmVyICsgKGZvcndhcmQgPyAxIDogLTEpKTtcbiAgICAgICAgICAgIHNwYW5zID0gdmlldy5iaWRpU3BhbnMobGluZSk7XG4gICAgICAgICAgICBuZXh0ID0gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihmb3J3YXJkID8gbGluZS5mcm9tIDogbGluZS50byk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjaGVjaykge1xuICAgICAgICAgICAgaWYgKCFieSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIGNoZWNrID0gYnkoY2hhcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWNoZWNrKGNoYXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICB9XG4gICAgICAgIGN1ciA9IG5leHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gYnlHcm91cCh2aWV3LCBwb3MsIHN0YXJ0KSB7XG4gICAgbGV0IGNhdGVnb3JpemUgPSB2aWV3LnN0YXRlLmNoYXJDYXRlZ29yaXplcihwb3MpO1xuICAgIGxldCBjYXQgPSBjYXRlZ29yaXplKHN0YXJ0KTtcbiAgICByZXR1cm4gKG5leHQpID0+IHtcbiAgICAgICAgbGV0IG5leHRDYXQgPSBjYXRlZ29yaXplKG5leHQpO1xuICAgICAgICBpZiAoY2F0ID09IENoYXJDYXRlZ29yeS5TcGFjZSlcbiAgICAgICAgICAgIGNhdCA9IG5leHRDYXQ7XG4gICAgICAgIHJldHVybiBjYXQgPT0gbmV4dENhdDtcbiAgICB9O1xufVxuZnVuY3Rpb24gbW92ZVZlcnRpY2FsbHkodmlldywgc3RhcnQsIGZvcndhcmQsIGRpc3RhbmNlKSB7XG4gICAgbGV0IHN0YXJ0UG9zID0gc3RhcnQuaGVhZCwgZGlyID0gZm9yd2FyZCA/IDEgOiAtMTtcbiAgICBpZiAoc3RhcnRQb3MgPT0gKGZvcndhcmQgPyB2aWV3LnN0YXRlLmRvYy5sZW5ndGggOiAwKSlcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3Ioc3RhcnRQb3MsIHN0YXJ0LmFzc29jKTtcbiAgICBsZXQgZ29hbCA9IHN0YXJ0LmdvYWxDb2x1bW4sIHN0YXJ0WTtcbiAgICBsZXQgcmVjdCA9IHZpZXcuY29udGVudERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgc3RhcnRDb29yZHMgPSB2aWV3LmNvb3Jkc0F0UG9zKHN0YXJ0UG9zLCBzdGFydC5hc3NvYyB8fCAtMSksIGRvY1RvcCA9IHZpZXcuZG9jdW1lbnRUb3A7XG4gICAgaWYgKHN0YXJ0Q29vcmRzKSB7XG4gICAgICAgIGlmIChnb2FsID09IG51bGwpXG4gICAgICAgICAgICBnb2FsID0gc3RhcnRDb29yZHMubGVmdCAtIHJlY3QubGVmdDtcbiAgICAgICAgc3RhcnRZID0gZGlyIDwgMCA/IHN0YXJ0Q29vcmRzLnRvcCA6IHN0YXJ0Q29vcmRzLmJvdHRvbTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBsaW5lID0gdmlldy52aWV3U3RhdGUubGluZUJsb2NrQXQoc3RhcnRQb3MpO1xuICAgICAgICBpZiAoZ29hbCA9PSBudWxsKVxuICAgICAgICAgICAgZ29hbCA9IE1hdGgubWluKHJlY3QucmlnaHQgLSByZWN0LmxlZnQsIHZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoICogKHN0YXJ0UG9zIC0gbGluZS5mcm9tKSk7XG4gICAgICAgIHN0YXJ0WSA9IChkaXIgPCAwID8gbGluZS50b3AgOiBsaW5lLmJvdHRvbSkgKyBkb2NUb3A7XG4gICAgfVxuICAgIGxldCByZXNvbHZlZEdvYWwgPSByZWN0LmxlZnQgKyBnb2FsO1xuICAgIGxldCBkaXN0ID0gZGlzdGFuY2UgIT09IG51bGwgJiYgZGlzdGFuY2UgIT09IHZvaWQgMCA/IGRpc3RhbmNlIDogKHZpZXcudmlld1N0YXRlLmhlaWdodE9yYWNsZS50ZXh0SGVpZ2h0ID4+IDEpO1xuICAgIGZvciAobGV0IGV4dHJhID0gMDs7IGV4dHJhICs9IDEwKSB7XG4gICAgICAgIGxldCBjdXJZID0gc3RhcnRZICsgKGRpc3QgKyBleHRyYSkgKiBkaXI7XG4gICAgICAgIGxldCBwb3MgPSBwb3NBdENvb3Jkcyh2aWV3LCB7IHg6IHJlc29sdmVkR29hbCwgeTogY3VyWSB9LCBmYWxzZSwgZGlyKTtcbiAgICAgICAgaWYgKGN1clkgPCByZWN0LnRvcCB8fCBjdXJZID4gcmVjdC5ib3R0b20gfHwgKGRpciA8IDAgPyBwb3MgPCBzdGFydFBvcyA6IHBvcyA+IHN0YXJ0UG9zKSkge1xuICAgICAgICAgICAgbGV0IGNoYXJSZWN0ID0gdmlldy5kb2NWaWV3LmNvb3Jkc0ZvckNoYXIocG9zKTtcbiAgICAgICAgICAgIGxldCBhc3NvYyA9ICFjaGFyUmVjdCB8fCBjdXJZIDwgY2hhclJlY3QudG9wID8gLTEgOiAxO1xuICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zLCBhc3NvYywgdW5kZWZpbmVkLCBnb2FsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNraXBBdG9taWNSYW5nZXMoYXRvbXMsIHBvcywgYmlhcykge1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgbGV0IG1vdmVkID0gMDtcbiAgICAgICAgZm9yIChsZXQgc2V0IG9mIGF0b21zKSB7XG4gICAgICAgICAgICBzZXQuYmV0d2Vlbihwb3MgLSAxLCBwb3MgKyAxLCAoZnJvbSwgdG8sIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBvcyA+IGZyb20gJiYgcG9zIDwgdG8pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpZGUgPSBtb3ZlZCB8fCBiaWFzIHx8IChwb3MgLSBmcm9tIDwgdG8gLSBwb3MgPyAtMSA6IDEpO1xuICAgICAgICAgICAgICAgICAgICBwb3MgPSBzaWRlIDwgMCA/IGZyb20gOiB0bztcbiAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSBzaWRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbW92ZWQpXG4gICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNraXBBdG9tcyh2aWV3LCBvbGRQb3MsIHBvcykge1xuICAgIGxldCBuZXdQb3MgPSBza2lwQXRvbWljUmFuZ2VzKHZpZXcuc3RhdGUuZmFjZXQoYXRvbWljUmFuZ2VzKS5tYXAoZiA9PiBmKHZpZXcpKSwgcG9zLmZyb20sIG9sZFBvcy5oZWFkID4gcG9zLmZyb20gPyAtMSA6IDEpO1xuICAgIHJldHVybiBuZXdQb3MgPT0gcG9zLmZyb20gPyBwb3MgOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKG5ld1BvcywgbmV3UG9zIDwgcG9zLmZyb20gPyAxIDogLTEpO1xufVxuXG4vLyBUaGlzIHdpbGwgYWxzbyBiZSB3aGVyZSBkcmFnZ2luZyBpbmZvIGFuZCBzdWNoIGdvZXNcbmNsYXNzIElucHV0U3RhdGUge1xuICAgIHNldFNlbGVjdGlvbk9yaWdpbihvcmlnaW4pIHtcbiAgICAgICAgdGhpcy5sYXN0U2VsZWN0aW9uT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICB0aGlzLmxhc3RTZWxlY3Rpb25UaW1lID0gRGF0ZS5ub3coKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmxhc3RLZXlDb2RlID0gMDtcbiAgICAgICAgdGhpcy5sYXN0S2V5VGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdFRvdWNoVGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdEZvY3VzVGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdFNjcm9sbFRvcCA9IDA7XG4gICAgICAgIHRoaXMubGFzdFNjcm9sbExlZnQgPSAwO1xuICAgICAgICAvLyBPbiBpT1MsIHNvbWUga2V5cyBuZWVkIHRvIGhhdmUgdGhlaXIgZGVmYXVsdCBiZWhhdmlvciBoYXBwZW5cbiAgICAgICAgLy8gKGFmdGVyIHdoaWNoIHdlIHJldHJvYWN0aXZlbHkgaGFuZGxlIHRoZW0gYW5kIHJlc2V0IHRoZSBET00pIHRvXG4gICAgICAgIC8vIGF2b2lkIG1lc3NpbmcgdXAgdGhlIHZpcnR1YWwga2V5Ym9hcmQgc3RhdGUuXG4gICAgICAgIHRoaXMucGVuZGluZ0lPU0tleSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5sYXN0U2VsZWN0aW9uT3JpZ2luID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0U2VsZWN0aW9uVGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdEVzY1ByZXNzID0gMDtcbiAgICAgICAgdGhpcy5sYXN0Q29udGV4dE1lbnUgPSAwO1xuICAgICAgICB0aGlzLnNjcm9sbEhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAvLyAtMSBtZWFucyBub3QgaW4gYSBjb21wb3NpdGlvbi4gT3RoZXJ3aXNlLCB0aGlzIGNvdW50cyB0aGUgbnVtYmVyXG4gICAgICAgIC8vIG9mIGNoYW5nZXMgbWFkZSBkdXJpbmcgdGhlIGNvbXBvc2l0aW9uLiBUaGUgY291bnQgaXMgdXNlZCB0b1xuICAgICAgICAvLyBhdm9pZCB0cmVhdGluZyB0aGUgc3RhcnQgc3RhdGUgb2YgdGhlIGNvbXBvc2l0aW9uLCBiZWZvcmUgYW55XG4gICAgICAgIC8vIGNoYW5nZXMgaGF2ZSBiZWVuIG1hZGUsIGFzIHBhcnQgb2YgdGhlIGNvbXBvc2l0aW9uLlxuICAgICAgICB0aGlzLmNvbXBvc2luZyA9IC0xO1xuICAgICAgICAvLyBUcmFja3Mgd2hldGhlciB0aGUgbmV4dCBjaGFuZ2Ugc2hvdWxkIGJlIG1hcmtlZCBhcyBzdGFydGluZyB0aGVcbiAgICAgICAgLy8gY29tcG9zaXRpb24gKG51bGwgbWVhbnMgbm8gY29tcG9zaXRpb24sIHRydWUgbWVhbnMgbmV4dCBpcyB0aGVcbiAgICAgICAgLy8gZmlyc3QsIGZhbHNlIG1lYW5zIGZpcnN0IGhhcyBhbHJlYWR5IGJlZW4gbWFya2VkIGZvciB0aGlzXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uKVxuICAgICAgICB0aGlzLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UgPSBudWxsO1xuICAgICAgICAvLyBFbmQgdGltZSBvZiB0aGUgcHJldmlvdXMgY29tcG9zaXRpb25cbiAgICAgICAgdGhpcy5jb21wb3NpdGlvbkVuZGVkQXQgPSAwO1xuICAgICAgICAvLyBVc2VkIGluIGEga2x1ZGdlIHRvIGRldGVjdCB3aGVuIGFuIEVudGVyIGtleXByZXNzIHNob3VsZCBiZVxuICAgICAgICAvLyBjb25zaWRlcmVkIHBhcnQgb2YgdGhlIGNvbXBvc2l0aW9uIG9uIFNhZmFyaSwgd2hpY2ggZmlyZXMgZXZlbnRzXG4gICAgICAgIC8vIGluIHRoZSB3cm9uZyBvcmRlclxuICAgICAgICB0aGlzLmNvbXBvc2l0aW9uUGVuZGluZ0tleSA9IGZhbHNlO1xuICAgICAgICAvLyBVc2VkIHRvIGNhdGVnb3JpemUgY2hhbmdlcyBhcyBwYXJ0IG9mIGEgY29tcG9zaXRpb24sIGV2ZW4gd2hlblxuICAgICAgICAvLyB0aGUgbXV0YXRpb24gZXZlbnRzIGZpcmUgc2hvcnRseSBhZnRlciB0aGUgY29tcG9zaXRpb25lbmQgZXZlbnRcbiAgICAgICAgdGhpcy5jb21wb3NpdGlvblBlbmRpbmdDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tb3VzZVNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQgPSB0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubm90aWZpZWRGb2N1c2VkID0gdmlldy5oYXNGb2N1cztcbiAgICAgICAgLy8gT24gU2FmYXJpIGFkZGluZyBhbiBpbnB1dCBldmVudCBoYW5kbGVyIHNvbWVob3cgcHJldmVudHMgYW5cbiAgICAgICAgLy8gaXNzdWUgd2hlcmUgdGhlIGNvbXBvc2l0aW9uIHZhbmlzaGVzIHdoZW4geW91IHByZXNzIGVudGVyLlxuICAgICAgICBpZiAoYnJvd3Nlci5zYWZhcmkpXG4gICAgICAgICAgICB2aWV3LmNvbnRlbnRET00uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IG51bGwpO1xuICAgICAgICBpZiAoYnJvd3Nlci5nZWNrbylcbiAgICAgICAgICAgIGZpcmVmb3hDb3B5Q3V0SGFjayh2aWV3LmNvbnRlbnRET00ub3duZXJEb2N1bWVudCk7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICghZXZlbnRCZWxvbmdzVG9FZGl0b3IodGhpcy52aWV3LCBldmVudCkgfHwgdGhpcy5pZ25vcmVEdXJpbmdDb21wb3NpdGlvbihldmVudCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChldmVudC50eXBlID09IFwia2V5ZG93blwiICYmIHRoaXMua2V5ZG93bihldmVudCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMucnVuSGFuZGxlcnMoZXZlbnQudHlwZSwgZXZlbnQpO1xuICAgIH1cbiAgICBydW5IYW5kbGVycyh0eXBlLCBldmVudCkge1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW3R5cGVdO1xuICAgICAgICBpZiAoaGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IG9ic2VydmVyIG9mIGhhbmRsZXJzLm9ic2VydmVycylcbiAgICAgICAgICAgICAgICBvYnNlcnZlcih0aGlzLnZpZXcsIGV2ZW50KTtcbiAgICAgICAgICAgIGZvciAobGV0IGhhbmRsZXIgb2YgaGFuZGxlcnMuaGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIodGhpcy52aWV3LCBldmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVuc3VyZUhhbmRsZXJzKHBsdWdpbnMpIHtcbiAgICAgICAgbGV0IGhhbmRsZXJzID0gY29tcHV0ZUhhbmRsZXJzKHBsdWdpbnMpLCBwcmV2ID0gdGhpcy5oYW5kbGVycywgZG9tID0gdGhpcy52aWV3LmNvbnRlbnRET007XG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gaGFuZGxlcnMpXG4gICAgICAgICAgICBpZiAodHlwZSAhPSBcInNjcm9sbFwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhc3NpdmUgPSAhaGFuZGxlcnNbdHlwZV0uaGFuZGxlcnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxldCBleGlzdHMgPSBwcmV2W3R5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChleGlzdHMgJiYgcGFzc2l2ZSAhPSAhZXhpc3RzLmhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCB0aGlzLmhhbmRsZUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdHMpXG4gICAgICAgICAgICAgICAgICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHRoaXMuaGFuZGxlRXZlbnQsIHsgcGFzc2l2ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBwcmV2KVxuICAgICAgICAgICAgaWYgKHR5cGUgIT0gXCJzY3JvbGxcIiAmJiAhaGFuZGxlcnNbdHlwZV0pXG4gICAgICAgICAgICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgdGhpcy5oYW5kbGVFdmVudCk7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBoYW5kbGVycztcbiAgICB9XG4gICAga2V5ZG93bihldmVudCkge1xuICAgICAgICAvLyBNdXN0IGFsd2F5cyBydW4sIGV2ZW4gaWYgYSBjdXN0b20gaGFuZGxlciBoYW5kbGVkIHRoZSBldmVudFxuICAgICAgICB0aGlzLmxhc3RLZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICAgICAgdGhpcy5sYXN0S2V5VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDkgJiYgRGF0ZS5ub3coKSA8IHRoaXMubGFzdEVzY1ByZXNzICsgMjAwMClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSAhPSAyNyAmJiBtb2RpZmllckNvZGVzLmluZGV4T2YoZXZlbnQua2V5Q29kZSkgPCAwKVxuICAgICAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUubGFzdEVzY1ByZXNzID0gMDtcbiAgICAgICAgLy8gQ2hyb21lIGZvciBBbmRyb2lkIHVzdWFsbHkgZG9lc24ndCBmaXJlIHByb3BlciBrZXkgZXZlbnRzLCBidXRcbiAgICAgICAgLy8gb2NjYXNpb25hbGx5IGRvZXMsIHVzdWFsbHkgc3Vycm91bmRlZCBieSBhIGJ1bmNoIG9mIGNvbXBsaWNhdGVkXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uIGNoYW5nZXMuIFdoZW4gYW4gZW50ZXIgb3IgYmFja3NwYWNlIGtleSBldmVudCBpc1xuICAgICAgICAvLyBzZWVuLCBob2xkIG9mZiBvbiBoYW5kbGluZyBET00gZXZlbnRzIGZvciBhIGJpdCwgYW5kIHRoZW5cbiAgICAgICAgLy8gZGlzcGF0Y2ggaXQuXG4gICAgICAgIGlmIChicm93c2VyLmFuZHJvaWQgJiYgYnJvd3Nlci5jaHJvbWUgJiYgIWV2ZW50LnN5bnRoZXRpYyAmJlxuICAgICAgICAgICAgKGV2ZW50LmtleUNvZGUgPT0gMTMgfHwgZXZlbnQua2V5Q29kZSA9PSA4KSkge1xuICAgICAgICAgICAgdGhpcy52aWV3Lm9ic2VydmVyLmRlbGF5QW5kcm9pZEtleShldmVudC5rZXksIGV2ZW50LmtleUNvZGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJldmVudGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiBFbnRlciBvbiBpT1MgbWFrZXMgdGhlXG4gICAgICAgIC8vIHZpcnR1YWwga2V5Ym9hcmQgZ2V0IHN0dWNrIGluIHRoZSB3cm9uZyAobG93ZXJjYXNlKVxuICAgICAgICAvLyBzdGF0ZS4gU28gd2UgbGV0IGl0IGdvIHRocm91Z2gsIGFuZCB0aGVuLCBpblxuICAgICAgICAvLyBhcHBseURPTUNoYW5nZSwgbm90aWZ5IGtleSBoYW5kbGVycyBvZiBpdCBhbmQgcmVzZXQgdG9cbiAgICAgICAgLy8gdGhlIHN0YXRlIHRoZXkgcHJvZHVjZS5cbiAgICAgICAgbGV0IHBlbmRpbmc7XG4gICAgICAgIGlmIChicm93c2VyLmlvcyAmJiAhZXZlbnQuc3ludGhldGljICYmICFldmVudC5hbHRLZXkgJiYgIWV2ZW50Lm1ldGFLZXkgJiZcbiAgICAgICAgICAgICgocGVuZGluZyA9IFBlbmRpbmdLZXlzLmZpbmQoa2V5ID0+IGtleS5rZXlDb2RlID09IGV2ZW50LmtleUNvZGUpKSAmJiAhZXZlbnQuY3RybEtleSB8fFxuICAgICAgICAgICAgICAgIEVtYWNzeVBlbmRpbmdLZXlzLmluZGV4T2YoZXZlbnQua2V5KSA+IC0xICYmIGV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50LnNoaWZ0S2V5KSkge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nSU9TS2V5ID0gcGVuZGluZyB8fCBldmVudDtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5mbHVzaElPU0tleSgpLCAyNTApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgIT0gMjI5KVxuICAgICAgICAgICAgdGhpcy52aWV3Lm9ic2VydmVyLmZvcmNlRmx1c2goKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmbHVzaElPU0tleSgpIHtcbiAgICAgICAgbGV0IGtleSA9IHRoaXMucGVuZGluZ0lPU0tleTtcbiAgICAgICAgaWYgKCFrZXkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ0lPU0tleSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoS2V5KHRoaXMudmlldy5jb250ZW50RE9NLCBrZXkua2V5LCBrZXkua2V5Q29kZSk7XG4gICAgfVxuICAgIGlnbm9yZUR1cmluZ0NvbXBvc2l0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmICghL15rZXkvLnRlc3QoZXZlbnQudHlwZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmNvbXBvc2luZyA+IDApXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vd3d3LnN0dW0uZGUvMjAxNi8wNi8yNC9oYW5kbGluZy1pbWUtZXZlbnRzLWluLWphdmFzY3JpcHQvLlxuICAgICAgICAvLyBPbiBzb21lIGlucHV0IG1ldGhvZCBlZGl0b3JzIChJTUVzKSwgdGhlIEVudGVyIGtleSBpcyB1c2VkIHRvXG4gICAgICAgIC8vIGNvbmZpcm0gY2hhcmFjdGVyIHNlbGVjdGlvbi4gT24gU2FmYXJpLCB3aGVuIEVudGVyIGlzIHByZXNzZWQsXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uZW5kIGFuZCBrZXlkb3duIGV2ZW50cyBhcmUgc29tZXRpbWVzIGVtaXR0ZWQgaW4gdGhlXG4gICAgICAgIC8vIHdyb25nIG9yZGVyLiBUaGUga2V5IGV2ZW50IHNob3VsZCBzdGlsbCBiZSBpZ25vcmVkLCBldmVuIHdoZW5cbiAgICAgICAgLy8gaXQgaGFwcGVucyBhZnRlciB0aGUgY29tcG9zaXRpb25lbmQgZXZlbnQuXG4gICAgICAgIGlmIChicm93c2VyLnNhZmFyaSAmJiAhYnJvd3Nlci5pb3MgJiYgdGhpcy5jb21wb3NpdGlvblBlbmRpbmdLZXkgJiYgRGF0ZS5ub3coKSAtIHRoaXMuY29tcG9zaXRpb25FbmRlZEF0IDwgMTAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvc2l0aW9uUGVuZGluZ0tleSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzdGFydE1vdXNlU2VsZWN0aW9uKG1vdXNlU2VsZWN0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlU2VsZWN0aW9uKVxuICAgICAgICAgICAgdGhpcy5tb3VzZVNlbGVjdGlvbi5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24gPSBtb3VzZVNlbGVjdGlvbjtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVNlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24udXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgIGlmICh1cGRhdGUudHJhbnNhY3Rpb25zLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMubGFzdEtleUNvZGUgPSB0aGlzLmxhc3RTZWxlY3Rpb25UaW1lID0gMDtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMubW91c2VTZWxlY3Rpb24pXG4gICAgICAgICAgICB0aGlzLm1vdXNlU2VsZWN0aW9uLmRlc3Ryb3koKTtcbiAgICB9XG59XG5mdW5jdGlvbiBiaW5kSGFuZGxlcihwbHVnaW4sIGhhbmRsZXIpIHtcbiAgICByZXR1cm4gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlci5jYWxsKHBsdWdpbiwgZXZlbnQsIHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2dFeGNlcHRpb24odmlldy5zdGF0ZSwgZSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY29tcHV0ZUhhbmRsZXJzKHBsdWdpbnMpIHtcbiAgICBsZXQgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBmdW5jdGlvbiByZWNvcmQodHlwZSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0W3R5cGVdIHx8IChyZXN1bHRbdHlwZV0gPSB7IG9ic2VydmVyczogW10sIGhhbmRsZXJzOiBbXSB9KTtcbiAgICB9XG4gICAgZm9yIChsZXQgcGx1Z2luIG9mIHBsdWdpbnMpIHtcbiAgICAgICAgbGV0IHNwZWMgPSBwbHVnaW4uc3BlYztcbiAgICAgICAgaWYgKHNwZWMgJiYgc3BlYy5kb21FdmVudEhhbmRsZXJzKVxuICAgICAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBzcGVjLmRvbUV2ZW50SGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZiA9IHNwZWMuZG9tRXZlbnRIYW5kbGVyc1t0eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoZilcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkKHR5cGUpLmhhbmRsZXJzLnB1c2goYmluZEhhbmRsZXIocGx1Z2luLnZhbHVlLCBmKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGlmIChzcGVjICYmIHNwZWMuZG9tRXZlbnRPYnNlcnZlcnMpXG4gICAgICAgICAgICBmb3IgKGxldCB0eXBlIGluIHNwZWMuZG9tRXZlbnRPYnNlcnZlcnMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZiA9IHNwZWMuZG9tRXZlbnRPYnNlcnZlcnNbdHlwZV07XG4gICAgICAgICAgICAgICAgaWYgKGYpXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZCh0eXBlKS5vYnNlcnZlcnMucHVzaChiaW5kSGFuZGxlcihwbHVnaW4udmFsdWUsIGYpKTtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgdHlwZSBpbiBoYW5kbGVycylcbiAgICAgICAgcmVjb3JkKHR5cGUpLmhhbmRsZXJzLnB1c2goaGFuZGxlcnNbdHlwZV0pO1xuICAgIGZvciAobGV0IHR5cGUgaW4gb2JzZXJ2ZXJzKVxuICAgICAgICByZWNvcmQodHlwZSkub2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXJzW3R5cGVdKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgUGVuZGluZ0tleXMgPSBbXG4gICAgeyBrZXk6IFwiQmFja3NwYWNlXCIsIGtleUNvZGU6IDgsIGlucHV0VHlwZTogXCJkZWxldGVDb250ZW50QmFja3dhcmRcIiB9LFxuICAgIHsga2V5OiBcIkVudGVyXCIsIGtleUNvZGU6IDEzLCBpbnB1dFR5cGU6IFwiaW5zZXJ0UGFyYWdyYXBoXCIgfSxcbiAgICB7IGtleTogXCJFbnRlclwiLCBrZXlDb2RlOiAxMywgaW5wdXRUeXBlOiBcImluc2VydExpbmVCcmVha1wiIH0sXG4gICAgeyBrZXk6IFwiRGVsZXRlXCIsIGtleUNvZGU6IDQ2LCBpbnB1dFR5cGU6IFwiZGVsZXRlQ29udGVudEZvcndhcmRcIiB9XG5dO1xuY29uc3QgRW1hY3N5UGVuZGluZ0tleXMgPSBcImR0aGtvXCI7XG4vLyBLZXkgY29kZXMgZm9yIG1vZGlmaWVyIGtleXNcbmNvbnN0IG1vZGlmaWVyQ29kZXMgPSBbMTYsIDE3LCAxOCwgMjAsIDkxLCA5MiwgMjI0LCAyMjVdO1xuY29uc3QgZHJhZ1Njcm9sbE1hcmdpbiA9IDY7XG5mdW5jdGlvbiBkcmFnU2Nyb2xsU3BlZWQoZGlzdCkge1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBkaXN0KSAqIDAuNyArIDg7XG59XG5mdW5jdGlvbiBkaXN0KGEsIGIpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5hYnMoYS5jbGllbnRYIC0gYi5jbGllbnRYKSwgTWF0aC5hYnMoYS5jbGllbnRZIC0gYi5jbGllbnRZKSk7XG59XG5jbGFzcyBNb3VzZVNlbGVjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgc3RhcnRFdmVudCwgc3R5bGUsIG11c3RTZWxlY3QpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5zdGFydEV2ZW50ID0gc3RhcnRFdmVudDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLm11c3RTZWxlY3QgPSBtdXN0U2VsZWN0O1xuICAgICAgICB0aGlzLnNjcm9sbFNwZWVkID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIHRoaXMuc2Nyb2xsaW5nID0gLTE7XG4gICAgICAgIHRoaXMubGFzdEV2ZW50ID0gc3RhcnRFdmVudDtcbiAgICAgICAgdGhpcy5zY3JvbGxQYXJlbnQgPSBzY3JvbGxhYmxlUGFyZW50KHZpZXcuY29udGVudERPTSk7XG4gICAgICAgIHRoaXMuYXRvbXMgPSB2aWV3LnN0YXRlLmZhY2V0KGF0b21pY1JhbmdlcykubWFwKGYgPT4gZih2aWV3KSk7XG4gICAgICAgIGxldCBkb2MgPSB2aWV3LmNvbnRlbnRET00ub3duZXJEb2N1bWVudDtcbiAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3ZlID0gdGhpcy5tb3ZlLmJpbmQodGhpcykpO1xuICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy51cCA9IHRoaXMudXAuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZXh0ZW5kID0gc3RhcnRFdmVudC5zaGlmdEtleTtcbiAgICAgICAgdGhpcy5tdWx0aXBsZSA9IHZpZXcuc3RhdGUuZmFjZXQoRWRpdG9yU3RhdGUuYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnMpICYmIGFkZHNTZWxlY3Rpb25SYW5nZSh2aWV3LCBzdGFydEV2ZW50KTtcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGlzSW5QcmltYXJ5U2VsZWN0aW9uKHZpZXcsIHN0YXJ0RXZlbnQpICYmIGdldENsaWNrVHlwZShzdGFydEV2ZW50KSA9PSAxID8gbnVsbCA6IGZhbHNlO1xuICAgIH1cbiAgICBzdGFydChldmVudCkge1xuICAgICAgICAvLyBXaGVuIGNsaWNraW5nIG91dHNpZGUgb2YgdGhlIHNlbGVjdGlvbiwgaW1tZWRpYXRlbHkgYXBwbHkgdGhlXG4gICAgICAgIC8vIGVmZmVjdCBvZiBzdGFydGluZyB0aGUgc2VsZWN0aW9uXG4gICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBmYWxzZSlcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KGV2ZW50KTtcbiAgICB9XG4gICAgbW92ZShldmVudCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChldmVudC5idXR0b25zID09IDApXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmRyYWdnaW5nIHx8IHRoaXMuZHJhZ2dpbmcgPT0gbnVsbCAmJiBkaXN0KHRoaXMuc3RhcnRFdmVudCwgZXZlbnQpIDwgMTApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuc2VsZWN0KHRoaXMubGFzdEV2ZW50ID0gZXZlbnQpO1xuICAgICAgICBsZXQgc3ggPSAwLCBzeSA9IDA7XG4gICAgICAgIGxldCByZWN0ID0gKChfYSA9IHRoaXMuc2Nyb2xsUGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpXG4gICAgICAgICAgICB8fCB7IGxlZnQ6IDAsIHRvcDogMCwgcmlnaHQ6IHRoaXMudmlldy53aW4uaW5uZXJXaWR0aCwgYm90dG9tOiB0aGlzLnZpZXcud2luLmlubmVySGVpZ2h0IH07XG4gICAgICAgIGxldCBtYXJnaW5zID0gZ2V0U2Nyb2xsTWFyZ2lucyh0aGlzLnZpZXcpO1xuICAgICAgICBpZiAoZXZlbnQuY2xpZW50WCAtIG1hcmdpbnMubGVmdCA8PSByZWN0LmxlZnQgKyBkcmFnU2Nyb2xsTWFyZ2luKVxuICAgICAgICAgICAgc3ggPSAtZHJhZ1Njcm9sbFNwZWVkKHJlY3QubGVmdCAtIGV2ZW50LmNsaWVudFgpO1xuICAgICAgICBlbHNlIGlmIChldmVudC5jbGllbnRYICsgbWFyZ2lucy5yaWdodCA+PSByZWN0LnJpZ2h0IC0gZHJhZ1Njcm9sbE1hcmdpbilcbiAgICAgICAgICAgIHN4ID0gZHJhZ1Njcm9sbFNwZWVkKGV2ZW50LmNsaWVudFggLSByZWN0LnJpZ2h0KTtcbiAgICAgICAgaWYgKGV2ZW50LmNsaWVudFkgLSBtYXJnaW5zLnRvcCA8PSByZWN0LnRvcCArIGRyYWdTY3JvbGxNYXJnaW4pXG4gICAgICAgICAgICBzeSA9IC1kcmFnU2Nyb2xsU3BlZWQocmVjdC50b3AgLSBldmVudC5jbGllbnRZKTtcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQuY2xpZW50WSArIG1hcmdpbnMuYm90dG9tID49IHJlY3QuYm90dG9tIC0gZHJhZ1Njcm9sbE1hcmdpbilcbiAgICAgICAgICAgIHN5ID0gZHJhZ1Njcm9sbFNwZWVkKGV2ZW50LmNsaWVudFkgLSByZWN0LmJvdHRvbSk7XG4gICAgICAgIHRoaXMuc2V0U2Nyb2xsU3BlZWQoc3gsIHN5KTtcbiAgICB9XG4gICAgdXAoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KHRoaXMubGFzdEV2ZW50KTtcbiAgICAgICAgaWYgKCF0aGlzLmRyYWdnaW5nKVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc2V0U2Nyb2xsU3BlZWQoMCwgMCk7XG4gICAgICAgIGxldCBkb2MgPSB0aGlzLnZpZXcuY29udGVudERPTS5vd25lckRvY3VtZW50O1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdmUpO1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy51cCk7XG4gICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLm1vdXNlU2VsZWN0aW9uID0gbnVsbDtcbiAgICB9XG4gICAgc2V0U2Nyb2xsU3BlZWQoc3gsIHN5KSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsU3BlZWQgPSB7IHg6IHN4LCB5OiBzeSB9O1xuICAgICAgICBpZiAoc3ggfHwgc3kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbGluZyA8IDApXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxpbmcgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnNjcm9sbCgpLCA1MCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zY3JvbGxpbmcgPiAtMSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnNjcm9sbGluZyk7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGluZyA9IC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNjcm9sbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsUGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0ICs9IHRoaXMuc2Nyb2xsU3BlZWQueDtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCArPSB0aGlzLnNjcm9sbFNwZWVkLnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcud2luLnNjcm9sbEJ5KHRoaXMuc2Nyb2xsU3BlZWQueCwgdGhpcy5zY3JvbGxTcGVlZC55KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gZmFsc2UpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdCh0aGlzLmxhc3RFdmVudCk7XG4gICAgfVxuICAgIHNraXBBdG9tcyhzZWwpIHtcbiAgICAgICAgbGV0IHJhbmdlcyA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gc2VsLnJhbmdlc1tpXSwgdXBkYXRlZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAocmFuZ2UuZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gc2tpcEF0b21pY1Jhbmdlcyh0aGlzLmF0b21zLCByYW5nZS5mcm9tLCAwKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zICE9IHJhbmdlLmZyb20pXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcywgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSBza2lwQXRvbWljUmFuZ2VzKHRoaXMuYXRvbXMsIHJhbmdlLmZyb20sIC0xKTtcbiAgICAgICAgICAgICAgICBsZXQgdG8gPSBza2lwQXRvbWljUmFuZ2VzKHRoaXMuYXRvbXMsIHJhbmdlLnRvLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSAhPSByYW5nZS5mcm9tIHx8IHRvICE9IHJhbmdlLnRvKVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkID0gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHJhbmdlLmZyb20gPT0gcmFuZ2UuYW5jaG9yID8gZnJvbSA6IHRvLCByYW5nZS5mcm9tID09IHJhbmdlLmhlYWQgPyBmcm9tIDogdG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJhbmdlcylcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzID0gc2VsLnJhbmdlcy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIHJhbmdlc1tpXSA9IHVwZGF0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhbmdlcyA/IEVkaXRvclNlbGVjdGlvbi5jcmVhdGUocmFuZ2VzLCBzZWwubWFpbkluZGV4KSA6IHNlbDtcbiAgICB9XG4gICAgc2VsZWN0KGV2ZW50KSB7XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXMsIHNlbGVjdGlvbiA9IHRoaXMuc2tpcEF0b21zKHRoaXMuc3R5bGUuZ2V0KGV2ZW50LCB0aGlzLmV4dGVuZCwgdGhpcy5tdWx0aXBsZSkpO1xuICAgICAgICBpZiAodGhpcy5tdXN0U2VsZWN0IHx8ICFzZWxlY3Rpb24uZXEodmlldy5zdGF0ZS5zZWxlY3Rpb24pIHx8XG4gICAgICAgICAgICBzZWxlY3Rpb24ubWFpbi5hc3NvYyAhPSB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmFzc29jICYmIHRoaXMuZHJhZ2dpbmcgPT09IGZhbHNlKVxuICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgdXNlckV2ZW50OiBcInNlbGVjdC5wb2ludGVyXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLm11c3RTZWxlY3QgPSBmYWxzZTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQgJiYgdGhpcy5kcmFnZ2luZylcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0aGlzLmRyYWdnaW5nLm1hcCh1cGRhdGUuY2hhbmdlcyk7XG4gICAgICAgIGlmICh0aGlzLnN0eWxlLnVwZGF0ZSh1cGRhdGUpKVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnNlbGVjdCh0aGlzLmxhc3RFdmVudCksIDIwKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRzU2VsZWN0aW9uUmFuZ2UodmlldywgZXZlbnQpIHtcbiAgICBsZXQgZmFjZXQgPSB2aWV3LnN0YXRlLmZhY2V0KGNsaWNrQWRkc1NlbGVjdGlvblJhbmdlKTtcbiAgICByZXR1cm4gZmFjZXQubGVuZ3RoID8gZmFjZXRbMF0oZXZlbnQpIDogYnJvd3Nlci5tYWMgPyBldmVudC5tZXRhS2V5IDogZXZlbnQuY3RybEtleTtcbn1cbmZ1bmN0aW9uIGRyYWdNb3Zlc1NlbGVjdGlvbih2aWV3LCBldmVudCkge1xuICAgIGxldCBmYWNldCA9IHZpZXcuc3RhdGUuZmFjZXQoZHJhZ01vdmVzU2VsZWN0aW9uJDEpO1xuICAgIHJldHVybiBmYWNldC5sZW5ndGggPyBmYWNldFswXShldmVudCkgOiBicm93c2VyLm1hYyA/ICFldmVudC5hbHRLZXkgOiAhZXZlbnQuY3RybEtleTtcbn1cbmZ1bmN0aW9uIGlzSW5QcmltYXJ5U2VsZWN0aW9uKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IHsgbWFpbiB9ID0gdmlldy5zdGF0ZS5zZWxlY3Rpb247XG4gICAgaWYgKG1haW4uZW1wdHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBPbiBib3VuZGFyeSBjbGlja3MsIGNoZWNrIHdoZXRoZXIgdGhlIGNvb3JkaW5hdGVzIGFyZSBpbnNpZGUgdGhlXG4gICAgLy8gc2VsZWN0aW9uJ3MgY2xpZW50IHJlY3RhbmdsZXNcbiAgICBsZXQgc2VsID0gZ2V0U2VsZWN0aW9uKHZpZXcucm9vdCk7XG4gICAgaWYgKCFzZWwgfHwgc2VsLnJhbmdlQ291bnQgPT0gMClcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgbGV0IHJlY3RzID0gc2VsLmdldFJhbmdlQXQoMCkuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCByZWN0ID0gcmVjdHNbaV07XG4gICAgICAgIGlmIChyZWN0LmxlZnQgPD0gZXZlbnQuY2xpZW50WCAmJiByZWN0LnJpZ2h0ID49IGV2ZW50LmNsaWVudFggJiZcbiAgICAgICAgICAgIHJlY3QudG9wIDw9IGV2ZW50LmNsaWVudFkgJiYgcmVjdC5ib3R0b20gPj0gZXZlbnQuY2xpZW50WSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBldmVudEJlbG9uZ3NUb0VkaXRvcih2aWV3LCBldmVudCkge1xuICAgIGlmICghZXZlbnQuYnViYmxlcylcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBub2RlID0gZXZlbnQudGFyZ2V0LCBjVmlldzsgbm9kZSAhPSB2aWV3LmNvbnRlbnRET007IG5vZGUgPSBub2RlLnBhcmVudE5vZGUpXG4gICAgICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlID09IDExIHx8ICgoY1ZpZXcgPSBDb250ZW50Vmlldy5nZXQobm9kZSkpICYmIGNWaWV3Lmlnbm9yZUV2ZW50KGV2ZW50KSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG5jb25zdCBoYW5kbGVycyA9IC8qQF9fUFVSRV9fKi9PYmplY3QuY3JlYXRlKG51bGwpO1xuY29uc3Qgb2JzZXJ2ZXJzID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCk7XG4vLyBUaGlzIGlzIHZlcnkgY3J1ZGUsIGJ1dCB1bmZvcnR1bmF0ZWx5IGJvdGggdGhlc2UgYnJvd3NlcnMgX3ByZXRlbmRfXG4vLyB0aGF0IHRoZXkgaGF2ZSBhIGNsaXBib2FyZCBBUEnigJRhbGwgdGhlIG9iamVjdHMgYW5kIG1ldGhvZHMgYXJlXG4vLyB0aGVyZSwgdGhleSBqdXN0IGRvbid0IHdvcmssIGFuZCB0aGV5IGFyZSBoYXJkIHRvIHRlc3QuXG5jb25zdCBicm9rZW5DbGlwYm9hcmRBUEkgPSAoYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPCAxNSkgfHxcbiAgICAoYnJvd3Nlci5pb3MgJiYgYnJvd3Nlci53ZWJraXRfdmVyc2lvbiA8IDYwNCk7XG5mdW5jdGlvbiBjYXB0dXJlUGFzdGUodmlldykge1xuICAgIGxldCBwYXJlbnQgPSB2aWV3LmRvbS5wYXJlbnROb2RlO1xuICAgIGlmICghcGFyZW50KVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IHRhcmdldCA9IHBhcmVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIikpO1xuICAgIHRhcmdldC5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHhcIjtcbiAgICB0YXJnZXQuZm9jdXMoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdmlldy5mb2N1cygpO1xuICAgICAgICB0YXJnZXQucmVtb3ZlKCk7XG4gICAgICAgIGRvUGFzdGUodmlldywgdGFyZ2V0LnZhbHVlKTtcbiAgICB9LCA1MCk7XG59XG5mdW5jdGlvbiBkb1Bhc3RlKHZpZXcsIGlucHV0KSB7XG4gICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGNoYW5nZXMsIGkgPSAxLCB0ZXh0ID0gc3RhdGUudG9UZXh0KGlucHV0KTtcbiAgICBsZXQgYnlMaW5lID0gdGV4dC5saW5lcyA9PSBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLmxlbmd0aDtcbiAgICBsZXQgbGluZXdpc2UgPSBsYXN0TGluZXdpc2VDb3B5ICE9IG51bGwgJiYgc3RhdGUuc2VsZWN0aW9uLnJhbmdlcy5ldmVyeShyID0+IHIuZW1wdHkpICYmIGxhc3RMaW5ld2lzZUNvcHkgPT0gdGV4dC50b1N0cmluZygpO1xuICAgIGlmIChsaW5ld2lzZSkge1xuICAgICAgICBsZXQgbGFzdExpbmUgPSAtMTtcbiAgICAgICAgY2hhbmdlcyA9IHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHJhbmdlLmZyb20pO1xuICAgICAgICAgICAgaWYgKGxpbmUuZnJvbSA9PSBsYXN0TGluZSlcbiAgICAgICAgICAgICAgICByZXR1cm4geyByYW5nZSB9O1xuICAgICAgICAgICAgbGFzdExpbmUgPSBsaW5lLmZyb207XG4gICAgICAgICAgICBsZXQgaW5zZXJ0ID0gc3RhdGUudG9UZXh0KChieUxpbmUgPyB0ZXh0LmxpbmUoaSsrKS50ZXh0IDogaW5wdXQpICsgc3RhdGUubGluZUJyZWFrKTtcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgZnJvbTogbGluZS5mcm9tLCBpbnNlcnQgfSxcbiAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5mcm9tICsgaW5zZXJ0Lmxlbmd0aCkgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJ5TGluZSkge1xuICAgICAgICBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHRleHQubGluZShpKyspO1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tLCB0bzogcmFuZ2UudG8sIGluc2VydDogbGluZS50ZXh0IH0sXG4gICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuZnJvbSArIGxpbmUubGVuZ3RoKSB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoYW5nZXMgPSBzdGF0ZS5yZXBsYWNlU2VsZWN0aW9uKHRleHQpO1xuICAgIH1cbiAgICB2aWV3LmRpc3BhdGNoKGNoYW5nZXMsIHtcbiAgICAgICAgdXNlckV2ZW50OiBcImlucHV0LnBhc3RlXCIsXG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlXG4gICAgfSk7XG59XG5vYnNlcnZlcnMuc2Nyb2xsID0gdmlldyA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxUb3AgPSB2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3A7XG4gICAgdmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxMZWZ0ID0gdmlldy5zY3JvbGxET00uc2Nyb2xsTGVmdDtcbn07XG5oYW5kbGVycy5rZXlkb3duID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLnNldFNlbGVjdGlvbk9yaWdpbihcInNlbGVjdFwiKTtcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAyNylcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLmxhc3RFc2NQcmVzcyA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbm9ic2VydmVycy50b3VjaHN0YXJ0ID0gKHZpZXcsIGUpID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUubGFzdFRvdWNoVGltZSA9IERhdGUubm93KCk7XG4gICAgdmlldy5pbnB1dFN0YXRlLnNldFNlbGVjdGlvbk9yaWdpbihcInNlbGVjdC5wb2ludGVyXCIpO1xufTtcbm9ic2VydmVycy50b3VjaG1vdmUgPSB2aWV3ID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUuc2V0U2VsZWN0aW9uT3JpZ2luKFwic2VsZWN0LnBvaW50ZXJcIik7XG59O1xuaGFuZGxlcnMubW91c2Vkb3duID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgdmlldy5vYnNlcnZlci5mbHVzaCgpO1xuICAgIGlmICh2aWV3LmlucHV0U3RhdGUubGFzdFRvdWNoVGltZSA+IERhdGUubm93KCkgLSAyMDAwKVxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIElnbm9yZSB0b3VjaCBpbnRlcmFjdGlvblxuICAgIGxldCBzdHlsZSA9IG51bGw7XG4gICAgZm9yIChsZXQgbWFrZVN0eWxlIG9mIHZpZXcuc3RhdGUuZmFjZXQobW91c2VTZWxlY3Rpb25TdHlsZSkpIHtcbiAgICAgICAgc3R5bGUgPSBtYWtlU3R5bGUodmlldywgZXZlbnQpO1xuICAgICAgICBpZiAoc3R5bGUpXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKCFzdHlsZSAmJiBldmVudC5idXR0b24gPT0gMClcbiAgICAgICAgc3R5bGUgPSBiYXNpY01vdXNlU2VsZWN0aW9uKHZpZXcsIGV2ZW50KTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgbGV0IG11c3RGb2N1cyA9ICF2aWV3Lmhhc0ZvY3VzO1xuICAgICAgICB2aWV3LmlucHV0U3RhdGUuc3RhcnRNb3VzZVNlbGVjdGlvbihuZXcgTW91c2VTZWxlY3Rpb24odmlldywgZXZlbnQsIHN0eWxlLCBtdXN0Rm9jdXMpKTtcbiAgICAgICAgaWYgKG11c3RGb2N1cylcbiAgICAgICAgICAgIHZpZXcub2JzZXJ2ZXIuaWdub3JlKCgpID0+IGZvY3VzUHJldmVudFNjcm9sbCh2aWV3LmNvbnRlbnRET00pKTtcbiAgICAgICAgbGV0IG1vdXNlU2VsID0gdmlldy5pbnB1dFN0YXRlLm1vdXNlU2VsZWN0aW9uO1xuICAgICAgICBpZiAobW91c2VTZWwpIHtcbiAgICAgICAgICAgIG1vdXNlU2VsLnN0YXJ0KGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBtb3VzZVNlbC5kcmFnZ2luZyA9PT0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmZ1bmN0aW9uIHJhbmdlRm9yQ2xpY2sodmlldywgcG9zLCBiaWFzLCB0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gMSkgeyAvLyBTaW5nbGUgY2xpY2tcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zLCBiaWFzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PSAyKSB7IC8vIERvdWJsZSBjbGlja1xuICAgICAgICByZXR1cm4gZ3JvdXBBdCh2aWV3LnN0YXRlLCBwb3MsIGJpYXMpO1xuICAgIH1cbiAgICBlbHNlIHsgLy8gVHJpcGxlIGNsaWNrXG4gICAgICAgIGxldCB2aXN1YWwgPSBMaW5lVmlldy5maW5kKHZpZXcuZG9jVmlldywgcG9zKSwgbGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdCh2aXN1YWwgPyB2aXN1YWwucG9zQXRFbmQgOiBwb3MpO1xuICAgICAgICBsZXQgZnJvbSA9IHZpc3VhbCA/IHZpc3VhbC5wb3NBdFN0YXJ0IDogbGluZS5mcm9tLCB0byA9IHZpc3VhbCA/IHZpc3VhbC5wb3NBdEVuZCA6IGxpbmUudG87XG4gICAgICAgIGlmICh0byA8IHZpZXcuc3RhdGUuZG9jLmxlbmd0aCAmJiB0byA9PSBsaW5lLnRvKVxuICAgICAgICAgICAgdG8rKztcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0byk7XG4gICAgfVxufVxubGV0IGluc2lkZVkgPSAoeSwgcmVjdCkgPT4geSA+PSByZWN0LnRvcCAmJiB5IDw9IHJlY3QuYm90dG9tO1xubGV0IGluc2lkZSA9ICh4LCB5LCByZWN0KSA9PiBpbnNpZGVZKHksIHJlY3QpICYmIHggPj0gcmVjdC5sZWZ0ICYmIHggPD0gcmVjdC5yaWdodDtcbi8vIFRyeSB0byBkZXRlcm1pbmUsIGZvciB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXMsIGFzc29jaWF0ZWQgd2l0aCB0aGVcbi8vIGdpdmVuIHBvc2l0aW9uLCB3aGV0aGVyIHRoZXkgYXJlIHJlbGF0ZWQgdG8gdGhlIGVsZW1lbnQgYmVmb3JlIG9yXG4vLyB0aGUgZWxlbWVudCBhZnRlciB0aGUgcG9zaXRpb24uXG5mdW5jdGlvbiBmaW5kUG9zaXRpb25TaWRlKHZpZXcsIHBvcywgeCwgeSkge1xuICAgIGxldCBsaW5lID0gTGluZVZpZXcuZmluZCh2aWV3LmRvY1ZpZXcsIHBvcyk7XG4gICAgaWYgKCFsaW5lKVxuICAgICAgICByZXR1cm4gMTtcbiAgICBsZXQgb2ZmID0gcG9zIC0gbGluZS5wb3NBdFN0YXJ0O1xuICAgIC8vIExpbmUgYm91bmRhcmllcyBwb2ludCBpbnRvIHRoZSBsaW5lXG4gICAgaWYgKG9mZiA9PSAwKVxuICAgICAgICByZXR1cm4gMTtcbiAgICBpZiAob2ZmID09IGxpbmUubGVuZ3RoKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgLy8gUG9zaXRpb25zIG9uIHRvcCBvZiBhbiBlbGVtZW50IHBvaW50IGF0IHRoYXQgZWxlbWVudFxuICAgIGxldCBiZWZvcmUgPSBsaW5lLmNvb3Jkc0F0KG9mZiwgLTEpO1xuICAgIGlmIChiZWZvcmUgJiYgaW5zaWRlKHgsIHksIGJlZm9yZSkpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBsZXQgYWZ0ZXIgPSBsaW5lLmNvb3Jkc0F0KG9mZiwgMSk7XG4gICAgaWYgKGFmdGVyICYmIGluc2lkZSh4LCB5LCBhZnRlcikpXG4gICAgICAgIHJldHVybiAxO1xuICAgIC8vIFRoaXMgaXMgcHJvYmFibHkgYSBsaW5lIHdyYXAgcG9pbnQuIFBpY2sgYmVmb3JlIGlmIHRoZSBwb2ludCBpc1xuICAgIC8vIGJlc2lkZSBpdC5cbiAgICByZXR1cm4gYmVmb3JlICYmIGluc2lkZVkoeSwgYmVmb3JlKSA/IC0xIDogMTtcbn1cbmZ1bmN0aW9uIHF1ZXJ5UG9zKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IHBvcyA9IHZpZXcucG9zQXRDb29yZHMoeyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH0sIGZhbHNlKTtcbiAgICByZXR1cm4geyBwb3MsIGJpYXM6IGZpbmRQb3NpdGlvblNpZGUodmlldywgcG9zLCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKSB9O1xufVxuY29uc3QgQmFkTW91c2VEZXRhaWwgPSBicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMTtcbmxldCBsYXN0TW91c2VEb3duID0gbnVsbCwgbGFzdE1vdXNlRG93bkNvdW50ID0gMCwgbGFzdE1vdXNlRG93blRpbWUgPSAwO1xuZnVuY3Rpb24gZ2V0Q2xpY2tUeXBlKGV2ZW50KSB7XG4gICAgaWYgKCFCYWRNb3VzZURldGFpbClcbiAgICAgICAgcmV0dXJuIGV2ZW50LmRldGFpbDtcbiAgICBsZXQgbGFzdCA9IGxhc3RNb3VzZURvd24sIGxhc3RUaW1lID0gbGFzdE1vdXNlRG93blRpbWU7XG4gICAgbGFzdE1vdXNlRG93biA9IGV2ZW50O1xuICAgIGxhc3RNb3VzZURvd25UaW1lID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gbGFzdE1vdXNlRG93bkNvdW50ID0gIWxhc3QgfHwgKGxhc3RUaW1lID4gRGF0ZS5ub3coKSAtIDQwMCAmJiBNYXRoLmFicyhsYXN0LmNsaWVudFggLSBldmVudC5jbGllbnRYKSA8IDIgJiZcbiAgICAgICAgTWF0aC5hYnMobGFzdC5jbGllbnRZIC0gZXZlbnQuY2xpZW50WSkgPCAyKSA/IChsYXN0TW91c2VEb3duQ291bnQgKyAxKSAlIDMgOiAxO1xufVxuZnVuY3Rpb24gYmFzaWNNb3VzZVNlbGVjdGlvbih2aWV3LCBldmVudCkge1xuICAgIGxldCBzdGFydCA9IHF1ZXJ5UG9zKHZpZXcsIGV2ZW50KSwgdHlwZSA9IGdldENsaWNrVHlwZShldmVudCk7XG4gICAgbGV0IHN0YXJ0U2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb247XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKHVwZGF0ZS5kb2NDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQucG9zID0gdXBkYXRlLmNoYW5nZXMubWFwUG9zKHN0YXJ0LnBvcyk7XG4gICAgICAgICAgICAgICAgc3RhcnRTZWwgPSBzdGFydFNlbC5tYXAodXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQoZXZlbnQsIGV4dGVuZCwgbXVsdGlwbGUpIHtcbiAgICAgICAgICAgIGxldCBjdXIgPSBxdWVyeVBvcyh2aWV3LCBldmVudCksIHJlbW92ZWQ7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSByYW5nZUZvckNsaWNrKHZpZXcsIGN1ci5wb3MsIGN1ci5iaWFzLCB0eXBlKTtcbiAgICAgICAgICAgIGlmIChzdGFydC5wb3MgIT0gY3VyLnBvcyAmJiAhZXh0ZW5kKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0UmFuZ2UgPSByYW5nZUZvckNsaWNrKHZpZXcsIHN0YXJ0LnBvcywgc3RhcnQuYmlhcywgdHlwZSk7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSBNYXRoLm1pbihzdGFydFJhbmdlLmZyb20sIHJhbmdlLmZyb20pLCB0byA9IE1hdGgubWF4KHN0YXJ0UmFuZ2UudG8sIHJhbmdlLnRvKTtcbiAgICAgICAgICAgICAgICByYW5nZSA9IGZyb20gPCByYW5nZS5mcm9tID8gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGZyb20sIHRvKSA6IEVkaXRvclNlbGVjdGlvbi5yYW5nZSh0bywgZnJvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXh0ZW5kKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydFNlbC5yZXBsYWNlUmFuZ2Uoc3RhcnRTZWwubWFpbi5leHRlbmQocmFuZ2UuZnJvbSwgcmFuZ2UudG8pKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKG11bHRpcGxlICYmIHR5cGUgPT0gMSAmJiBzdGFydFNlbC5yYW5nZXMubGVuZ3RoID4gMSAmJiAocmVtb3ZlZCA9IHJlbW92ZVJhbmdlQXJvdW5kKHN0YXJ0U2VsLCBjdXIucG9zKSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZWQ7XG4gICAgICAgICAgICBlbHNlIGlmIChtdWx0aXBsZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRTZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKFtyYW5nZV0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVJhbmdlQXJvdW5kKHNlbCwgcG9zKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSBzZWwucmFuZ2VzW2ldO1xuICAgICAgICBpZiAoZnJvbSA8PSBwb3MgJiYgdG8gPj0gcG9zKVxuICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jcmVhdGUoc2VsLnJhbmdlcy5zbGljZSgwLCBpKS5jb25jYXQoc2VsLnJhbmdlcy5zbGljZShpICsgMSkpLCBzZWwubWFpbkluZGV4ID09IGkgPyAwIDogc2VsLm1haW5JbmRleCAtIChzZWwubWFpbkluZGV4ID4gaSA/IDEgOiAwKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuaGFuZGxlcnMuZHJhZ3N0YXJ0ID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgbGV0IHsgc2VsZWN0aW9uOiB7IG1haW4gfSB9ID0gdmlldy5zdGF0ZTtcbiAgICBsZXQgeyBtb3VzZVNlbGVjdGlvbiB9ID0gdmlldy5pbnB1dFN0YXRlO1xuICAgIGlmIChtb3VzZVNlbGVjdGlvbilcbiAgICAgICAgbW91c2VTZWxlY3Rpb24uZHJhZ2dpbmcgPSBtYWluO1xuICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJUZXh0XCIsIHZpZXcuc3RhdGUuc2xpY2VEb2MobWFpbi5mcm9tLCBtYWluLnRvKSk7XG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gXCJjb3B5TW92ZVwiO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuZnVuY3Rpb24gZHJvcFRleHQodmlldywgZXZlbnQsIHRleHQsIGRpcmVjdCkge1xuICAgIGlmICghdGV4dClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBkcm9wUG9zID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSwgZmFsc2UpO1xuICAgIGxldCB7IG1vdXNlU2VsZWN0aW9uIH0gPSB2aWV3LmlucHV0U3RhdGU7XG4gICAgbGV0IGRlbCA9IGRpcmVjdCAmJiBtb3VzZVNlbGVjdGlvbiAmJiBtb3VzZVNlbGVjdGlvbi5kcmFnZ2luZyAmJiBkcmFnTW92ZXNTZWxlY3Rpb24odmlldywgZXZlbnQpID9cbiAgICAgICAgeyBmcm9tOiBtb3VzZVNlbGVjdGlvbi5kcmFnZ2luZy5mcm9tLCB0bzogbW91c2VTZWxlY3Rpb24uZHJhZ2dpbmcudG8gfSA6IG51bGw7XG4gICAgbGV0IGlucyA9IHsgZnJvbTogZHJvcFBvcywgaW5zZXJ0OiB0ZXh0IH07XG4gICAgbGV0IGNoYW5nZXMgPSB2aWV3LnN0YXRlLmNoYW5nZXMoZGVsID8gW2RlbCwgaW5zXSA6IGlucyk7XG4gICAgdmlldy5mb2N1cygpO1xuICAgIHZpZXcuZGlzcGF0Y2goe1xuICAgICAgICBjaGFuZ2VzLFxuICAgICAgICBzZWxlY3Rpb246IHsgYW5jaG9yOiBjaGFuZ2VzLm1hcFBvcyhkcm9wUG9zLCAtMSksIGhlYWQ6IGNoYW5nZXMubWFwUG9zKGRyb3BQb3MsIDEpIH0sXG4gICAgICAgIHVzZXJFdmVudDogZGVsID8gXCJtb3ZlLmRyb3BcIiA6IFwiaW5wdXQuZHJvcFwiXG4gICAgfSk7XG59XG5oYW5kbGVycy5kcm9wID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgaWYgKCFldmVudC5kYXRhVHJhbnNmZXIpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodmlldy5zdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgbGV0IGZpbGVzID0gZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzO1xuICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGgpIHsgLy8gRm9yIGEgZmlsZSBkcm9wLCByZWFkIHRoZSBmaWxlJ3MgdGV4dC5cbiAgICAgICAgbGV0IHRleHQgPSBBcnJheShmaWxlcy5sZW5ndGgpLCByZWFkID0gMDtcbiAgICAgICAgbGV0IGZpbmlzaEZpbGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoKytyZWFkID09IGZpbGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBkcm9wVGV4dCh2aWV3LCBldmVudCwgdGV4dC5maWx0ZXIocyA9PiBzICE9IG51bGwpLmpvaW4odmlldy5zdGF0ZS5saW5lQnJlYWspLCBmYWxzZSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcjtcbiAgICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gZmluaXNoRmlsZTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEvW1xceDAwLVxceDA4XFx4MGUtXFx4MWZdezJ9Ly50ZXN0KHJlYWRlci5yZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICB0ZXh0W2ldID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICAgICAgICBmaW5pc2hGaWxlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IHRleHQgPSBldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcIlRleHRcIik7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICBkcm9wVGV4dCh2aWV3LCBldmVudCwgdGV4dCwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuaGFuZGxlcnMucGFzdGUgPSAodmlldywgZXZlbnQpID0+IHtcbiAgICBpZiAodmlldy5zdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgdmlldy5vYnNlcnZlci5mbHVzaCgpO1xuICAgIGxldCBkYXRhID0gYnJva2VuQ2xpcGJvYXJkQVBJID8gbnVsbCA6IGV2ZW50LmNsaXBib2FyZERhdGE7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgICAgZG9QYXN0ZSh2aWV3LCBkYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpIHx8IGRhdGEuZ2V0RGF0YShcInRleHQvdXJpLXRleHRcIikpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhcHR1cmVQYXN0ZSh2aWV3KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5mdW5jdGlvbiBjYXB0dXJlQ29weSh2aWV3LCB0ZXh0KSB7XG4gICAgLy8gVGhlIGV4dHJhIHdyYXBwZXIgaXMgc29tZWhvdyBuZWNlc3Nhcnkgb24gSUUvRWRnZSB0byBwcmV2ZW50IHRoZVxuICAgIC8vIGNvbnRlbnQgZnJvbSBiZWluZyBtYW5nbGVkIHdoZW4gaXQgaXMgcHV0IG9udG8gdGhlIGNsaXBib2FyZFxuICAgIGxldCBwYXJlbnQgPSB2aWV3LmRvbS5wYXJlbnROb2RlO1xuICAgIGlmICghcGFyZW50KVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IHRhcmdldCA9IHBhcmVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIikpO1xuICAgIHRhcmdldC5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHhcIjtcbiAgICB0YXJnZXQudmFsdWUgPSB0ZXh0O1xuICAgIHRhcmdldC5mb2N1cygpO1xuICAgIHRhcmdldC5zZWxlY3Rpb25FbmQgPSB0ZXh0Lmxlbmd0aDtcbiAgICB0YXJnZXQuc2VsZWN0aW9uU3RhcnQgPSAwO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0YXJnZXQucmVtb3ZlKCk7XG4gICAgICAgIHZpZXcuZm9jdXMoKTtcbiAgICB9LCA1MCk7XG59XG5mdW5jdGlvbiBjb3BpZWRSYW5nZShzdGF0ZSkge1xuICAgIGxldCBjb250ZW50ID0gW10sIHJhbmdlcyA9IFtdLCBsaW5ld2lzZSA9IGZhbHNlO1xuICAgIGZvciAobGV0IHJhbmdlIG9mIHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpXG4gICAgICAgIGlmICghcmFuZ2UuZW1wdHkpIHtcbiAgICAgICAgICAgIGNvbnRlbnQucHVzaChzdGF0ZS5zbGljZURvYyhyYW5nZS5mcm9tLCByYW5nZS50bykpO1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2gocmFuZ2UpO1xuICAgICAgICB9XG4gICAgaWYgKCFjb250ZW50Lmxlbmd0aCkge1xuICAgICAgICAvLyBOb3RoaW5nIHNlbGVjdGVkLCBkbyBhIGxpbmUtd2lzZSBjb3B5XG4gICAgICAgIGxldCB1cHRvID0gLTE7XG4gICAgICAgIGZvciAobGV0IHsgZnJvbSB9IG9mIHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChmcm9tKTtcbiAgICAgICAgICAgIGlmIChsaW5lLm51bWJlciA+IHVwdG8pIHtcbiAgICAgICAgICAgICAgICBjb250ZW50LnB1c2gobGluZS50ZXh0KTtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaCh7IGZyb206IGxpbmUuZnJvbSwgdG86IE1hdGgubWluKHN0YXRlLmRvYy5sZW5ndGgsIGxpbmUudG8gKyAxKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwdG8gPSBsaW5lLm51bWJlcjtcbiAgICAgICAgfVxuICAgICAgICBsaW5ld2lzZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB7IHRleHQ6IGNvbnRlbnQuam9pbihzdGF0ZS5saW5lQnJlYWspLCByYW5nZXMsIGxpbmV3aXNlIH07XG59XG5sZXQgbGFzdExpbmV3aXNlQ29weSA9IG51bGw7XG5oYW5kbGVycy5jb3B5ID0gaGFuZGxlcnMuY3V0ID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgbGV0IHsgdGV4dCwgcmFuZ2VzLCBsaW5ld2lzZSB9ID0gY29waWVkUmFuZ2Uodmlldy5zdGF0ZSk7XG4gICAgaWYgKCF0ZXh0ICYmICFsaW5ld2lzZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxhc3RMaW5ld2lzZUNvcHkgPSBsaW5ld2lzZSA/IHRleHQgOiBudWxsO1xuICAgIGlmIChldmVudC50eXBlID09IFwiY3V0XCIgJiYgIXZpZXcuc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHZpZXcuZGlzcGF0Y2goe1xuICAgICAgICAgICAgY2hhbmdlczogcmFuZ2VzLFxuICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWUsXG4gICAgICAgICAgICB1c2VyRXZlbnQ6IFwiZGVsZXRlLmN1dFwiXG4gICAgICAgIH0pO1xuICAgIGxldCBkYXRhID0gYnJva2VuQ2xpcGJvYXJkQVBJID8gbnVsbCA6IGV2ZW50LmNsaXBib2FyZERhdGE7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgICAgZGF0YS5jbGVhckRhdGEoKTtcbiAgICAgICAgZGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCB0ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYXB0dXJlQ29weSh2aWV3LCB0ZXh0KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5jb25zdCBpc0ZvY3VzQ2hhbmdlID0gLypAX19QVVJFX18qL0Fubm90YXRpb24uZGVmaW5lKCk7XG5mdW5jdGlvbiBmb2N1c0NoYW5nZVRyYW5zYWN0aW9uKHN0YXRlLCBmb2N1cykge1xuICAgIGxldCBlZmZlY3RzID0gW107XG4gICAgZm9yIChsZXQgZ2V0RWZmZWN0IG9mIHN0YXRlLmZhY2V0KGZvY3VzQ2hhbmdlRWZmZWN0KSkge1xuICAgICAgICBsZXQgZWZmZWN0ID0gZ2V0RWZmZWN0KHN0YXRlLCBmb2N1cyk7XG4gICAgICAgIGlmIChlZmZlY3QpXG4gICAgICAgICAgICBlZmZlY3RzLnB1c2goZWZmZWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIGVmZmVjdHMgPyBzdGF0ZS51cGRhdGUoeyBlZmZlY3RzLCBhbm5vdGF0aW9uczogaXNGb2N1c0NoYW5nZS5vZih0cnVlKSB9KSA6IG51bGw7XG59XG5mdW5jdGlvbiB1cGRhdGVGb3JGb2N1c0NoYW5nZSh2aWV3KSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxldCBmb2N1cyA9IHZpZXcuaGFzRm9jdXM7XG4gICAgICAgIGlmIChmb2N1cyAhPSB2aWV3LmlucHV0U3RhdGUubm90aWZpZWRGb2N1c2VkKSB7XG4gICAgICAgICAgICBsZXQgdHIgPSBmb2N1c0NoYW5nZVRyYW5zYWN0aW9uKHZpZXcuc3RhdGUsIGZvY3VzKTtcbiAgICAgICAgICAgIGlmICh0cilcbiAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHRyKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB2aWV3LnVwZGF0ZShbXSk7XG4gICAgICAgIH1cbiAgICB9LCAxMCk7XG59XG5vYnNlcnZlcnMuZm9jdXMgPSB2aWV3ID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUubGFzdEZvY3VzVGltZSA9IERhdGUubm93KCk7XG4gICAgLy8gV2hlbiBmb2N1c2luZyByZXNldCB0aGUgc2Nyb2xsIHBvc2l0aW9uLCBtb3ZlIGl0IGJhY2sgdG8gd2hlcmUgaXQgd2FzXG4gICAgaWYgKCF2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3AgJiYgKHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2Nyb2xsVG9wIHx8IHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2Nyb2xsTGVmdCkpIHtcbiAgICAgICAgdmlldy5zY3JvbGxET00uc2Nyb2xsVG9wID0gdmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxUb3A7XG4gICAgICAgIHZpZXcuc2Nyb2xsRE9NLnNjcm9sbExlZnQgPSB2aWV3LmlucHV0U3RhdGUubGFzdFNjcm9sbExlZnQ7XG4gICAgfVxuICAgIHVwZGF0ZUZvckZvY3VzQ2hhbmdlKHZpZXcpO1xufTtcbm9ic2VydmVycy5ibHVyID0gdmlldyA9PiB7XG4gICAgdmlldy5vYnNlcnZlci5jbGVhclNlbGVjdGlvblJhbmdlKCk7XG4gICAgdXBkYXRlRm9yRm9jdXNDaGFuZ2Uodmlldyk7XG59O1xub2JzZXJ2ZXJzLmNvbXBvc2l0aW9uc3RhcnQgPSBvYnNlcnZlcnMuY29tcG9zaXRpb251cGRhdGUgPSB2aWV3ID0+IHtcbiAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UgPT0gbnVsbClcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UgPSB0cnVlO1xuICAgIGlmICh2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nIDwgMCkge1xuICAgICAgICAvLyBGSVhNRSBwb3NzaWJseSBzZXQgYSB0aW1lb3V0IHRvIGNsZWFyIGl0IGFnYWluIG9uIEFuZHJvaWRcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA9IDA7XG4gICAgfVxufTtcbm9ic2VydmVycy5jb21wb3NpdGlvbmVuZCA9IHZpZXcgPT4ge1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPSAtMTtcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25FbmRlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25QZW5kaW5nS2V5ID0gdHJ1ZTtcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25QZW5kaW5nQ2hhbmdlID0gdmlldy5vYnNlcnZlci5wZW5kaW5nUmVjb3JkcygpLmxlbmd0aCA+IDA7XG4gICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UgPSBudWxsO1xuICAgIGlmIChicm93c2VyLmNocm9tZSAmJiBicm93c2VyLmFuZHJvaWQpIHtcbiAgICAgICAgLy8gRGVsYXkgZmx1c2hpbmcgZm9yIGEgYml0IG9uIEFuZHJvaWQgYmVjYXVzZSBpdCdsbCBvZnRlbiBmaXJlIGFcbiAgICAgICAgLy8gYnVuY2ggb2YgY29udHJhZGljdG9yeSBjaGFuZ2VzIGluIGEgcm93IGF0IGVuZCBvZiBjb21wb3NpdG9uXG4gICAgICAgIHZpZXcub2JzZXJ2ZXIuZmx1c2hTb29uKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvblBlbmRpbmdDaGFuZ2UpIHtcbiAgICAgICAgLy8gSWYgd2UgZm91bmQgcGVuZGluZyByZWNvcmRzLCBzY2hlZHVsZSBhIGZsdXNoLlxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHZpZXcub2JzZXJ2ZXIuZmx1c2goKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UsIG1ha2Ugc3VyZSB0aGF0LCBpZiBubyBjaGFuZ2VzIGNvbWUgaW4gc29vbiwgdGhlXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uIHZpZXcgaXMgY2xlYXJlZC5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA8IDAgJiYgdmlldy5kb2NWaWV3Lmhhc0NvbXBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIHZpZXcudXBkYXRlKFtdKTtcbiAgICAgICAgfSwgNTApO1xuICAgIH1cbn07XG5vYnNlcnZlcnMuY29udGV4dG1lbnUgPSB2aWV3ID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUubGFzdENvbnRleHRNZW51ID0gRGF0ZS5ub3coKTtcbn07XG5oYW5kbGVycy5iZWZvcmVpbnB1dCA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICAvLyBCZWNhdXNlIENocm9tZSBBbmRyb2lkIGRvZXNuJ3QgZmlyZSB1c2VmdWwga2V5IGV2ZW50cywgdXNlXG4gICAgLy8gYmVmb3JlaW5wdXQgdG8gZGV0ZWN0IGJhY2tzcGFjZSAoYW5kIHBvc3NpYmx5IGVudGVyIGFuZCBkZWxldGUsXG4gICAgLy8gYnV0IHRob3NlIHVzdWFsbHkgZG9uJ3QgZXZlbiBzZWVtIHRvIGZpcmUgYmVmb3JlaW5wdXQgZXZlbnRzIGF0XG4gICAgLy8gdGhlIG1vbWVudCkgYW5kIGZha2UgYSBrZXkgZXZlbnQgZm9yIGl0LlxuICAgIC8vXG4gICAgLy8gKHByZXZlbnREZWZhdWx0IG9uIGJlZm9yZWlucHV0LCB0aG91Z2ggc3VwcG9ydGVkIGluIHRoZSBzcGVjLFxuICAgIC8vIHNlZW1zIHRvIGRvIG5vdGhpbmcgYXQgYWxsIG9uIENocm9tZSkuXG4gICAgbGV0IHBlbmRpbmc7XG4gICAgaWYgKGJyb3dzZXIuY2hyb21lICYmIGJyb3dzZXIuYW5kcm9pZCAmJiAocGVuZGluZyA9IFBlbmRpbmdLZXlzLmZpbmQoa2V5ID0+IGtleS5pbnB1dFR5cGUgPT0gZXZlbnQuaW5wdXRUeXBlKSkpIHtcbiAgICAgICAgdmlldy5vYnNlcnZlci5kZWxheUFuZHJvaWRLZXkocGVuZGluZy5rZXksIHBlbmRpbmcua2V5Q29kZSk7XG4gICAgICAgIGlmIChwZW5kaW5nLmtleSA9PSBcIkJhY2tzcGFjZVwiIHx8IHBlbmRpbmcua2V5ID09IFwiRGVsZXRlXCIpIHtcbiAgICAgICAgICAgIGxldCBzdGFydFZpZXdIZWlnaHQgPSAoKF9hID0gd2luZG93LnZpc3VhbFZpZXdwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGVpZ2h0KSB8fCAwO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIC8vIEJhY2tzcGFjaW5nIG5lYXIgdW5lZGl0YWJsZSBub2RlcyBvbiBDaHJvbWUgQW5kcm9pZCBzb21ldGltZXNcbiAgICAgICAgICAgICAgICAvLyBjbG9zZXMgdGhlIHZpcnR1YWwga2V5Ym9hcmQuIFRoaXMgdHJpZXMgdG8gY3J1ZGVseSBkZXRlY3RcbiAgICAgICAgICAgICAgICAvLyB0aGF0IGFuZCByZWZvY3VzIHRvIGdldCBpdCBiYWNrLlxuICAgICAgICAgICAgICAgIGlmICgoKChfYSA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhlaWdodCkgfHwgMCkgPiBzdGFydFZpZXdIZWlnaHQgKyAxMCAmJiB2aWV3Lmhhc0ZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuY29udGVudERPTS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBhcHBsaWVkRmlyZWZveEhhY2sgPSAvKkBfX1BVUkVfXyovbmV3IFNldDtcbi8vIEluIEZpcmVmb3gsIHdoZW4gY3V0L2NvcHkgaGFuZGxlcnMgYXJlIGFkZGVkIHRvIHRoZSBkb2N1bWVudCwgdGhhdFxuLy8gc29tZWhvdyBhdm9pZHMgYSBidWcgd2hlcmUgdGhvc2UgZXZlbnRzIGFyZW4ndCBmaXJlZCB3aGVuIHRoZVxuLy8gc2VsZWN0aW9uIGlzIGVtcHR5LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2NvZGVtaXJyb3IvZGV2L2lzc3Vlcy8xMDgyXG4vLyBhbmQgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9OTk1OTYxXG5mdW5jdGlvbiBmaXJlZm94Q29weUN1dEhhY2soZG9jKSB7XG4gICAgaWYgKCFhcHBsaWVkRmlyZWZveEhhY2suaGFzKGRvYykpIHtcbiAgICAgICAgYXBwbGllZEZpcmVmb3hIYWNrLmFkZChkb2MpO1xuICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgKCkgPT4geyB9KTtcbiAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJjdXRcIiwgKCkgPT4geyB9KTtcbiAgICB9XG59XG5cbmNvbnN0IHdyYXBwaW5nV2hpdGVTcGFjZSA9IFtcInByZS13cmFwXCIsIFwibm9ybWFsXCIsIFwicHJlLWxpbmVcIiwgXCJicmVhay1zcGFjZXNcIl07XG5jbGFzcyBIZWlnaHRPcmFjbGUge1xuICAgIGNvbnN0cnVjdG9yKGxpbmVXcmFwcGluZykge1xuICAgICAgICB0aGlzLmxpbmVXcmFwcGluZyA9IGxpbmVXcmFwcGluZztcbiAgICAgICAgdGhpcy5kb2MgPSBUZXh0LmVtcHR5O1xuICAgICAgICB0aGlzLmhlaWdodFNhbXBsZXMgPSB7fTtcbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gMTQ7IC8vIFRoZSBoZWlnaHQgb2YgYW4gZW50aXJlIGxpbmUgKGxpbmUtaGVpZ2h0KVxuICAgICAgICB0aGlzLmNoYXJXaWR0aCA9IDc7XG4gICAgICAgIHRoaXMudGV4dEhlaWdodCA9IDE0OyAvLyBUaGUgaGVpZ2h0IG9mIHRoZSBhY3R1YWwgZm9udCAoZm9udC1zaXplKVxuICAgICAgICB0aGlzLmxpbmVMZW5ndGggPSAzMDtcbiAgICAgICAgLy8gVXNlZCB0byB0cmFjaywgZHVyaW5nIHVwZGF0ZUhlaWdodCwgaWYgYW55IGFjdHVhbCBoZWlnaHRzIGNoYW5nZWRcbiAgICAgICAgdGhpcy5oZWlnaHRDaGFuZ2VkID0gZmFsc2U7XG4gICAgfVxuICAgIGhlaWdodEZvckdhcChmcm9tLCB0bykge1xuICAgICAgICBsZXQgbGluZXMgPSB0aGlzLmRvYy5saW5lQXQodG8pLm51bWJlciAtIHRoaXMuZG9jLmxpbmVBdChmcm9tKS5udW1iZXIgKyAxO1xuICAgICAgICBpZiAodGhpcy5saW5lV3JhcHBpbmcpXG4gICAgICAgICAgICBsaW5lcyArPSBNYXRoLm1heCgwLCBNYXRoLmNlaWwoKCh0byAtIGZyb20pIC0gKGxpbmVzICogdGhpcy5saW5lTGVuZ3RoICogMC41KSkgLyB0aGlzLmxpbmVMZW5ndGgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUhlaWdodCAqIGxpbmVzO1xuICAgIH1cbiAgICBoZWlnaHRGb3JMaW5lKGxlbmd0aCkge1xuICAgICAgICBpZiAoIXRoaXMubGluZVdyYXBwaW5nKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZUhlaWdodDtcbiAgICAgICAgbGV0IGxpbmVzID0gMSArIE1hdGgubWF4KDAsIE1hdGguY2VpbCgobGVuZ3RoIC0gdGhpcy5saW5lTGVuZ3RoKSAvICh0aGlzLmxpbmVMZW5ndGggLSA1KSkpO1xuICAgICAgICByZXR1cm4gbGluZXMgKiB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgfVxuICAgIHNldERvYyhkb2MpIHsgdGhpcy5kb2MgPSBkb2M7IHJldHVybiB0aGlzOyB9XG4gICAgbXVzdFJlZnJlc2hGb3JXcmFwcGluZyh3aGl0ZVNwYWNlKSB7XG4gICAgICAgIHJldHVybiAod3JhcHBpbmdXaGl0ZVNwYWNlLmluZGV4T2Yod2hpdGVTcGFjZSkgPiAtMSkgIT0gdGhpcy5saW5lV3JhcHBpbmc7XG4gICAgfVxuICAgIG11c3RSZWZyZXNoRm9ySGVpZ2h0cyhsaW5lSGVpZ2h0cykge1xuICAgICAgICBsZXQgbmV3SGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZUhlaWdodHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBoID0gbGluZUhlaWdodHNbaV07XG4gICAgICAgICAgICBpZiAoaCA8IDApIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5oZWlnaHRTYW1wbGVzW01hdGguZmxvb3IoaCAqIDEwKV0pIHsgLy8gUm91bmQgdG8gLjEgcGl4ZWxzXG4gICAgICAgICAgICAgICAgbmV3SGVpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodFNhbXBsZXNbTWF0aC5mbG9vcihoICogMTApXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0hlaWdodDtcbiAgICB9XG4gICAgcmVmcmVzaCh3aGl0ZVNwYWNlLCBsaW5lSGVpZ2h0LCBjaGFyV2lkdGgsIHRleHRIZWlnaHQsIGxpbmVMZW5ndGgsIGtub3duSGVpZ2h0cykge1xuICAgICAgICBsZXQgbGluZVdyYXBwaW5nID0gd3JhcHBpbmdXaGl0ZVNwYWNlLmluZGV4T2Yod2hpdGVTcGFjZSkgPiAtMTtcbiAgICAgICAgbGV0IGNoYW5nZWQgPSBNYXRoLnJvdW5kKGxpbmVIZWlnaHQpICE9IE1hdGgucm91bmQodGhpcy5saW5lSGVpZ2h0KSB8fCB0aGlzLmxpbmVXcmFwcGluZyAhPSBsaW5lV3JhcHBpbmc7XG4gICAgICAgIHRoaXMubGluZVdyYXBwaW5nID0gbGluZVdyYXBwaW5nO1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICB0aGlzLmNoYXJXaWR0aCA9IGNoYXJXaWR0aDtcbiAgICAgICAgdGhpcy50ZXh0SGVpZ2h0ID0gdGV4dEhlaWdodDtcbiAgICAgICAgdGhpcy5saW5lTGVuZ3RoID0gbGluZUxlbmd0aDtcbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0U2FtcGxlcyA9IHt9O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrbm93bkhlaWdodHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgaCA9IGtub3duSGVpZ2h0c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoaCA8IDApXG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0U2FtcGxlc1tNYXRoLmZsb29yKGggKiAxMCldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhbmdlZDtcbiAgICB9XG59XG4vLyBUaGlzIG9iamVjdCBpcyB1c2VkIGJ5IGB1cGRhdGVIZWlnaHRgIHRvIG1ha2UgRE9NIG1lYXN1cmVtZW50c1xuLy8gYXJyaXZlIGF0IHRoZSByaWdodCBuaWRlcy4gVGhlIGBoZWlnaHRzYCBhcnJheSBpcyBhIHNlcXVlbmNlIG9mXG4vLyBibG9jayBoZWlnaHRzLCBzdGFydGluZyBmcm9tIHBvc2l0aW9uIGBmcm9tYC5cbmNsYXNzIE1lYXN1cmVkSGVpZ2h0cyB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgaGVpZ2h0cykge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLmhlaWdodHMgPSBoZWlnaHRzO1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB9XG4gICAgZ2V0IG1vcmUoKSB7IHJldHVybiB0aGlzLmluZGV4IDwgdGhpcy5oZWlnaHRzLmxlbmd0aDsgfVxufVxuLyoqXG5SZWNvcmQgdXNlZCB0byByZXByZXNlbnQgaW5mb3JtYXRpb24gYWJvdXQgYSBibG9jay1sZXZlbCBlbGVtZW50XG5pbiB0aGUgZWRpdG9yIHZpZXcuXG4qL1xuY2xhc3MgQmxvY2tJbmZvIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBzdGFydCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgZG9jdW1lbnQuXG4gICAgKi9cbiAgICBmcm9tLCBcbiAgICAvKipcbiAgICBUaGUgbGVuZ3RoIG9mIHRoZSBlbGVtZW50LlxuICAgICovXG4gICAgbGVuZ3RoLCBcbiAgICAvKipcbiAgICBUaGUgdG9wIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50IChyZWxhdGl2ZSB0byB0aGUgdG9wIG9mIHRoZVxuICAgIGRvY3VtZW50KS5cbiAgICAqL1xuICAgIHRvcCwgXG4gICAgLyoqXG4gICAgSXRzIGhlaWdodC5cbiAgICAqL1xuICAgIGhlaWdodCwgXG4gICAgLyoqXG4gICAgQGludGVybmFsIFdlaXJkIHBhY2tlZCBmaWVsZCB0aGF0IGhvbGRzIGFuIGFycmF5IG9mIGNoaWxkcmVuXG4gICAgZm9yIGNvbXBvc2l0ZSBibG9ja3MsIGEgZGVjb3JhdGlvbiBmb3IgYmxvY2sgd2lkZ2V0cywgYW5kIGFcbiAgICBudW1iZXIgaW5kaWNhdGluZyB0aGUgYW1vdW50IG9mIHdpZGdldC1jcmVhdGUgbGluZSBicmVha3MgZm9yXG4gICAgdGV4dCBibG9ja3MuXG4gICAgKi9cbiAgICBfY29udGVudCkge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gX2NvbnRlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSB0eXBlIG9mIGVsZW1lbnQgdGhpcyBpcy4gV2hlbiBxdWVyeWluZyBsaW5lcywgdGhpcyBtYXkgYmVcbiAgICBhbiBhcnJheSBvZiBhbGwgdGhlIGJsb2NrcyB0aGF0IG1ha2UgdXAgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLl9jb250ZW50ID09IFwibnVtYmVyXCIgPyBCbG9ja1R5cGUuVGV4dCA6XG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMuX2NvbnRlbnQpID8gdGhpcy5fY29udGVudCA6IHRoaXMuX2NvbnRlbnQudHlwZTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGVuZCBvZiB0aGUgZWxlbWVudCBhcyBhIGRvY3VtZW50IHBvc2l0aW9uLlxuICAgICovXG4gICAgZ2V0IHRvKCkgeyByZXR1cm4gdGhpcy5mcm9tICsgdGhpcy5sZW5ndGg7IH1cbiAgICAvKipcbiAgICBUaGUgYm90dG9tIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50LlxuICAgICovXG4gICAgZ2V0IGJvdHRvbSgpIHsgcmV0dXJuIHRoaXMudG9wICsgdGhpcy5oZWlnaHQ7IH1cbiAgICAvKipcbiAgICBJZiB0aGlzIGlzIGEgd2lkZ2V0IGJsb2NrLCB0aGlzIHdpbGwgcmV0dXJuIHRoZSB3aWRnZXRcbiAgICBhc3NvY2lhdGVkIHdpdGggaXQuXG4gICAgKi9cbiAgICBnZXQgd2lkZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudCBpbnN0YW5jZW9mIFBvaW50RGVjb3JhdGlvbiA/IHRoaXMuX2NvbnRlbnQud2lkZ2V0IDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgSWYgdGhpcyBpcyBhIHRleHRibG9jaywgdGhpcyBob2xkcyB0aGUgbnVtYmVyIG9mIGxpbmUgYnJlYWtzXG4gICAgdGhhdCBhcHBlYXIgaW4gd2lkZ2V0cyBpbnNpZGUgdGhlIGJsb2NrLlxuICAgICovXG4gICAgZ2V0IHdpZGdldExpbmVCcmVha3MoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5fY29udGVudCA9PSBcIm51bWJlclwiID8gdGhpcy5fY29udGVudCA6IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgam9pbihvdGhlcikge1xuICAgICAgICBsZXQgY29udGVudCA9IChBcnJheS5pc0FycmF5KHRoaXMuX2NvbnRlbnQpID8gdGhpcy5fY29udGVudCA6IFt0aGlzXSlcbiAgICAgICAgICAgIC5jb25jYXQoQXJyYXkuaXNBcnJheShvdGhlci5fY29udGVudCkgPyBvdGhlci5fY29udGVudCA6IFtvdGhlcl0pO1xuICAgICAgICByZXR1cm4gbmV3IEJsb2NrSW5mbyh0aGlzLmZyb20sIHRoaXMubGVuZ3RoICsgb3RoZXIubGVuZ3RoLCB0aGlzLnRvcCwgdGhpcy5oZWlnaHQgKyBvdGhlci5oZWlnaHQsIGNvbnRlbnQpO1xuICAgIH1cbn1cbnZhciBRdWVyeVR5cGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChRdWVyeVR5cGUpIHtcbiAgICBRdWVyeVR5cGVbUXVlcnlUeXBlW1wiQnlQb3NcIl0gPSAwXSA9IFwiQnlQb3NcIjtcbiAgICBRdWVyeVR5cGVbUXVlcnlUeXBlW1wiQnlIZWlnaHRcIl0gPSAxXSA9IFwiQnlIZWlnaHRcIjtcbiAgICBRdWVyeVR5cGVbUXVlcnlUeXBlW1wiQnlQb3NOb0hlaWdodFwiXSA9IDJdID0gXCJCeVBvc05vSGVpZ2h0XCI7XG5yZXR1cm4gUXVlcnlUeXBlfSkoUXVlcnlUeXBlIHx8IChRdWVyeVR5cGUgPSB7fSkpO1xuY29uc3QgRXBzaWxvbiA9IDFlLTM7XG5jbGFzcyBIZWlnaHRNYXAge1xuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCwgLy8gVGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGNvdmVyZWRcbiAgICBoZWlnaHQsIC8vIEhlaWdodCBvZiB0aGlzIHBhcnQgb2YgdGhlIGRvY3VtZW50XG4gICAgZmxhZ3MgPSAyIC8qIEZsYWcuT3V0ZGF0ZWQgKi8pIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XG4gICAgfVxuICAgIGdldCBvdXRkYXRlZCgpIHsgcmV0dXJuICh0aGlzLmZsYWdzICYgMiAvKiBGbGFnLk91dGRhdGVkICovKSA+IDA7IH1cbiAgICBzZXQgb3V0ZGF0ZWQodmFsdWUpIHsgdGhpcy5mbGFncyA9ICh2YWx1ZSA/IDIgLyogRmxhZy5PdXRkYXRlZCAqLyA6IDApIHwgKHRoaXMuZmxhZ3MgJiB+MiAvKiBGbGFnLk91dGRhdGVkICovKTsgfVxuICAgIHNldEhlaWdodChvcmFjbGUsIGhlaWdodCkge1xuICAgICAgICBpZiAodGhpcy5oZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5oZWlnaHQgLSBoZWlnaHQpID4gRXBzaWxvbilcbiAgICAgICAgICAgICAgICBvcmFjbGUuaGVpZ2h0Q2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBCYXNlIGNhc2UgaXMgdG8gcmVwbGFjZSBhIGxlYWYgbm9kZSwgd2hpY2ggc2ltcGx5IGJ1aWxkcyBhIHRyZWVcbiAgICAvLyBmcm9tIHRoZSBuZXcgbm9kZXMgYW5kIHJldHVybnMgdGhhdCAoSGVpZ2h0TWFwQnJhbmNoIGFuZFxuICAgIC8vIEhlaWdodE1hcEdhcCBvdmVycmlkZSB0aGlzIHRvIGFjdHVhbGx5IHVzZSBmcm9tL3RvKVxuICAgIHJlcGxhY2UoX2Zyb20sIF90bywgbm9kZXMpIHtcbiAgICAgICAgcmV0dXJuIEhlaWdodE1hcC5vZihub2Rlcyk7XG4gICAgfVxuICAgIC8vIEFnYWluLCB0aGVzZSBhcmUgYmFzZSBjYXNlcywgYW5kIGFyZSBvdmVycmlkZGVuIGZvciBicmFuY2ggYW5kIGdhcCBub2Rlcy5cbiAgICBkZWNvbXBvc2VMZWZ0KF90bywgcmVzdWx0KSB7IHJlc3VsdC5wdXNoKHRoaXMpOyB9XG4gICAgZGVjb21wb3NlUmlnaHQoX2Zyb20sIHJlc3VsdCkgeyByZXN1bHQucHVzaCh0aGlzKTsgfVxuICAgIGFwcGx5Q2hhbmdlcyhkZWNvcmF0aW9ucywgb2xkRG9jLCBvcmFjbGUsIGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IG1lID0gdGhpcywgZG9jID0gb3JhY2xlLmRvYztcbiAgICAgICAgZm9yIChsZXQgaSA9IGNoYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCB7IGZyb21BLCB0b0EsIGZyb21CLCB0b0IgfSA9IGNoYW5nZXNbaV07XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBtZS5saW5lQXQoZnJvbUEsIFF1ZXJ5VHlwZS5CeVBvc05vSGVpZ2h0LCBvcmFjbGUuc2V0RG9jKG9sZERvYyksIDAsIDApO1xuICAgICAgICAgICAgbGV0IGVuZCA9IHN0YXJ0LnRvID49IHRvQSA/IHN0YXJ0IDogbWUubGluZUF0KHRvQSwgUXVlcnlUeXBlLkJ5UG9zTm9IZWlnaHQsIG9yYWNsZSwgMCwgMCk7XG4gICAgICAgICAgICB0b0IgKz0gZW5kLnRvIC0gdG9BO1xuICAgICAgICAgICAgdG9BID0gZW5kLnRvO1xuICAgICAgICAgICAgd2hpbGUgKGkgPiAwICYmIHN0YXJ0LmZyb20gPD0gY2hhbmdlc1tpIC0gMV0udG9BKSB7XG4gICAgICAgICAgICAgICAgZnJvbUEgPSBjaGFuZ2VzW2kgLSAxXS5mcm9tQTtcbiAgICAgICAgICAgICAgICBmcm9tQiA9IGNoYW5nZXNbaSAtIDFdLmZyb21CO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbUEgPCBzdGFydC5mcm9tKVxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IG1lLmxpbmVBdChmcm9tQSwgUXVlcnlUeXBlLkJ5UG9zTm9IZWlnaHQsIG9yYWNsZSwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcm9tQiArPSBzdGFydC5mcm9tIC0gZnJvbUE7XG4gICAgICAgICAgICBmcm9tQSA9IHN0YXJ0LmZyb207XG4gICAgICAgICAgICBsZXQgbm9kZXMgPSBOb2RlQnVpbGRlci5idWlsZChvcmFjbGUuc2V0RG9jKGRvYyksIGRlY29yYXRpb25zLCBmcm9tQiwgdG9CKTtcbiAgICAgICAgICAgIG1lID0gbWUucmVwbGFjZShmcm9tQSwgdG9BLCBub2Rlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lLnVwZGF0ZUhlaWdodChvcmFjbGUsIDApO1xuICAgIH1cbiAgICBzdGF0aWMgZW1wdHkoKSB7IHJldHVybiBuZXcgSGVpZ2h0TWFwVGV4dCgwLCAwKTsgfVxuICAgIC8vIG5vZGVzIHVzZXMgbnVsbCB2YWx1ZXMgdG8gaW5kaWNhdGUgdGhlIHBvc2l0aW9uIG9mIGxpbmUgYnJlYWtzLlxuICAgIC8vIFRoZXJlIGFyZSBuZXZlciBsaW5lIGJyZWFrcyBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIHRoZSBhcnJheSwgb3JcbiAgICAvLyB0d28gbGluZSBicmVha3MgbmV4dCB0byBlYWNoIG90aGVyLCBhbmQgdGhlIGFycmF5IGlzbid0IGFsbG93ZWRcbiAgICAvLyB0byBiZSBlbXB0eSAoc2FtZSByZXN0cmljdGlvbnMgYXMgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGJ1aWxkZXIpLlxuICAgIHN0YXRpYyBvZihub2Rlcykge1xuICAgICAgICBpZiAobm9kZXMubGVuZ3RoID09IDEpXG4gICAgICAgICAgICByZXR1cm4gbm9kZXNbMF07XG4gICAgICAgIGxldCBpID0gMCwgaiA9IG5vZGVzLmxlbmd0aCwgYmVmb3JlID0gMCwgYWZ0ZXIgPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpZiAoaSA9PSBqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJlZm9yZSA+IGFmdGVyICogMikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3BsaXQgPSBub2Rlc1tpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdC5icmVhaylcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzLnNwbGljZSgtLWksIDEsIHNwbGl0LmxlZnQsIG51bGwsIHNwbGl0LnJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKC0taSwgMSwgc3BsaXQubGVmdCwgc3BsaXQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBqICs9IDEgKyBzcGxpdC5icmVhaztcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlIC09IHNwbGl0LnNpemU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFmdGVyID4gYmVmb3JlICogMikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3BsaXQgPSBub2Rlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0LmJyZWFrKVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGosIDEsIHNwbGl0LmxlZnQsIG51bGwsIHNwbGl0LnJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGosIDEsIHNwbGl0LmxlZnQsIHNwbGl0LnJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgaiArPSAyICsgc3BsaXQuYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGFmdGVyIC09IHNwbGl0LnNpemU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiZWZvcmUgPCBhZnRlcikge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gbm9kZXNbaSsrXTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dClcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlICs9IG5leHQuc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gbm9kZXNbLS1qXTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dClcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgKz0gbmV4dC5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBicmsgPSAwO1xuICAgICAgICBpZiAobm9kZXNbaSAtIDFdID09IG51bGwpIHtcbiAgICAgICAgICAgIGJyayA9IDE7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZXNbaV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgYnJrID0gMTtcbiAgICAgICAgICAgIGorKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEhlaWdodE1hcEJyYW5jaChIZWlnaHRNYXAub2Yobm9kZXMuc2xpY2UoMCwgaSkpLCBicmssIEhlaWdodE1hcC5vZihub2Rlcy5zbGljZShqKSkpO1xuICAgIH1cbn1cbkhlaWdodE1hcC5wcm90b3R5cGUuc2l6ZSA9IDE7XG5jbGFzcyBIZWlnaHRNYXBCbG9jayBleHRlbmRzIEhlaWdodE1hcCB7XG4gICAgY29uc3RydWN0b3IobGVuZ3RoLCBoZWlnaHQsIGRlY28pIHtcbiAgICAgICAgc3VwZXIobGVuZ3RoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLmRlY28gPSBkZWNvO1xuICAgIH1cbiAgICBibG9ja0F0KF9oZWlnaHQsIF9vcmFjbGUsIHRvcCwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQmxvY2tJbmZvKG9mZnNldCwgdGhpcy5sZW5ndGgsIHRvcCwgdGhpcy5oZWlnaHQsIHRoaXMuZGVjbyB8fCAwKTtcbiAgICB9XG4gICAgbGluZUF0KF92YWx1ZSwgX3R5cGUsIG9yYWNsZSwgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tBdCgwLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KTtcbiAgICB9XG4gICAgZm9yRWFjaExpbmUoZnJvbSwgdG8sIG9yYWNsZSwgdG9wLCBvZmZzZXQsIGYpIHtcbiAgICAgICAgaWYgKGZyb20gPD0gb2Zmc2V0ICsgdGhpcy5sZW5ndGggJiYgdG8gPj0gb2Zmc2V0KVxuICAgICAgICAgICAgZih0aGlzLmJsb2NrQXQoMCwgb3JhY2xlLCB0b3AsIG9mZnNldCkpO1xuICAgIH1cbiAgICB1cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQgPSAwLCBfZm9yY2UgPSBmYWxzZSwgbWVhc3VyZWQpIHtcbiAgICAgICAgaWYgKG1lYXN1cmVkICYmIG1lYXN1cmVkLmZyb20gPD0gb2Zmc2V0ICYmIG1lYXN1cmVkLm1vcmUpXG4gICAgICAgICAgICB0aGlzLnNldEhlaWdodChvcmFjbGUsIG1lYXN1cmVkLmhlaWdodHNbbWVhc3VyZWQuaW5kZXgrK10pO1xuICAgICAgICB0aGlzLm91dGRhdGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIGBibG9jaygke3RoaXMubGVuZ3RofSlgOyB9XG59XG5jbGFzcyBIZWlnaHRNYXBUZXh0IGV4dGVuZHMgSGVpZ2h0TWFwQmxvY2sge1xuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHN1cGVyKGxlbmd0aCwgaGVpZ2h0LCBudWxsKTtcbiAgICAgICAgdGhpcy5jb2xsYXBzZWQgPSAwOyAvLyBBbW91bnQgb2YgY29sbGFwc2VkIGNvbnRlbnQgaW4gdGhlIGxpbmVcbiAgICAgICAgdGhpcy53aWRnZXRIZWlnaHQgPSAwOyAvLyBNYXhpbXVtIGlubGluZSB3aWRnZXQgaGVpZ2h0XG4gICAgICAgIHRoaXMuYnJlYWtzID0gMDsgLy8gTnVtYmVyIG9mIHdpZGdldC1pbnRyb2R1Y2VkIGxpbmUgYnJlYWtzIG9uIHRoZSBsaW5lXG4gICAgfVxuICAgIGJsb2NrQXQoX2hlaWdodCwgX29yYWNsZSwgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8ob2Zmc2V0LCB0aGlzLmxlbmd0aCwgdG9wLCB0aGlzLmhlaWdodCwgdGhpcy5icmVha3MpO1xuICAgIH1cbiAgICByZXBsYWNlKF9mcm9tLCBfdG8sIG5vZGVzKSB7XG4gICAgICAgIGxldCBub2RlID0gbm9kZXNbMF07XG4gICAgICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMSAmJiAobm9kZSBpbnN0YW5jZW9mIEhlaWdodE1hcFRleHQgfHwgbm9kZSBpbnN0YW5jZW9mIEhlaWdodE1hcEdhcCAmJiAobm9kZS5mbGFncyAmIDQgLyogRmxhZy5TaW5nbGVMaW5lICovKSkgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKHRoaXMubGVuZ3RoIC0gbm9kZS5sZW5ndGgpIDwgMTApIHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwKVxuICAgICAgICAgICAgICAgIG5vZGUgPSBuZXcgSGVpZ2h0TWFwVGV4dChub2RlLmxlbmd0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG5vZGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3V0ZGF0ZWQpXG4gICAgICAgICAgICAgICAgbm9kZS5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKG5vZGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQgPSAwLCBmb3JjZSA9IGZhbHNlLCBtZWFzdXJlZCkge1xuICAgICAgICBpZiAobWVhc3VyZWQgJiYgbWVhc3VyZWQuZnJvbSA8PSBvZmZzZXQgJiYgbWVhc3VyZWQubW9yZSlcbiAgICAgICAgICAgIHRoaXMuc2V0SGVpZ2h0KG9yYWNsZSwgbWVhc3VyZWQuaGVpZ2h0c1ttZWFzdXJlZC5pbmRleCsrXSk7XG4gICAgICAgIGVsc2UgaWYgKGZvcmNlIHx8IHRoaXMub3V0ZGF0ZWQpXG4gICAgICAgICAgICB0aGlzLnNldEhlaWdodChvcmFjbGUsIE1hdGgubWF4KHRoaXMud2lkZ2V0SGVpZ2h0LCBvcmFjbGUuaGVpZ2h0Rm9yTGluZSh0aGlzLmxlbmd0aCAtIHRoaXMuY29sbGFwc2VkKSkgK1xuICAgICAgICAgICAgICAgIHRoaXMuYnJlYWtzICogb3JhY2xlLmxpbmVIZWlnaHQpO1xuICAgICAgICB0aGlzLm91dGRhdGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBsaW5lKCR7dGhpcy5sZW5ndGh9JHt0aGlzLmNvbGxhcHNlZCA/IC10aGlzLmNvbGxhcHNlZCA6IFwiXCJ9JHt0aGlzLndpZGdldEhlaWdodCA/IFwiOlwiICsgdGhpcy53aWRnZXRIZWlnaHQgOiBcIlwifSlgO1xuICAgIH1cbn1cbmNsYXNzIEhlaWdodE1hcEdhcCBleHRlbmRzIEhlaWdodE1hcCB7XG4gICAgY29uc3RydWN0b3IobGVuZ3RoKSB7IHN1cGVyKGxlbmd0aCwgMCk7IH1cbiAgICBoZWlnaHRNZXRyaWNzKG9yYWNsZSwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCBmaXJzdExpbmUgPSBvcmFjbGUuZG9jLmxpbmVBdChvZmZzZXQpLm51bWJlciwgbGFzdExpbmUgPSBvcmFjbGUuZG9jLmxpbmVBdChvZmZzZXQgKyB0aGlzLmxlbmd0aCkubnVtYmVyO1xuICAgICAgICBsZXQgbGluZXMgPSBsYXN0TGluZSAtIGZpcnN0TGluZSArIDE7XG4gICAgICAgIGxldCBwZXJMaW5lLCBwZXJDaGFyID0gMDtcbiAgICAgICAgaWYgKG9yYWNsZS5saW5lV3JhcHBpbmcpIHtcbiAgICAgICAgICAgIGxldCB0b3RhbFBlckxpbmUgPSBNYXRoLm1pbih0aGlzLmhlaWdodCwgb3JhY2xlLmxpbmVIZWlnaHQgKiBsaW5lcyk7XG4gICAgICAgICAgICBwZXJMaW5lID0gdG90YWxQZXJMaW5lIC8gbGluZXM7XG4gICAgICAgICAgICBpZiAodGhpcy5sZW5ndGggPiBsaW5lcyArIDEpXG4gICAgICAgICAgICAgICAgcGVyQ2hhciA9ICh0aGlzLmhlaWdodCAtIHRvdGFsUGVyTGluZSkgLyAodGhpcy5sZW5ndGggLSBsaW5lcyAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGVyTGluZSA9IHRoaXMuaGVpZ2h0IC8gbGluZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZmlyc3RMaW5lLCBsYXN0TGluZSwgcGVyTGluZSwgcGVyQ2hhciB9O1xuICAgIH1cbiAgICBibG9ja0F0KGhlaWdodCwgb3JhY2xlLCB0b3AsIG9mZnNldCkge1xuICAgICAgICBsZXQgeyBmaXJzdExpbmUsIGxhc3RMaW5lLCBwZXJMaW5lLCBwZXJDaGFyIH0gPSB0aGlzLmhlaWdodE1ldHJpY3Mob3JhY2xlLCBvZmZzZXQpO1xuICAgICAgICBpZiAob3JhY2xlLmxpbmVXcmFwcGluZykge1xuICAgICAgICAgICAgbGV0IGd1ZXNzID0gb2Zmc2V0ICsgTWF0aC5yb3VuZChNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAoaGVpZ2h0IC0gdG9wKSAvIHRoaXMuaGVpZ2h0KSkgKiB0aGlzLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgbGluZSA9IG9yYWNsZS5kb2MubGluZUF0KGd1ZXNzKSwgbGluZUhlaWdodCA9IHBlckxpbmUgKyBsaW5lLmxlbmd0aCAqIHBlckNoYXI7XG4gICAgICAgICAgICBsZXQgbGluZVRvcCA9IE1hdGgubWF4KHRvcCwgaGVpZ2h0IC0gbGluZUhlaWdodCAvIDIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8obGluZS5mcm9tLCBsaW5lLmxlbmd0aCwgbGluZVRvcCwgbGluZUhlaWdodCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKGxhc3RMaW5lIC0gZmlyc3RMaW5lLCBNYXRoLmZsb29yKChoZWlnaHQgLSB0b3ApIC8gcGVyTGluZSkpKTtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIGxlbmd0aCB9ID0gb3JhY2xlLmRvYy5saW5lKGZpcnN0TGluZSArIGxpbmUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8oZnJvbSwgbGVuZ3RoLCB0b3AgKyBwZXJMaW5lICogbGluZSwgcGVyTGluZSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGluZUF0KHZhbHVlLCB0eXBlLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KSB7XG4gICAgICAgIGlmICh0eXBlID09IFF1ZXJ5VHlwZS5CeUhlaWdodClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsb2NrQXQodmFsdWUsIG9yYWNsZSwgdG9wLCBvZmZzZXQpO1xuICAgICAgICBpZiAodHlwZSA9PSBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCkge1xuICAgICAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IG9yYWNsZS5kb2MubGluZUF0KHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmxvY2tJbmZvKGZyb20sIHRvIC0gZnJvbSwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHsgZmlyc3RMaW5lLCBwZXJMaW5lLCBwZXJDaGFyIH0gPSB0aGlzLmhlaWdodE1ldHJpY3Mob3JhY2xlLCBvZmZzZXQpO1xuICAgICAgICBsZXQgbGluZSA9IG9yYWNsZS5kb2MubGluZUF0KHZhbHVlKSwgbGluZUhlaWdodCA9IHBlckxpbmUgKyBsaW5lLmxlbmd0aCAqIHBlckNoYXI7XG4gICAgICAgIGxldCBsaW5lc0Fib3ZlID0gbGluZS5udW1iZXIgLSBmaXJzdExpbmU7XG4gICAgICAgIGxldCBsaW5lVG9wID0gdG9wICsgcGVyTGluZSAqIGxpbmVzQWJvdmUgKyBwZXJDaGFyICogKGxpbmUuZnJvbSAtIG9mZnNldCAtIGxpbmVzQWJvdmUpO1xuICAgICAgICByZXR1cm4gbmV3IEJsb2NrSW5mbyhsaW5lLmZyb20sIGxpbmUubGVuZ3RoLCBNYXRoLm1heCh0b3AsIE1hdGgubWluKGxpbmVUb3AsIHRvcCArIHRoaXMuaGVpZ2h0IC0gbGluZUhlaWdodCkpLCBsaW5lSGVpZ2h0LCAwKTtcbiAgICB9XG4gICAgZm9yRWFjaExpbmUoZnJvbSwgdG8sIG9yYWNsZSwgdG9wLCBvZmZzZXQsIGYpIHtcbiAgICAgICAgZnJvbSA9IE1hdGgubWF4KGZyb20sIG9mZnNldCk7XG4gICAgICAgIHRvID0gTWF0aC5taW4odG8sIG9mZnNldCArIHRoaXMubGVuZ3RoKTtcbiAgICAgICAgbGV0IHsgZmlyc3RMaW5lLCBwZXJMaW5lLCBwZXJDaGFyIH0gPSB0aGlzLmhlaWdodE1ldHJpY3Mob3JhY2xlLCBvZmZzZXQpO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSBmcm9tLCBsaW5lVG9wID0gdG9wOyBwb3MgPD0gdG87KSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IG9yYWNsZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgICAgICBpZiAocG9zID09IGZyb20pIHtcbiAgICAgICAgICAgICAgICBsZXQgbGluZXNBYm92ZSA9IGxpbmUubnVtYmVyIC0gZmlyc3RMaW5lO1xuICAgICAgICAgICAgICAgIGxpbmVUb3AgKz0gcGVyTGluZSAqIGxpbmVzQWJvdmUgKyBwZXJDaGFyICogKGZyb20gLSBvZmZzZXQgLSBsaW5lc0Fib3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBsaW5lSGVpZ2h0ID0gcGVyTGluZSArIHBlckNoYXIgKiBsaW5lLmxlbmd0aDtcbiAgICAgICAgICAgIGYobmV3IEJsb2NrSW5mbyhsaW5lLmZyb20sIGxpbmUubGVuZ3RoLCBsaW5lVG9wLCBsaW5lSGVpZ2h0LCAwKSk7XG4gICAgICAgICAgICBsaW5lVG9wICs9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICBwb3MgPSBsaW5lLnRvICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlKGZyb20sIHRvLCBub2Rlcykge1xuICAgICAgICBsZXQgYWZ0ZXIgPSB0aGlzLmxlbmd0aCAtIHRvO1xuICAgICAgICBpZiAoYWZ0ZXIgPiAwKSB7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKGxhc3QgaW5zdGFuY2VvZiBIZWlnaHRNYXBHYXApXG4gICAgICAgICAgICAgICAgbm9kZXNbbm9kZXMubGVuZ3RoIC0gMV0gPSBuZXcgSGVpZ2h0TWFwR2FwKGxhc3QubGVuZ3RoICsgYWZ0ZXIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobnVsbCwgbmV3IEhlaWdodE1hcEdhcChhZnRlciAtIDEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbSA+IDApIHtcbiAgICAgICAgICAgIGxldCBmaXJzdCA9IG5vZGVzWzBdO1xuICAgICAgICAgICAgaWYgKGZpcnN0IGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwKVxuICAgICAgICAgICAgICAgIG5vZGVzWzBdID0gbmV3IEhlaWdodE1hcEdhcChmcm9tICsgZmlyc3QubGVuZ3RoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBub2Rlcy51bnNoaWZ0KG5ldyBIZWlnaHRNYXBHYXAoZnJvbSAtIDEpLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKG5vZGVzKTtcbiAgICB9XG4gICAgZGVjb21wb3NlTGVmdCh0bywgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKG5ldyBIZWlnaHRNYXBHYXAodG8gLSAxKSwgbnVsbCk7XG4gICAgfVxuICAgIGRlY29tcG9zZVJpZ2h0KGZyb20sIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQucHVzaChudWxsLCBuZXcgSGVpZ2h0TWFwR2FwKHRoaXMubGVuZ3RoIC0gZnJvbSAtIDEpKTtcbiAgICB9XG4gICAgdXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0ID0gMCwgZm9yY2UgPSBmYWxzZSwgbWVhc3VyZWQpIHtcbiAgICAgICAgbGV0IGVuZCA9IG9mZnNldCArIHRoaXMubGVuZ3RoO1xuICAgICAgICBpZiAobWVhc3VyZWQgJiYgbWVhc3VyZWQuZnJvbSA8PSBvZmZzZXQgKyB0aGlzLmxlbmd0aCAmJiBtZWFzdXJlZC5tb3JlKSB7XG4gICAgICAgICAgICAvLyBGaWxsIGluIHBhcnQgb2YgdGhpcyBnYXAgd2l0aCBtZWFzdXJlZCBsaW5lcy4gV2Uga25vdyB0aGVyZVxuICAgICAgICAgICAgLy8gY2FuJ3QgYmUgd2lkZ2V0cyBvciBjb2xsYXBzZWQgcmFuZ2VzIGluIHRob3NlIGxpbmVzLCBiZWNhdXNlXG4gICAgICAgICAgICAvLyB0aGV5IHdvdWxkIGFscmVhZHkgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBoZWlnaHRtYXAgKGdhcHNcbiAgICAgICAgICAgIC8vIG9ubHkgY29udGFpbiBwbGFpbiB0ZXh0KS5cbiAgICAgICAgICAgIGxldCBub2RlcyA9IFtdLCBwb3MgPSBNYXRoLm1heChvZmZzZXQsIG1lYXN1cmVkLmZyb20pLCBzaW5nbGVIZWlnaHQgPSAtMTtcbiAgICAgICAgICAgIGlmIChtZWFzdXJlZC5mcm9tID4gb2Zmc2V0KVxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobmV3IEhlaWdodE1hcEdhcChtZWFzdXJlZC5mcm9tIC0gb2Zmc2V0IC0gMSkudXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0KSk7XG4gICAgICAgICAgICB3aGlsZSAocG9zIDw9IGVuZCAmJiBtZWFzdXJlZC5tb3JlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxlbiA9IG9yYWNsZS5kb2MubGluZUF0KHBvcykubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChub2Rlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgbGV0IGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodHNbbWVhc3VyZWQuaW5kZXgrK107XG4gICAgICAgICAgICAgICAgaWYgKHNpbmdsZUhlaWdodCA9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGhlaWdodCAtIHNpbmdsZUhlaWdodCkgPj0gRXBzaWxvbilcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlSGVpZ2h0ID0gLTI7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBuZXcgSGVpZ2h0TWFwVGV4dChsZW4sIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgbGluZS5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobGluZSk7XG4gICAgICAgICAgICAgICAgcG9zICs9IGxlbiArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zIDw9IGVuZClcbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKG51bGwsIG5ldyBIZWlnaHRNYXBHYXAoZW5kIC0gcG9zKS51cGRhdGVIZWlnaHQob3JhY2xlLCBwb3MpKTtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBIZWlnaHRNYXAub2Yobm9kZXMpO1xuICAgICAgICAgICAgaWYgKHNpbmdsZUhlaWdodCA8IDAgfHwgTWF0aC5hYnMocmVzdWx0LmhlaWdodCAtIHRoaXMuaGVpZ2h0KSA+PSBFcHNpbG9uIHx8XG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoc2luZ2xlSGVpZ2h0IC0gdGhpcy5oZWlnaHRNZXRyaWNzKG9yYWNsZSwgb2Zmc2V0KS5wZXJMaW5lKSA+PSBFcHNpbG9uKVxuICAgICAgICAgICAgICAgIG9yYWNsZS5oZWlnaHRDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm9yY2UgfHwgdGhpcy5vdXRkYXRlZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRIZWlnaHQob3JhY2xlLCBvcmFjbGUuaGVpZ2h0Rm9yR2FwKG9mZnNldCwgb2Zmc2V0ICsgdGhpcy5sZW5ndGgpKTtcbiAgICAgICAgICAgIHRoaXMub3V0ZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiBgZ2FwKCR7dGhpcy5sZW5ndGh9KWA7IH1cbn1cbmNsYXNzIEhlaWdodE1hcEJyYW5jaCBleHRlbmRzIEhlaWdodE1hcCB7XG4gICAgY29uc3RydWN0b3IobGVmdCwgYnJrLCByaWdodCkge1xuICAgICAgICBzdXBlcihsZWZ0Lmxlbmd0aCArIGJyayArIHJpZ2h0Lmxlbmd0aCwgbGVmdC5oZWlnaHQgKyByaWdodC5oZWlnaHQsIGJyayB8IChsZWZ0Lm91dGRhdGVkIHx8IHJpZ2h0Lm91dGRhdGVkID8gMiAvKiBGbGFnLk91dGRhdGVkICovIDogMCkpO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGxlZnQuc2l6ZSArIHJpZ2h0LnNpemU7XG4gICAgfVxuICAgIGdldCBicmVhaygpIHsgcmV0dXJuIHRoaXMuZmxhZ3MgJiAxIC8qIEZsYWcuQnJlYWsgKi87IH1cbiAgICBibG9ja0F0KGhlaWdodCwgb3JhY2xlLCB0b3AsIG9mZnNldCkge1xuICAgICAgICBsZXQgbWlkID0gdG9wICsgdGhpcy5sZWZ0LmhlaWdodDtcbiAgICAgICAgcmV0dXJuIGhlaWdodCA8IG1pZCA/IHRoaXMubGVmdC5ibG9ja0F0KGhlaWdodCwgb3JhY2xlLCB0b3AsIG9mZnNldClcbiAgICAgICAgICAgIDogdGhpcy5yaWdodC5ibG9ja0F0KGhlaWdodCwgb3JhY2xlLCBtaWQsIG9mZnNldCArIHRoaXMubGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrKTtcbiAgICB9XG4gICAgbGluZUF0KHZhbHVlLCB0eXBlLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCByaWdodFRvcCA9IHRvcCArIHRoaXMubGVmdC5oZWlnaHQsIHJpZ2h0T2Zmc2V0ID0gb2Zmc2V0ICsgdGhpcy5sZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWs7XG4gICAgICAgIGxldCBsZWZ0ID0gdHlwZSA9PSBRdWVyeVR5cGUuQnlIZWlnaHQgPyB2YWx1ZSA8IHJpZ2h0VG9wIDogdmFsdWUgPCByaWdodE9mZnNldDtcbiAgICAgICAgbGV0IGJhc2UgPSBsZWZ0ID8gdGhpcy5sZWZ0LmxpbmVBdCh2YWx1ZSwgdHlwZSwgb3JhY2xlLCB0b3AsIG9mZnNldClcbiAgICAgICAgICAgIDogdGhpcy5yaWdodC5saW5lQXQodmFsdWUsIHR5cGUsIG9yYWNsZSwgcmlnaHRUb3AsIHJpZ2h0T2Zmc2V0KTtcbiAgICAgICAgaWYgKHRoaXMuYnJlYWsgfHwgKGxlZnQgPyBiYXNlLnRvIDwgcmlnaHRPZmZzZXQgOiBiYXNlLmZyb20gPiByaWdodE9mZnNldCkpXG4gICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgbGV0IHN1YlF1ZXJ5ID0gdHlwZSA9PSBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCA/IFF1ZXJ5VHlwZS5CeVBvc05vSGVpZ2h0IDogUXVlcnlUeXBlLkJ5UG9zO1xuICAgICAgICBpZiAobGVmdClcbiAgICAgICAgICAgIHJldHVybiBiYXNlLmpvaW4odGhpcy5yaWdodC5saW5lQXQocmlnaHRPZmZzZXQsIHN1YlF1ZXJ5LCBvcmFjbGUsIHJpZ2h0VG9wLCByaWdodE9mZnNldCkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0LmxpbmVBdChyaWdodE9mZnNldCwgc3ViUXVlcnksIG9yYWNsZSwgdG9wLCBvZmZzZXQpLmpvaW4oYmFzZSk7XG4gICAgfVxuICAgIGZvckVhY2hMaW5lKGZyb20sIHRvLCBvcmFjbGUsIHRvcCwgb2Zmc2V0LCBmKSB7XG4gICAgICAgIGxldCByaWdodFRvcCA9IHRvcCArIHRoaXMubGVmdC5oZWlnaHQsIHJpZ2h0T2Zmc2V0ID0gb2Zmc2V0ICsgdGhpcy5sZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWs7XG4gICAgICAgIGlmICh0aGlzLmJyZWFrKSB7XG4gICAgICAgICAgICBpZiAoZnJvbSA8IHJpZ2h0T2Zmc2V0KVxuICAgICAgICAgICAgICAgIHRoaXMubGVmdC5mb3JFYWNoTGluZShmcm9tLCB0bywgb3JhY2xlLCB0b3AsIG9mZnNldCwgZik7XG4gICAgICAgICAgICBpZiAodG8gPj0gcmlnaHRPZmZzZXQpXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodC5mb3JFYWNoTGluZShmcm9tLCB0bywgb3JhY2xlLCByaWdodFRvcCwgcmlnaHRPZmZzZXQsIGYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG1pZCA9IHRoaXMubGluZUF0KHJpZ2h0T2Zmc2V0LCBRdWVyeVR5cGUuQnlQb3MsIG9yYWNsZSwgdG9wLCBvZmZzZXQpO1xuICAgICAgICAgICAgaWYgKGZyb20gPCBtaWQuZnJvbSlcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQuZm9yRWFjaExpbmUoZnJvbSwgbWlkLmZyb20gLSAxLCBvcmFjbGUsIHRvcCwgb2Zmc2V0LCBmKTtcbiAgICAgICAgICAgIGlmIChtaWQudG8gPj0gZnJvbSAmJiBtaWQuZnJvbSA8PSB0bylcbiAgICAgICAgICAgICAgICBmKG1pZCk7XG4gICAgICAgICAgICBpZiAodG8gPiBtaWQudG8pXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodC5mb3JFYWNoTGluZShtaWQudG8gKyAxLCB0bywgb3JhY2xlLCByaWdodFRvcCwgcmlnaHRPZmZzZXQsIGYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGxhY2UoZnJvbSwgdG8sIG5vZGVzKSB7XG4gICAgICAgIGxldCByaWdodFN0YXJ0ID0gdGhpcy5sZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWs7XG4gICAgICAgIGlmICh0byA8IHJpZ2h0U3RhcnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYWxhbmNlZCh0aGlzLmxlZnQucmVwbGFjZShmcm9tLCB0bywgbm9kZXMpLCB0aGlzLnJpZ2h0KTtcbiAgICAgICAgaWYgKGZyb20gPiB0aGlzLmxlZnQubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFsYW5jZWQodGhpcy5sZWZ0LCB0aGlzLnJpZ2h0LnJlcGxhY2UoZnJvbSAtIHJpZ2h0U3RhcnQsIHRvIC0gcmlnaHRTdGFydCwgbm9kZXMpKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAoZnJvbSA+IDApXG4gICAgICAgICAgICB0aGlzLmRlY29tcG9zZUxlZnQoZnJvbSwgcmVzdWx0KTtcbiAgICAgICAgbGV0IGxlZnQgPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBub2RlIG9mIG5vZGVzKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgIGlmIChmcm9tID4gMClcbiAgICAgICAgICAgIG1lcmdlR2FwcyhyZXN1bHQsIGxlZnQgLSAxKTtcbiAgICAgICAgaWYgKHRvIDwgdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCByaWdodCA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLmRlY29tcG9zZVJpZ2h0KHRvLCByZXN1bHQpO1xuICAgICAgICAgICAgbWVyZ2VHYXBzKHJlc3VsdCwgcmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBIZWlnaHRNYXAub2YocmVzdWx0KTtcbiAgICB9XG4gICAgZGVjb21wb3NlTGVmdCh0bywgcmVzdWx0KSB7XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5sZWZ0Lmxlbmd0aDtcbiAgICAgICAgaWYgKHRvIDw9IGxlZnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0LmRlY29tcG9zZUxlZnQodG8sIHJlc3VsdCk7XG4gICAgICAgIHJlc3VsdC5wdXNoKHRoaXMubGVmdCk7XG4gICAgICAgIGlmICh0aGlzLmJyZWFrKSB7XG4gICAgICAgICAgICBsZWZ0Kys7XG4gICAgICAgICAgICBpZiAodG8gPj0gbGVmdClcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG8gPiBsZWZ0KVxuICAgICAgICAgICAgdGhpcy5yaWdodC5kZWNvbXBvc2VMZWZ0KHRvIC0gbGVmdCwgcmVzdWx0KTtcbiAgICB9XG4gICAgZGVjb21wb3NlUmlnaHQoZnJvbSwgcmVzdWx0KSB7XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5sZWZ0Lmxlbmd0aCwgcmlnaHQgPSBsZWZ0ICsgdGhpcy5icmVhaztcbiAgICAgICAgaWYgKGZyb20gPj0gcmlnaHQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yaWdodC5kZWNvbXBvc2VSaWdodChmcm9tIC0gcmlnaHQsIHJlc3VsdCk7XG4gICAgICAgIGlmIChmcm9tIDwgbGVmdClcbiAgICAgICAgICAgIHRoaXMubGVmdC5kZWNvbXBvc2VSaWdodChmcm9tLCByZXN1bHQpO1xuICAgICAgICBpZiAodGhpcy5icmVhayAmJiBmcm9tIDwgcmlnaHQpXG4gICAgICAgICAgICByZXN1bHQucHVzaChudWxsKTtcbiAgICAgICAgcmVzdWx0LnB1c2godGhpcy5yaWdodCk7XG4gICAgfVxuICAgIGJhbGFuY2VkKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIGlmIChsZWZ0LnNpemUgPiAyICogcmlnaHQuc2l6ZSB8fCByaWdodC5zaXplID4gMiAqIGxlZnQuc2l6ZSlcbiAgICAgICAgICAgIHJldHVybiBIZWlnaHRNYXAub2YodGhpcy5icmVhayA/IFtsZWZ0LCBudWxsLCByaWdodF0gOiBbbGVmdCwgcmlnaHRdKTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgICAgICB0aGlzLmhlaWdodCA9IGxlZnQuaGVpZ2h0ICsgcmlnaHQuaGVpZ2h0O1xuICAgICAgICB0aGlzLm91dGRhdGVkID0gbGVmdC5vdXRkYXRlZCB8fCByaWdodC5vdXRkYXRlZDtcbiAgICAgICAgdGhpcy5zaXplID0gbGVmdC5zaXplICsgcmlnaHQuc2l6ZTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWsgKyByaWdodC5sZW5ndGg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB1cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQgPSAwLCBmb3JjZSA9IGZhbHNlLCBtZWFzdXJlZCkge1xuICAgICAgICBsZXQgeyBsZWZ0LCByaWdodCB9ID0gdGhpcywgcmlnaHRTdGFydCA9IG9mZnNldCArIGxlZnQubGVuZ3RoICsgdGhpcy5icmVhaywgcmViYWxhbmNlID0gbnVsbDtcbiAgICAgICAgaWYgKG1lYXN1cmVkICYmIG1lYXN1cmVkLmZyb20gPD0gb2Zmc2V0ICsgbGVmdC5sZW5ndGggJiYgbWVhc3VyZWQubW9yZSlcbiAgICAgICAgICAgIHJlYmFsYW5jZSA9IGxlZnQgPSBsZWZ0LnVwZGF0ZUhlaWdodChvcmFjbGUsIG9mZnNldCwgZm9yY2UsIG1lYXN1cmVkKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbGVmdC51cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQsIGZvcmNlKTtcbiAgICAgICAgaWYgKG1lYXN1cmVkICYmIG1lYXN1cmVkLmZyb20gPD0gcmlnaHRTdGFydCArIHJpZ2h0Lmxlbmd0aCAmJiBtZWFzdXJlZC5tb3JlKVxuICAgICAgICAgICAgcmViYWxhbmNlID0gcmlnaHQgPSByaWdodC51cGRhdGVIZWlnaHQob3JhY2xlLCByaWdodFN0YXJ0LCBmb3JjZSwgbWVhc3VyZWQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByaWdodC51cGRhdGVIZWlnaHQob3JhY2xlLCByaWdodFN0YXJ0LCBmb3JjZSk7XG4gICAgICAgIGlmIChyZWJhbGFuY2UpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYWxhbmNlZChsZWZ0LCByaWdodCk7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5sZWZ0LmhlaWdodCArIHRoaXMucmlnaHQuaGVpZ2h0O1xuICAgICAgICB0aGlzLm91dGRhdGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIHRoaXMubGVmdCArICh0aGlzLmJyZWFrID8gXCIgXCIgOiBcIi1cIikgKyB0aGlzLnJpZ2h0OyB9XG59XG5mdW5jdGlvbiBtZXJnZUdhcHMobm9kZXMsIGFyb3VuZCkge1xuICAgIGxldCBiZWZvcmUsIGFmdGVyO1xuICAgIGlmIChub2Rlc1thcm91bmRdID09IG51bGwgJiZcbiAgICAgICAgKGJlZm9yZSA9IG5vZGVzW2Fyb3VuZCAtIDFdKSBpbnN0YW5jZW9mIEhlaWdodE1hcEdhcCAmJlxuICAgICAgICAoYWZ0ZXIgPSBub2Rlc1thcm91bmQgKyAxXSkgaW5zdGFuY2VvZiBIZWlnaHRNYXBHYXApXG4gICAgICAgIG5vZGVzLnNwbGljZShhcm91bmQgLSAxLCAzLCBuZXcgSGVpZ2h0TWFwR2FwKGJlZm9yZS5sZW5ndGggKyAxICsgYWZ0ZXIubGVuZ3RoKSk7XG59XG5jb25zdCByZWxldmFudFdpZGdldEhlaWdodCA9IDU7XG5jbGFzcyBOb2RlQnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IocG9zLCBvcmFjbGUpIHtcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgICAgIHRoaXMub3JhY2xlID0gb3JhY2xlO1xuICAgICAgICB0aGlzLm5vZGVzID0gW107XG4gICAgICAgIHRoaXMubGluZVN0YXJ0ID0gLTE7XG4gICAgICAgIHRoaXMubGluZUVuZCA9IC0xO1xuICAgICAgICB0aGlzLmNvdmVyaW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy53cml0dGVuVG8gPSBwb3M7XG4gICAgfVxuICAgIGdldCBpc0NvdmVyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvdmVyaW5nICYmIHRoaXMubm9kZXNbdGhpcy5ub2Rlcy5sZW5ndGggLSAxXSA9PSB0aGlzLmNvdmVyaW5nO1xuICAgIH1cbiAgICBzcGFuKF9mcm9tLCB0bykge1xuICAgICAgICBpZiAodGhpcy5saW5lU3RhcnQgPiAtMSkge1xuICAgICAgICAgICAgbGV0IGVuZCA9IE1hdGgubWluKHRvLCB0aGlzLmxpbmVFbmQpLCBsYXN0ID0gdGhpcy5ub2Rlc1t0aGlzLm5vZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKGxhc3QgaW5zdGFuY2VvZiBIZWlnaHRNYXBUZXh0KVxuICAgICAgICAgICAgICAgIGxhc3QubGVuZ3RoICs9IGVuZCAtIHRoaXMucG9zO1xuICAgICAgICAgICAgZWxzZSBpZiAoZW5kID4gdGhpcy5wb3MgfHwgIXRoaXMuaXNDb3ZlcmVkKVxuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaChuZXcgSGVpZ2h0TWFwVGV4dChlbmQgLSB0aGlzLnBvcywgLTEpKTtcbiAgICAgICAgICAgIHRoaXMud3JpdHRlblRvID0gZW5kO1xuICAgICAgICAgICAgaWYgKHRvID4gZW5kKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdHRlblRvKys7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lU3RhcnQgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcyA9IHRvO1xuICAgIH1cbiAgICBwb2ludChmcm9tLCB0bywgZGVjbykge1xuICAgICAgICBpZiAoZnJvbSA8IHRvIHx8IGRlY28uaGVpZ2h0UmVsZXZhbnQpIHtcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSBkZWNvLndpZGdldCA/IGRlY28ud2lkZ2V0LmVzdGltYXRlZEhlaWdodCA6IDA7XG4gICAgICAgICAgICBsZXQgYnJlYWtzID0gZGVjby53aWRnZXQgPyBkZWNvLndpZGdldC5saW5lQnJlYWtzIDogMDtcbiAgICAgICAgICAgIGlmIChoZWlnaHQgPCAwKVxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMub3JhY2xlLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICBsZXQgbGVuID0gdG8gLSBmcm9tO1xuICAgICAgICAgICAgaWYgKGRlY28uYmxvY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJsb2NrKG5ldyBIZWlnaHRNYXBCbG9jayhsZW4sIGhlaWdodCwgZGVjbykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGVuIHx8IGJyZWFrcyB8fCBoZWlnaHQgPj0gcmVsZXZhbnRXaWRnZXRIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZExpbmVEZWNvKGhlaWdodCwgYnJlYWtzLCBsZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvID4gZnJvbSkge1xuICAgICAgICAgICAgdGhpcy5zcGFuKGZyb20sIHRvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5saW5lRW5kID4gLTEgJiYgdGhpcy5saW5lRW5kIDwgdGhpcy5wb3MpXG4gICAgICAgICAgICB0aGlzLmxpbmVFbmQgPSB0aGlzLm9yYWNsZS5kb2MubGluZUF0KHRoaXMucG9zKS50bztcbiAgICB9XG4gICAgZW50ZXJMaW5lKCkge1xuICAgICAgICBpZiAodGhpcy5saW5lU3RhcnQgPiAtMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IHRoaXMub3JhY2xlLmRvYy5saW5lQXQodGhpcy5wb3MpO1xuICAgICAgICB0aGlzLmxpbmVTdGFydCA9IGZyb207XG4gICAgICAgIHRoaXMubGluZUVuZCA9IHRvO1xuICAgICAgICBpZiAodGhpcy53cml0dGVuVG8gPCBmcm9tKSB7XG4gICAgICAgICAgICBpZiAodGhpcy53cml0dGVuVG8gPCBmcm9tIC0gMSB8fCB0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV0gPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2godGhpcy5ibGFua0NvbnRlbnQodGhpcy53cml0dGVuVG8sIGZyb20gLSAxKSk7XG4gICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucG9zID4gZnJvbSlcbiAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaChuZXcgSGVpZ2h0TWFwVGV4dCh0aGlzLnBvcyAtIGZyb20sIC0xKSk7XG4gICAgICAgIHRoaXMud3JpdHRlblRvID0gdGhpcy5wb3M7XG4gICAgfVxuICAgIGJsYW5rQ29udGVudChmcm9tLCB0bykge1xuICAgICAgICBsZXQgZ2FwID0gbmV3IEhlaWdodE1hcEdhcCh0byAtIGZyb20pO1xuICAgICAgICBpZiAodGhpcy5vcmFjbGUuZG9jLmxpbmVBdChmcm9tKS50byA9PSB0bylcbiAgICAgICAgICAgIGdhcC5mbGFncyB8PSA0IC8qIEZsYWcuU2luZ2xlTGluZSAqLztcbiAgICAgICAgcmV0dXJuIGdhcDtcbiAgICB9XG4gICAgZW5zdXJlTGluZSgpIHtcbiAgICAgICAgdGhpcy5lbnRlckxpbmUoKTtcbiAgICAgICAgbGV0IGxhc3QgPSB0aGlzLm5vZGVzLmxlbmd0aCA/IHRoaXMubm9kZXNbdGhpcy5ub2Rlcy5sZW5ndGggLSAxXSA6IG51bGw7XG4gICAgICAgIGlmIChsYXN0IGluc3RhbmNlb2YgSGVpZ2h0TWFwVGV4dClcbiAgICAgICAgICAgIHJldHVybiBsYXN0O1xuICAgICAgICBsZXQgbGluZSA9IG5ldyBIZWlnaHRNYXBUZXh0KDAsIC0xKTtcbiAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKGxpbmUpO1xuICAgICAgICByZXR1cm4gbGluZTtcbiAgICB9XG4gICAgYWRkQmxvY2soYmxvY2spIHtcbiAgICAgICAgdGhpcy5lbnRlckxpbmUoKTtcbiAgICAgICAgbGV0IGRlY28gPSBibG9jay5kZWNvO1xuICAgICAgICBpZiAoZGVjbyAmJiBkZWNvLnN0YXJ0U2lkZSA+IDAgJiYgIXRoaXMuaXNDb3ZlcmVkKVxuICAgICAgICAgICAgdGhpcy5lbnN1cmVMaW5lKCk7XG4gICAgICAgIHRoaXMubm9kZXMucHVzaChibG9jayk7XG4gICAgICAgIHRoaXMud3JpdHRlblRvID0gdGhpcy5wb3MgPSB0aGlzLnBvcyArIGJsb2NrLmxlbmd0aDtcbiAgICAgICAgaWYgKGRlY28gJiYgZGVjby5lbmRTaWRlID4gMClcbiAgICAgICAgICAgIHRoaXMuY292ZXJpbmcgPSBibG9jaztcbiAgICB9XG4gICAgYWRkTGluZURlY28oaGVpZ2h0LCBicmVha3MsIGxlbmd0aCkge1xuICAgICAgICBsZXQgbGluZSA9IHRoaXMuZW5zdXJlTGluZSgpO1xuICAgICAgICBsaW5lLmxlbmd0aCArPSBsZW5ndGg7XG4gICAgICAgIGxpbmUuY29sbGFwc2VkICs9IGxlbmd0aDtcbiAgICAgICAgbGluZS53aWRnZXRIZWlnaHQgPSBNYXRoLm1heChsaW5lLndpZGdldEhlaWdodCwgaGVpZ2h0KTtcbiAgICAgICAgbGluZS5icmVha3MgKz0gYnJlYWtzO1xuICAgICAgICB0aGlzLndyaXR0ZW5UbyA9IHRoaXMucG9zID0gdGhpcy5wb3MgKyBsZW5ndGg7XG4gICAgfVxuICAgIGZpbmlzaChmcm9tKSB7XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5ub2Rlcy5sZW5ndGggPT0gMCA/IG51bGwgOiB0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICh0aGlzLmxpbmVTdGFydCA+IC0xICYmICEobGFzdCBpbnN0YW5jZW9mIEhlaWdodE1hcFRleHQpICYmICF0aGlzLmlzQ292ZXJlZClcbiAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaChuZXcgSGVpZ2h0TWFwVGV4dCgwLCAtMSkpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLndyaXR0ZW5UbyA8IHRoaXMucG9zIHx8IGxhc3QgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaCh0aGlzLmJsYW5rQ29udGVudCh0aGlzLndyaXR0ZW5UbywgdGhpcy5wb3MpKTtcbiAgICAgICAgbGV0IHBvcyA9IGZyb207XG4gICAgICAgIGZvciAobGV0IG5vZGUgb2YgdGhpcy5ub2Rlcykge1xuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBIZWlnaHRNYXBUZXh0KVxuICAgICAgICAgICAgICAgIG5vZGUudXBkYXRlSGVpZ2h0KHRoaXMub3JhY2xlLCBwb3MpO1xuICAgICAgICAgICAgcG9zICs9IG5vZGUgPyBub2RlLmxlbmd0aCA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXM7XG4gICAgfVxuICAgIC8vIEFsd2F5cyBjYWxsZWQgd2l0aCBhIHJlZ2lvbiB0aGF0IG9uIGJvdGggc2lkZXMgZWl0aGVyIHN0cmV0Y2hlc1xuICAgIC8vIHRvIGEgbGluZSBicmVhayBvciB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudC5cbiAgICAvLyBUaGUgcmV0dXJuZWQgYXJyYXkgdXNlcyBudWxsIHRvIGluZGljYXRlIGxpbmUgYnJlYWtzLCBidXQgbmV2ZXJcbiAgICAvLyBzdGFydHMgb3IgZW5kcyBpbiBhIGxpbmUgYnJlYWssIG9yIGhhcyBtdWx0aXBsZSBsaW5lIGJyZWFrcyBuZXh0XG4gICAgLy8gdG8gZWFjaCBvdGhlci5cbiAgICBzdGF0aWMgYnVpbGQob3JhY2xlLCBkZWNvcmF0aW9ucywgZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgTm9kZUJ1aWxkZXIoZnJvbSwgb3JhY2xlKTtcbiAgICAgICAgUmFuZ2VTZXQuc3BhbnMoZGVjb3JhdGlvbnMsIGZyb20sIHRvLCBidWlsZGVyLCAwKTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkZXIuZmluaXNoKGZyb20pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhlaWdodFJlbGV2YW50RGVjb0NoYW5nZXMoYSwgYiwgZGlmZikge1xuICAgIGxldCBjb21wID0gbmV3IERlY29yYXRpb25Db21wYXJhdG9yO1xuICAgIFJhbmdlU2V0LmNvbXBhcmUoYSwgYiwgZGlmZiwgY29tcCwgMCk7XG4gICAgcmV0dXJuIGNvbXAuY2hhbmdlcztcbn1cbmNsYXNzIERlY29yYXRpb25Db21wYXJhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gW107XG4gICAgfVxuICAgIGNvbXBhcmVSYW5nZSgpIHsgfVxuICAgIGNvbXBhcmVQb2ludChmcm9tLCB0bywgYSwgYikge1xuICAgICAgICBpZiAoZnJvbSA8IHRvIHx8IGEgJiYgYS5oZWlnaHRSZWxldmFudCB8fCBiICYmIGIuaGVpZ2h0UmVsZXZhbnQpXG4gICAgICAgICAgICBhZGRSYW5nZShmcm9tLCB0bywgdGhpcy5jaGFuZ2VzLCA1KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHZpc2libGVQaXhlbFJhbmdlKGRvbSwgcGFkZGluZ1RvcCkge1xuICAgIGxldCByZWN0ID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBkb2MgPSBkb20ub3duZXJEb2N1bWVudCwgd2luID0gZG9jLmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgICBsZXQgbGVmdCA9IE1hdGgubWF4KDAsIHJlY3QubGVmdCksIHJpZ2h0ID0gTWF0aC5taW4od2luLmlubmVyV2lkdGgsIHJlY3QucmlnaHQpO1xuICAgIGxldCB0b3AgPSBNYXRoLm1heCgwLCByZWN0LnRvcCksIGJvdHRvbSA9IE1hdGgubWluKHdpbi5pbm5lckhlaWdodCwgcmVjdC5ib3R0b20pO1xuICAgIGZvciAobGV0IHBhcmVudCA9IGRvbS5wYXJlbnROb2RlOyBwYXJlbnQgJiYgcGFyZW50ICE9IGRvYy5ib2R5Oykge1xuICAgICAgICBpZiAocGFyZW50Lm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgICAgIGxldCBlbHQgPSBwYXJlbnQ7XG4gICAgICAgICAgICBsZXQgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbHQpO1xuICAgICAgICAgICAgaWYgKChlbHQuc2Nyb2xsSGVpZ2h0ID4gZWx0LmNsaWVudEhlaWdodCB8fCBlbHQuc2Nyb2xsV2lkdGggPiBlbHQuY2xpZW50V2lkdGgpICYmXG4gICAgICAgICAgICAgICAgc3R5bGUub3ZlcmZsb3cgIT0gXCJ2aXNpYmxlXCIpIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50UmVjdCA9IGVsdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gTWF0aC5tYXgobGVmdCwgcGFyZW50UmVjdC5sZWZ0KTtcbiAgICAgICAgICAgICAgICByaWdodCA9IE1hdGgubWluKHJpZ2h0LCBwYXJlbnRSZWN0LnJpZ2h0KTtcbiAgICAgICAgICAgICAgICB0b3AgPSBNYXRoLm1heCh0b3AsIHBhcmVudFJlY3QudG9wKTtcbiAgICAgICAgICAgICAgICBib3R0b20gPSBwYXJlbnQgPT0gZG9tLnBhcmVudE5vZGUgPyBwYXJlbnRSZWN0LmJvdHRvbSA6IE1hdGgubWluKGJvdHRvbSwgcGFyZW50UmVjdC5ib3R0b20pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gc3R5bGUucG9zaXRpb24gPT0gXCJhYnNvbHV0ZVwiIHx8IHN0eWxlLnBvc2l0aW9uID09IFwiZml4ZWRcIiA/IGVsdC5vZmZzZXRQYXJlbnQgOiBlbHQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJlbnQubm9kZVR5cGUgPT0gMTEpIHsgLy8gU2hhZG93IHJvb3RcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5ob3N0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbGVmdDogbGVmdCAtIHJlY3QubGVmdCwgcmlnaHQ6IE1hdGgubWF4KGxlZnQsIHJpZ2h0KSAtIHJlY3QubGVmdCxcbiAgICAgICAgdG9wOiB0b3AgLSAocmVjdC50b3AgKyBwYWRkaW5nVG9wKSwgYm90dG9tOiBNYXRoLm1heCh0b3AsIGJvdHRvbSkgLSAocmVjdC50b3AgKyBwYWRkaW5nVG9wKSB9O1xufVxuZnVuY3Rpb24gZnVsbFBpeGVsUmFuZ2UoZG9tLCBwYWRkaW5nVG9wKSB7XG4gICAgbGV0IHJlY3QgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHsgbGVmdDogMCwgcmlnaHQ6IHJlY3QucmlnaHQgLSByZWN0LmxlZnQsXG4gICAgICAgIHRvcDogcGFkZGluZ1RvcCwgYm90dG9tOiByZWN0LmJvdHRvbSAtIChyZWN0LnRvcCArIHBhZGRpbmdUb3ApIH07XG59XG4vLyBMaW5lIGdhcHMgYXJlIHBsYWNlaG9sZGVyIHdpZGdldHMgdXNlZCB0byBoaWRlIHBpZWNlcyBvZiBvdmVybG9uZ1xuLy8gbGluZXMgd2l0aGluIHRoZSB2aWV3cG9ydCwgYXMgYSBrbHVkZ2UgdG8ga2VlcCB0aGUgZWRpdG9yXG4vLyByZXNwb25zaXZlIHdoZW4gYSByaWRpY3Vsb3VzbHkgbG9uZyBsaW5lIGlzIGxvYWRlZCBpbnRvIGl0LlxuY2xhc3MgTGluZUdhcCB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8sIHNpemUpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIH1cbiAgICBzdGF0aWMgc2FtZShhLCBiKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZ0EgPSBhW2ldLCBnQiA9IGJbaV07XG4gICAgICAgICAgICBpZiAoZ0EuZnJvbSAhPSBnQi5mcm9tIHx8IGdBLnRvICE9IGdCLnRvIHx8IGdBLnNpemUgIT0gZ0Iuc2l6ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGRyYXcodmlld1N0YXRlLCB3cmFwcGluZykge1xuICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5yZXBsYWNlKHtcbiAgICAgICAgICAgIHdpZGdldDogbmV3IExpbmVHYXBXaWRnZXQodGhpcy5zaXplICogKHdyYXBwaW5nID8gdmlld1N0YXRlLnNjYWxlWSA6IHZpZXdTdGF0ZS5zY2FsZVgpLCB3cmFwcGluZylcbiAgICAgICAgfSkucmFuZ2UodGhpcy5mcm9tLCB0aGlzLnRvKTtcbiAgICB9XG59XG5jbGFzcyBMaW5lR2FwV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3Ioc2l6ZSwgdmVydGljYWwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCA9IHZlcnRpY2FsO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gb3RoZXIuc2l6ZSA9PSB0aGlzLnNpemUgJiYgb3RoZXIudmVydGljYWwgPT0gdGhpcy52ZXJ0aWNhbDsgfVxuICAgIHRvRE9NKCkge1xuICAgICAgICBsZXQgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICAgIGVsdC5zdHlsZS5oZWlnaHQgPSB0aGlzLnNpemUgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbHQuc3R5bGUud2lkdGggPSB0aGlzLnNpemUgKyBcInB4XCI7XG4gICAgICAgICAgICBlbHQuc3R5bGUuaGVpZ2h0ID0gXCIycHhcIjtcbiAgICAgICAgICAgIGVsdC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWx0O1xuICAgIH1cbiAgICBnZXQgZXN0aW1hdGVkSGVpZ2h0KCkgeyByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuc2l6ZSA6IC0xOyB9XG59XG5jbGFzcyBWaWV3U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgLy8gVGhlc2UgYXJlIGNvbnRlbnRET00tbG9jYWwgY29vcmRpbmF0ZXNcbiAgICAgICAgdGhpcy5waXhlbFZpZXdwb3J0ID0geyBsZWZ0OiAwLCByaWdodDogd2luZG93LmlubmVyV2lkdGgsIHRvcDogMCwgYm90dG9tOiAwIH07XG4gICAgICAgIHRoaXMuaW5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wYWRkaW5nVG9wID0gMDsgLy8gUGFkZGluZyBhYm92ZSB0aGUgZG9jdW1lbnQsIHNjYWxlZFxuICAgICAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSAwOyAvLyBQYWRkaW5nIGJlbG93IHRoZSBkb2N1bWVudCwgc2NhbGVkXG4gICAgICAgIHRoaXMuY29udGVudERPTVdpZHRoID0gMDsgLy8gY29udGVudERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aFxuICAgICAgICB0aGlzLmNvbnRlbnRET01IZWlnaHQgPSAwOyAvLyBjb250ZW50RE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxuICAgICAgICB0aGlzLmVkaXRvckhlaWdodCA9IDA7IC8vIHNjcm9sbERPTS5jbGllbnRIZWlnaHQsIHVuc2NhbGVkXG4gICAgICAgIHRoaXMuZWRpdG9yV2lkdGggPSAwOyAvLyBzY3JvbGxET00uY2xpZW50V2lkdGgsIHVuc2NhbGVkXG4gICAgICAgIHRoaXMuc2Nyb2xsVG9wID0gMDsgLy8gTGFzdCBzZWVuIHNjcm9sbERPTS5zY3JvbGxUb3AsIHNjYWxlZFxuICAgICAgICB0aGlzLnNjcm9sbGVkVG9Cb3R0b20gPSB0cnVlO1xuICAgICAgICAvLyBUaGUgQ1NTLXRyYW5zZm9ybWF0aW9uIHNjYWxlIG9mIHRoZSBlZGl0b3IgKHRyYW5zZm9ybWVkIHNpemUgL1xuICAgICAgICAvLyBjb25jcmV0ZSBzaXplKVxuICAgICAgICB0aGlzLnNjYWxlWCA9IDE7XG4gICAgICAgIHRoaXMuc2NhbGVZID0gMTtcbiAgICAgICAgLy8gVGhlIHZlcnRpY2FsIHBvc2l0aW9uIChkb2N1bWVudC1yZWxhdGl2ZSkgdG8gd2hpY2ggdG8gYW5jaG9yIHRoZVxuICAgICAgICAvLyBzY3JvbGwgcG9zaXRpb24uIC0xIG1lYW5zIGFuY2hvciB0byB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudC5cbiAgICAgICAgdGhpcy5zY3JvbGxBbmNob3JQb3MgPSAwO1xuICAgICAgICAvLyBUaGUgaGVpZ2h0IGF0IHRoZSBhbmNob3IgcG9zaXRpb24uIFNldCBieSB0aGUgRE9NIHVwZGF0ZSBwaGFzZS5cbiAgICAgICAgLy8gLTEgbWVhbnMgbm8gaGVpZ2h0IGF2YWlsYWJsZS5cbiAgICAgICAgdGhpcy5zY3JvbGxBbmNob3JIZWlnaHQgPSAtMTtcbiAgICAgICAgLy8gU2VlIFZQLk1heERPTUhlaWdodFxuICAgICAgICB0aGlzLnNjYWxlciA9IElkU2NhbGVyO1xuICAgICAgICB0aGlzLnNjcm9sbFRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIEJyaWVmbHkgc2V0IHRvIHRydWUgd2hlbiBwcmludGluZywgdG8gZGlzYWJsZSB2aWV3cG9ydCBsaW1pdGluZ1xuICAgICAgICB0aGlzLnByaW50aW5nID0gZmFsc2U7XG4gICAgICAgIC8vIEZsYWcgc2V0IHdoZW4gZWRpdG9yIGNvbnRlbnQgd2FzIHJlZHJhd24sIHNvIHRoYXQgdGhlIG5leHRcbiAgICAgICAgLy8gbWVhc3VyZSBzdGFnZSBrbm93cyBpdCBtdXN0IHJlYWQgRE9NIGxheW91dFxuICAgICAgICB0aGlzLm11c3RNZWFzdXJlQ29udGVudCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRleHREaXJlY3Rpb24gPSBEaXJlY3Rpb24uTFRSO1xuICAgICAgICB0aGlzLnZpc2libGVSYW5nZXMgPSBbXTtcbiAgICAgICAgLy8gQ3Vyc29yICdhc3NvYycgaXMgb25seSBzaWduaWZpY2FudCB3aGVuIHRoZSBjdXJzb3IgaXMgb24gYSBsaW5lXG4gICAgICAgIC8vIHdyYXAgcG9pbnQsIHdoZXJlIGl0IG11c3Qgc3RpY2sgdG8gdGhlIGNoYXJhY3RlciB0aGF0IGl0IGlzXG4gICAgICAgIC8vIGFzc29jaWF0ZWQgd2l0aC4gU2luY2UgYnJvd3NlcnMgZG9uJ3QgcHJvdmlkZSBhIHJlYXNvbmFibGVcbiAgICAgICAgLy8gaW50ZXJmYWNlIHRvIHNldCBvciBxdWVyeSB0aGlzLCB3aGVuIGEgc2VsZWN0aW9uIGlzIHNldCB0aGF0XG4gICAgICAgIC8vIG1pZ2h0IGNhdXNlIHRoaXMgdG8gYmUgc2lnbmlmaWNhbnQsIHRoaXMgZmxhZyBpcyBzZXQuIFRoZSBuZXh0XG4gICAgICAgIC8vIG1lYXN1cmUgcGhhc2Ugd2lsbCBjaGVjayB3aGV0aGVyIHRoZSBjdXJzb3IgaXMgb24gYSBsaW5lLXdyYXBwaW5nXG4gICAgICAgIC8vIGJvdW5kYXJ5IGFuZCwgaWYgc28sIHJlc2V0IGl0IHRvIG1ha2Ugc3VyZSBpdCBpcyBwb3NpdGlvbmVkIGluXG4gICAgICAgIC8vIHRoZSByaWdodCBwbGFjZS5cbiAgICAgICAgdGhpcy5tdXN0RW5mb3JjZUN1cnNvckFzc29jID0gZmFsc2U7XG4gICAgICAgIGxldCBndWVzc1dyYXBwaW5nID0gc3RhdGUuZmFjZXQoY29udGVudEF0dHJpYnV0ZXMpLnNvbWUodiA9PiB0eXBlb2YgdiAhPSBcImZ1bmN0aW9uXCIgJiYgdi5jbGFzcyA9PSBcImNtLWxpbmVXcmFwcGluZ1wiKTtcbiAgICAgICAgdGhpcy5oZWlnaHRPcmFjbGUgPSBuZXcgSGVpZ2h0T3JhY2xlKGd1ZXNzV3JhcHBpbmcpO1xuICAgICAgICB0aGlzLnN0YXRlRGVjbyA9IHN0YXRlLmZhY2V0KGRlY29yYXRpb25zKS5maWx0ZXIoZCA9PiB0eXBlb2YgZCAhPSBcImZ1bmN0aW9uXCIpO1xuICAgICAgICB0aGlzLmhlaWdodE1hcCA9IEhlaWdodE1hcC5lbXB0eSgpLmFwcGx5Q2hhbmdlcyh0aGlzLnN0YXRlRGVjbywgVGV4dC5lbXB0eSwgdGhpcy5oZWlnaHRPcmFjbGUuc2V0RG9jKHN0YXRlLmRvYyksIFtuZXcgQ2hhbmdlZFJhbmdlKDAsIDAsIDAsIHN0YXRlLmRvYy5sZW5ndGgpXSk7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB0aGlzLmdldFZpZXdwb3J0KDAsIG51bGwpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0TGluZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVGb3JWaWV3cG9ydCgpO1xuICAgICAgICB0aGlzLmxpbmVHYXBzID0gdGhpcy5lbnN1cmVMaW5lR2FwcyhbXSk7XG4gICAgICAgIHRoaXMubGluZUdhcERlY28gPSBEZWNvcmF0aW9uLnNldCh0aGlzLmxpbmVHYXBzLm1hcChnYXAgPT4gZ2FwLmRyYXcodGhpcywgZmFsc2UpKSk7XG4gICAgICAgIHRoaXMuY29tcHV0ZVZpc2libGVSYW5nZXMoKTtcbiAgICB9XG4gICAgdXBkYXRlRm9yVmlld3BvcnQoKSB7XG4gICAgICAgIGxldCB2aWV3cG9ydHMgPSBbdGhpcy52aWV3cG9ydF0sIHsgbWFpbiB9ID0gdGhpcy5zdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IDE7IGkrKykge1xuICAgICAgICAgICAgbGV0IHBvcyA9IGkgPyBtYWluLmhlYWQgOiBtYWluLmFuY2hvcjtcbiAgICAgICAgICAgIGlmICghdmlld3BvcnRzLnNvbWUoKHsgZnJvbSwgdG8gfSkgPT4gcG9zID49IGZyb20gJiYgcG9zIDw9IHRvKSkge1xuICAgICAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0aGlzLmxpbmVCbG9ja0F0KHBvcyk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRzLnB1c2gobmV3IFZpZXdwb3J0KGZyb20sIHRvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3cG9ydHMgPSB2aWV3cG9ydHMuc29ydCgoYSwgYikgPT4gYS5mcm9tIC0gYi5mcm9tKTtcbiAgICAgICAgdGhpcy5zY2FsZXIgPSB0aGlzLmhlaWdodE1hcC5oZWlnaHQgPD0gNzAwMDAwMCAvKiBWUC5NYXhET01IZWlnaHQgKi8gPyBJZFNjYWxlciA6XG4gICAgICAgICAgICBuZXcgQmlnU2NhbGVyKHRoaXMuaGVpZ2h0T3JhY2xlLCB0aGlzLmhlaWdodE1hcCwgdGhpcy52aWV3cG9ydHMpO1xuICAgIH1cbiAgICB1cGRhdGVWaWV3cG9ydExpbmVzKCkge1xuICAgICAgICB0aGlzLnZpZXdwb3J0TGluZXMgPSBbXTtcbiAgICAgICAgdGhpcy5oZWlnaHRNYXAuZm9yRWFjaExpbmUodGhpcy52aWV3cG9ydC5mcm9tLCB0aGlzLnZpZXdwb3J0LnRvLCB0aGlzLmhlaWdodE9yYWNsZS5zZXREb2ModGhpcy5zdGF0ZS5kb2MpLCAwLCAwLCBibG9jayA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0TGluZXMucHVzaCh0aGlzLnNjYWxlci5zY2FsZSA9PSAxID8gYmxvY2sgOiBzY2FsZUJsb2NrKGJsb2NrLCB0aGlzLnNjYWxlcikpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSwgc2Nyb2xsVGFyZ2V0ID0gbnVsbCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gdXBkYXRlLnN0YXRlO1xuICAgICAgICBsZXQgcHJldkRlY28gPSB0aGlzLnN0YXRlRGVjbztcbiAgICAgICAgdGhpcy5zdGF0ZURlY28gPSB0aGlzLnN0YXRlLmZhY2V0KGRlY29yYXRpb25zKS5maWx0ZXIoZCA9PiB0eXBlb2YgZCAhPSBcImZ1bmN0aW9uXCIpO1xuICAgICAgICBsZXQgY29udGVudENoYW5nZXMgPSB1cGRhdGUuY2hhbmdlZFJhbmdlcztcbiAgICAgICAgbGV0IGhlaWdodENoYW5nZXMgPSBDaGFuZ2VkUmFuZ2UuZXh0ZW5kV2l0aFJhbmdlcyhjb250ZW50Q2hhbmdlcywgaGVpZ2h0UmVsZXZhbnREZWNvQ2hhbmdlcyhwcmV2RGVjbywgdGhpcy5zdGF0ZURlY28sIHVwZGF0ZSA/IHVwZGF0ZS5jaGFuZ2VzIDogQ2hhbmdlU2V0LmVtcHR5KHRoaXMuc3RhdGUuZG9jLmxlbmd0aCkpKTtcbiAgICAgICAgbGV0IHByZXZIZWlnaHQgPSB0aGlzLmhlaWdodE1hcC5oZWlnaHQ7XG4gICAgICAgIGxldCBzY3JvbGxBbmNob3IgPSB0aGlzLnNjcm9sbGVkVG9Cb3R0b20gPyBudWxsIDogdGhpcy5zY3JvbGxBbmNob3JBdCh0aGlzLnNjcm9sbFRvcCk7XG4gICAgICAgIHRoaXMuaGVpZ2h0TWFwID0gdGhpcy5oZWlnaHRNYXAuYXBwbHlDaGFuZ2VzKHRoaXMuc3RhdGVEZWNvLCB1cGRhdGUuc3RhcnRTdGF0ZS5kb2MsIHRoaXMuaGVpZ2h0T3JhY2xlLnNldERvYyh0aGlzLnN0YXRlLmRvYyksIGhlaWdodENoYW5nZXMpO1xuICAgICAgICBpZiAodGhpcy5oZWlnaHRNYXAuaGVpZ2h0ICE9IHByZXZIZWlnaHQpXG4gICAgICAgICAgICB1cGRhdGUuZmxhZ3MgfD0gMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLztcbiAgICAgICAgaWYgKHNjcm9sbEFuY2hvcikge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxBbmNob3JQb3MgPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3Moc2Nyb2xsQW5jaG9yLmZyb20sIC0xKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gc2Nyb2xsQW5jaG9yLnRvcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQW5jaG9yUG9zID0gLTE7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEFuY2hvckhlaWdodCA9IHRoaXMuaGVpZ2h0TWFwLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmlld3BvcnQgPSBoZWlnaHRDaGFuZ2VzLmxlbmd0aCA/IHRoaXMubWFwVmlld3BvcnQodGhpcy52aWV3cG9ydCwgdXBkYXRlLmNoYW5nZXMpIDogdGhpcy52aWV3cG9ydDtcbiAgICAgICAgaWYgKHNjcm9sbFRhcmdldCAmJiAoc2Nyb2xsVGFyZ2V0LnJhbmdlLmhlYWQgPCB2aWV3cG9ydC5mcm9tIHx8IHNjcm9sbFRhcmdldC5yYW5nZS5oZWFkID4gdmlld3BvcnQudG8pIHx8XG4gICAgICAgICAgICAhdGhpcy52aWV3cG9ydElzQXBwcm9wcmlhdGUodmlld3BvcnQpKVxuICAgICAgICAgICAgdmlld3BvcnQgPSB0aGlzLmdldFZpZXdwb3J0KDAsIHNjcm9sbFRhcmdldCk7XG4gICAgICAgIGxldCB1cGRhdGVMaW5lcyA9ICF1cGRhdGUuY2hhbmdlcy5lbXB0eSB8fCAodXBkYXRlLmZsYWdzICYgMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLykgfHxcbiAgICAgICAgICAgIHZpZXdwb3J0LmZyb20gIT0gdGhpcy52aWV3cG9ydC5mcm9tIHx8IHZpZXdwb3J0LnRvICE9IHRoaXMudmlld3BvcnQudG87XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgdGhpcy51cGRhdGVGb3JWaWV3cG9ydCgpO1xuICAgICAgICBpZiAodXBkYXRlTGluZXMpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0TGluZXMoKTtcbiAgICAgICAgaWYgKHRoaXMubGluZUdhcHMubGVuZ3RoIHx8IHRoaXMudmlld3BvcnQudG8gLSB0aGlzLnZpZXdwb3J0LmZyb20gPiAoMjAwMCAvKiBMRy5NYXJnaW4gKi8gPDwgMSkpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpbmVHYXBzKHRoaXMuZW5zdXJlTGluZUdhcHModGhpcy5tYXBMaW5lR2Fwcyh0aGlzLmxpbmVHYXBzLCB1cGRhdGUuY2hhbmdlcykpKTtcbiAgICAgICAgdXBkYXRlLmZsYWdzIHw9IHRoaXMuY29tcHV0ZVZpc2libGVSYW5nZXMoKTtcbiAgICAgICAgaWYgKHNjcm9sbFRhcmdldClcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0ID0gc2Nyb2xsVGFyZ2V0O1xuICAgICAgICBpZiAoIXRoaXMubXVzdEVuZm9yY2VDdXJzb3JBc3NvYyAmJiB1cGRhdGUuc2VsZWN0aW9uU2V0ICYmIHVwZGF0ZS52aWV3LmxpbmVXcmFwcGluZyAmJlxuICAgICAgICAgICAgdXBkYXRlLnN0YXRlLnNlbGVjdGlvbi5tYWluLmVtcHR5ICYmIHVwZGF0ZS5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5hc3NvYyAmJlxuICAgICAgICAgICAgIXVwZGF0ZS5zdGF0ZS5mYWNldChuYXRpdmVTZWxlY3Rpb25IaWRkZW4pKVxuICAgICAgICAgICAgdGhpcy5tdXN0RW5mb3JjZUN1cnNvckFzc29jID0gdHJ1ZTtcbiAgICB9XG4gICAgbWVhc3VyZSh2aWV3KSB7XG4gICAgICAgIGxldCBkb20gPSB2aWV3LmNvbnRlbnRET00sIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9tKTtcbiAgICAgICAgbGV0IG9yYWNsZSA9IHRoaXMuaGVpZ2h0T3JhY2xlO1xuICAgICAgICBsZXQgd2hpdGVTcGFjZSA9IHN0eWxlLndoaXRlU3BhY2U7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRleHREaXJlY3Rpb24gPSBzdHlsZS5kaXJlY3Rpb24gPT0gXCJydGxcIiA/IERpcmVjdGlvbi5SVEwgOiBEaXJlY3Rpb24uTFRSO1xuICAgICAgICBsZXQgcmVmcmVzaCA9IHRoaXMuaGVpZ2h0T3JhY2xlLm11c3RSZWZyZXNoRm9yV3JhcHBpbmcod2hpdGVTcGFjZSk7XG4gICAgICAgIGxldCBkb21SZWN0ID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgbWVhc3VyZUNvbnRlbnQgPSByZWZyZXNoIHx8IHRoaXMubXVzdE1lYXN1cmVDb250ZW50IHx8IHRoaXMuY29udGVudERPTUhlaWdodCAhPSBkb21SZWN0LmhlaWdodDtcbiAgICAgICAgdGhpcy5jb250ZW50RE9NSGVpZ2h0ID0gZG9tUmVjdC5oZWlnaHQ7XG4gICAgICAgIHRoaXMubXVzdE1lYXN1cmVDb250ZW50ID0gZmFsc2U7XG4gICAgICAgIGxldCByZXN1bHQgPSAwLCBiaWFzID0gMDtcbiAgICAgICAgaWYgKGRvbVJlY3Qud2lkdGggJiYgZG9tUmVjdC5oZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCBzY2FsZVggPSBkb21SZWN0LndpZHRoIC8gZG9tLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgbGV0IHNjYWxlWSA9IGRvbVJlY3QuaGVpZ2h0IC8gZG9tLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIGlmIChzY2FsZVggPiAwLjk5NSAmJiBzY2FsZVggPCAxLjAwNSB8fCAhaXNGaW5pdGUoc2NhbGVYKSB8fCBNYXRoLmFicyhkb21SZWN0LndpZHRoIC0gZG9tLm9mZnNldFdpZHRoKSA8IDEpXG4gICAgICAgICAgICAgICAgc2NhbGVYID0gMTtcbiAgICAgICAgICAgIGlmIChzY2FsZVkgPiAwLjk5NSAmJiBzY2FsZVkgPCAxLjAwNSB8fCAhaXNGaW5pdGUoc2NhbGVZKSB8fCBNYXRoLmFicyhkb21SZWN0LmhlaWdodCAtIGRvbS5vZmZzZXRIZWlnaHQpIDwgMSlcbiAgICAgICAgICAgICAgICBzY2FsZVkgPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2NhbGVYICE9IHNjYWxlWCB8fCB0aGlzLnNjYWxlWSAhPSBzY2FsZVkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlWCA9IHNjYWxlWDtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlWSA9IHNjYWxlWTtcbiAgICAgICAgICAgICAgICByZXN1bHQgfD0gOCAvKiBVcGRhdGVGbGFnLkdlb21ldHJ5ICovO1xuICAgICAgICAgICAgICAgIHJlZnJlc2ggPSBtZWFzdXJlQ29udGVudCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmVydGljYWwgcGFkZGluZ1xuICAgICAgICBsZXQgcGFkZGluZ1RvcCA9IChwYXJzZUludChzdHlsZS5wYWRkaW5nVG9wKSB8fCAwKSAqIHRoaXMuc2NhbGVZO1xuICAgICAgICBsZXQgcGFkZGluZ0JvdHRvbSA9IChwYXJzZUludChzdHlsZS5wYWRkaW5nQm90dG9tKSB8fCAwKSAqIHRoaXMuc2NhbGVZO1xuICAgICAgICBpZiAodGhpcy5wYWRkaW5nVG9wICE9IHBhZGRpbmdUb3AgfHwgdGhpcy5wYWRkaW5nQm90dG9tICE9IHBhZGRpbmdCb3R0b20pIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZ1RvcCA9IHBhZGRpbmdUb3A7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSBwYWRkaW5nQm90dG9tO1xuICAgICAgICAgICAgcmVzdWx0IHw9IDggLyogVXBkYXRlRmxhZy5HZW9tZXRyeSAqLyB8IDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWRpdG9yV2lkdGggIT0gdmlldy5zY3JvbGxET00uY2xpZW50V2lkdGgpIHtcbiAgICAgICAgICAgIGlmIChvcmFjbGUubGluZVdyYXBwaW5nKVxuICAgICAgICAgICAgICAgIG1lYXN1cmVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yV2lkdGggPSB2aWV3LnNjcm9sbERPTS5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIHJlc3VsdCB8PSA4IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi87XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNjcm9sbFRvcCA9IHZpZXcuc2Nyb2xsRE9NLnNjcm9sbFRvcCAqIHRoaXMuc2NhbGVZO1xuICAgICAgICBpZiAodGhpcy5zY3JvbGxUb3AgIT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEFuY2hvckhlaWdodCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY3JvbGxlZFRvQm90dG9tID0gaXNTY3JvbGxlZFRvQm90dG9tKHZpZXcuc2Nyb2xsRE9NKTtcbiAgICAgICAgLy8gUGl4ZWwgdmlld3BvcnRcbiAgICAgICAgbGV0IHBpeGVsVmlld3BvcnQgPSAodGhpcy5wcmludGluZyA/IGZ1bGxQaXhlbFJhbmdlIDogdmlzaWJsZVBpeGVsUmFuZ2UpKGRvbSwgdGhpcy5wYWRkaW5nVG9wKTtcbiAgICAgICAgbGV0IGRUb3AgPSBwaXhlbFZpZXdwb3J0LnRvcCAtIHRoaXMucGl4ZWxWaWV3cG9ydC50b3AsIGRCb3R0b20gPSBwaXhlbFZpZXdwb3J0LmJvdHRvbSAtIHRoaXMucGl4ZWxWaWV3cG9ydC5ib3R0b207XG4gICAgICAgIHRoaXMucGl4ZWxWaWV3cG9ydCA9IHBpeGVsVmlld3BvcnQ7XG4gICAgICAgIGxldCBpblZpZXcgPSB0aGlzLnBpeGVsVmlld3BvcnQuYm90dG9tID4gdGhpcy5waXhlbFZpZXdwb3J0LnRvcCAmJiB0aGlzLnBpeGVsVmlld3BvcnQucmlnaHQgPiB0aGlzLnBpeGVsVmlld3BvcnQubGVmdDtcbiAgICAgICAgaWYgKGluVmlldyAhPSB0aGlzLmluVmlldykge1xuICAgICAgICAgICAgdGhpcy5pblZpZXcgPSBpblZpZXc7XG4gICAgICAgICAgICBpZiAoaW5WaWV3KVxuICAgICAgICAgICAgICAgIG1lYXN1cmVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5WaWV3ICYmICF0aGlzLnNjcm9sbFRhcmdldClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgY29udGVudFdpZHRoID0gZG9tUmVjdC53aWR0aDtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudERPTVdpZHRoICE9IGNvbnRlbnRXaWR0aCB8fCB0aGlzLmVkaXRvckhlaWdodCAhPSB2aWV3LnNjcm9sbERPTS5jbGllbnRIZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudERPTVdpZHRoID0gZG9tUmVjdC53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9ySGVpZ2h0ID0gdmlldy5zY3JvbGxET00uY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgcmVzdWx0IHw9IDggLyogVXBkYXRlRmxhZy5HZW9tZXRyeSAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVhc3VyZUNvbnRlbnQpIHtcbiAgICAgICAgICAgIGxldCBsaW5lSGVpZ2h0cyA9IHZpZXcuZG9jVmlldy5tZWFzdXJlVmlzaWJsZUxpbmVIZWlnaHRzKHRoaXMudmlld3BvcnQpO1xuICAgICAgICAgICAgaWYgKG9yYWNsZS5tdXN0UmVmcmVzaEZvckhlaWdodHMobGluZUhlaWdodHMpKVxuICAgICAgICAgICAgICAgIHJlZnJlc2ggPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHJlZnJlc2ggfHwgb3JhY2xlLmxpbmVXcmFwcGluZyAmJiBNYXRoLmFicyhjb250ZW50V2lkdGggLSB0aGlzLmNvbnRlbnRET01XaWR0aCkgPiBvcmFjbGUuY2hhcldpZHRoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgbGluZUhlaWdodCwgY2hhcldpZHRoLCB0ZXh0SGVpZ2h0IH0gPSB2aWV3LmRvY1ZpZXcubWVhc3VyZVRleHRTaXplKCk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaCA9IGxpbmVIZWlnaHQgPiAwICYmIG9yYWNsZS5yZWZyZXNoKHdoaXRlU3BhY2UsIGxpbmVIZWlnaHQsIGNoYXJXaWR0aCwgdGV4dEhlaWdodCwgY29udGVudFdpZHRoIC8gY2hhcldpZHRoLCBsaW5lSGVpZ2h0cyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5kb2NWaWV3Lm1pbldpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0IHw9IDggLyogVXBkYXRlRmxhZy5HZW9tZXRyeSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZFRvcCA+IDAgJiYgZEJvdHRvbSA+IDApXG4gICAgICAgICAgICAgICAgYmlhcyA9IE1hdGgubWF4KGRUb3AsIGRCb3R0b20pO1xuICAgICAgICAgICAgZWxzZSBpZiAoZFRvcCA8IDAgJiYgZEJvdHRvbSA8IDApXG4gICAgICAgICAgICAgICAgYmlhcyA9IE1hdGgubWluKGRUb3AsIGRCb3R0b20pO1xuICAgICAgICAgICAgb3JhY2xlLmhlaWdodENoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAobGV0IHZwIG9mIHRoaXMudmlld3BvcnRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGhlaWdodHMgPSB2cC5mcm9tID09IHRoaXMudmlld3BvcnQuZnJvbSA/IGxpbmVIZWlnaHRzIDogdmlldy5kb2NWaWV3Lm1lYXN1cmVWaXNpYmxlTGluZUhlaWdodHModnApO1xuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0TWFwID0gKHJlZnJlc2ggPyBIZWlnaHRNYXAuZW1wdHkoKS5hcHBseUNoYW5nZXModGhpcy5zdGF0ZURlY28sIFRleHQuZW1wdHksIHRoaXMuaGVpZ2h0T3JhY2xlLCBbbmV3IENoYW5nZWRSYW5nZSgwLCAwLCAwLCB2aWV3LnN0YXRlLmRvYy5sZW5ndGgpXSkgOiB0aGlzLmhlaWdodE1hcCkudXBkYXRlSGVpZ2h0KG9yYWNsZSwgMCwgcmVmcmVzaCwgbmV3IE1lYXN1cmVkSGVpZ2h0cyh2cC5mcm9tLCBoZWlnaHRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3JhY2xlLmhlaWdodENoYW5nZWQpXG4gICAgICAgICAgICAgICAgcmVzdWx0IHw9IDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi87XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZpZXdwb3J0Q2hhbmdlID0gIXRoaXMudmlld3BvcnRJc0FwcHJvcHJpYXRlKHRoaXMudmlld3BvcnQsIGJpYXMpIHx8XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRhcmdldCAmJiAodGhpcy5zY3JvbGxUYXJnZXQucmFuZ2UuaGVhZCA8IHRoaXMudmlld3BvcnQuZnJvbSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LnJhbmdlLmhlYWQgPiB0aGlzLnZpZXdwb3J0LnRvKTtcbiAgICAgICAgaWYgKHZpZXdwb3J0Q2hhbmdlKVxuICAgICAgICAgICAgdGhpcy52aWV3cG9ydCA9IHRoaXMuZ2V0Vmlld3BvcnQoYmlhcywgdGhpcy5zY3JvbGxUYXJnZXQpO1xuICAgICAgICB0aGlzLnVwZGF0ZUZvclZpZXdwb3J0KCk7XG4gICAgICAgIGlmICgocmVzdWx0ICYgMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLykgfHwgdmlld3BvcnRDaGFuZ2UpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0TGluZXMoKTtcbiAgICAgICAgaWYgKHRoaXMubGluZUdhcHMubGVuZ3RoIHx8IHRoaXMudmlld3BvcnQudG8gLSB0aGlzLnZpZXdwb3J0LmZyb20gPiAoMjAwMCAvKiBMRy5NYXJnaW4gKi8gPDwgMSkpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpbmVHYXBzKHRoaXMuZW5zdXJlTGluZUdhcHMocmVmcmVzaCA/IFtdIDogdGhpcy5saW5lR2FwcywgdmlldykpO1xuICAgICAgICByZXN1bHQgfD0gdGhpcy5jb21wdXRlVmlzaWJsZVJhbmdlcygpO1xuICAgICAgICBpZiAodGhpcy5tdXN0RW5mb3JjZUN1cnNvckFzc29jKSB7XG4gICAgICAgICAgICB0aGlzLm11c3RFbmZvcmNlQ3Vyc29yQXNzb2MgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgZG9uZSBpbiB0aGUgcmVhZCBzdGFnZSwgYmVjYXVzZSBtb3ZpbmcgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgLy8gdG8gYSBsaW5lIGVuZCBpcyBnb2luZyB0byB0cmlnZ2VyIGEgbGF5b3V0IGFueXdheSwgc28gaXRcbiAgICAgICAgICAgIC8vIGNhbid0IGJlIGEgcHVyZSB3cml0ZS4gSXQgc2hvdWxkIGJlIHJhcmUgdGhhdCBpdCBkb2VzIGFueVxuICAgICAgICAgICAgLy8gd3JpdGluZy5cbiAgICAgICAgICAgIHZpZXcuZG9jVmlldy5lbmZvcmNlQ3Vyc29yQXNzb2MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBnZXQgdmlzaWJsZVRvcCgpIHsgcmV0dXJuIHRoaXMuc2NhbGVyLmZyb21ET00odGhpcy5waXhlbFZpZXdwb3J0LnRvcCk7IH1cbiAgICBnZXQgdmlzaWJsZUJvdHRvbSgpIHsgcmV0dXJuIHRoaXMuc2NhbGVyLmZyb21ET00odGhpcy5waXhlbFZpZXdwb3J0LmJvdHRvbSk7IH1cbiAgICBnZXRWaWV3cG9ydChiaWFzLCBzY3JvbGxUYXJnZXQpIHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGRpdmlkZSBWUC5NYXJnaW4gYmV0d2VlbiB0aGUgdG9wIGFuZCB0aGVcbiAgICAgICAgLy8gYm90dG9tLCBkZXBlbmRpbmcgb24gdGhlIGJpYXMgKHRoZSBjaGFuZ2UgaW4gdmlld3BvcnQgcG9zaXRpb25cbiAgICAgICAgLy8gc2luY2UgdGhlIGxhc3QgdXBkYXRlKS4gSXQnbGwgaG9sZCBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcbiAgICAgICAgbGV0IG1hcmdpblRvcCA9IDAuNSAtIE1hdGgubWF4KC0wLjUsIE1hdGgubWluKDAuNSwgYmlhcyAvIDEwMDAgLyogVlAuTWFyZ2luICovIC8gMikpO1xuICAgICAgICBsZXQgbWFwID0gdGhpcy5oZWlnaHRNYXAsIG9yYWNsZSA9IHRoaXMuaGVpZ2h0T3JhY2xlO1xuICAgICAgICBsZXQgeyB2aXNpYmxlVG9wLCB2aXNpYmxlQm90dG9tIH0gPSB0aGlzO1xuICAgICAgICBsZXQgdmlld3BvcnQgPSBuZXcgVmlld3BvcnQobWFwLmxpbmVBdCh2aXNpYmxlVG9wIC0gbWFyZ2luVG9wICogMTAwMCAvKiBWUC5NYXJnaW4gKi8sIFF1ZXJ5VHlwZS5CeUhlaWdodCwgb3JhY2xlLCAwLCAwKS5mcm9tLCBtYXAubGluZUF0KHZpc2libGVCb3R0b20gKyAoMSAtIG1hcmdpblRvcCkgKiAxMDAwIC8qIFZQLk1hcmdpbiAqLywgUXVlcnlUeXBlLkJ5SGVpZ2h0LCBvcmFjbGUsIDAsIDApLnRvKTtcbiAgICAgICAgLy8gSWYgc2Nyb2xsVGFyZ2V0IGlzIGdpdmVuLCBtYWtlIHN1cmUgdGhlIHZpZXdwb3J0IGluY2x1ZGVzIHRoYXQgcG9zaXRpb25cbiAgICAgICAgaWYgKHNjcm9sbFRhcmdldCkge1xuICAgICAgICAgICAgbGV0IHsgaGVhZCB9ID0gc2Nyb2xsVGFyZ2V0LnJhbmdlO1xuICAgICAgICAgICAgaWYgKGhlYWQgPCB2aWV3cG9ydC5mcm9tIHx8IGhlYWQgPiB2aWV3cG9ydC50bykge1xuICAgICAgICAgICAgICAgIGxldCB2aWV3SGVpZ2h0ID0gTWF0aC5taW4odGhpcy5lZGl0b3JIZWlnaHQsIHRoaXMucGl4ZWxWaWV3cG9ydC5ib3R0b20gLSB0aGlzLnBpeGVsVmlld3BvcnQudG9wKTtcbiAgICAgICAgICAgICAgICBsZXQgYmxvY2sgPSBtYXAubGluZUF0KGhlYWQsIFF1ZXJ5VHlwZS5CeVBvcywgb3JhY2xlLCAwLCAwKSwgdG9wUG9zO1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxUYXJnZXQueSA9PSBcImNlbnRlclwiKVxuICAgICAgICAgICAgICAgICAgICB0b3BQb3MgPSAoYmxvY2sudG9wICsgYmxvY2suYm90dG9tKSAvIDIgLSB2aWV3SGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzY3JvbGxUYXJnZXQueSA9PSBcInN0YXJ0XCIgfHwgc2Nyb2xsVGFyZ2V0LnkgPT0gXCJuZWFyZXN0XCIgJiYgaGVhZCA8IHZpZXdwb3J0LmZyb20pXG4gICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IGJsb2NrLnRvcDtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IGJsb2NrLmJvdHRvbSAtIHZpZXdIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmlld3BvcnQgPSBuZXcgVmlld3BvcnQobWFwLmxpbmVBdCh0b3BQb3MgLSAxMDAwIC8qIFZQLk1hcmdpbiAqLyAvIDIsIFF1ZXJ5VHlwZS5CeUhlaWdodCwgb3JhY2xlLCAwLCAwKS5mcm9tLCBtYXAubGluZUF0KHRvcFBvcyArIHZpZXdIZWlnaHQgKyAxMDAwIC8qIFZQLk1hcmdpbiAqLyAvIDIsIFF1ZXJ5VHlwZS5CeUhlaWdodCwgb3JhY2xlLCAwLCAwKS50byk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXdwb3J0O1xuICAgIH1cbiAgICBtYXBWaWV3cG9ydCh2aWV3cG9ydCwgY2hhbmdlcykge1xuICAgICAgICBsZXQgZnJvbSA9IGNoYW5nZXMubWFwUG9zKHZpZXdwb3J0LmZyb20sIC0xKSwgdG8gPSBjaGFuZ2VzLm1hcFBvcyh2aWV3cG9ydC50bywgMSk7XG4gICAgICAgIHJldHVybiBuZXcgVmlld3BvcnQodGhpcy5oZWlnaHRNYXAubGluZUF0KGZyb20sIFF1ZXJ5VHlwZS5CeVBvcywgdGhpcy5oZWlnaHRPcmFjbGUsIDAsIDApLmZyb20sIHRoaXMuaGVpZ2h0TWFwLmxpbmVBdCh0bywgUXVlcnlUeXBlLkJ5UG9zLCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCkudG8pO1xuICAgIH1cbiAgICAvLyBDaGVja3MgaWYgYSBnaXZlbiB2aWV3cG9ydCBjb3ZlcnMgdGhlIHZpc2libGUgcGFydCBvZiB0aGVcbiAgICAvLyBkb2N1bWVudCBhbmQgbm90IHRvbyBtdWNoIGJleW9uZCB0aGF0LlxuICAgIHZpZXdwb3J0SXNBcHByb3ByaWF0ZSh7IGZyb20sIHRvIH0sIGJpYXMgPSAwKSB7XG4gICAgICAgIGlmICghdGhpcy5pblZpZXcpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbGV0IHsgdG9wIH0gPSB0aGlzLmhlaWdodE1hcC5saW5lQXQoZnJvbSwgUXVlcnlUeXBlLkJ5UG9zLCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCk7XG4gICAgICAgIGxldCB7IGJvdHRvbSB9ID0gdGhpcy5oZWlnaHRNYXAubGluZUF0KHRvLCBRdWVyeVR5cGUuQnlQb3MsIHRoaXMuaGVpZ2h0T3JhY2xlLCAwLCAwKTtcbiAgICAgICAgbGV0IHsgdmlzaWJsZVRvcCwgdmlzaWJsZUJvdHRvbSB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIChmcm9tID09IDAgfHwgdG9wIDw9IHZpc2libGVUb3AgLSBNYXRoLm1heCgxMCAvKiBWUC5NaW5Db3Zlck1hcmdpbiAqLywgTWF0aC5taW4oLWJpYXMsIDI1MCAvKiBWUC5NYXhDb3Zlck1hcmdpbiAqLykpKSAmJlxuICAgICAgICAgICAgKHRvID09IHRoaXMuc3RhdGUuZG9jLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgIGJvdHRvbSA+PSB2aXNpYmxlQm90dG9tICsgTWF0aC5tYXgoMTAgLyogVlAuTWluQ292ZXJNYXJnaW4gKi8sIE1hdGgubWluKGJpYXMsIDI1MCAvKiBWUC5NYXhDb3Zlck1hcmdpbiAqLykpKSAmJlxuICAgICAgICAgICAgKHRvcCA+IHZpc2libGVUb3AgLSAyICogMTAwMCAvKiBWUC5NYXJnaW4gKi8gJiYgYm90dG9tIDwgdmlzaWJsZUJvdHRvbSArIDIgKiAxMDAwIC8qIFZQLk1hcmdpbiAqLyk7XG4gICAgfVxuICAgIG1hcExpbmVHYXBzKGdhcHMsIGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKCFnYXBzLmxlbmd0aCB8fCBjaGFuZ2VzLmVtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIGdhcHM7XG4gICAgICAgIGxldCBtYXBwZWQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZ2FwIG9mIGdhcHMpXG4gICAgICAgICAgICBpZiAoIWNoYW5nZXMudG91Y2hlc1JhbmdlKGdhcC5mcm9tLCBnYXAudG8pKVxuICAgICAgICAgICAgICAgIG1hcHBlZC5wdXNoKG5ldyBMaW5lR2FwKGNoYW5nZXMubWFwUG9zKGdhcC5mcm9tKSwgY2hhbmdlcy5tYXBQb3MoZ2FwLnRvKSwgZ2FwLnNpemUpKTtcbiAgICAgICAgcmV0dXJuIG1hcHBlZDtcbiAgICB9XG4gICAgLy8gQ29tcHV0ZXMgcG9zaXRpb25zIGluIHRoZSB2aWV3cG9ydCB3aGVyZSB0aGUgc3RhcnQgb3IgZW5kIG9mIGFcbiAgICAvLyBsaW5lIHNob3VsZCBiZSBoaWRkZW4sIHRyeWluZyB0byByZXVzZSBleGlzdGluZyBsaW5lIGdhcHMgd2hlblxuICAgIC8vIGFwcHJvcHJpYXRlIHRvIGF2b2lkIHVubmVjY2VzYXJ5IHJlZHJhd3MuXG4gICAgLy8gVXNlcyBjcnVkZSBjaGFyYWN0ZXItY291bnRpbmcgZm9yIHRoZSBwb3NpdGlvbmluZyBhbmQgc2l6aW5nLFxuICAgIC8vIHNpbmNlIGFjdHVhbCBET00gY29vcmRpbmF0ZXMgYXJlbid0IGFsd2F5cyBhdmFpbGFibGUgYW5kXG4gICAgLy8gcHJlZGljdGFibGUuIFJlbGllcyBvbiBnZW5lcm91cyBtYXJnaW5zIChzZWUgTEcuTWFyZ2luKSB0byBoaWRlXG4gICAgLy8gdGhlIGFydGlmYWN0cyB0aGlzIG1pZ2h0IHByb2R1Y2UgZnJvbSB0aGUgdXNlci5cbiAgICBlbnN1cmVMaW5lR2FwcyhjdXJyZW50LCBtYXlNZWFzdXJlKSB7XG4gICAgICAgIGxldCB3cmFwcGluZyA9IHRoaXMuaGVpZ2h0T3JhY2xlLmxpbmVXcmFwcGluZztcbiAgICAgICAgbGV0IG1hcmdpbiA9IHdyYXBwaW5nID8gMTAwMDAgLyogTEcuTWFyZ2luV3JhcCAqLyA6IDIwMDAgLyogTEcuTWFyZ2luICovLCBoYWxmTWFyZ2luID0gbWFyZ2luID4+IDEsIGRvdWJsZU1hcmdpbiA9IG1hcmdpbiA8PCAxO1xuICAgICAgICAvLyBUaGUgbm9uLXdyYXBwaW5nIGxvZ2ljIHdvbid0IHdvcmsgYXQgYWxsIGluIHByZWRvbWluYW50bHkgcmlnaHQtdG8tbGVmdCB0ZXh0LlxuICAgICAgICBpZiAodGhpcy5kZWZhdWx0VGV4dERpcmVjdGlvbiAhPSBEaXJlY3Rpb24uTFRSICYmICF3cmFwcGluZylcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgbGV0IGdhcHMgPSBbXTtcbiAgICAgICAgbGV0IGFkZEdhcCA9IChmcm9tLCB0bywgbGluZSwgc3RydWN0dXJlKSA9PiB7XG4gICAgICAgICAgICBpZiAodG8gLSBmcm9tIDwgaGFsZk1hcmdpbilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgc2VsID0gdGhpcy5zdGF0ZS5zZWxlY3Rpb24ubWFpbiwgYXZvaWQgPSBbc2VsLmZyb21dO1xuICAgICAgICAgICAgaWYgKCFzZWwuZW1wdHkpXG4gICAgICAgICAgICAgICAgYXZvaWQucHVzaChzZWwudG8pO1xuICAgICAgICAgICAgZm9yIChsZXQgcG9zIG9mIGF2b2lkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvcyA+IGZyb20gJiYgcG9zIDwgdG8pIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkR2FwKGZyb20sIHBvcyAtIDEwIC8qIExHLlNlbGVjdGlvbk1hcmdpbiAqLywgbGluZSwgc3RydWN0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkR2FwKHBvcyArIDEwIC8qIExHLlNlbGVjdGlvbk1hcmdpbiAqLywgdG8sIGxpbmUsIHN0cnVjdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZ2FwID0gZmluZChjdXJyZW50LCBnYXAgPT4gZ2FwLmZyb20gPj0gbGluZS5mcm9tICYmIGdhcC50byA8PSBsaW5lLnRvICYmXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoZ2FwLmZyb20gLSBmcm9tKSA8IGhhbGZNYXJnaW4gJiYgTWF0aC5hYnMoZ2FwLnRvIC0gdG8pIDwgaGFsZk1hcmdpbiAmJlxuICAgICAgICAgICAgICAgICFhdm9pZC5zb21lKHBvcyA9PiBnYXAuZnJvbSA8IHBvcyAmJiBnYXAudG8gPiBwb3MpKTtcbiAgICAgICAgICAgIGlmICghZ2FwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBzY3JvbGxpbmcgZG93biwgc25hcCBnYXAgZW5kcyB0byBsaW5lIHN0YXJ0cyB0byBhdm9pZCBzaGlmdHMgaW4gd3JhcHBpbmdcbiAgICAgICAgICAgICAgICBpZiAodG8gPCBsaW5lLnRvICYmIG1heU1lYXN1cmUgJiYgd3JhcHBpbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgbWF5TWVhc3VyZS52aXNpYmxlUmFuZ2VzLnNvbWUociA9PiByLmZyb20gPD0gdG8gJiYgci50byA+PSB0bykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmVTdGFydCA9IG1heU1lYXN1cmUubW92ZVRvTGluZUJvdW5kYXJ5KEVkaXRvclNlbGVjdGlvbi5jdXJzb3IodG8pLCBmYWxzZSwgdHJ1ZSkuaGVhZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVTdGFydCA+IGZyb20pXG4gICAgICAgICAgICAgICAgICAgICAgICB0byA9IGxpbmVTdGFydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2FwID0gbmV3IExpbmVHYXAoZnJvbSwgdG8sIHRoaXMuZ2FwU2l6ZShsaW5lLCBmcm9tLCB0bywgc3RydWN0dXJlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnYXBzLnB1c2goZ2FwKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgbGluZSBvZiB0aGlzLnZpZXdwb3J0TGluZXMpIHtcbiAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA8IGRvdWJsZU1hcmdpbilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBzdHJ1Y3R1cmUgPSBsaW5lU3RydWN0dXJlKGxpbmUuZnJvbSwgbGluZS50bywgdGhpcy5zdGF0ZURlY28pO1xuICAgICAgICAgICAgaWYgKHN0cnVjdHVyZS50b3RhbCA8IGRvdWJsZU1hcmdpbilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnNjcm9sbFRhcmdldCA/IHRoaXMuc2Nyb2xsVGFyZ2V0LnJhbmdlLmhlYWQgOiBudWxsO1xuICAgICAgICAgICAgbGV0IHZpZXdGcm9tLCB2aWV3VG87XG4gICAgICAgICAgICBpZiAod3JhcHBpbmcpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFyZ2luSGVpZ2h0ID0gKG1hcmdpbiAvIHRoaXMuaGVpZ2h0T3JhY2xlLmxpbmVMZW5ndGgpICogdGhpcy5oZWlnaHRPcmFjbGUubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBsZXQgdG9wLCBib3Q7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRGcmFjID0gZmluZEZyYWN0aW9uKHN0cnVjdHVyZSwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNwYWNlRnJhYyA9ICgodGhpcy52aXNpYmxlQm90dG9tIC0gdGhpcy52aXNpYmxlVG9wKSAvIDIgKyBtYXJnaW5IZWlnaHQpIC8gbGluZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IHRhcmdldEZyYWMgLSBzcGFjZUZyYWM7XG4gICAgICAgICAgICAgICAgICAgIGJvdCA9IHRhcmdldEZyYWMgKyBzcGFjZUZyYWM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSAodGhpcy52aXNpYmxlVG9wIC0gbGluZS50b3AgLSBtYXJnaW5IZWlnaHQpIC8gbGluZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGJvdCA9ICh0aGlzLnZpc2libGVCb3R0b20gLSBsaW5lLnRvcCArIG1hcmdpbkhlaWdodCkgLyBsaW5lLmhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmlld0Zyb20gPSBmaW5kUG9zaXRpb24oc3RydWN0dXJlLCB0b3ApO1xuICAgICAgICAgICAgICAgIHZpZXdUbyA9IGZpbmRQb3NpdGlvbihzdHJ1Y3R1cmUsIGJvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdG90YWxXaWR0aCA9IHN0cnVjdHVyZS50b3RhbCAqIHRoaXMuaGVpZ2h0T3JhY2xlLmNoYXJXaWR0aDtcbiAgICAgICAgICAgICAgICBsZXQgbWFyZ2luV2lkdGggPSBtYXJnaW4gKiB0aGlzLmhlaWdodE9yYWNsZS5jaGFyV2lkdGg7XG4gICAgICAgICAgICAgICAgbGV0IGxlZnQsIHJpZ2h0O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0RnJhYyA9IGZpbmRGcmFjdGlvbihzdHJ1Y3R1cmUsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGFjZUZyYWMgPSAoKHRoaXMucGl4ZWxWaWV3cG9ydC5yaWdodCAtIHRoaXMucGl4ZWxWaWV3cG9ydC5sZWZ0KSAvIDIgKyBtYXJnaW5XaWR0aCkgLyB0b3RhbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gdGFyZ2V0RnJhYyAtIHNwYWNlRnJhYztcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSB0YXJnZXRGcmFjICsgc3BhY2VGcmFjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9ICh0aGlzLnBpeGVsVmlld3BvcnQubGVmdCAtIG1hcmdpbldpZHRoKSAvIHRvdGFsV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gKHRoaXMucGl4ZWxWaWV3cG9ydC5yaWdodCArIG1hcmdpbldpZHRoKSAvIHRvdGFsV2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXdGcm9tID0gZmluZFBvc2l0aW9uKHN0cnVjdHVyZSwgbGVmdCk7XG4gICAgICAgICAgICAgICAgdmlld1RvID0gZmluZFBvc2l0aW9uKHN0cnVjdHVyZSwgcmlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZpZXdGcm9tID4gbGluZS5mcm9tKVxuICAgICAgICAgICAgICAgIGFkZEdhcChsaW5lLmZyb20sIHZpZXdGcm9tLCBsaW5lLCBzdHJ1Y3R1cmUpO1xuICAgICAgICAgICAgaWYgKHZpZXdUbyA8IGxpbmUudG8pXG4gICAgICAgICAgICAgICAgYWRkR2FwKHZpZXdUbywgbGluZS50bywgbGluZSwgc3RydWN0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2FwcztcbiAgICB9XG4gICAgZ2FwU2l6ZShsaW5lLCBmcm9tLCB0bywgc3RydWN0dXJlKSB7XG4gICAgICAgIGxldCBmcmFjdGlvbiA9IGZpbmRGcmFjdGlvbihzdHJ1Y3R1cmUsIHRvKSAtIGZpbmRGcmFjdGlvbihzdHJ1Y3R1cmUsIGZyb20pO1xuICAgICAgICBpZiAodGhpcy5oZWlnaHRPcmFjbGUubGluZVdyYXBwaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gbGluZS5oZWlnaHQgKiBmcmFjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJ1Y3R1cmUudG90YWwgKiB0aGlzLmhlaWdodE9yYWNsZS5jaGFyV2lkdGggKiBmcmFjdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVMaW5lR2FwcyhnYXBzKSB7XG4gICAgICAgIGlmICghTGluZUdhcC5zYW1lKGdhcHMsIHRoaXMubGluZUdhcHMpKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVHYXBzID0gZ2FwcztcbiAgICAgICAgICAgIHRoaXMubGluZUdhcERlY28gPSBEZWNvcmF0aW9uLnNldChnYXBzLm1hcChnYXAgPT4gZ2FwLmRyYXcodGhpcywgdGhpcy5oZWlnaHRPcmFjbGUubGluZVdyYXBwaW5nKSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXB1dGVWaXNpYmxlUmFuZ2VzKCkge1xuICAgICAgICBsZXQgZGVjbyA9IHRoaXMuc3RhdGVEZWNvO1xuICAgICAgICBpZiAodGhpcy5saW5lR2Fwcy5sZW5ndGgpXG4gICAgICAgICAgICBkZWNvID0gZGVjby5jb25jYXQodGhpcy5saW5lR2FwRGVjbyk7XG4gICAgICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICAgICAgUmFuZ2VTZXQuc3BhbnMoZGVjbywgdGhpcy52aWV3cG9ydC5mcm9tLCB0aGlzLnZpZXdwb3J0LnRvLCB7XG4gICAgICAgICAgICBzcGFuKGZyb20sIHRvKSB7IHJhbmdlcy5wdXNoKHsgZnJvbSwgdG8gfSk7IH0sXG4gICAgICAgICAgICBwb2ludCgpIHsgfVxuICAgICAgICB9LCAyMCk7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gcmFuZ2VzLmxlbmd0aCAhPSB0aGlzLnZpc2libGVSYW5nZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLnZpc2libGVSYW5nZXMuc29tZSgociwgaSkgPT4gci5mcm9tICE9IHJhbmdlc1tpXS5mcm9tIHx8IHIudG8gIT0gcmFuZ2VzW2ldLnRvKTtcbiAgICAgICAgdGhpcy52aXNpYmxlUmFuZ2VzID0gcmFuZ2VzO1xuICAgICAgICByZXR1cm4gY2hhbmdlZCA/IDQgLyogVXBkYXRlRmxhZy5WaWV3cG9ydCAqLyA6IDA7XG4gICAgfVxuICAgIGxpbmVCbG9ja0F0KHBvcykge1xuICAgICAgICByZXR1cm4gKHBvcyA+PSB0aGlzLnZpZXdwb3J0LmZyb20gJiYgcG9zIDw9IHRoaXMudmlld3BvcnQudG8gJiYgdGhpcy52aWV3cG9ydExpbmVzLmZpbmQoYiA9PiBiLmZyb20gPD0gcG9zICYmIGIudG8gPj0gcG9zKSkgfHxcbiAgICAgICAgICAgIHNjYWxlQmxvY2sodGhpcy5oZWlnaHRNYXAubGluZUF0KHBvcywgUXVlcnlUeXBlLkJ5UG9zLCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCksIHRoaXMuc2NhbGVyKTtcbiAgICB9XG4gICAgbGluZUJsb2NrQXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBzY2FsZUJsb2NrKHRoaXMuaGVpZ2h0TWFwLmxpbmVBdCh0aGlzLnNjYWxlci5mcm9tRE9NKGhlaWdodCksIFF1ZXJ5VHlwZS5CeUhlaWdodCwgdGhpcy5oZWlnaHRPcmFjbGUsIDAsIDApLCB0aGlzLnNjYWxlcik7XG4gICAgfVxuICAgIHNjcm9sbEFuY2hvckF0KHNjcm9sbFRvcCkge1xuICAgICAgICBsZXQgYmxvY2sgPSB0aGlzLmxpbmVCbG9ja0F0SGVpZ2h0KHNjcm9sbFRvcCArIDgpO1xuICAgICAgICByZXR1cm4gYmxvY2suZnJvbSA+PSB0aGlzLnZpZXdwb3J0LmZyb20gfHwgdGhpcy52aWV3cG9ydExpbmVzWzBdLnRvcCAtIHNjcm9sbFRvcCA+IDIwMCA/IGJsb2NrIDogdGhpcy52aWV3cG9ydExpbmVzWzBdO1xuICAgIH1cbiAgICBlbGVtZW50QXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBzY2FsZUJsb2NrKHRoaXMuaGVpZ2h0TWFwLmJsb2NrQXQodGhpcy5zY2FsZXIuZnJvbURPTShoZWlnaHQpLCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCksIHRoaXMuc2NhbGVyKTtcbiAgICB9XG4gICAgZ2V0IGRvY0hlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVyLnRvRE9NKHRoaXMuaGVpZ2h0TWFwLmhlaWdodCk7XG4gICAgfVxuICAgIGdldCBjb250ZW50SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NIZWlnaHQgKyB0aGlzLnBhZGRpbmdUb3AgKyB0aGlzLnBhZGRpbmdCb3R0b207XG4gICAgfVxufVxuY2xhc3MgVmlld3BvcnQge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICB9XG59XG5mdW5jdGlvbiBsaW5lU3RydWN0dXJlKGZyb20sIHRvLCBzdGF0ZURlY28pIHtcbiAgICBsZXQgcmFuZ2VzID0gW10sIHBvcyA9IGZyb20sIHRvdGFsID0gMDtcbiAgICBSYW5nZVNldC5zcGFucyhzdGF0ZURlY28sIGZyb20sIHRvLCB7XG4gICAgICAgIHNwYW4oKSB7IH0sXG4gICAgICAgIHBvaW50KGZyb20sIHRvKSB7XG4gICAgICAgICAgICBpZiAoZnJvbSA+IHBvcykge1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKHsgZnJvbTogcG9zLCB0bzogZnJvbSB9KTtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBmcm9tIC0gcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zID0gdG87XG4gICAgICAgIH1cbiAgICB9LCAyMCk7IC8vIFdlJ3JlIG9ubHkgaW50ZXJlc3RlZCBpbiBjb2xsYXBzZWQgcmFuZ2VzIG9mIGEgc2lnbmlmaWNhbnQgc2l6ZVxuICAgIGlmIChwb3MgPCB0bykge1xuICAgICAgICByYW5nZXMucHVzaCh7IGZyb206IHBvcywgdG8gfSk7XG4gICAgICAgIHRvdGFsICs9IHRvIC0gcG9zO1xuICAgIH1cbiAgICByZXR1cm4geyB0b3RhbCwgcmFuZ2VzIH07XG59XG5mdW5jdGlvbiBmaW5kUG9zaXRpb24oeyB0b3RhbCwgcmFuZ2VzIH0sIHJhdGlvKSB7XG4gICAgaWYgKHJhdGlvIDw9IDApXG4gICAgICAgIHJldHVybiByYW5nZXNbMF0uZnJvbTtcbiAgICBpZiAocmF0aW8gPj0gMSlcbiAgICAgICAgcmV0dXJuIHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV0udG87XG4gICAgbGV0IGRpc3QgPSBNYXRoLmZsb29yKHRvdGFsICogcmF0aW8pO1xuICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSByYW5nZXNbaV0sIHNpemUgPSB0byAtIGZyb207XG4gICAgICAgIGlmIChkaXN0IDw9IHNpemUpXG4gICAgICAgICAgICByZXR1cm4gZnJvbSArIGRpc3Q7XG4gICAgICAgIGRpc3QgLT0gc2l6ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kRnJhY3Rpb24oc3RydWN0dXJlLCBwb3MpIHtcbiAgICBsZXQgY291bnRlZCA9IDA7XG4gICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIHN0cnVjdHVyZS5yYW5nZXMpIHtcbiAgICAgICAgaWYgKHBvcyA8PSB0bykge1xuICAgICAgICAgICAgY291bnRlZCArPSBwb3MgLSBmcm9tO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY291bnRlZCArPSB0byAtIGZyb207XG4gICAgfVxuICAgIHJldHVybiBjb3VudGVkIC8gc3RydWN0dXJlLnRvdGFsO1xufVxuZnVuY3Rpb24gZmluZChhcnJheSwgZikge1xuICAgIGZvciAobGV0IHZhbCBvZiBhcnJheSlcbiAgICAgICAgaWYgKGYodmFsKSlcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8vIERvbid0IHNjYWxlIHdoZW4gdGhlIGRvY3VtZW50IGhlaWdodCBpcyB3aXRoaW4gdGhlIHJhbmdlIG9mIHdoYXRcbi8vIHRoZSBET00gY2FuIGhhbmRsZS5cbmNvbnN0IElkU2NhbGVyID0ge1xuICAgIHRvRE9NKG4pIHsgcmV0dXJuIG47IH0sXG4gICAgZnJvbURPTShuKSB7IHJldHVybiBuOyB9LFxuICAgIHNjYWxlOiAxXG59O1xuLy8gV2hlbiB0aGUgaGVpZ2h0IGlzIHRvbyBiaWcgKD4gVlAuTWF4RE9NSGVpZ2h0KSwgc2NhbGUgZG93biB0aGVcbi8vIHJlZ2lvbnMgb3V0c2lkZSB0aGUgdmlld3BvcnRzIHNvIHRoYXQgdGhlIHRvdGFsIGhlaWdodCBpc1xuLy8gVlAuTWF4RE9NSGVpZ2h0LlxuY2xhc3MgQmlnU2NhbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcmFjbGUsIGhlaWdodE1hcCwgdmlld3BvcnRzKSB7XG4gICAgICAgIGxldCB2cEhlaWdodCA9IDAsIGJhc2UgPSAwLCBkb21CYXNlID0gMDtcbiAgICAgICAgdGhpcy52aWV3cG9ydHMgPSB2aWV3cG9ydHMubWFwKCh7IGZyb20sIHRvIH0pID0+IHtcbiAgICAgICAgICAgIGxldCB0b3AgPSBoZWlnaHRNYXAubGluZUF0KGZyb20sIFF1ZXJ5VHlwZS5CeVBvcywgb3JhY2xlLCAwLCAwKS50b3A7XG4gICAgICAgICAgICBsZXQgYm90dG9tID0gaGVpZ2h0TWFwLmxpbmVBdCh0bywgUXVlcnlUeXBlLkJ5UG9zLCBvcmFjbGUsIDAsIDApLmJvdHRvbTtcbiAgICAgICAgICAgIHZwSGVpZ2h0ICs9IGJvdHRvbSAtIHRvcDtcbiAgICAgICAgICAgIHJldHVybiB7IGZyb20sIHRvLCB0b3AsIGJvdHRvbSwgZG9tVG9wOiAwLCBkb21Cb3R0b206IDAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2NhbGUgPSAoNzAwMDAwMCAvKiBWUC5NYXhET01IZWlnaHQgKi8gLSB2cEhlaWdodCkgLyAoaGVpZ2h0TWFwLmhlaWdodCAtIHZwSGVpZ2h0KTtcbiAgICAgICAgZm9yIChsZXQgb2JqIG9mIHRoaXMudmlld3BvcnRzKSB7XG4gICAgICAgICAgICBvYmouZG9tVG9wID0gZG9tQmFzZSArIChvYmoudG9wIC0gYmFzZSkgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgZG9tQmFzZSA9IG9iai5kb21Cb3R0b20gPSBvYmouZG9tVG9wICsgKG9iai5ib3R0b20gLSBvYmoudG9wKTtcbiAgICAgICAgICAgIGJhc2UgPSBvYmouYm90dG9tO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvRE9NKG4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGJhc2UgPSAwLCBkb21CYXNlID0gMDs7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZwID0gaSA8IHRoaXMudmlld3BvcnRzLmxlbmd0aCA/IHRoaXMudmlld3BvcnRzW2ldIDogbnVsbDtcbiAgICAgICAgICAgIGlmICghdnAgfHwgbiA8IHZwLnRvcClcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tQmFzZSArIChuIC0gYmFzZSkgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgaWYgKG4gPD0gdnAuYm90dG9tKVxuICAgICAgICAgICAgICAgIHJldHVybiB2cC5kb21Ub3AgKyAobiAtIHZwLnRvcCk7XG4gICAgICAgICAgICBiYXNlID0gdnAuYm90dG9tO1xuICAgICAgICAgICAgZG9tQmFzZSA9IHZwLmRvbUJvdHRvbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmcm9tRE9NKG4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGJhc2UgPSAwLCBkb21CYXNlID0gMDs7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZwID0gaSA8IHRoaXMudmlld3BvcnRzLmxlbmd0aCA/IHRoaXMudmlld3BvcnRzW2ldIDogbnVsbDtcbiAgICAgICAgICAgIGlmICghdnAgfHwgbiA8IHZwLmRvbVRvcClcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZSArIChuIC0gZG9tQmFzZSkgLyB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgaWYgKG4gPD0gdnAuZG9tQm90dG9tKVxuICAgICAgICAgICAgICAgIHJldHVybiB2cC50b3AgKyAobiAtIHZwLmRvbVRvcCk7XG4gICAgICAgICAgICBiYXNlID0gdnAuYm90dG9tO1xuICAgICAgICAgICAgZG9tQmFzZSA9IHZwLmRvbUJvdHRvbTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNjYWxlQmxvY2soYmxvY2ssIHNjYWxlcikge1xuICAgIGlmIChzY2FsZXIuc2NhbGUgPT0gMSlcbiAgICAgICAgcmV0dXJuIGJsb2NrO1xuICAgIGxldCBiVG9wID0gc2NhbGVyLnRvRE9NKGJsb2NrLnRvcCksIGJCb3R0b20gPSBzY2FsZXIudG9ET00oYmxvY2suYm90dG9tKTtcbiAgICByZXR1cm4gbmV3IEJsb2NrSW5mbyhibG9jay5mcm9tLCBibG9jay5sZW5ndGgsIGJUb3AsIGJCb3R0b20gLSBiVG9wLCBBcnJheS5pc0FycmF5KGJsb2NrLl9jb250ZW50KSA/IGJsb2NrLl9jb250ZW50Lm1hcChiID0+IHNjYWxlQmxvY2soYiwgc2NhbGVyKSkgOiBibG9jay5fY29udGVudCk7XG59XG5cbmNvbnN0IHRoZW1lID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7IGNvbWJpbmU6IHN0cnMgPT4gc3Rycy5qb2luKFwiIFwiKSB9KTtcbmNvbnN0IGRhcmtUaGVtZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLmluZGV4T2YodHJ1ZSkgPiAtMSB9KTtcbmNvbnN0IGJhc2VUaGVtZUlEID0gLypAX19QVVJFX18qL1N0eWxlTW9kdWxlLm5ld05hbWUoKSwgYmFzZUxpZ2h0SUQgPSAvKkBfX1BVUkVfXyovU3R5bGVNb2R1bGUubmV3TmFtZSgpLCBiYXNlRGFya0lEID0gLypAX19QVVJFX18qL1N0eWxlTW9kdWxlLm5ld05hbWUoKTtcbmNvbnN0IGxpZ2h0RGFya0lEcyA9IHsgXCImbGlnaHRcIjogXCIuXCIgKyBiYXNlTGlnaHRJRCwgXCImZGFya1wiOiBcIi5cIiArIGJhc2VEYXJrSUQgfTtcbmZ1bmN0aW9uIGJ1aWxkVGhlbWUobWFpbiwgc3BlYywgc2NvcGVzKSB7XG4gICAgcmV0dXJuIG5ldyBTdHlsZU1vZHVsZShzcGVjLCB7XG4gICAgICAgIGZpbmlzaChzZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAvJi8udGVzdChzZWwpID8gc2VsLnJlcGxhY2UoLyZcXHcqLywgbSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG0gPT0gXCImXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWluO1xuICAgICAgICAgICAgICAgIGlmICghc2NvcGVzIHx8ICFzY29wZXNbbV0pXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBVbnN1cHBvcnRlZCBzZWxlY3RvcjogJHttfWApO1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZXNbbV07XG4gICAgICAgICAgICB9KSA6IG1haW4gKyBcIiBcIiArIHNlbDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuY29uc3QgYmFzZVRoZW1lJDEgPSAvKkBfX1BVUkVfXyovYnVpbGRUaGVtZShcIi5cIiArIGJhc2VUaGVtZUlELCB7XG4gICAgXCImXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmUgIWltcG9ydGFudFwiLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBcIiYuY20tZm9jdXNlZFwiOiB7XG4gICAgICAgICAgICAvLyBQcm92aWRlIGEgc2ltcGxlIGRlZmF1bHQgb3V0bGluZSB0byBtYWtlIHN1cmUgYSBmb2N1c2VkXG4gICAgICAgICAgICAvLyBlZGl0b3IgaXMgdmlzdWFsbHkgZGlzdGluY3QuIENhbid0IGxlYXZlIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHRoYXQgd2lsbCBhcHBseSB0byB0aGUgY29udGVudCBlbGVtZW50LCB3aGljaCBpc1xuICAgICAgICAgICAgLy8gaW5zaWRlIHRoZSBzY3JvbGxhYmxlIGNvbnRhaW5lciBhbmQgZG9lc24ndCBpbmNsdWRlIHRoZVxuICAgICAgICAgICAgLy8gZ3V0dGVycy4gV2UgYWxzbyBjYW4ndCB1c2UgYW4gJ2F1dG8nIG91dGxpbmUsIHNpbmNlIHRob3NlXG4gICAgICAgICAgICAvLyBhcmUsIGZvciBzb21lIHJlYXNvbiwgZHJhd24gYmVoaW5kIHRoZSBlbGVtZW50IGNvbnRlbnQsIHdoaWNoXG4gICAgICAgICAgICAvLyB3aWxsIGNhdXNlIHRoaW5ncyBsaWtlIHRoZSBhY3RpdmUgbGluZSBiYWNrZ3JvdW5kIHRvIGNvdmVyXG4gICAgICAgICAgICAvLyB0aGUgb3V0bGluZSAoIzI5NykuXG4gICAgICAgICAgICBvdXRsaW5lOiBcIjFweCBkb3R0ZWQgIzIxMjEyMVwiXG4gICAgICAgIH0sXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleCAhaW1wb3J0YW50XCIsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCJcbiAgICB9LFxuICAgIFwiLmNtLXNjcm9sbGVyXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4ICFpbXBvcnRhbnRcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJmbGV4LXN0YXJ0ICFpbXBvcnRhbnRcIixcbiAgICAgICAgZm9udEZhbWlseTogXCJtb25vc3BhY2VcIixcbiAgICAgICAgbGluZUhlaWdodDogMS40LFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBvdmVyZmxvd1g6IFwiYXV0b1wiLFxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICB6SW5kZXg6IDBcbiAgICB9LFxuICAgIFwiLmNtLWNvbnRlbnRcIjoge1xuICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgIGZsZXhHcm93OiAyLFxuICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlXCIsXG4gICAgICAgIHdvcmRXcmFwOiBcIm5vcm1hbFwiLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBtaW5IZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBwYWRkaW5nOiBcIjRweCAwXCIsXG4gICAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgICBcIiZbY29udGVudGVkaXRhYmxlPXRydWVdXCI6IHtcbiAgICAgICAgICAgIFdlYmtpdFVzZXJNb2RpZnk6IFwicmVhZC13cml0ZS1wbGFpbnRleHQtb25seVwiLFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcIi5jbS1saW5lV3JhcHBpbmdcIjoge1xuICAgICAgICB3aGl0ZVNwYWNlX2ZhbGxiYWNrOiBcInByZS13cmFwXCIsXG4gICAgICAgIHdoaXRlU3BhY2U6IFwiYnJlYWstc3BhY2VzXCIsXG4gICAgICAgIHdvcmRCcmVhazogXCJicmVhay13b3JkXCIsXG4gICAgICAgIG92ZXJmbG93V3JhcDogXCJhbnl3aGVyZVwiLFxuICAgICAgICBmbGV4U2hyaW5rOiAxXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tY29udGVudFwiOiB7IGNhcmV0Q29sb3I6IFwiYmxhY2tcIiB9LFxuICAgIFwiJmRhcmsgLmNtLWNvbnRlbnRcIjogeyBjYXJldENvbG9yOiBcIndoaXRlXCIgfSxcbiAgICBcIi5jbS1saW5lXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICBwYWRkaW5nOiBcIjAgMnB4IDAgNnB4XCJcbiAgICB9LFxuICAgIFwiLmNtLWxheWVyXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBjb250YWluOiBcInNpemUgc3R5bGVcIixcbiAgICAgICAgXCImID4gKlwiOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1zZWxlY3Rpb25CYWNrZ3JvdW5kXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZDlkOWQ5XCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLXNlbGVjdGlvbkJhY2tncm91bmRcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiMyMjJcIlxuICAgIH0sXG4gICAgXCImbGlnaHQuY20tZm9jdXNlZCA+IC5jbS1zY3JvbGxlciA+IC5jbS1zZWxlY3Rpb25MYXllciAuY20tc2VsZWN0aW9uQmFja2dyb3VuZFwiOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2Q3ZDRmMFwiXG4gICAgfSxcbiAgICBcIiZkYXJrLmNtLWZvY3VzZWQgPiAuY20tc2Nyb2xsZXIgPiAuY20tc2VsZWN0aW9uTGF5ZXIgLmNtLXNlbGVjdGlvbkJhY2tncm91bmRcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiMyMzNcIlxuICAgIH0sXG4gICAgXCIuY20tY3Vyc29yTGF5ZXJcIjoge1xuICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIlxuICAgIH0sXG4gICAgXCImLmNtLWZvY3VzZWQgPiAuY20tc2Nyb2xsZXIgPiAuY20tY3Vyc29yTGF5ZXJcIjoge1xuICAgICAgICBhbmltYXRpb246IFwic3RlcHMoMSkgY20tYmxpbmsgMS4ycyBpbmZpbml0ZVwiXG4gICAgfSxcbiAgICAvLyBUd28gYW5pbWF0aW9ucyBkZWZpbmVkIHNvIHRoYXQgd2UgY2FuIHN3aXRjaCBiZXR3ZWVuIHRoZW0gdG9cbiAgICAvLyByZXN0YXJ0IHRoZSBhbmltYXRpb24gd2l0aG91dCBmb3JjaW5nIGFub3RoZXIgc3R5bGVcbiAgICAvLyByZWNvbXB1dGF0aW9uLlxuICAgIFwiQGtleWZyYW1lcyBjbS1ibGlua1wiOiB7IFwiMCVcIjoge30sIFwiNTAlXCI6IHsgb3BhY2l0eTogMCB9LCBcIjEwMCVcIjoge30gfSxcbiAgICBcIkBrZXlmcmFtZXMgY20tYmxpbmsyXCI6IHsgXCIwJVwiOiB7fSwgXCI1MCVcIjogeyBvcGFjaXR5OiAwIH0sIFwiMTAwJVwiOiB7fSB9LFxuICAgIFwiLmNtLWN1cnNvciwgLmNtLWRyb3BDdXJzb3JcIjoge1xuICAgICAgICBib3JkZXJMZWZ0OiBcIjEuMnB4IHNvbGlkIGJsYWNrXCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLTAuNnB4XCIsXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgIH0sXG4gICAgXCIuY20tY3Vyc29yXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLWN1cnNvclwiOiB7XG4gICAgICAgIGJvcmRlckxlZnRDb2xvcjogXCIjNDQ0XCJcbiAgICB9LFxuICAgIFwiLmNtLWRyb3BDdXJzb3JcIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiXG4gICAgfSxcbiAgICBcIiYuY20tZm9jdXNlZCA+IC5jbS1zY3JvbGxlciA+IC5jbS1jdXJzb3JMYXllciAuY20tY3Vyc29yXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tYWN0aXZlTGluZVwiOiB7IGJhY2tncm91bmRDb2xvcjogXCIjY2NlZWZmNDRcIiB9LFxuICAgIFwiJmRhcmsgLmNtLWFjdGl2ZUxpbmVcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiIzk5ZWVmZjMzXCIgfSxcbiAgICBcIiZsaWdodCAuY20tc3BlY2lhbENoYXJcIjogeyBjb2xvcjogXCJyZWRcIiB9LFxuICAgIFwiJmRhcmsgLmNtLXNwZWNpYWxDaGFyXCI6IHsgY29sb3I6IFwiI2Y3OFwiIH0sXG4gICAgXCIuY20tZ3V0dGVyc1wiOiB7XG4gICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBpbnNldElubGluZVN0YXJ0OiAwLFxuICAgICAgICB6SW5kZXg6IDIwMFxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLWd1dHRlcnNcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y1ZjVmNVwiLFxuICAgICAgICBjb2xvcjogXCIjNmM2YzZjXCIsXG4gICAgICAgIGJvcmRlclJpZ2h0OiBcIjFweCBzb2xpZCAjZGRkXCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLWd1dHRlcnNcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMzMzMzOFwiLFxuICAgICAgICBjb2xvcjogXCIjY2NjXCJcbiAgICB9LFxuICAgIFwiLmNtLWd1dHRlclwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleCAhaW1wb3J0YW50XCIsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIG1pbkhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgfSxcbiAgICBcIi5jbS1ndXR0ZXJFbGVtZW50XCI6IHtcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIlxuICAgIH0sXG4gICAgXCIuY20tbGluZU51bWJlcnMgLmNtLWd1dHRlckVsZW1lbnRcIjoge1xuICAgICAgICBwYWRkaW5nOiBcIjAgM3B4IDAgNXB4XCIsXG4gICAgICAgIG1pbldpZHRoOiBcIjIwcHhcIixcbiAgICAgICAgdGV4dEFsaWduOiBcInJpZ2h0XCIsXG4gICAgICAgIHdoaXRlU3BhY2U6IFwibm93cmFwXCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1hY3RpdmVMaW5lR3V0dGVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNlMmYyZmZcIlxuICAgIH0sXG4gICAgXCImZGFyayAuY20tYWN0aXZlTGluZUd1dHRlclwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMjIyMjI3XCJcbiAgICB9LFxuICAgIFwiLmNtLXBhbmVsc1wiOiB7XG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIHBvc2l0aW9uOiBcInN0aWNreVwiLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICByaWdodDogMFxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXBhbmVsc1wiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjVmNWY1XCIsXG4gICAgICAgIGNvbG9yOiBcImJsYWNrXCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1wYW5lbHMtdG9wXCI6IHtcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjZGRkXCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1wYW5lbHMtYm90dG9tXCI6IHtcbiAgICAgICAgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCAjZGRkXCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLXBhbmVsc1wiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzMzMzM4XCIsXG4gICAgICAgIGNvbG9yOiBcIndoaXRlXCJcbiAgICB9LFxuICAgIFwiLmNtLXRhYlwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcImJvdHRvbVwiXG4gICAgfSxcbiAgICBcIi5jbS13aWRnZXRCdWZmZXJcIjoge1xuICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcInRleHQtdG9wXCIsXG4gICAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lXCJcbiAgICB9LFxuICAgIFwiLmNtLXBsYWNlaG9sZGVyXCI6IHtcbiAgICAgICAgY29sb3I6IFwiIzg4OFwiLFxuICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcInRvcFwiLFxuICAgIH0sXG4gICAgXCIuY20taGlnaGxpZ2h0U3BhY2U6YmVmb3JlXCI6IHtcbiAgICAgICAgY29udGVudDogXCJhdHRyKGRhdGEtZGlzcGxheSlcIixcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXG4gICAgICAgIGNvbG9yOiBcIiM4ODhcIlxuICAgIH0sXG4gICAgXCIuY20taGlnaGxpZ2h0VGFiXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCdkYXRhOmltYWdlL3N2Zyt4bWwsPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMDBcIiBoZWlnaHQ9XCIyMFwiPjxwYXRoIHN0cm9rZT1cIiUyMzg4OFwiIHN0cm9rZS13aWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGQ9XCJNMSAxMEgxOTZMMTkwIDVNMTkwIDE1TDE5NiAxME0xOTcgNEwxOTcgMTZcIi8+PC9zdmc+JylgLFxuICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogXCJhdXRvIDEwMCVcIixcbiAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiBcInJpZ2h0IDkwJVwiLFxuICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiBcIm5vLXJlcGVhdFwiXG4gICAgfSxcbiAgICBcIi5jbS10cmFpbGluZ1NwYWNlXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZjMzMjI1NVwiXG4gICAgfSxcbiAgICBcIi5jbS1idXR0b25cIjoge1xuICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiLFxuICAgICAgICBjb2xvcjogXCJpbmhlcml0XCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjcwJVwiLFxuICAgICAgICBwYWRkaW5nOiBcIi4yZW0gMWVtXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIxcHhcIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLWJ1dHRvblwiOiB7XG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJsaW5lYXItZ3JhZGllbnQoI2VmZjFmNSwgI2Q5ZDlkZilcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjODg4XCIsXG4gICAgICAgIFwiJjphY3RpdmVcIjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcImxpbmVhci1ncmFkaWVudCgjYjRiNGI0LCAjZDBkM2Q2KVwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLWJ1dHRvblwiOiB7XG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJsaW5lYXItZ3JhZGllbnQoIzM5MzkzOSwgIzExMSlcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjODg4XCIsXG4gICAgICAgIFwiJjphY3RpdmVcIjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcImxpbmVhci1ncmFkaWVudCgjMTExLCAjMzMzKVwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiLmNtLXRleHRmaWVsZFwiOiB7XG4gICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgIGNvbG9yOiBcImluaGVyaXRcIixcbiAgICAgICAgZm9udFNpemU6IFwiNzAlXCIsXG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgc2lsdmVyXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiLjJlbSAuNWVtXCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS10ZXh0ZmllbGRcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwid2hpdGVcIlxuICAgIH0sXG4gICAgXCImZGFyayAuY20tdGV4dGZpZWxkXCI6IHtcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjNTU1XCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJpbmhlcml0XCJcbiAgICB9XG59LCBsaWdodERhcmtJRHMpO1xuXG5jb25zdCBMaW5lQnJlYWtQbGFjZWhvbGRlciA9IFwiXFx1ZmZmZlwiO1xuY2xhc3MgRE9NUmVhZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihwb2ludHMsIHN0YXRlKSB7XG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgICAgICB0aGlzLmxpbmVTZXBhcmF0b3IgPSBzdGF0ZS5mYWNldChFZGl0b3JTdGF0ZS5saW5lU2VwYXJhdG9yKTtcbiAgICB9XG4gICAgYXBwZW5kKHRleHQpIHtcbiAgICAgICAgdGhpcy50ZXh0ICs9IHRleHQ7XG4gICAgfVxuICAgIGxpbmVCcmVhaygpIHtcbiAgICAgICAgdGhpcy50ZXh0ICs9IExpbmVCcmVha1BsYWNlaG9sZGVyO1xuICAgIH1cbiAgICByZWFkUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAoIXN0YXJ0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGxldCBwYXJlbnQgPSBzdGFydC5wYXJlbnROb2RlO1xuICAgICAgICBmb3IgKGxldCBjdXIgPSBzdGFydDs7KSB7XG4gICAgICAgICAgICB0aGlzLmZpbmRQb2ludEJlZm9yZShwYXJlbnQsIGN1cik7XG4gICAgICAgICAgICBsZXQgb2xkTGVuID0gdGhpcy50ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMucmVhZE5vZGUoY3VyKTtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gY3VyLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgaWYgKG5leHQgPT0gZW5kKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGV0IHZpZXcgPSBDb250ZW50Vmlldy5nZXQoY3VyKSwgbmV4dFZpZXcgPSBDb250ZW50Vmlldy5nZXQobmV4dCk7XG4gICAgICAgICAgICBpZiAodmlldyAmJiBuZXh0VmlldyA/IHZpZXcuYnJlYWtBZnRlciA6XG4gICAgICAgICAgICAgICAgKHZpZXcgPyB2aWV3LmJyZWFrQWZ0ZXIgOiBpc0Jsb2NrRWxlbWVudChjdXIpKSB8fFxuICAgICAgICAgICAgICAgICAgICAoaXNCbG9ja0VsZW1lbnQobmV4dCkgJiYgKGN1ci5ub2RlTmFtZSAhPSBcIkJSXCIgfHwgY3VyLmNtSWdub3JlKSAmJiB0aGlzLnRleHQubGVuZ3RoID4gb2xkTGVuKSlcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVCcmVhaygpO1xuICAgICAgICAgICAgY3VyID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbmRQb2ludEJlZm9yZShwYXJlbnQsIGVuZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWFkVGV4dE5vZGUobm9kZSkge1xuICAgICAgICBsZXQgdGV4dCA9IG5vZGUubm9kZVZhbHVlO1xuICAgICAgICBmb3IgKGxldCBwb2ludCBvZiB0aGlzLnBvaW50cylcbiAgICAgICAgICAgIGlmIChwb2ludC5ub2RlID09IG5vZGUpXG4gICAgICAgICAgICAgICAgcG9pbnQucG9zID0gdGhpcy50ZXh0Lmxlbmd0aCArIE1hdGgubWluKHBvaW50Lm9mZnNldCwgdGV4dC5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBvZmYgPSAwLCByZSA9IHRoaXMubGluZVNlcGFyYXRvciA/IG51bGwgOiAvXFxyXFxuP3xcXG4vZzs7KSB7XG4gICAgICAgICAgICBsZXQgbmV4dEJyZWFrID0gLTEsIGJyZWFrU2l6ZSA9IDEsIG07XG4gICAgICAgICAgICBpZiAodGhpcy5saW5lU2VwYXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgbmV4dEJyZWFrID0gdGV4dC5pbmRleE9mKHRoaXMubGluZVNlcGFyYXRvciwgb2ZmKTtcbiAgICAgICAgICAgICAgICBicmVha1NpemUgPSB0aGlzLmxpbmVTZXBhcmF0b3IubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobSA9IHJlLmV4ZWModGV4dCkpIHtcbiAgICAgICAgICAgICAgICBuZXh0QnJlYWsgPSBtLmluZGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrU2l6ZSA9IG1bMF0ubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hcHBlbmQodGV4dC5zbGljZShvZmYsIG5leHRCcmVhayA8IDAgPyB0ZXh0Lmxlbmd0aCA6IG5leHRCcmVhaykpO1xuICAgICAgICAgICAgaWYgKG5leHRCcmVhayA8IDApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB0aGlzLmxpbmVCcmVhaygpO1xuICAgICAgICAgICAgaWYgKGJyZWFrU2l6ZSA+IDEpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcG9pbnQgb2YgdGhpcy5wb2ludHMpXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb2ludC5ub2RlID09IG5vZGUgJiYgcG9pbnQucG9zID4gdGhpcy50ZXh0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LnBvcyAtPSBicmVha1NpemUgLSAxO1xuICAgICAgICAgICAgb2ZmID0gbmV4dEJyZWFrICsgYnJlYWtTaXplO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlYWROb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuY21JZ25vcmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB2aWV3ID0gQ29udGVudFZpZXcuZ2V0KG5vZGUpO1xuICAgICAgICBsZXQgZnJvbVZpZXcgPSB2aWV3ICYmIHZpZXcub3ZlcnJpZGVET01UZXh0O1xuICAgICAgICBpZiAoZnJvbVZpZXcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5maW5kUG9pbnRJbnNpZGUobm9kZSwgZnJvbVZpZXcubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBmcm9tVmlldy5pdGVyKCk7ICFpLm5leHQoKS5kb25lOykge1xuICAgICAgICAgICAgICAgIGlmIChpLmxpbmVCcmVhaylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsoKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKGkudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICAgICAgdGhpcy5yZWFkVGV4dE5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlTmFtZSA9PSBcIkJSXCIpIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nKVxuICAgICAgICAgICAgICAgIHRoaXMubGluZUJyZWFrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRSYW5nZShub2RlLmZpcnN0Q2hpbGQsIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmRQb2ludEJlZm9yZShub2RlLCBuZXh0KSB7XG4gICAgICAgIGZvciAobGV0IHBvaW50IG9mIHRoaXMucG9pbnRzKVxuICAgICAgICAgICAgaWYgKHBvaW50Lm5vZGUgPT0gbm9kZSAmJiBub2RlLmNoaWxkTm9kZXNbcG9pbnQub2Zmc2V0XSA9PSBuZXh0KVxuICAgICAgICAgICAgICAgIHBvaW50LnBvcyA9IHRoaXMudGV4dC5sZW5ndGg7XG4gICAgfVxuICAgIGZpbmRQb2ludEluc2lkZShub2RlLCBsZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgcG9pbnQgb2YgdGhpcy5wb2ludHMpXG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAzID8gcG9pbnQubm9kZSA9PSBub2RlIDogbm9kZS5jb250YWlucyhwb2ludC5ub2RlKSlcbiAgICAgICAgICAgICAgICBwb2ludC5wb3MgPSB0aGlzLnRleHQubGVuZ3RoICsgKGlzQXRFbmQobm9kZSwgcG9pbnQubm9kZSwgcG9pbnQub2Zmc2V0KSA/IGxlbmd0aCA6IDApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzQXRFbmQocGFyZW50LCBub2RlLCBvZmZzZXQpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmICghbm9kZSB8fCBvZmZzZXQgPCBtYXhPZmZzZXQobm9kZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBvZmZzZXQgPSBkb21JbmRleChub2RlKSArIDE7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNCbG9ja0VsZW1lbnQobm9kZSkge1xuICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09IDEgJiYgL14oRElWfFB8TEl8VUx8T0x8QkxPQ0tRVU9URXxERHxEVHxIXFxkfFNFQ1RJT058UFJFKSQvLnRlc3Qobm9kZS5ub2RlTmFtZSk7XG59XG5jbGFzcyBET01Qb2ludCB7XG4gICAgY29uc3RydWN0b3Iobm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLnBvcyA9IC0xO1xuICAgIH1cbn1cblxuY2xhc3MgRE9NQ2hhbmdlIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBzdGFydCwgZW5kLCB0eXBlT3Zlcikge1xuICAgICAgICB0aGlzLnR5cGVPdmVyID0gdHlwZU92ZXI7XG4gICAgICAgIHRoaXMuYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0ID0gXCJcIjtcbiAgICAgICAgbGV0IHsgaW1wcmVjaXNlSGVhZDogaUhlYWQsIGltcHJlY2lzZUFuY2hvcjogaUFuY2hvciB9ID0gdmlldy5kb2NWaWV3O1xuICAgICAgICBpZiAodmlldy5zdGF0ZS5yZWFkT25seSAmJiBzdGFydCA+IC0xKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgY2hhbmdlcyB3aGVuIHRoZSBlZGl0b3IgaXMgcmVhZC1vbmx5XG4gICAgICAgICAgICB0aGlzLm5ld1NlbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhcnQgPiAtMSAmJiAodGhpcy5ib3VuZHMgPSB2aWV3LmRvY1ZpZXcuZG9tQm91bmRzQXJvdW5kKHN0YXJ0LCBlbmQsIDApKSkge1xuICAgICAgICAgICAgbGV0IHNlbFBvaW50cyA9IGlIZWFkIHx8IGlBbmNob3IgPyBbXSA6IHNlbGVjdGlvblBvaW50cyh2aWV3KTtcbiAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRE9NUmVhZGVyKHNlbFBvaW50cywgdmlldy5zdGF0ZSk7XG4gICAgICAgICAgICByZWFkZXIucmVhZFJhbmdlKHRoaXMuYm91bmRzLnN0YXJ0RE9NLCB0aGlzLmJvdW5kcy5lbmRET00pO1xuICAgICAgICAgICAgdGhpcy50ZXh0ID0gcmVhZGVyLnRleHQ7XG4gICAgICAgICAgICB0aGlzLm5ld1NlbCA9IHNlbGVjdGlvbkZyb21Qb2ludHMoc2VsUG9pbnRzLCB0aGlzLmJvdW5kcy5mcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkb21TZWwgPSB2aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlO1xuICAgICAgICAgICAgbGV0IGhlYWQgPSBpSGVhZCAmJiBpSGVhZC5ub2RlID09IGRvbVNlbC5mb2N1c05vZGUgJiYgaUhlYWQub2Zmc2V0ID09IGRvbVNlbC5mb2N1c09mZnNldCB8fFxuICAgICAgICAgICAgICAgICFjb250YWlucyh2aWV3LmNvbnRlbnRET00sIGRvbVNlbC5mb2N1c05vZGUpXG4gICAgICAgICAgICAgICAgPyB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWRcbiAgICAgICAgICAgICAgICA6IHZpZXcuZG9jVmlldy5wb3NGcm9tRE9NKGRvbVNlbC5mb2N1c05vZGUsIGRvbVNlbC5mb2N1c09mZnNldCk7XG4gICAgICAgICAgICBsZXQgYW5jaG9yID0gaUFuY2hvciAmJiBpQW5jaG9yLm5vZGUgPT0gZG9tU2VsLmFuY2hvck5vZGUgJiYgaUFuY2hvci5vZmZzZXQgPT0gZG9tU2VsLmFuY2hvck9mZnNldCB8fFxuICAgICAgICAgICAgICAgICFjb250YWlucyh2aWV3LmNvbnRlbnRET00sIGRvbVNlbC5hbmNob3JOb2RlKVxuICAgICAgICAgICAgICAgID8gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5hbmNob3JcbiAgICAgICAgICAgICAgICA6IHZpZXcuZG9jVmlldy5wb3NGcm9tRE9NKGRvbVNlbC5hbmNob3JOb2RlLCBkb21TZWwuYW5jaG9yT2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMubmV3U2VsID0gRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShhbmNob3IsIGhlYWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwbHlET01DaGFuZ2UodmlldywgZG9tQ2hhbmdlKSB7XG4gICAgbGV0IGNoYW5nZTtcbiAgICBsZXQgeyBuZXdTZWwgfSA9IGRvbUNoYW5nZSwgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICBsZXQgbGFzdEtleSA9IHZpZXcuaW5wdXRTdGF0ZS5sYXN0S2V5VGltZSA+IERhdGUubm93KCkgLSAxMDAgPyB2aWV3LmlucHV0U3RhdGUubGFzdEtleUNvZGUgOiAtMTtcbiAgICBpZiAoZG9tQ2hhbmdlLmJvdW5kcykge1xuICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gZG9tQ2hhbmdlLmJvdW5kcztcbiAgICAgICAgbGV0IHByZWZlcnJlZFBvcyA9IHNlbC5mcm9tLCBwcmVmZXJyZWRTaWRlID0gbnVsbDtcbiAgICAgICAgLy8gUHJlZmVyIGFuY2hvcmluZyB0byBlbmQgd2hlbiBCYWNrc3BhY2UgaXMgcHJlc3NlZCAob3IsIG9uXG4gICAgICAgIC8vIEFuZHJvaWQsIHdoZW4gc29tZXRoaW5nIHdhcyBkZWxldGVkKVxuICAgICAgICBpZiAobGFzdEtleSA9PT0gOCB8fCBicm93c2VyLmFuZHJvaWQgJiYgZG9tQ2hhbmdlLnRleHQubGVuZ3RoIDwgdG8gLSBmcm9tKSB7XG4gICAgICAgICAgICBwcmVmZXJyZWRQb3MgPSBzZWwudG87XG4gICAgICAgICAgICBwcmVmZXJyZWRTaWRlID0gXCJlbmRcIjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlmZiA9IGZpbmREaWZmKHZpZXcuc3RhdGUuZG9jLnNsaWNlU3RyaW5nKGZyb20sIHRvLCBMaW5lQnJlYWtQbGFjZWhvbGRlciksIGRvbUNoYW5nZS50ZXh0LCBwcmVmZXJyZWRQb3MgLSBmcm9tLCBwcmVmZXJyZWRTaWRlKTtcbiAgICAgICAgaWYgKGRpZmYpIHtcbiAgICAgICAgICAgIC8vIENocm9tZSBpbnNlcnRzIHR3byBuZXdsaW5lcyB3aGVuIHByZXNzaW5nIHNoaWZ0LWVudGVyIGF0IHRoZVxuICAgICAgICAgICAgLy8gZW5kIG9mIGEgbGluZS4gRG9tQ2hhbmdlIGRyb3BzIG9uZSBvZiB0aG9zZS5cbiAgICAgICAgICAgIGlmIChicm93c2VyLmNocm9tZSAmJiBsYXN0S2V5ID09IDEzICYmXG4gICAgICAgICAgICAgICAgZGlmZi50b0IgPT0gZGlmZi5mcm9tICsgMiAmJiBkb21DaGFuZ2UudGV4dC5zbGljZShkaWZmLmZyb20sIGRpZmYudG9CKSA9PSBMaW5lQnJlYWtQbGFjZWhvbGRlciArIExpbmVCcmVha1BsYWNlaG9sZGVyKVxuICAgICAgICAgICAgICAgIGRpZmYudG9CLS07XG4gICAgICAgICAgICBjaGFuZ2UgPSB7IGZyb206IGZyb20gKyBkaWZmLmZyb20sIHRvOiBmcm9tICsgZGlmZi50b0EsXG4gICAgICAgICAgICAgICAgaW5zZXJ0OiBUZXh0Lm9mKGRvbUNoYW5nZS50ZXh0LnNsaWNlKGRpZmYuZnJvbSwgZGlmZi50b0IpLnNwbGl0KExpbmVCcmVha1BsYWNlaG9sZGVyKSkgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChuZXdTZWwgJiYgKCF2aWV3Lmhhc0ZvY3VzICYmIHZpZXcuc3RhdGUuZmFjZXQoZWRpdGFibGUpIHx8IG5ld1NlbC5tYWluLmVxKHNlbCkpKSB7XG4gICAgICAgIG5ld1NlbCA9IG51bGw7XG4gICAgfVxuICAgIGlmICghY2hhbmdlICYmICFuZXdTZWwpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWNoYW5nZSAmJiBkb21DaGFuZ2UudHlwZU92ZXIgJiYgIXNlbC5lbXB0eSAmJiBuZXdTZWwgJiYgbmV3U2VsLm1haW4uZW1wdHkpIHtcbiAgICAgICAgLy8gSGV1cmlzdGljIHRvIG5vdGljZSB0eXBpbmcgb3ZlciBhIHNlbGVjdGVkIGNoYXJhY3RlclxuICAgICAgICBjaGFuZ2UgPSB7IGZyb206IHNlbC5mcm9tLCB0bzogc2VsLnRvLCBpbnNlcnQ6IHZpZXcuc3RhdGUuZG9jLnNsaWNlKHNlbC5mcm9tLCBzZWwudG8pIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoYW5nZSAmJiBjaGFuZ2UuZnJvbSA+PSBzZWwuZnJvbSAmJiBjaGFuZ2UudG8gPD0gc2VsLnRvICYmXG4gICAgICAgIChjaGFuZ2UuZnJvbSAhPSBzZWwuZnJvbSB8fCBjaGFuZ2UudG8gIT0gc2VsLnRvKSAmJlxuICAgICAgICAoc2VsLnRvIC0gc2VsLmZyb20pIC0gKGNoYW5nZS50byAtIGNoYW5nZS5mcm9tKSA8PSA0KSB7XG4gICAgICAgIC8vIElmIHRoZSBjaGFuZ2UgaXMgaW5zaWRlIHRoZSBzZWxlY3Rpb24gYW5kIGNvdmVycyBtb3N0IG9mIGl0LFxuICAgICAgICAvLyBhc3N1bWUgaXQgaXMgYSBzZWxlY3Rpb24gcmVwbGFjZSAod2l0aCBpZGVudGljYWwgY2hhcmFjdGVycyBhdFxuICAgICAgICAvLyB0aGUgc3RhcnQvZW5kIG5vdCBpbmNsdWRlZCBpbiB0aGUgZGlmZilcbiAgICAgICAgY2hhbmdlID0ge1xuICAgICAgICAgICAgZnJvbTogc2VsLmZyb20sIHRvOiBzZWwudG8sXG4gICAgICAgICAgICBpbnNlcnQ6IHZpZXcuc3RhdGUuZG9jLnNsaWNlKHNlbC5mcm9tLCBjaGFuZ2UuZnJvbSkuYXBwZW5kKGNoYW5nZS5pbnNlcnQpLmFwcGVuZCh2aWV3LnN0YXRlLmRvYy5zbGljZShjaGFuZ2UudG8sIHNlbC50bykpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKChicm93c2VyLm1hYyB8fCBicm93c2VyLmFuZHJvaWQpICYmIGNoYW5nZSAmJiBjaGFuZ2UuZnJvbSA9PSBjaGFuZ2UudG8gJiYgY2hhbmdlLmZyb20gPT0gc2VsLmhlYWQgLSAxICYmXG4gICAgICAgIC9eXFwuID8kLy50ZXN0KGNoYW5nZS5pbnNlcnQudG9TdHJpbmcoKSkgJiYgdmlldy5jb250ZW50RE9NLmdldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIpID09IFwib2ZmXCIpIHtcbiAgICAgICAgLy8gRGV0ZWN0IGluc2VydC1wZXJpb2Qtb24tZG91YmxlLXNwYWNlIE1hYyBhbmQgQW5kcm9pZCBiZWhhdmlvcixcbiAgICAgICAgLy8gYW5kIHRyYW5zZm9ybSBpdCBpbnRvIGEgcmVndWxhciBzcGFjZSBpbnNlcnQuXG4gICAgICAgIGlmIChuZXdTZWwgJiYgY2hhbmdlLmluc2VydC5sZW5ndGggPT0gMilcbiAgICAgICAgICAgIG5ld1NlbCA9IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUobmV3U2VsLm1haW4uYW5jaG9yIC0gMSwgbmV3U2VsLm1haW4uaGVhZCAtIDEpO1xuICAgICAgICBjaGFuZ2UgPSB7IGZyb206IHNlbC5mcm9tLCB0bzogc2VsLnRvLCBpbnNlcnQ6IFRleHQub2YoW1wiIFwiXSkgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYnJvd3Nlci5jaHJvbWUgJiYgY2hhbmdlICYmIGNoYW5nZS5mcm9tID09IGNoYW5nZS50byAmJiBjaGFuZ2UuZnJvbSA9PSBzZWwuaGVhZCAmJlxuICAgICAgICBjaGFuZ2UuaW5zZXJ0LnRvU3RyaW5nKCkgPT0gXCJcXG4gXCIgJiYgdmlldy5saW5lV3JhcHBpbmcpIHtcbiAgICAgICAgLy8gSW4gQ2hyb21lLCBpZiB5b3UgaW5zZXJ0IGEgc3BhY2UgYXQgdGhlIHN0YXJ0IG9mIGEgd3JhcHBlZFxuICAgICAgICAvLyBsaW5lLCBpdCB3aWxsIGFjdHVhbGx5IGluc2VydCBhIG5ld2xpbmUgYW5kIGEgc3BhY2UsIGNhdXNpbmcgYVxuICAgICAgICAvLyBib2d1cyBuZXcgbGluZSB0byBiZSBjcmVhdGVkIGluIENvZGVNaXJyb3IgKCM5NjgpXG4gICAgICAgIGlmIChuZXdTZWwpXG4gICAgICAgICAgICBuZXdTZWwgPSBFZGl0b3JTZWxlY3Rpb24uc2luZ2xlKG5ld1NlbC5tYWluLmFuY2hvciAtIDEsIG5ld1NlbC5tYWluLmhlYWQgLSAxKTtcbiAgICAgICAgY2hhbmdlID0geyBmcm9tOiBzZWwuZnJvbSwgdG86IHNlbC50bywgaW5zZXJ0OiBUZXh0Lm9mKFtcIiBcIl0pIH07XG4gICAgfVxuICAgIGlmIChjaGFuZ2UpIHtcbiAgICAgICAgaWYgKGJyb3dzZXIuaW9zICYmIHZpZXcuaW5wdXRTdGF0ZS5mbHVzaElPU0tleSgpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIEFuZHJvaWQgYnJvd3NlcnMgZG9uJ3QgZmlyZSByZWFzb25hYmxlIGtleSBldmVudHMgZm9yIGVudGVyLFxuICAgICAgICAvLyBiYWNrc3BhY2UsIG9yIGRlbGV0ZS4gU28gdGhpcyBkZXRlY3RzIGNoYW5nZXMgdGhhdCBsb29rIGxpa2VcbiAgICAgICAgLy8gdGhleSdyZSBjYXVzZWQgYnkgdGhvc2Uga2V5cywgYW5kIHJlaW50ZXJwcmV0cyB0aGVtIGFzIGtleVxuICAgICAgICAvLyBldmVudHMuIChTb21lIG9mIHRoZXNlIGtleXMgYXJlIGFsc28gaGFuZGxlZCBieSBiZWZvcmVpbnB1dFxuICAgICAgICAvLyBldmVudHMgYW5kIHRoZSBwZW5kaW5nQW5kcm9pZEtleSBtZWNoYW5pc20sIGJ1dCB0aGF0J3Mgbm90XG4gICAgICAgIC8vIHJlbGlhYmxlIGluIGFsbCBzaXR1YXRpb25zLilcbiAgICAgICAgaWYgKGJyb3dzZXIuYW5kcm9pZCAmJlxuICAgICAgICAgICAgKChjaGFuZ2UuZnJvbSA9PSBzZWwuZnJvbSAmJiBjaGFuZ2UudG8gPT0gc2VsLnRvICYmXG4gICAgICAgICAgICAgICAgY2hhbmdlLmluc2VydC5sZW5ndGggPT0gMSAmJiBjaGFuZ2UuaW5zZXJ0LmxpbmVzID09IDIgJiZcbiAgICAgICAgICAgICAgICBkaXNwYXRjaEtleSh2aWV3LmNvbnRlbnRET00sIFwiRW50ZXJcIiwgMTMpKSB8fFxuICAgICAgICAgICAgICAgICgoY2hhbmdlLmZyb20gPT0gc2VsLmZyb20gLSAxICYmIGNoYW5nZS50byA9PSBzZWwudG8gJiYgY2hhbmdlLmluc2VydC5sZW5ndGggPT0gMCB8fFxuICAgICAgICAgICAgICAgICAgICBsYXN0S2V5ID09IDggJiYgY2hhbmdlLmluc2VydC5sZW5ndGggPCBjaGFuZ2UudG8gLSBjaGFuZ2UuZnJvbSAmJiBjaGFuZ2UudG8gPiBzZWwuaGVhZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hLZXkodmlldy5jb250ZW50RE9NLCBcIkJhY2tzcGFjZVwiLCA4KSkgfHxcbiAgICAgICAgICAgICAgICAoY2hhbmdlLmZyb20gPT0gc2VsLmZyb20gJiYgY2hhbmdlLnRvID09IHNlbC50byArIDEgJiYgY2hhbmdlLmluc2VydC5sZW5ndGggPT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEtleSh2aWV3LmNvbnRlbnRET00sIFwiRGVsZXRlXCIsIDQ2KSkpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGxldCB0ZXh0ID0gY2hhbmdlLmluc2VydC50b1N0cmluZygpO1xuICAgICAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA+PSAwKVxuICAgICAgICAgICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZysrO1xuICAgICAgICBsZXQgZGVmYXVsdFRyO1xuICAgICAgICBsZXQgZGVmYXVsdEluc2VydCA9ICgpID0+IGRlZmF1bHRUciB8fCAoZGVmYXVsdFRyID0gYXBwbHlEZWZhdWx0SW5zZXJ0KHZpZXcsIGNoYW5nZSwgbmV3U2VsKSk7XG4gICAgICAgIGlmICghdmlldy5zdGF0ZS5mYWNldChpbnB1dEhhbmRsZXIpLnNvbWUoaCA9PiBoKHZpZXcsIGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8sIHRleHQsIGRlZmF1bHRJbnNlcnQpKSlcbiAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goZGVmYXVsdEluc2VydCgpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5ld1NlbCAmJiAhbmV3U2VsLm1haW4uZXEoc2VsKSkge1xuICAgICAgICBsZXQgc2Nyb2xsSW50b1ZpZXcgPSBmYWxzZSwgdXNlckV2ZW50ID0gXCJzZWxlY3RcIjtcbiAgICAgICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2VsZWN0aW9uVGltZSA+IERhdGUubm93KCkgLSA1MCkge1xuICAgICAgICAgICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2VsZWN0aW9uT3JpZ2luID09IFwic2VsZWN0XCIpXG4gICAgICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgdXNlckV2ZW50ID0gdmlldy5pbnB1dFN0YXRlLmxhc3RTZWxlY3Rpb25PcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgdmlldy5kaXNwYXRjaCh7IHNlbGVjdGlvbjogbmV3U2VsLCBzY3JvbGxJbnRvVmlldywgdXNlckV2ZW50IH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBhcHBseURlZmF1bHRJbnNlcnQodmlldywgY2hhbmdlLCBuZXdTZWwpIHtcbiAgICBsZXQgdHIsIHN0YXJ0U3RhdGUgPSB2aWV3LnN0YXRlLCBzZWwgPSBzdGFydFN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgIGlmIChjaGFuZ2UuZnJvbSA+PSBzZWwuZnJvbSAmJiBjaGFuZ2UudG8gPD0gc2VsLnRvICYmIGNoYW5nZS50byAtIGNoYW5nZS5mcm9tID49IChzZWwudG8gLSBzZWwuZnJvbSkgLyAzICYmXG4gICAgICAgICghbmV3U2VsIHx8IG5ld1NlbC5tYWluLmVtcHR5ICYmIG5ld1NlbC5tYWluLmZyb20gPT0gY2hhbmdlLmZyb20gKyBjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCkgJiZcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA8IDApIHtcbiAgICAgICAgbGV0IGJlZm9yZSA9IHNlbC5mcm9tIDwgY2hhbmdlLmZyb20gPyBzdGFydFN0YXRlLnNsaWNlRG9jKHNlbC5mcm9tLCBjaGFuZ2UuZnJvbSkgOiBcIlwiO1xuICAgICAgICBsZXQgYWZ0ZXIgPSBzZWwudG8gPiBjaGFuZ2UudG8gPyBzdGFydFN0YXRlLnNsaWNlRG9jKGNoYW5nZS50bywgc2VsLnRvKSA6IFwiXCI7XG4gICAgICAgIHRyID0gc3RhcnRTdGF0ZS5yZXBsYWNlU2VsZWN0aW9uKHZpZXcuc3RhdGUudG9UZXh0KGJlZm9yZSArIGNoYW5nZS5pbnNlcnQuc2xpY2VTdHJpbmcoMCwgdW5kZWZpbmVkLCB2aWV3LnN0YXRlLmxpbmVCcmVhaykgKyBhZnRlcikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGNoYW5nZXMgPSBzdGFydFN0YXRlLmNoYW5nZXMoY2hhbmdlKTtcbiAgICAgICAgbGV0IG1haW5TZWwgPSBuZXdTZWwgJiYgbmV3U2VsLm1haW4udG8gPD0gY2hhbmdlcy5uZXdMZW5ndGggPyBuZXdTZWwubWFpbiA6IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gVHJ5IHRvIGFwcGx5IGEgY29tcG9zaXRpb24gY2hhbmdlIHRvIGFsbCBjdXJzb3JzXG4gICAgICAgIGlmIChzdGFydFN0YXRlLnNlbGVjdGlvbi5yYW5nZXMubGVuZ3RoID4gMSAmJiB2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID49IDAgJiZcbiAgICAgICAgICAgIGNoYW5nZS50byA8PSBzZWwudG8gJiYgY2hhbmdlLnRvID49IHNlbC50byAtIDEwKSB7XG4gICAgICAgICAgICBsZXQgcmVwbGFjZWQgPSB2aWV3LnN0YXRlLnNsaWNlRG9jKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pO1xuICAgICAgICAgICAgbGV0IGNvbXBvc2l0aW9uUmFuZ2UsIGNvbXBvc2l0aW9uID0gbmV3U2VsICYmIGZpbmRDb21wb3NpdGlvbk5vZGUodmlldywgbmV3U2VsLm1haW4uaGVhZCk7XG4gICAgICAgICAgICBpZiAoY29tcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBsZXQgZExlbiA9IGNoYW5nZS5pbnNlcnQubGVuZ3RoIC0gKGNoYW5nZS50byAtIGNoYW5nZS5mcm9tKTtcbiAgICAgICAgICAgICAgICBjb21wb3NpdGlvblJhbmdlID0geyBmcm9tOiBjb21wb3NpdGlvbi5mcm9tLCB0bzogY29tcG9zaXRpb24udG8gLSBkTGVuIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wb3NpdGlvblJhbmdlID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KHNlbC5oZWFkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBvZmZzZXQgPSBzZWwudG8gLSBjaGFuZ2UudG8sIHNpemUgPSBzZWwudG8gLSBzZWwuZnJvbTtcbiAgICAgICAgICAgIHRyID0gc3RhcnRTdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuZnJvbSA9PSBzZWwuZnJvbSAmJiByYW5nZS50byA9PSBzZWwudG8pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXMsIHJhbmdlOiBtYWluU2VsIHx8IHJhbmdlLm1hcChjaGFuZ2VzKSB9O1xuICAgICAgICAgICAgICAgIGxldCB0byA9IHJhbmdlLnRvIC0gb2Zmc2V0LCBmcm9tID0gdG8gLSByZXBsYWNlZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLnRvIC0gcmFuZ2UuZnJvbSAhPSBzaXplIHx8IHZpZXcuc3RhdGUuc2xpY2VEb2MoZnJvbSwgdG8pICE9IHJlcGxhY2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIC8vIFVuZm9ydHVuYXRlbHksIHRoZXJlJ3Mgbm8gd2F5IHRvIG1ha2UgbXVsdGlwbGVcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlcyBpbiB0aGUgc2FtZSBub2RlIHdvcmsgd2l0aG91dCBhYm9ydGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBjb21wb3NpdGlvbiwgc28gY3Vyc29ycyBpbiB0aGUgY29tcG9zaXRpb24gcmFuZ2UgYXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZWQuXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnRvID49IGNvbXBvc2l0aW9uUmFuZ2UuZnJvbSAmJiByYW5nZS5mcm9tIDw9IGNvbXBvc2l0aW9uUmFuZ2UudG8pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJhbmdlIH07XG4gICAgICAgICAgICAgICAgbGV0IHJhbmdlQ2hhbmdlcyA9IHN0YXJ0U3RhdGUuY2hhbmdlcyh7IGZyb20sIHRvLCBpbnNlcnQ6IGNoYW5nZS5pbnNlcnQgfSksIHNlbE9mZiA9IHJhbmdlLnRvIC0gc2VsLnRvO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXM6IHJhbmdlQ2hhbmdlcyxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6ICFtYWluU2VsID8gcmFuZ2UubWFwKHJhbmdlQ2hhbmdlcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgRWRpdG9yU2VsZWN0aW9uLnJhbmdlKE1hdGgubWF4KDAsIG1haW5TZWwuYW5jaG9yICsgc2VsT2ZmKSwgTWF0aC5tYXgoMCwgbWFpblNlbC5oZWFkICsgc2VsT2ZmKSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0ciA9IHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogbWFpblNlbCAmJiBzdGFydFN0YXRlLnNlbGVjdGlvbi5yZXBsYWNlUmFuZ2UobWFpblNlbClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHVzZXJFdmVudCA9IFwiaW5wdXQudHlwZVwiO1xuICAgIGlmICh2aWV3LmNvbXBvc2luZyB8fFxuICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25QZW5kaW5nQ2hhbmdlICYmIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkVuZGVkQXQgPiBEYXRlLm5vdygpIC0gNTApIHtcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uUGVuZGluZ0NoYW5nZSA9IGZhbHNlO1xuICAgICAgICB1c2VyRXZlbnQgKz0gXCIuY29tcG9zZVwiO1xuICAgICAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UpIHtcbiAgICAgICAgICAgIHVzZXJFdmVudCArPSBcIi5zdGFydFwiO1xuICAgICAgICAgICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RhcnRTdGF0ZS51cGRhdGUodHIsIHsgdXNlckV2ZW50LCBzY3JvbGxJbnRvVmlldzogdHJ1ZSB9KTtcbn1cbmZ1bmN0aW9uIGZpbmREaWZmKGEsIGIsIHByZWZlcnJlZFBvcywgcHJlZmVycmVkU2lkZSkge1xuICAgIGxldCBtaW5MZW4gPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpO1xuICAgIGxldCBmcm9tID0gMDtcbiAgICB3aGlsZSAoZnJvbSA8IG1pbkxlbiAmJiBhLmNoYXJDb2RlQXQoZnJvbSkgPT0gYi5jaGFyQ29kZUF0KGZyb20pKVxuICAgICAgICBmcm9tKys7XG4gICAgaWYgKGZyb20gPT0gbWluTGVuICYmIGEubGVuZ3RoID09IGIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgdG9BID0gYS5sZW5ndGgsIHRvQiA9IGIubGVuZ3RoO1xuICAgIHdoaWxlICh0b0EgPiAwICYmIHRvQiA+IDAgJiYgYS5jaGFyQ29kZUF0KHRvQSAtIDEpID09IGIuY2hhckNvZGVBdCh0b0IgLSAxKSkge1xuICAgICAgICB0b0EtLTtcbiAgICAgICAgdG9CLS07XG4gICAgfVxuICAgIGlmIChwcmVmZXJyZWRTaWRlID09IFwiZW5kXCIpIHtcbiAgICAgICAgbGV0IGFkanVzdCA9IE1hdGgubWF4KDAsIGZyb20gLSBNYXRoLm1pbih0b0EsIHRvQikpO1xuICAgICAgICBwcmVmZXJyZWRQb3MgLT0gdG9BICsgYWRqdXN0IC0gZnJvbTtcbiAgICB9XG4gICAgaWYgKHRvQSA8IGZyb20gJiYgYS5sZW5ndGggPCBiLmxlbmd0aCkge1xuICAgICAgICBsZXQgbW92ZSA9IHByZWZlcnJlZFBvcyA8PSBmcm9tICYmIHByZWZlcnJlZFBvcyA+PSB0b0EgPyBmcm9tIC0gcHJlZmVycmVkUG9zIDogMDtcbiAgICAgICAgZnJvbSAtPSBtb3ZlO1xuICAgICAgICB0b0IgPSBmcm9tICsgKHRvQiAtIHRvQSk7XG4gICAgICAgIHRvQSA9IGZyb207XG4gICAgfVxuICAgIGVsc2UgaWYgKHRvQiA8IGZyb20pIHtcbiAgICAgICAgbGV0IG1vdmUgPSBwcmVmZXJyZWRQb3MgPD0gZnJvbSAmJiBwcmVmZXJyZWRQb3MgPj0gdG9CID8gZnJvbSAtIHByZWZlcnJlZFBvcyA6IDA7XG4gICAgICAgIGZyb20gLT0gbW92ZTtcbiAgICAgICAgdG9BID0gZnJvbSArICh0b0EgLSB0b0IpO1xuICAgICAgICB0b0IgPSBmcm9tO1xuICAgIH1cbiAgICByZXR1cm4geyBmcm9tLCB0b0EsIHRvQiB9O1xufVxuZnVuY3Rpb24gc2VsZWN0aW9uUG9pbnRzKHZpZXcpIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgaWYgKHZpZXcucm9vdC5hY3RpdmVFbGVtZW50ICE9IHZpZXcuY29udGVudERPTSlcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICBsZXQgeyBhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQsIGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQgfSA9IHZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2U7XG4gICAgaWYgKGFuY2hvck5vZGUpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gobmV3IERPTVBvaW50KGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCkpO1xuICAgICAgICBpZiAoZm9jdXNOb2RlICE9IGFuY2hvck5vZGUgfHwgZm9jdXNPZmZzZXQgIT0gYW5jaG9yT2Zmc2V0KVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IERPTVBvaW50KGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNlbGVjdGlvbkZyb21Qb2ludHMocG9pbnRzLCBiYXNlKSB7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT0gMClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGFuY2hvciA9IHBvaW50c1swXS5wb3MsIGhlYWQgPSBwb2ludHMubGVuZ3RoID09IDIgPyBwb2ludHNbMV0ucG9zIDogYW5jaG9yO1xuICAgIHJldHVybiBhbmNob3IgPiAtMSAmJiBoZWFkID4gLTEgPyBFZGl0b3JTZWxlY3Rpb24uc2luZ2xlKGFuY2hvciArIGJhc2UsIGhlYWQgKyBiYXNlKSA6IG51bGw7XG59XG5cbmNvbnN0IG9ic2VydmVPcHRpb25zID0ge1xuICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgIHN1YnRyZWU6IHRydWUsXG4gICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IHRydWVcbn07XG4vLyBJRTExIGhhcyB2ZXJ5IGJyb2tlbiBtdXRhdGlvbiBvYnNlcnZlcnMsIHNvIHdlIGFsc28gbGlzdGVuIHRvXG4vLyBET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQgdGhlcmVcbmNvbnN0IHVzZUNoYXJEYXRhID0gYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTE7XG5jbGFzcyBET01PYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAvLyBUaGUga25vd24gc2VsZWN0aW9uLiBLZXB0IGluIG91ciBvd24gb2JqZWN0LCBhcyBvcHBvc2VkIHRvIGp1c3RcbiAgICAgICAgLy8gZGlyZWN0bHkgYWNjZXNzaW5nIHRoZSBzZWxlY3Rpb24gYmVjYXVzZTpcbiAgICAgICAgLy8gIC0gU2FmYXJpIGRvZXNuJ3QgcmVwb3J0IHRoZSByaWdodCBzZWxlY3Rpb24gaW4gc2hhZG93IERPTVxuICAgICAgICAvLyAgLSBSZWFkaW5nIGZyb20gdGhlIHNlbGVjdGlvbiBmb3JjZXMgYSBET00gbGF5b3V0XG4gICAgICAgIC8vICAtIFRoaXMgd2F5LCB3ZSBjYW4gaWdub3JlIHNlbGVjdGlvbmNoYW5nZSBldmVudHMgaWYgd2UgaGF2ZVxuICAgICAgICAvLyAgICBhbHJlYWR5IHNlZW4gdGhlICduZXcnIHNlbGVjdGlvblxuICAgICAgICB0aGlzLnNlbGVjdGlvblJhbmdlID0gbmV3IERPTVNlbGVjdGlvblN0YXRlO1xuICAgICAgICAvLyBTZXQgd2hlbiBhIHNlbGVjdGlvbiBjaGFuZ2UgaXMgZGV0ZWN0ZWQsIGNsZWFyZWQgb24gZmx1c2hcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVsYXllZEZsdXNoID0gLTE7XG4gICAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIHRoaXMuZGVsYXllZEFuZHJvaWRLZXkgPSBudWxsO1xuICAgICAgICB0aGlzLmZsdXNoaW5nQW5kcm9pZEtleSA9IC0xO1xuICAgICAgICB0aGlzLmxhc3RDaGFuZ2UgPSAwO1xuICAgICAgICB0aGlzLnNjcm9sbFRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb24gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZVNjcm9sbCA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2FwSW50ZXJzZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5nYXBzID0gW107XG4gICAgICAgIC8vIFRpbWVvdXQgZm9yIHNjaGVkdWxpbmcgY2hlY2sgb2YgdGhlIHBhcmVudHMgdGhhdCBuZWVkIHNjcm9sbCBoYW5kbGVyc1xuICAgICAgICB0aGlzLnBhcmVudENoZWNrID0gLTE7XG4gICAgICAgIHRoaXMuZG9tID0gdmlldy5jb250ZW50RE9NO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IG11dCBvZiBtdXRhdGlvbnMpXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKG11dCk7XG4gICAgICAgICAgICAvLyBJRTExIHdpbGwgc29tZXRpbWVzIChvbiB0eXBpbmcgb3ZlciBhIHNlbGVjdGlvbiBvclxuICAgICAgICAgICAgLy8gYmFja3NwYWNpbmcgb3V0IGEgc2luZ2xlIGNoYXJhY3RlciB0ZXh0IG5vZGUpIGNhbGwgdGhlXG4gICAgICAgICAgICAvLyBvYnNlcnZlciBjYWxsYmFjayBiZWZvcmUgYWN0dWFsbHkgdXBkYXRpbmcgdGhlIERPTS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBVbnJlbGF0ZWRseSwgaU9TIFNhZmFyaSB3aWxsLCB3aGVuIGVuZGluZyBhIGNvbXBvc2l0aW9uLFxuICAgICAgICAgICAgLy8gc29tZXRpbWVzIGZpcnN0IGNsZWFyIGl0LCBkZWxpdmVyIHRoZSBtdXRhdGlvbnMsIGFuZCB0aGVuXG4gICAgICAgICAgICAvLyByZWluc2VydCB0aGUgZmluaXNoZWQgdGV4dC4gQ29kZU1pcnJvcidzIGhhbmRsaW5nIG9mIHRoZVxuICAgICAgICAgICAgLy8gZGVsZXRpb24gd2lsbCBwcmV2ZW50IHRoZSByZWluc2VydGlvbiBmcm9tIGhhcHBlbmluZyxcbiAgICAgICAgICAgIC8vIGJyZWFraW5nIGNvbXBvc2l0aW9uLlxuICAgICAgICAgICAgaWYgKChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMSB8fCBicm93c2VyLmlvcyAmJiB2aWV3LmNvbXBvc2luZykgJiZcbiAgICAgICAgICAgICAgICBtdXRhdGlvbnMuc29tZShtID0+IG0udHlwZSA9PSBcImNoaWxkTGlzdFwiICYmIG0ucmVtb3ZlZE5vZGVzLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgICAgICBtLnR5cGUgPT0gXCJjaGFyYWN0ZXJEYXRhXCIgJiYgbS5vbGRWYWx1ZS5sZW5ndGggPiBtLnRhcmdldC5ub2RlVmFsdWUubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoU29vbigpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1c2VDaGFyRGF0YSlcbiAgICAgICAgICAgIHRoaXMub25DaGFyRGF0YSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWUucHVzaCh7IHRhcmdldDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNoYXJhY3RlckRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IGV2ZW50LnByZXZWYWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoU29vbigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblNlbGVjdGlvbkNoYW5nZSA9IHRoaXMub25TZWxlY3Rpb25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vblJlc2l6ZSA9IHRoaXMub25SZXNpemUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vblByaW50ID0gdGhpcy5vblByaW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25TY3JvbGwgPSB0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcyk7XG4gICAgICAgIGlmICh0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZVNjcm9sbCA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmICgoKF9hID0gdGhpcy52aWV3LmRvY1ZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sYXN0VXBkYXRlKSA8IERhdGUubm93KCkgLSA3NSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZVNjcm9sbC5vYnNlcnZlKHZpZXcuc2Nyb2xsRE9NKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZFdpbmRvd0xpc3RlbmVycyh0aGlzLndpbiA9IHZpZXcud2luKTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICBpZiAodHlwZW9mIEludGVyc2VjdGlvbk9ic2VydmVyID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb24gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50Q2hlY2sgPCAwKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudENoZWNrID0gc2V0VGltZW91dCh0aGlzLmxpc3RlbkZvclNjcm9sbC5iaW5kKHRoaXMpLCAxMDAwKTtcbiAgICAgICAgICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPiAwICYmIChlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV0uaW50ZXJzZWN0aW9uUmF0aW8gPiAwKSAhPSB0aGlzLmludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyc2VjdGluZyA9ICF0aGlzLmludGVyc2VjdGluZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0aW5nICE9IHRoaXMudmlldy5pblZpZXcpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU2Nyb2xsQ2hhbmdlZChkb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7IHRocmVzaG9sZDogWzAsIC4wMDFdIH0pO1xuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb24ub2JzZXJ2ZSh0aGlzLmRvbSk7XG4gICAgICAgICAgICB0aGlzLmdhcEludGVyc2VjdGlvbiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPiAwICYmIGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXS5pbnRlcnNlY3Rpb25SYXRpbyA+IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25TY3JvbGxDaGFuZ2VkKGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIikpO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuRm9yU2Nyb2xsKCk7XG4gICAgICAgIHRoaXMucmVhZFNlbGVjdGlvblJhbmdlKCk7XG4gICAgfVxuICAgIG9uU2Nyb2xsQ2hhbmdlZChlKSB7XG4gICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLnJ1bkhhbmRsZXJzKFwic2Nyb2xsXCIsIGUpO1xuICAgICAgICBpZiAodGhpcy5pbnRlcnNlY3RpbmcpXG4gICAgICAgICAgICB0aGlzLnZpZXcubWVhc3VyZSgpO1xuICAgIH1cbiAgICBvblNjcm9sbChlKSB7XG4gICAgICAgIGlmICh0aGlzLmludGVyc2VjdGluZylcbiAgICAgICAgICAgIHRoaXMuZmx1c2goZmFsc2UpO1xuICAgICAgICB0aGlzLm9uU2Nyb2xsQ2hhbmdlZChlKTtcbiAgICB9XG4gICAgb25SZXNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZVRpbWVvdXQgPCAwKVxuICAgICAgICAgICAgdGhpcy5yZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVUaW1lb3V0ID0gLTE7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgICAgICAgICB9LCA1MCk7XG4gICAgfVxuICAgIG9uUHJpbnQoKSB7XG4gICAgICAgIHRoaXMudmlldy52aWV3U3RhdGUucHJpbnRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpZXcubWVhc3VyZSgpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlldy52aWV3U3RhdGUucHJpbnRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgICAgICB9LCA1MDApO1xuICAgIH1cbiAgICB1cGRhdGVHYXBzKGdhcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FwSW50ZXJzZWN0aW9uICYmIChnYXBzLmxlbmd0aCAhPSB0aGlzLmdhcHMubGVuZ3RoIHx8IHRoaXMuZ2Fwcy5zb21lKChnLCBpKSA9PiBnICE9IGdhcHNbaV0pKSkge1xuICAgICAgICAgICAgdGhpcy5nYXBJbnRlcnNlY3Rpb24uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgZ2FwIG9mIGdhcHMpXG4gICAgICAgICAgICAgICAgdGhpcy5nYXBJbnRlcnNlY3Rpb24ub2JzZXJ2ZShnYXApO1xuICAgICAgICAgICAgdGhpcy5nYXBzID0gZ2FwcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblNlbGVjdGlvbkNoYW5nZShldmVudCkge1xuICAgICAgICBsZXQgd2FzQ2hhbmdlZCA9IHRoaXMuc2VsZWN0aW9uQ2hhbmdlZDtcbiAgICAgICAgaWYgKCF0aGlzLnJlYWRTZWxlY3Rpb25SYW5nZSgpIHx8IHRoaXMuZGVsYXllZEFuZHJvaWRLZXkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXMsIHNlbCA9IHRoaXMuc2VsZWN0aW9uUmFuZ2U7XG4gICAgICAgIGlmICh2aWV3LnN0YXRlLmZhY2V0KGVkaXRhYmxlKSA/IHZpZXcucm9vdC5hY3RpdmVFbGVtZW50ICE9IHRoaXMuZG9tIDogIWhhc1NlbGVjdGlvbih2aWV3LmRvbSwgc2VsKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGNvbnRleHQgPSBzZWwuYW5jaG9yTm9kZSAmJiB2aWV3LmRvY1ZpZXcubmVhcmVzdChzZWwuYW5jaG9yTm9kZSk7XG4gICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuaWdub3JlRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIXdhc0NoYW5nZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVsZXRpb25zIG9uIElFMTEgZmlyZSB0aGVpciBldmVudHMgaW4gdGhlIHdyb25nIG9yZGVyLCBnaXZpbmdcbiAgICAgICAgLy8gdXMgYSBzZWxlY3Rpb24gY2hhbmdlIGV2ZW50IGJlZm9yZSB0aGUgRE9NIGNoYW5nZXMgYXJlXG4gICAgICAgIC8vIHJlcG9ydGVkLlxuICAgICAgICAvLyBDaHJvbWUgQW5kcm9pZCBoYXMgYSBzaW1pbGFyIGlzc3VlIHdoZW4gYmFja3NwYWNpbmcgb3V0IGFcbiAgICAgICAgLy8gc2VsZWN0aW9uICgjNjQ1KS5cbiAgICAgICAgaWYgKChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMSB8fCBicm93c2VyLmFuZHJvaWQgJiYgYnJvd3Nlci5jaHJvbWUpICYmICF2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmVtcHR5ICYmXG4gICAgICAgICAgICAvLyAoU2VsZWN0aW9uLmlzQ29sbGFwc2VkIGlzbid0IHJlbGlhYmxlIG9uIElFKVxuICAgICAgICAgICAgc2VsLmZvY3VzTm9kZSAmJiBpc0VxdWl2YWxlbnRQb3NpdGlvbihzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQsIHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KSlcbiAgICAgICAgICAgIHRoaXMuZmx1c2hTb29uKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuZmx1c2goZmFsc2UpO1xuICAgIH1cbiAgICByZWFkU2VsZWN0aW9uUmFuZ2UoKSB7XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXM7XG4gICAgICAgIC8vIFRoZSBTZWxlY3Rpb24gb2JqZWN0IGlzIGJyb2tlbiBpbiBzaGFkb3cgcm9vdHMgaW4gU2FmYXJpLiBTZWVcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NvZGVtaXJyb3IvZGV2L2lzc3Vlcy80MTRcbiAgICAgICAgbGV0IHJhbmdlID0gYnJvd3Nlci5zYWZhcmkgJiYgdmlldy5yb290Lm5vZGVUeXBlID09IDExICYmXG4gICAgICAgICAgICBkZWVwQWN0aXZlRWxlbWVudCh0aGlzLmRvbS5vd25lckRvY3VtZW50KSA9PSB0aGlzLmRvbSAmJlxuICAgICAgICAgICAgc2FmYXJpU2VsZWN0aW9uUmFuZ2VIYWNrKHRoaXMudmlldykgfHwgZ2V0U2VsZWN0aW9uKHZpZXcucm9vdCk7XG4gICAgICAgIGlmICghcmFuZ2UgfHwgdGhpcy5zZWxlY3Rpb25SYW5nZS5lcShyYW5nZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCBsb2NhbCA9IGhhc1NlbGVjdGlvbih0aGlzLmRvbSwgcmFuZ2UpO1xuICAgICAgICAvLyBEZXRlY3QgdGhlIHNpdHVhdGlvbiB3aGVyZSB0aGUgYnJvd3NlciBoYXMsIG9uIGZvY3VzLCBtb3ZlZCB0aGVcbiAgICAgICAgLy8gc2VsZWN0aW9uIHRvIHRoZSBzdGFydCBvZiB0aGUgY29udGVudCBlbGVtZW50LiBSZXNldCBpdCB0byB0aGVcbiAgICAgICAgLy8gcG9zaXRpb24gZnJvbSB0aGUgZWRpdG9yIHN0YXRlLlxuICAgICAgICBpZiAobG9jYWwgJiYgIXRoaXMuc2VsZWN0aW9uQ2hhbmdlZCAmJlxuICAgICAgICAgICAgdmlldy5pbnB1dFN0YXRlLmxhc3RGb2N1c1RpbWUgPiBEYXRlLm5vdygpIC0gMjAwICYmXG4gICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUubGFzdFRvdWNoVGltZSA8IERhdGUubm93KCkgLSAzMDAgJiZcbiAgICAgICAgICAgIGF0RWxlbWVudFN0YXJ0KHRoaXMuZG9tLCByYW5nZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLmxhc3RGb2N1c1RpbWUgPSAwO1xuICAgICAgICAgICAgdmlldy5kb2NWaWV3LnVwZGF0ZVNlbGVjdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2Uuc2V0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAobG9jYWwpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc2V0U2VsZWN0aW9uUmFuZ2UoYW5jaG9yLCBoZWFkKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2Uuc2V0KGFuY2hvci5ub2RlLCBhbmNob3Iub2Zmc2V0LCBoZWFkLm5vZGUsIGhlYWQub2Zmc2V0KTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgfVxuICAgIGNsZWFyU2VsZWN0aW9uUmFuZ2UoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2Uuc2V0KG51bGwsIDAsIG51bGwsIDApO1xuICAgIH1cbiAgICBsaXN0ZW5Gb3JTY3JvbGwoKSB7XG4gICAgICAgIHRoaXMucGFyZW50Q2hlY2sgPSAtMTtcbiAgICAgICAgbGV0IGkgPSAwLCBjaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgZG9tID0gdGhpcy5kb207IGRvbTspIHtcbiAgICAgICAgICAgIGlmIChkb20ubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgICAgIGlmICghY2hhbmdlZCAmJiBpIDwgdGhpcy5zY3JvbGxUYXJnZXRzLmxlbmd0aCAmJiB0aGlzLnNjcm9sbFRhcmdldHNbaV0gPT0gZG9tKVxuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNoYW5nZWQpXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0aGlzLnNjcm9sbFRhcmdldHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYW5nZWQpXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWQucHVzaChkb20pO1xuICAgICAgICAgICAgICAgIGRvbSA9IGRvbS5hc3NpZ25lZFNsb3QgfHwgZG9tLnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkb20ubm9kZVR5cGUgPT0gMTEpIHsgLy8gU2hhZG93IHJvb3RcbiAgICAgICAgICAgICAgICBkb20gPSBkb20uaG9zdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpIDwgdGhpcy5zY3JvbGxUYXJnZXRzLmxlbmd0aCAmJiAhY2hhbmdlZClcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0aGlzLnNjcm9sbFRhcmdldHMuc2xpY2UoMCwgaSk7XG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkb20gb2YgdGhpcy5zY3JvbGxUYXJnZXRzKVxuICAgICAgICAgICAgICAgIGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpO1xuICAgICAgICAgICAgZm9yIChsZXQgZG9tIG9mIHRoaXMuc2Nyb2xsVGFyZ2V0cyA9IGNoYW5nZWQpXG4gICAgICAgICAgICAgICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWdub3JlKGYpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybiBmKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIHJldHVybiBmKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMuZG9tLCBvYnNlcnZlT3B0aW9ucyk7XG4gICAgICAgIGlmICh1c2VDaGFyRGF0YSlcbiAgICAgICAgICAgIHRoaXMuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcIiwgdGhpcy5vbkNoYXJEYXRhKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgaWYgKHVzZUNoYXJEYXRhKVxuICAgICAgICAgICAgdGhpcy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLCB0aGlzLm9uQ2hhckRhdGEpO1xuICAgIH1cbiAgICAvLyBUaHJvdyBhd2F5IGFueSBwZW5kaW5nIGNoYW5nZXNcbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzUmVjb3JkcygpO1xuICAgICAgICB0aGlzLnF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBDaHJvbWUgQW5kcm9pZCwgZXNwZWNpYWxseSBpbiBjb21iaW5hdGlvbiB3aXRoIEdCb2FyZCwgbm90IG9ubHlcbiAgICAvLyBkb2Vzbid0IHJlbGlhYmx5IGZpcmUgcmVndWxhciBrZXkgZXZlbnRzLCBidXQgYWxzbyBvZnRlblxuICAgIC8vIHN1cnJvdW5kcyB0aGUgZWZmZWN0IG9mIGVudGVyIG9yIGJhY2tzcGFjZSB3aXRoIGEgYnVuY2ggb2ZcbiAgICAvLyBjb21wb3NpdGlvbiBldmVudHMgdGhhdCwgd2hlbiBpbnRlcnJ1cHRlZCwgY2F1c2UgdGV4dCBkdXBsaWNhdGlvblxuICAgIC8vIG9yIG90aGVyIGtpbmRzIG9mIGNvcnJ1cHRpb24uIFRoaXMgaGFjayBtYWtlcyB0aGUgZWRpdG9yIGJhY2sgb2ZmXG4gICAgLy8gZnJvbSBoYW5kbGluZyBET00gY2hhbmdlcyBmb3IgYSBtb21lbnQgd2hlbiBzdWNoIGEga2V5IGlzXG4gICAgLy8gZGV0ZWN0ZWQgKHZpYSBiZWZvcmVpbnB1dCBvciBrZXlkb3duKSwgYW5kIHRoZW4gdHJpZXMgdG8gZmx1c2hcbiAgICAvLyB0aGVtIG9yLCBpZiB0aGF0IGhhcyBubyBlZmZlY3QsIGRpc3BhdGNoZXMgdGhlIGdpdmVuIGtleS5cbiAgICBkZWxheUFuZHJvaWRLZXkoa2V5LCBrZXlDb2RlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5KSB7XG4gICAgICAgICAgICBsZXQgZmx1c2ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IHRoaXMuZGVsYXllZEFuZHJvaWRLZXk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRGVsYXllZEFuZHJvaWRLZXkoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUubGFzdEtleUNvZGUgPSBrZXkua2V5Q29kZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUubGFzdEtleVRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmx1c2hlZCA9IHRoaXMuZmx1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmbHVzaGVkICYmIGtleS5mb3JjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoS2V5KHRoaXMuZG9tLCBrZXkua2V5LCBrZXkua2V5Q29kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hpbmdBbmRyb2lkS2V5ID0gdGhpcy52aWV3Lndpbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZmx1c2gpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNpbmNlIGJhY2tzcGFjZSBiZWZvcmVpbnB1dCBpcyBzb21ldGltZXMgc2lnbmFsbGVkIHNwdXJpb3VzbHksXG4gICAgICAgIC8vIEVudGVyIGFsd2F5cyB0YWtlcyBwcmVjZWRlbmNlLlxuICAgICAgICBpZiAoIXRoaXMuZGVsYXllZEFuZHJvaWRLZXkgfHwga2V5ID09IFwiRW50ZXJcIilcbiAgICAgICAgICAgIHRoaXMuZGVsYXllZEFuZHJvaWRLZXkgPSB7XG4gICAgICAgICAgICAgICAga2V5LCBrZXlDb2RlLFxuICAgICAgICAgICAgICAgIC8vIE9ubHkgcnVuIHRoZSBrZXkgaGFuZGxlciB3aGVuIG5vIGNoYW5nZXMgYXJlIGRldGVjdGVkIGlmXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpc24ndCBjb21pbmcgcmlnaHQgYWZ0ZXIgYW5vdGhlciBjaGFuZ2UsIGluIHdoaWNoIGNhc2VcbiAgICAgICAgICAgICAgICAvLyBpdCBpcyBwcm9iYWJseSBwYXJ0IG9mIGEgd2VpcmQgY2hhaW4gb2YgdXBkYXRlcywgYW5kIHNob3VsZFxuICAgICAgICAgICAgICAgIC8vIGJlIGlnbm9yZWQgaWYgaXQgcmV0dXJucyB0aGUgRE9NIHRvIGl0cyBwcmV2aW91cyBzdGF0ZS5cbiAgICAgICAgICAgICAgICBmb3JjZTogdGhpcy5sYXN0Q2hhbmdlIDwgRGF0ZS5ub3coKSAtIDUwIHx8ICEhKChfYSA9IHRoaXMuZGVsYXllZEFuZHJvaWRLZXkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JjZSlcbiAgICAgICAgICAgIH07XG4gICAgfVxuICAgIGNsZWFyRGVsYXllZEFuZHJvaWRLZXkoKSB7XG4gICAgICAgIHRoaXMud2luLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZmx1c2hpbmdBbmRyb2lkS2V5KTtcbiAgICAgICAgdGhpcy5kZWxheWVkQW5kcm9pZEtleSA9IG51bGw7XG4gICAgICAgIHRoaXMuZmx1c2hpbmdBbmRyb2lkS2V5ID0gLTE7XG4gICAgfVxuICAgIGZsdXNoU29vbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsYXllZEZsdXNoIDwgMClcbiAgICAgICAgICAgIHRoaXMuZGVsYXllZEZsdXNoID0gdGhpcy52aWV3Lndpbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4geyB0aGlzLmRlbGF5ZWRGbHVzaCA9IC0xOyB0aGlzLmZsdXNoKCk7IH0pO1xuICAgIH1cbiAgICBmb3JjZUZsdXNoKCkge1xuICAgICAgICBpZiAodGhpcy5kZWxheWVkRmx1c2ggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Lndpbi5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmRlbGF5ZWRGbHVzaCk7XG4gICAgICAgICAgICB0aGlzLmRlbGF5ZWRGbHVzaCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9XG4gICAgcGVuZGluZ1JlY29yZHMoKSB7XG4gICAgICAgIGZvciAobGV0IG11dCBvZiB0aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCkpXG4gICAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2gobXV0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVldWU7XG4gICAgfVxuICAgIHByb2Nlc3NSZWNvcmRzKCkge1xuICAgICAgICBsZXQgcmVjb3JkcyA9IHRoaXMucGVuZGluZ1JlY29yZHMoKTtcbiAgICAgICAgaWYgKHJlY29yZHMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgZnJvbSA9IC0xLCB0byA9IC0xLCB0eXBlT3ZlciA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gdGhpcy5yZWFkTXV0YXRpb24ocmVjb3JkKTtcbiAgICAgICAgICAgIGlmICghcmFuZ2UpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAocmFuZ2UudHlwZU92ZXIpXG4gICAgICAgICAgICAgICAgdHlwZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGZyb20gPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAoeyBmcm9tLCB0byB9ID0gcmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJvbSA9IE1hdGgubWluKHJhbmdlLmZyb20sIGZyb20pO1xuICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgocmFuZ2UudG8sIHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmcm9tLCB0bywgdHlwZU92ZXIgfTtcbiAgICB9XG4gICAgcmVhZENoYW5nZSgpIHtcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8sIHR5cGVPdmVyIH0gPSB0aGlzLnByb2Nlc3NSZWNvcmRzKCk7XG4gICAgICAgIGxldCBuZXdTZWwgPSB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgJiYgaGFzU2VsZWN0aW9uKHRoaXMuZG9tLCB0aGlzLnNlbGVjdGlvblJhbmdlKTtcbiAgICAgICAgaWYgKGZyb20gPCAwICYmICFuZXdTZWwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKGZyb20gPiAtMSlcbiAgICAgICAgICAgIHRoaXMubGFzdENoYW5nZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLmxhc3RGb2N1c1RpbWUgPSAwO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNoYW5nZSA9IG5ldyBET01DaGFuZ2UodGhpcy52aWV3LCBmcm9tLCB0bywgdHlwZU92ZXIpO1xuICAgICAgICB0aGlzLnZpZXcuZG9jVmlldy5kb21DaGFuZ2VkID0geyBuZXdTZWw6IGNoYW5nZS5uZXdTZWwgPyBjaGFuZ2UubmV3U2VsLm1haW4gOiBudWxsIH07XG4gICAgICAgIHJldHVybiBjaGFuZ2U7XG4gICAgfVxuICAgIC8vIEFwcGx5IHBlbmRpbmcgY2hhbmdlcywgaWYgYW55XG4gICAgZmx1c2gocmVhZFNlbGVjdGlvbiA9IHRydWUpIHtcbiAgICAgICAgLy8gQ29tcGxldGVseSBob2xkIG9mZiBmbHVzaGluZyB3aGVuIHBlbmRpbmcga2V5cyBhcmUgc2V04oCUdGhlIGNvZGVcbiAgICAgICAgLy8gbWFuYWdpbmcgdGhvc2Ugd2lsbCBtYWtlIHN1cmUgcHJvY2Vzc1JlY29yZHMgaXMgY2FsbGVkIGFuZCB0aGVcbiAgICAgICAgLy8gdmlldyBpcyByZXN5bmNocm9uaXplZCBhZnRlclxuICAgICAgICBpZiAodGhpcy5kZWxheWVkRmx1c2ggPj0gMCB8fCB0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAocmVhZFNlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMucmVhZFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGxldCBkb21DaGFuZ2UgPSB0aGlzLnJlYWRDaGFuZ2UoKTtcbiAgICAgICAgaWYgKCFkb21DaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydFN0YXRlID0gdGhpcy52aWV3LnN0YXRlO1xuICAgICAgICBsZXQgaGFuZGxlZCA9IGFwcGx5RE9NQ2hhbmdlKHRoaXMudmlldywgZG9tQ2hhbmdlKTtcbiAgICAgICAgLy8gVGhlIHZpZXcgd2Fzbid0IHVwZGF0ZWRcbiAgICAgICAgaWYgKHRoaXMudmlldy5zdGF0ZSA9PSBzdGFydFN0YXRlKVxuICAgICAgICAgICAgdGhpcy52aWV3LnVwZGF0ZShbXSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVkO1xuICAgIH1cbiAgICByZWFkTXV0YXRpb24ocmVjKSB7XG4gICAgICAgIGxldCBjVmlldyA9IHRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3QocmVjLnRhcmdldCk7XG4gICAgICAgIGlmICghY1ZpZXcgfHwgY1ZpZXcuaWdub3JlTXV0YXRpb24ocmVjKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjVmlldy5tYXJrRGlydHkocmVjLnR5cGUgPT0gXCJhdHRyaWJ1dGVzXCIpO1xuICAgICAgICBpZiAocmVjLnR5cGUgPT0gXCJhdHRyaWJ1dGVzXCIpXG4gICAgICAgICAgICBjVmlldy5mbGFncyB8PSA0IC8qIFZpZXdGbGFnLkF0dHJzRGlydHkgKi87XG4gICAgICAgIGlmIChyZWMudHlwZSA9PSBcImNoaWxkTGlzdFwiKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGRCZWZvcmUgPSBmaW5kQ2hpbGQoY1ZpZXcsIHJlYy5wcmV2aW91c1NpYmxpbmcgfHwgcmVjLnRhcmdldC5wcmV2aW91c1NpYmxpbmcsIC0xKTtcbiAgICAgICAgICAgIGxldCBjaGlsZEFmdGVyID0gZmluZENoaWxkKGNWaWV3LCByZWMubmV4dFNpYmxpbmcgfHwgcmVjLnRhcmdldC5uZXh0U2libGluZywgMSk7XG4gICAgICAgICAgICByZXR1cm4geyBmcm9tOiBjaGlsZEJlZm9yZSA/IGNWaWV3LnBvc0FmdGVyKGNoaWxkQmVmb3JlKSA6IGNWaWV3LnBvc0F0U3RhcnQsXG4gICAgICAgICAgICAgICAgdG86IGNoaWxkQWZ0ZXIgPyBjVmlldy5wb3NCZWZvcmUoY2hpbGRBZnRlcikgOiBjVmlldy5wb3NBdEVuZCwgdHlwZU92ZXI6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVjLnR5cGUgPT0gXCJjaGFyYWN0ZXJEYXRhXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGZyb206IGNWaWV3LnBvc0F0U3RhcnQsIHRvOiBjVmlldy5wb3NBdEVuZCwgdHlwZU92ZXI6IHJlYy50YXJnZXQubm9kZVZhbHVlID09IHJlYy5vbGRWYWx1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0V2luZG93KHdpbikge1xuICAgICAgICBpZiAod2luICE9IHRoaXMud2luKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVdpbmRvd0xpc3RlbmVycyh0aGlzLndpbik7XG4gICAgICAgICAgICB0aGlzLndpbiA9IHdpbjtcbiAgICAgICAgICAgIHRoaXMuYWRkV2luZG93TGlzdGVuZXJzKHRoaXMud2luKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRXaW5kb3dMaXN0ZW5lcnMod2luKSB7XG4gICAgICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMub25SZXNpemUpO1xuICAgICAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXByaW50XCIsIHRoaXMub25QcmludCk7XG4gICAgICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpO1xuICAgICAgICB3aW4uZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKTtcbiAgICB9XG4gICAgcmVtb3ZlV2luZG93TGlzdGVuZXJzKHdpbikge1xuICAgICAgICB3aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgICAgd2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5vblJlc2l6ZSk7XG4gICAgICAgIHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JlcHJpbnRcIiwgdGhpcy5vblByaW50KTtcbiAgICAgICAgd2luLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgdGhpcy5vblNlbGVjdGlvbkNoYW5nZSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgKF9hID0gdGhpcy5pbnRlcnNlY3Rpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNjb25uZWN0KCk7XG4gICAgICAgIChfYiA9IHRoaXMuZ2FwSW50ZXJzZWN0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAoX2MgPSB0aGlzLnJlc2l6ZVNjcm9sbCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgZm9yIChsZXQgZG9tIG9mIHRoaXMuc2Nyb2xsVGFyZ2V0cylcbiAgICAgICAgICAgIGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpO1xuICAgICAgICB0aGlzLnJlbW92ZVdpbmRvd0xpc3RlbmVycyh0aGlzLndpbik7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBhcmVudENoZWNrKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dCk7XG4gICAgICAgIHRoaXMud2luLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZGVsYXllZEZsdXNoKTtcbiAgICAgICAgdGhpcy53aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5mbHVzaGluZ0FuZHJvaWRLZXkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZpbmRDaGlsZChjVmlldywgZG9tLCBkaXIpIHtcbiAgICB3aGlsZSAoZG9tKSB7XG4gICAgICAgIGxldCBjdXJWaWV3ID0gQ29udGVudFZpZXcuZ2V0KGRvbSk7XG4gICAgICAgIGlmIChjdXJWaWV3ICYmIGN1clZpZXcucGFyZW50ID09IGNWaWV3KVxuICAgICAgICAgICAgcmV0dXJuIGN1clZpZXc7XG4gICAgICAgIGxldCBwYXJlbnQgPSBkb20ucGFyZW50Tm9kZTtcbiAgICAgICAgZG9tID0gcGFyZW50ICE9IGNWaWV3LmRvbSA/IHBhcmVudCA6IGRpciA+IDAgPyBkb20ubmV4dFNpYmxpbmcgOiBkb20ucHJldmlvdXNTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8vIFVzZWQgdG8gd29yayBhcm91bmQgYSBTYWZhcmkgU2VsZWN0aW9uL3NoYWRvdyBET00gYnVnICgjNDE0KVxuZnVuY3Rpb24gc2FmYXJpU2VsZWN0aW9uUmFuZ2VIYWNrKHZpZXcpIHtcbiAgICBsZXQgZm91bmQgPSBudWxsO1xuICAgIC8vIEJlY2F1c2UgU2FmYXJpIChhdCBsZWFzdCBpbiAyMDE4LTIwMjEpIGRvZXNuJ3QgcHJvdmlkZSByZWd1bGFyXG4gICAgLy8gYWNjZXNzIHRvIHRoZSBzZWxlY3Rpb24gaW5zaWRlIGEgc2hhZG93cm9vdCwgd2UgaGF2ZSB0byBwZXJmb3JtIGFcbiAgICAvLyByaWRpY3Vsb3VzIGhhY2sgdG8gZ2V0IGF0IGl04oCUdXNpbmcgYGV4ZWNDb21tYW5kYCB0byB0cmlnZ2VyIGFcbiAgICAvLyBgYmVmb3JlSW5wdXRgIGV2ZW50IHNvIHRoYXQgd2UgY2FuIHJlYWQgdGhlIHRhcmdldCByYW5nZSBmcm9tIHRoZVxuICAgIC8vIGV2ZW50LlxuICAgIGZ1bmN0aW9uIHJlYWQoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGZvdW5kID0gZXZlbnQuZ2V0VGFyZ2V0UmFuZ2VzKClbMF07XG4gICAgfVxuICAgIHZpZXcuY29udGVudERPTS5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JlaW5wdXRcIiwgcmVhZCwgdHJ1ZSk7XG4gICAgdmlldy5kb20ub3duZXJEb2N1bWVudC5leGVjQ29tbWFuZChcImluZGVudFwiKTtcbiAgICB2aWV3LmNvbnRlbnRET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZWlucHV0XCIsIHJlYWQsIHRydWUpO1xuICAgIGlmICghZm91bmQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBhbmNob3JOb2RlID0gZm91bmQuc3RhcnRDb250YWluZXIsIGFuY2hvck9mZnNldCA9IGZvdW5kLnN0YXJ0T2Zmc2V0O1xuICAgIGxldCBmb2N1c05vZGUgPSBmb3VuZC5lbmRDb250YWluZXIsIGZvY3VzT2Zmc2V0ID0gZm91bmQuZW5kT2Zmc2V0O1xuICAgIGxldCBjdXJBbmNob3IgPSB2aWV3LmRvY1ZpZXcuZG9tQXRQb3Modmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5hbmNob3IpO1xuICAgIC8vIFNpbmNlIHN1Y2ggYSByYW5nZSBkb2Vzbid0IGRpc3Rpbmd1aXNoIGJldHdlZW4gYW5jaG9yIGFuZCBoZWFkLFxuICAgIC8vIHVzZSBhIGhldXJpc3RpYyB0aGF0IGZsaXBzIGl0IGFyb3VuZCBpZiBpdHMgZW5kIG1hdGNoZXMgdGhlXG4gICAgLy8gY3VycmVudCBhbmNob3IuXG4gICAgaWYgKGlzRXF1aXZhbGVudFBvc2l0aW9uKGN1ckFuY2hvci5ub2RlLCBjdXJBbmNob3Iub2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KSlcbiAgICAgICAgW2FuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldF0gPSBbZm9jdXNOb2RlLCBmb2N1c09mZnNldCwgYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0XTtcbiAgICByZXR1cm4geyBhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQsIGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQgfTtcbn1cblxuLy8gVGhlIGVkaXRvcidzIHVwZGF0ZSBzdGF0ZSBtYWNoaW5lIGxvb2tzIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4vL1xuLy8gICAgIElkbGUg4oaSIFVwZGF0aW5nIOKHhiBJZGxlICh1bmNoZWNrZWQpIOKGkiBNZWFzdXJpbmcg4oaSIElkbGVcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDihpEgICAgICDihpNcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVcGRhdGluZyAobWVhc3VyZSlcbi8vXG4vLyBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuICdJZGxlJyBhbmQgJ0lkbGUgKHVuY2hlY2tlZCknIGxpZXMgaW5cbi8vIHdoZXRoZXIgYSBsYXlvdXQgY2hlY2sgaGFzIGJlZW4gc2NoZWR1bGVkLiBBIHJlZ3VsYXIgdXBkYXRlIHRocm91Z2hcbi8vIHRoZSBgdXBkYXRlYCBtZXRob2QgdXBkYXRlcyB0aGUgRE9NIGluIGEgd3JpdGUtb25seSBmYXNoaW9uLCBhbmRcbi8vIHJlbGllcyBvbiBhIGNoZWNrIChzY2hlZHVsZWQgd2l0aCBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCkgdG8gbWFrZVxuLy8gc3VyZSBldmVyeXRoaW5nIGlzIHdoZXJlIGl0IHNob3VsZCBiZSBhbmQgdGhlIHZpZXdwb3J0IGNvdmVycyB0aGVcbi8vIHZpc2libGUgY29kZS4gVGhhdCBjaGVjayBjb250aW51ZXMgdG8gbWVhc3VyZSBhbmQgdGhlbiBvcHRpb25hbGx5XG4vLyB1cGRhdGUgdW50aWwgaXQgcmVhY2hlcyBhIGNvaGVyZW50IHN0YXRlLlxuLyoqXG5BbiBlZGl0b3IgdmlldyByZXByZXNlbnRzIHRoZSBlZGl0b3IncyB1c2VyIGludGVyZmFjZS4gSXQgaG9sZHNcbnRoZSBlZGl0YWJsZSBET00gc3VyZmFjZSwgYW5kIHBvc3NpYmx5IG90aGVyIGVsZW1lbnRzIHN1Y2ggYXMgdGhlXG5saW5lIG51bWJlciBndXR0ZXIuIEl0IGhhbmRsZXMgZXZlbnRzIGFuZCBkaXNwYXRjaGVzIHN0YXRlXG50cmFuc2FjdGlvbnMgZm9yIGVkaXRpbmcgYWN0aW9ucy5cbiovXG5jbGFzcyBFZGl0b3JWaWV3IHtcbiAgICAvKipcbiAgICBUaGUgY3VycmVudCBlZGl0b3Igc3RhdGUuXG4gICAgKi9cbiAgICBnZXQgc3RhdGUoKSB7IHJldHVybiB0aGlzLnZpZXdTdGF0ZS5zdGF0ZTsgfVxuICAgIC8qKlxuICAgIFRvIGJlIGFibGUgdG8gZGlzcGxheSBsYXJnZSBkb2N1bWVudHMgd2l0aG91dCBjb25zdW1pbmcgdG9vIG11Y2hcbiAgICBtZW1vcnkgb3Igb3ZlcmxvYWRpbmcgdGhlIGJyb3dzZXIsIENvZGVNaXJyb3Igb25seSBkcmF3cyB0aGVcbiAgICBjb2RlIHRoYXQgaXMgdmlzaWJsZSAocGx1cyBhIG1hcmdpbiBhcm91bmQgaXQpIHRvIHRoZSBET00uIFRoaXNcbiAgICBwcm9wZXJ0eSB0ZWxscyB5b3UgdGhlIGV4dGVudCBvZiB0aGUgY3VycmVudCBkcmF3biB2aWV3cG9ydCwgaW5cbiAgICBkb2N1bWVudCBwb3NpdGlvbnMuXG4gICAgKi9cbiAgICBnZXQgdmlld3BvcnQoKSB7IHJldHVybiB0aGlzLnZpZXdTdGF0ZS52aWV3cG9ydDsgfVxuICAgIC8qKlxuICAgIFdoZW4gdGhlcmUgYXJlLCBmb3IgZXhhbXBsZSwgbGFyZ2UgY29sbGFwc2VkIHJhbmdlcyBpbiB0aGVcbiAgICB2aWV3cG9ydCwgaXRzIHNpemUgY2FuIGJlIGEgbG90IGJpZ2dlciB0aGFuIHRoZSBhY3R1YWwgdmlzaWJsZVxuICAgIGNvbnRlbnQuIFRodXMsIGlmIHlvdSBhcmUgZG9pbmcgc29tZXRoaW5nIGxpa2Ugc3R5bGluZyB0aGVcbiAgICBjb250ZW50IGluIHRoZSB2aWV3cG9ydCwgaXQgaXMgcHJlZmVyYWJsZSB0byBvbmx5IGRvIHNvIGZvclxuICAgIHRoZXNlIHJhbmdlcywgd2hpY2ggYXJlIHRoZSBzdWJzZXQgb2YgdGhlIHZpZXdwb3J0IHRoYXQgaXNcbiAgICBhY3R1YWxseSBkcmF3bi5cbiAgICAqL1xuICAgIGdldCB2aXNpYmxlUmFuZ2VzKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUudmlzaWJsZVJhbmdlczsgfVxuICAgIC8qKlxuICAgIFJldHVybnMgZmFsc2Ugd2hlbiB0aGUgZWRpdG9yIGlzIGVudGlyZWx5IHNjcm9sbGVkIG91dCBvZiB2aWV3XG4gICAgb3Igb3RoZXJ3aXNlIGhpZGRlbi5cbiAgICAqL1xuICAgIGdldCBpblZpZXcoKSB7IHJldHVybiB0aGlzLnZpZXdTdGF0ZS5pblZpZXc7IH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdXNlciBpcyBjdXJyZW50bHkgY29tcG9zaW5nIHRleHQgdmlhXG4gICAgW0lNRV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSW5wdXRfbWV0aG9kKSwgYW5kIGF0IGxlYXN0XG4gICAgb25lIGNoYW5nZSBoYXMgYmVlbiBtYWRlIGluIHRoZSBjdXJyZW50IGNvbXBvc2l0aW9uLlxuICAgICovXG4gICAgZ2V0IGNvbXBvc2luZygpIHsgcmV0dXJuIHRoaXMuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPiAwOyB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHVzZXIgaXMgY3VycmVudGx5IGluIGNvbXBvc2luZyBzdGF0ZS4gTm90ZVxuICAgIHRoYXQgb24gc29tZSBwbGF0Zm9ybXMsIGxpa2UgQW5kcm9pZCwgdGhpcyB3aWxsIGJlIHRoZSBjYXNlIGFcbiAgICBsb3QsIHNpbmNlIGp1c3QgcHV0dGluZyB0aGUgY3Vyc29yIG9uIGEgd29yZCBzdGFydHMgYVxuICAgIGNvbXBvc2l0aW9uIHRoZXJlLlxuICAgICovXG4gICAgZ2V0IGNvbXBvc2l0aW9uU3RhcnRlZCgpIHsgcmV0dXJuIHRoaXMuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPj0gMDsgfVxuICAgIC8qKlxuICAgIFRoZSBkb2N1bWVudCBvciBzaGFkb3cgcm9vdCB0aGF0IHRoZSB2aWV3IGxpdmVzIGluLlxuICAgICovXG4gICAgZ2V0IHJvb3QoKSB7IHJldHVybiB0aGlzLl9yb290OyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgd2luKCkgeyByZXR1cm4gdGhpcy5kb20ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3c7IH1cbiAgICAvKipcbiAgICBDb25zdHJ1Y3QgYSBuZXcgdmlldy4gWW91J2xsIHdhbnQgdG8gZWl0aGVyIHByb3ZpZGUgYSBgcGFyZW50YFxuICAgIG9wdGlvbiwgb3IgcHV0IGB2aWV3LmRvbWAgaW50byB5b3VyIGRvY3VtZW50IGFmdGVyIGNyZWF0aW5nIGFcbiAgICB2aWV3LCBzbyB0aGF0IHRoZSB1c2VyIGNhbiBzZWUgdGhlIGVkaXRvci5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHRoaXMucGx1Z2lucyA9IFtdO1xuICAgICAgICB0aGlzLnBsdWdpbk1hcCA9IG5ldyBNYXA7XG4gICAgICAgIHRoaXMuZWRpdG9yQXR0cnMgPSB7fTtcbiAgICAgICAgdGhpcy5jb250ZW50QXR0cnMgPSB7fTtcbiAgICAgICAgdGhpcy5iaWRpQ2FjaGUgPSBbXTtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMiAvKiBVcGRhdGVTdGF0ZS5VcGRhdGluZyAqLztcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLm1lYXN1cmVTY2hlZHVsZWQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLm1lYXN1cmVSZXF1ZXN0cyA9IFtdO1xuICAgICAgICB0aGlzLmNvbnRlbnRET00gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnNjcm9sbERPTSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuc2Nyb2xsRE9NLnRhYkluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuc2Nyb2xsRE9NLmNsYXNzTmFtZSA9IFwiY20tc2Nyb2xsZXJcIjtcbiAgICAgICAgdGhpcy5zY3JvbGxET00uYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50RE9NKTtcbiAgICAgICAgdGhpcy5hbm5vdW5jZURPTSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuYW5ub3VuY2VET00uc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGZpeGVkOyB0b3A6IC0xMDAwMHB4XCI7XG4gICAgICAgIHRoaXMuYW5ub3VuY2VET00uc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xuICAgICAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKHRoaXMuYW5ub3VuY2VET00pO1xuICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZCh0aGlzLnNjcm9sbERPTSk7XG4gICAgICAgIGxldCB7IGRpc3BhdGNoIH0gPSBjb25maWc7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hUcmFuc2FjdGlvbnMgPSBjb25maWcuZGlzcGF0Y2hUcmFuc2FjdGlvbnMgfHxcbiAgICAgICAgICAgIChkaXNwYXRjaCAmJiAoKHRycykgPT4gdHJzLmZvckVhY2godHIgPT4gZGlzcGF0Y2godHIsIHRoaXMpKSkpIHx8XG4gICAgICAgICAgICAoKHRycykgPT4gdGhpcy51cGRhdGUodHJzKSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2ggPSB0aGlzLmRpc3BhdGNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSAoY29uZmlnLnJvb3QgfHwgZ2V0Um9vdChjb25maWcucGFyZW50KSB8fCBkb2N1bWVudCk7XG4gICAgICAgIHRoaXMudmlld1N0YXRlID0gbmV3IFZpZXdTdGF0ZShjb25maWcuc3RhdGUgfHwgRWRpdG9yU3RhdGUuY3JlYXRlKGNvbmZpZykpO1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSB0aGlzLnN0YXRlLmZhY2V0KHZpZXdQbHVnaW4pLm1hcChzcGVjID0+IG5ldyBQbHVnaW5JbnN0YW5jZShzcGVjKSk7XG4gICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICBwbHVnaW4udXBkYXRlKHRoaXMpO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gbmV3IERPTU9ic2VydmVyKHRoaXMpO1xuICAgICAgICB0aGlzLmlucHV0U3RhdGUgPSBuZXcgSW5wdXRTdGF0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5pbnB1dFN0YXRlLmVuc3VyZUhhbmRsZXJzKHRoaXMucGx1Z2lucyk7XG4gICAgICAgIHRoaXMuZG9jVmlldyA9IG5ldyBEb2NWaWV3KHRoaXMpO1xuICAgICAgICB0aGlzLm1vdW50U3R5bGVzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQXR0cnMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLztcbiAgICAgICAgdGhpcy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgICAgICBpZiAoY29uZmlnLnBhcmVudClcbiAgICAgICAgICAgIGNvbmZpZy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5kb20pO1xuICAgIH1cbiAgICBkaXNwYXRjaCguLi5pbnB1dCkge1xuICAgICAgICBsZXQgdHJzID0gaW5wdXQubGVuZ3RoID09IDEgJiYgaW5wdXRbMF0gaW5zdGFuY2VvZiBUcmFuc2FjdGlvbiA/IGlucHV0XG4gICAgICAgICAgICA6IGlucHV0Lmxlbmd0aCA9PSAxICYmIEFycmF5LmlzQXJyYXkoaW5wdXRbMF0pID8gaW5wdXRbMF1cbiAgICAgICAgICAgICAgICA6IFt0aGlzLnN0YXRlLnVwZGF0ZSguLi5pbnB1dCldO1xuICAgICAgICB0aGlzLmRpc3BhdGNoVHJhbnNhY3Rpb25zKHRycywgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSB0aGUgdmlldyBmb3IgdGhlIGdpdmVuIGFycmF5IG9mIHRyYW5zYWN0aW9ucy4gVGhpcyB3aWxsXG4gICAgdXBkYXRlIHRoZSB2aXNpYmxlIGRvY3VtZW50IGFuZCBzZWxlY3Rpb24gdG8gbWF0Y2ggdGhlIHN0YXRlXG4gICAgcHJvZHVjZWQgYnkgdGhlIHRyYW5zYWN0aW9ucywgYW5kIG5vdGlmeSB2aWV3IHBsdWdpbnMgb2YgdGhlXG4gICAgY2hhbmdlLiBZb3Ugc2hvdWxkIHVzdWFsbHkgY2FsbFxuICAgIFtgZGlzcGF0Y2hgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kaXNwYXRjaCkgaW5zdGVhZCwgd2hpY2ggdXNlcyB0aGlzXG4gICAgYXMgYSBwcmltaXRpdmUuXG4gICAgKi9cbiAgICB1cGRhdGUodHJhbnNhY3Rpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlICE9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbGxzIHRvIEVkaXRvclZpZXcudXBkYXRlIGFyZSBub3QgYWxsb3dlZCB3aGlsZSBhbiB1cGRhdGUgaXMgaW4gcHJvZ3Jlc3NcIik7XG4gICAgICAgIGxldCByZWRyYXduID0gZmFsc2UsIGF0dHJzQ2hhbmdlZCA9IGZhbHNlLCB1cGRhdGU7XG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGZvciAobGV0IHRyIG9mIHRyYW5zYWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKHRyLnN0YXJ0U3RhdGUgIT0gc3RhdGUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gdXBkYXRlIHN0YXRlIHdpdGggYSB0cmFuc2FjdGlvbiB0aGF0IGRvZXNuJ3Qgc3RhcnQgZnJvbSB0aGUgcHJldmlvdXMgc3RhdGUuXCIpO1xuICAgICAgICAgICAgc3RhdGUgPSB0ci5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZvY3VzID0gdGhpcy5oYXNGb2N1cywgZm9jdXNGbGFnID0gMCwgZGlzcGF0Y2hGb2N1cyA9IG51bGw7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbnMuc29tZSh0ciA9PiB0ci5hbm5vdGF0aW9uKGlzRm9jdXNDaGFuZ2UpKSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLm5vdGlmaWVkRm9jdXNlZCA9IGZvY3VzO1xuICAgICAgICAgICAgLy8gSWYgYSBmb2N1cy1jaGFuZ2UgdHJhbnNhY3Rpb24gaXMgYmVpbmcgZGlzcGF0Y2hlZCwgc2V0IHRoaXMgdXBkYXRlIGZsYWcuXG4gICAgICAgICAgICBmb2N1c0ZsYWcgPSAxIC8qIFVwZGF0ZUZsYWcuRm9jdXMgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm9jdXMgIT0gdGhpcy5pbnB1dFN0YXRlLm5vdGlmaWVkRm9jdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLm5vdGlmaWVkRm9jdXNlZCA9IGZvY3VzO1xuICAgICAgICAgICAgLy8gU2NoZWR1bGUgYSBzZXBhcmF0ZSBmb2N1cyB0cmFuc2FjdGlvbiBpZiBuZWNlc3NhcnksIG90aGVyd2lzZVxuICAgICAgICAgICAgLy8gYWRkIGEgZmxhZyB0byB0aGlzIHVwZGF0ZVxuICAgICAgICAgICAgZGlzcGF0Y2hGb2N1cyA9IGZvY3VzQ2hhbmdlVHJhbnNhY3Rpb24oc3RhdGUsIGZvY3VzKTtcbiAgICAgICAgICAgIGlmICghZGlzcGF0Y2hGb2N1cylcbiAgICAgICAgICAgICAgICBmb2N1c0ZsYWcgPSAxIC8qIFVwZGF0ZUZsYWcuRm9jdXMgKi87XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgd2FzIGEgcGVuZGluZyBET00gY2hhbmdlLCBlYWdlcmx5IHJlYWQgaXQgYW5kIHRyeSB0b1xuICAgICAgICAvLyBhcHBseSBpdCBhZnRlciB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb25zLlxuICAgICAgICBsZXQgcGVuZGluZ0tleSA9IHRoaXMub2JzZXJ2ZXIuZGVsYXllZEFuZHJvaWRLZXksIGRvbUNoYW5nZSA9IG51bGw7XG4gICAgICAgIGlmIChwZW5kaW5nS2V5KSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLmNsZWFyRGVsYXllZEFuZHJvaWRLZXkoKTtcbiAgICAgICAgICAgIGRvbUNoYW5nZSA9IHRoaXMub2JzZXJ2ZXIucmVhZENoYW5nZSgpO1xuICAgICAgICAgICAgLy8gT25seSB0cnkgdG8gYXBwbHkgRE9NIGNoYW5nZXMgaWYgdGhlIHRyYW5zYWN0aW9ucyBkaWRuJ3RcbiAgICAgICAgICAgIC8vIGNoYW5nZSB0aGUgZG9jIG9yIHNlbGVjdGlvbi5cbiAgICAgICAgICAgIGlmIChkb21DaGFuZ2UgJiYgIXRoaXMuc3RhdGUuZG9jLmVxKHN0YXRlLmRvYykgfHwgIXRoaXMuc3RhdGUuc2VsZWN0aW9uLmVxKHN0YXRlLnNlbGVjdGlvbikpXG4gICAgICAgICAgICAgICAgZG9tQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoZSBwaHJhc2VzIGNoYW5nZSwgcmVkcmF3IHRoZSBlZGl0b3JcbiAgICAgICAgaWYgKHN0YXRlLmZhY2V0KEVkaXRvclN0YXRlLnBocmFzZXMpICE9IHRoaXMuc3RhdGUuZmFjZXQoRWRpdG9yU3RhdGUucGhyYXNlcykpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgICAgIHVwZGF0ZSA9IFZpZXdVcGRhdGUuY3JlYXRlKHRoaXMsIHN0YXRlLCB0cmFuc2FjdGlvbnMpO1xuICAgICAgICB1cGRhdGUuZmxhZ3MgfD0gZm9jdXNGbGFnO1xuICAgICAgICBsZXQgc2Nyb2xsVGFyZ2V0ID0gdGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDIgLyogVXBkYXRlU3RhdGUuVXBkYXRpbmcgKi87XG4gICAgICAgICAgICBmb3IgKGxldCB0ciBvZiB0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUYXJnZXQgPSBzY3JvbGxUYXJnZXQubWFwKHRyLmNoYW5nZXMpO1xuICAgICAgICAgICAgICAgIGlmICh0ci5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgeyBtYWluIH0gPSB0ci5zdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRhcmdldCA9IG5ldyBTY3JvbGxUYXJnZXQobWFpbi5lbXB0eSA/IG1haW4gOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKG1haW4uaGVhZCwgbWFpbi5oZWFkID4gbWFpbi5hbmNob3IgPyAtMSA6IDEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZSBvZiB0ci5lZmZlY3RzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5pcyhzY3JvbGxJbnRvVmlldykpXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUYXJnZXQgPSBlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52aWV3U3RhdGUudXBkYXRlKHVwZGF0ZSwgc2Nyb2xsVGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuYmlkaUNhY2hlID0gQ2FjaGVkT3JkZXIudXBkYXRlKHRoaXMuYmlkaUNhY2hlLCB1cGRhdGUuY2hhbmdlcyk7XG4gICAgICAgICAgICBpZiAoIXVwZGF0ZS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGx1Z2lucyh1cGRhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZS51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlZHJhd24gPSB0aGlzLmRvY1ZpZXcudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5mYWNldChzdHlsZU1vZHVsZSkgIT0gdGhpcy5zdHlsZU1vZHVsZXMpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3VudFN0eWxlcygpO1xuICAgICAgICAgICAgYXR0cnNDaGFuZ2VkID0gdGhpcy51cGRhdGVBdHRycygpO1xuICAgICAgICAgICAgdGhpcy5zaG93QW5ub3VuY2VtZW50cyh0cmFuc2FjdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5kb2NWaWV3LnVwZGF0ZVNlbGVjdGlvbihyZWRyYXduLCB0cmFuc2FjdGlvbnMuc29tZSh0ciA9PiB0ci5pc1VzZXJFdmVudChcInNlbGVjdC5wb2ludGVyXCIpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldCh0aGVtZSkgIT0gdXBkYXRlLnN0YXRlLmZhY2V0KHRoZW1lKSlcbiAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLm11c3RNZWFzdXJlQ29udGVudCA9IHRydWU7XG4gICAgICAgIGlmIChyZWRyYXduIHx8IGF0dHJzQ2hhbmdlZCB8fCBzY3JvbGxUYXJnZXQgfHwgdGhpcy52aWV3U3RhdGUubXVzdEVuZm9yY2VDdXJzb3JBc3NvYyB8fCB0aGlzLnZpZXdTdGF0ZS5tdXN0TWVhc3VyZUNvbnRlbnQpXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgICAgIGlmICghdXBkYXRlLmVtcHR5KVxuICAgICAgICAgICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgdGhpcy5zdGF0ZS5mYWNldCh1cGRhdGVMaXN0ZW5lcikpXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIodXBkYXRlKTtcbiAgICAgICAgaWYgKGRpc3BhdGNoRm9jdXMgfHwgZG9tQ2hhbmdlKVxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3BhdGNoRm9jdXMgJiYgdGhpcy5zdGF0ZSA9PSBkaXNwYXRjaEZvY3VzLnN0YXJ0U3RhdGUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goZGlzcGF0Y2hGb2N1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbUNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFwcGx5RE9NQ2hhbmdlKHRoaXMsIGRvbUNoYW5nZSkgJiYgcGVuZGluZ0tleS5mb3JjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoS2V5KHRoaXMuY29udGVudERPTSwgcGVuZGluZ0tleS5rZXksIHBlbmRpbmdLZXkua2V5Q29kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJlc2V0IHRoZSB2aWV3IHRvIHRoZSBnaXZlbiBzdGF0ZS4gKFRoaXMgd2lsbCBjYXVzZSB0aGUgZW50aXJlXG4gICAgZG9jdW1lbnQgdG8gYmUgcmVkcmF3biBhbmQgYWxsIHZpZXcgcGx1Z2lucyB0byBiZSByZWluaXRpYWxpemVkLFxuICAgIHNvIHlvdSBzaG91bGQgcHJvYmFibHkgb25seSB1c2UgaXQgd2hlbiB0aGUgbmV3IHN0YXRlIGlzbid0XG4gICAgZGVyaXZlZCBmcm9tIHRoZSBvbGQgc3RhdGUuIE90aGVyd2lzZSwgdXNlXG4gICAgW2BkaXNwYXRjaGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmRpc3BhdGNoKSBpbnN0ZWFkLilcbiAgICAqL1xuICAgIHNldFN0YXRlKG5ld1N0YXRlKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlICE9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbGxzIHRvIEVkaXRvclZpZXcuc2V0U3RhdGUgYXJlIG5vdCBhbGxvd2VkIHdoaWxlIGFuIHVwZGF0ZSBpcyBpbiBwcm9ncmVzc1wiKTtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZS5zdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAyIC8qIFVwZGF0ZVN0YXRlLlVwZGF0aW5nICovO1xuICAgICAgICBsZXQgaGFkRm9jdXMgPSB0aGlzLmhhc0ZvY3VzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMucGx1Z2lucylcbiAgICAgICAgICAgICAgICBwbHVnaW4uZGVzdHJveSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudmlld1N0YXRlID0gbmV3IFZpZXdTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMgPSBuZXdTdGF0ZS5mYWNldCh2aWV3UGx1Z2luKS5tYXAoc3BlYyA9PiBuZXcgUGx1Z2luSW5zdGFuY2Uoc3BlYykpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5NYXAuY2xlYXIoKTtcbiAgICAgICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICAgICAgcGx1Z2luLnVwZGF0ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZG9jVmlldyA9IG5ldyBEb2NWaWV3KHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLmVuc3VyZUhhbmRsZXJzKHRoaXMucGx1Z2lucyk7XG4gICAgICAgICAgICB0aGlzLm1vdW50U3R5bGVzKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUF0dHJzKCk7XG4gICAgICAgICAgICB0aGlzLmJpZGlDYWNoZSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFkRm9jdXMpXG4gICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgIHRoaXMucmVxdWVzdE1lYXN1cmUoKTtcbiAgICB9XG4gICAgdXBkYXRlUGx1Z2lucyh1cGRhdGUpIHtcbiAgICAgICAgbGV0IHByZXZTcGVjcyA9IHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KHZpZXdQbHVnaW4pLCBzcGVjcyA9IHVwZGF0ZS5zdGF0ZS5mYWNldCh2aWV3UGx1Z2luKTtcbiAgICAgICAgaWYgKHByZXZTcGVjcyAhPSBzcGVjcykge1xuICAgICAgICAgICAgbGV0IG5ld1BsdWdpbnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHNwZWMgb2Ygc3BlY3MpIHtcbiAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBwcmV2U3BlY3MuaW5kZXhPZihzcGVjKTtcbiAgICAgICAgICAgICAgICBpZiAoZm91bmQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BsdWdpbnMucHVzaChuZXcgUGx1Z2luSW5zdGFuY2Uoc3BlYykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsdWdpbiA9IHRoaXMucGx1Z2luc1tmb3VuZF07XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5tdXN0VXBkYXRlID0gdXBkYXRlO1xuICAgICAgICAgICAgICAgICAgICBuZXdQbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5wbHVnaW5zKVxuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ubXVzdFVwZGF0ZSAhPSB1cGRhdGUpXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5kZXN0cm95KHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zID0gbmV3UGx1Z2lucztcbiAgICAgICAgICAgIHRoaXMucGx1Z2luTWFwLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMucGx1Z2lucylcbiAgICAgICAgICAgICAgICBwLm11c3RVcGRhdGUgPSB1cGRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBsdWdpbnMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbaV0udXBkYXRlKHRoaXMpO1xuICAgICAgICBpZiAocHJldlNwZWNzICE9IHNwZWNzKVxuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLmVuc3VyZUhhbmRsZXJzKHRoaXMucGx1Z2lucyk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgbWVhc3VyZShmbHVzaCA9IHRydWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5tZWFzdXJlU2NoZWR1bGVkID4gLTEpXG4gICAgICAgICAgICB0aGlzLndpbi5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLm1lYXN1cmVTY2hlZHVsZWQpO1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZlci5kZWxheWVkQW5kcm9pZEtleSkge1xuICAgICAgICAgICAgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID0gLTE7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID0gMDsgLy8gUHJldmVudCByZXF1ZXN0TWVhc3VyZSBjYWxscyBmcm9tIHNjaGVkdWxpbmcgYW5vdGhlciBhbmltYXRpb24gZnJhbWVcbiAgICAgICAgaWYgKGZsdXNoKVxuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci5mb3JjZUZsdXNoKCk7XG4gICAgICAgIGxldCB1cGRhdGVkID0gbnVsbDtcbiAgICAgICAgbGV0IHNET00gPSB0aGlzLnNjcm9sbERPTSwgc2Nyb2xsVG9wID0gc0RPTS5zY3JvbGxUb3AgKiB0aGlzLnNjYWxlWTtcbiAgICAgICAgbGV0IHsgc2Nyb2xsQW5jaG9yUG9zLCBzY3JvbGxBbmNob3JIZWlnaHQgfSA9IHRoaXMudmlld1N0YXRlO1xuICAgICAgICBpZiAoTWF0aC5hYnMoc2Nyb2xsVG9wIC0gdGhpcy52aWV3U3RhdGUuc2Nyb2xsVG9wKSA+IDEpXG4gICAgICAgICAgICBzY3JvbGxBbmNob3JIZWlnaHQgPSAtMTtcbiAgICAgICAgdGhpcy52aWV3U3RhdGUuc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gLTE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDs7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxBbmNob3JIZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1Njcm9sbGVkVG9Cb3R0b20oc0RPTSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFuY2hvclBvcyA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gdGhpcy52aWV3U3RhdGUuaGVpZ2h0TWFwLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBibG9jayA9IHRoaXMudmlld1N0YXRlLnNjcm9sbEFuY2hvckF0KHNjcm9sbFRvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbmNob3JQb3MgPSBibG9jay5mcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gYmxvY2sudG9wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAxIC8qIFVwZGF0ZVN0YXRlLk1lYXN1cmluZyAqLztcbiAgICAgICAgICAgICAgICBsZXQgY2hhbmdlZCA9IHRoaXMudmlld1N0YXRlLm1lYXN1cmUodGhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFjaGFuZ2VkICYmICF0aGlzLm1lYXN1cmVSZXF1ZXN0cy5sZW5ndGggJiYgdGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0ID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChpID4gNSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4odGhpcy5tZWFzdXJlUmVxdWVzdHMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiTWVhc3VyZSBsb29wIHJlc3RhcnRlZCBtb3JlIHRoYW4gNSB0aW1lc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiVmlld3BvcnQgZmFpbGVkIHRvIHN0YWJpbGl6ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBtZWFzdXJpbmcgPSBbXTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHJ1biBtZWFzdXJlIHJlcXVlc3RzIGluIHRoaXMgY3ljbGUgd2hlbiB0aGUgdmlld3BvcnQgZGlkbid0IGNoYW5nZVxuICAgICAgICAgICAgICAgIGlmICghKGNoYW5nZWQgJiA0IC8qIFVwZGF0ZUZsYWcuVmlld3BvcnQgKi8pKVxuICAgICAgICAgICAgICAgICAgICBbdGhpcy5tZWFzdXJlUmVxdWVzdHMsIG1lYXN1cmluZ10gPSBbbWVhc3VyaW5nLCB0aGlzLm1lYXN1cmVSZXF1ZXN0c107XG4gICAgICAgICAgICAgICAgbGV0IG1lYXN1cmVkID0gbWVhc3VyaW5nLm1hcChtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLnJlYWQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih0aGlzLnN0YXRlLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCYWRNZWFzdXJlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZSA9IFZpZXdVcGRhdGUuY3JlYXRlKHRoaXMsIHRoaXMuc3RhdGUsIFtdKSwgcmVkcmF3biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZS5mbGFncyB8PSBjaGFuZ2VkO1xuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlZClcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZCA9IHVwZGF0ZTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQuZmxhZ3MgfD0gY2hhbmdlZDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMiAvKiBVcGRhdGVTdGF0ZS5VcGRhdGluZyAqLztcbiAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBsdWdpbnModXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUF0dHJzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlZHJhd24gPSB0aGlzLmRvY1ZpZXcudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVhc3VyaW5nLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVhc3VyZWRbaV0gIT0gQmFkTWVhc3VyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbSA9IG1lYXN1cmluZ1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobS53cml0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS53cml0ZShtZWFzdXJlZFtpXSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih0aGlzLnN0YXRlLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZWRyYXduKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY1ZpZXcudXBkYXRlU2VsZWN0aW9uKHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlLnZpZXdwb3J0Q2hhbmdlZCAmJiB0aGlzLm1lYXN1cmVSZXF1ZXN0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3U3RhdGUuZWRpdG9ySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2NWaWV3LnNjcm9sbEludG9WaWV3KHRoaXMudmlld1N0YXRlLnNjcm9sbFRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdBbmNob3JIZWlnaHQgPSBzY3JvbGxBbmNob3JQb3MgPCAwID8gdGhpcy52aWV3U3RhdGUuaGVpZ2h0TWFwLmhlaWdodCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLmxpbmVCbG9ja0F0KHNjcm9sbEFuY2hvclBvcykudG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaWZmID0gbmV3QW5jaG9ySGVpZ2h0IC0gc2Nyb2xsQW5jaG9ySGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmID4gMSB8fCBkaWZmIDwgLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wID0gc2Nyb2xsVG9wICsgZGlmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc0RPTS5zY3JvbGxUb3AgPSBzY3JvbGxUb3AgLyB0aGlzLnNjYWxlWTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovO1xuICAgICAgICAgICAgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZWQgJiYgIXVwZGF0ZWQuZW1wdHkpXG4gICAgICAgICAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiB0aGlzLnN0YXRlLmZhY2V0KHVwZGF0ZUxpc3RlbmVyKSlcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcih1cGRhdGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBDU1MgY2xhc3NlcyBmb3IgdGhlIGN1cnJlbnRseSBhY3RpdmUgZWRpdG9yIHRoZW1lcy5cbiAgICAqL1xuICAgIGdldCB0aGVtZUNsYXNzZXMoKSB7XG4gICAgICAgIHJldHVybiBiYXNlVGhlbWVJRCArIFwiIFwiICtcbiAgICAgICAgICAgICh0aGlzLnN0YXRlLmZhY2V0KGRhcmtUaGVtZSkgPyBiYXNlRGFya0lEIDogYmFzZUxpZ2h0SUQpICsgXCIgXCIgK1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5mYWNldCh0aGVtZSk7XG4gICAgfVxuICAgIHVwZGF0ZUF0dHJzKCkge1xuICAgICAgICBsZXQgZWRpdG9yQXR0cnMgPSBhdHRyc0Zyb21GYWNldCh0aGlzLCBlZGl0b3JBdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICBjbGFzczogXCJjbS1lZGl0b3JcIiArICh0aGlzLmhhc0ZvY3VzID8gXCIgY20tZm9jdXNlZCBcIiA6IFwiIFwiKSArIHRoaXMudGhlbWVDbGFzc2VzXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgY29udGVudEF0dHJzID0ge1xuICAgICAgICAgICAgc3BlbGxjaGVjazogXCJmYWxzZVwiLFxuICAgICAgICAgICAgYXV0b2NvcnJlY3Q6IFwib2ZmXCIsXG4gICAgICAgICAgICBhdXRvY2FwaXRhbGl6ZTogXCJvZmZcIixcbiAgICAgICAgICAgIHRyYW5zbGF0ZTogXCJub1wiLFxuICAgICAgICAgICAgY29udGVudGVkaXRhYmxlOiAhdGhpcy5zdGF0ZS5mYWNldChlZGl0YWJsZSkgPyBcImZhbHNlXCIgOiBcInRydWVcIixcbiAgICAgICAgICAgIGNsYXNzOiBcImNtLWNvbnRlbnRcIixcbiAgICAgICAgICAgIHN0eWxlOiBgJHticm93c2VyLnRhYlNpemV9OiAke3RoaXMuc3RhdGUudGFiU2l6ZX1gLFxuICAgICAgICAgICAgcm9sZTogXCJ0ZXh0Ym94XCIsXG4gICAgICAgICAgICBcImFyaWEtbXVsdGlsaW5lXCI6IFwidHJ1ZVwiXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnJlYWRPbmx5KVxuICAgICAgICAgICAgY29udGVudEF0dHJzW1wiYXJpYS1yZWFkb25seVwiXSA9IFwidHJ1ZVwiO1xuICAgICAgICBhdHRyc0Zyb21GYWNldCh0aGlzLCBjb250ZW50QXR0cmlidXRlcywgY29udGVudEF0dHJzKTtcbiAgICAgICAgbGV0IGNoYW5nZWQgPSB0aGlzLm9ic2VydmVyLmlnbm9yZSgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2hhbmdlZENvbnRlbnQgPSB1cGRhdGVBdHRycyh0aGlzLmNvbnRlbnRET00sIHRoaXMuY29udGVudEF0dHJzLCBjb250ZW50QXR0cnMpO1xuICAgICAgICAgICAgbGV0IGNoYW5nZWRFZGl0b3IgPSB1cGRhdGVBdHRycyh0aGlzLmRvbSwgdGhpcy5lZGl0b3JBdHRycywgZWRpdG9yQXR0cnMpO1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZWRDb250ZW50IHx8IGNoYW5nZWRFZGl0b3I7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVkaXRvckF0dHJzID0gZWRpdG9yQXR0cnM7XG4gICAgICAgIHRoaXMuY29udGVudEF0dHJzID0gY29udGVudEF0dHJzO1xuICAgICAgICByZXR1cm4gY2hhbmdlZDtcbiAgICB9XG4gICAgc2hvd0Fubm91bmNlbWVudHModHJzKSB7XG4gICAgICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IHRyIG9mIHRycylcbiAgICAgICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiB0ci5lZmZlY3RzKVxuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoRWRpdG9yVmlldy5hbm5vdW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbm5vdW5jZURPTS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXYgPSB0aGlzLmFubm91bmNlRE9NLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICAgICAgICAgICAgICBkaXYudGV4dENvbnRlbnQgPSBlZmZlY3QudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgIH1cbiAgICBtb3VudFN0eWxlcygpIHtcbiAgICAgICAgdGhpcy5zdHlsZU1vZHVsZXMgPSB0aGlzLnN0YXRlLmZhY2V0KHN0eWxlTW9kdWxlKTtcbiAgICAgICAgbGV0IG5vbmNlID0gdGhpcy5zdGF0ZS5mYWNldChFZGl0b3JWaWV3LmNzcE5vbmNlKTtcbiAgICAgICAgU3R5bGVNb2R1bGUubW91bnQodGhpcy5yb290LCB0aGlzLnN0eWxlTW9kdWxlcy5jb25jYXQoYmFzZVRoZW1lJDEpLnJldmVyc2UoKSwgbm9uY2UgPyB7IG5vbmNlIH0gOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgICByZWFkTWVhc3VyZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlID09IDIgLyogVXBkYXRlU3RhdGUuVXBkYXRpbmcgKi8pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWFkaW5nIHRoZSBlZGl0b3IgbGF5b3V0IGlzbid0IGFsbG93ZWQgZHVyaW5nIGFuIHVwZGF0ZVwiKTtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlU3RhdGUgPT0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovICYmIHRoaXMubWVhc3VyZVNjaGVkdWxlZCA+IC0xKVxuICAgICAgICAgICAgdGhpcy5tZWFzdXJlKGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgU2NoZWR1bGUgYSBsYXlvdXQgbWVhc3VyZW1lbnQsIG9wdGlvbmFsbHkgcHJvdmlkaW5nIGNhbGxiYWNrcyB0b1xuICAgIGRvIGN1c3RvbSBET00gbWVhc3VyaW5nIGZvbGxvd2VkIGJ5IGEgRE9NIHdyaXRlIHBoYXNlLiBVc2luZ1xuICAgIHRoaXMgaXMgcHJlZmVyYWJsZSByZWFkaW5nIERPTSBsYXlvdXQgZGlyZWN0bHkgZnJvbSwgZm9yXG4gICAgZXhhbXBsZSwgYW4gZXZlbnQgaGFuZGxlciwgYmVjYXVzZSBpdCdsbCBtYWtlIHN1cmUgbWVhc3VyaW5nIGFuZFxuICAgIGRyYXdpbmcgZG9uZSBieSBvdGhlciBjb21wb25lbnRzIGlzIHN5bmNocm9uaXplZCwgYXZvaWRpbmdcbiAgICB1bm5lY2Vzc2FyeSBET00gbGF5b3V0IGNvbXB1dGF0aW9ucy5cbiAgICAqL1xuICAgIHJlcXVlc3RNZWFzdXJlKHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKHRoaXMubWVhc3VyZVNjaGVkdWxlZCA8IDApXG4gICAgICAgICAgICB0aGlzLm1lYXN1cmVTY2hlZHVsZWQgPSB0aGlzLndpbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5tZWFzdXJlKCkpO1xuICAgICAgICBpZiAocmVxdWVzdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWVhc3VyZVJlcXVlc3RzLmluZGV4T2YocmVxdWVzdCkgPiAtMSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAocmVxdWVzdC5rZXkgIT0gbnVsbClcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVhc3VyZVJlcXVlc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lYXN1cmVSZXF1ZXN0c1tpXS5rZXkgPT09IHJlcXVlc3Qua2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lYXN1cmVSZXF1ZXN0c1tpXSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1lYXN1cmVSZXF1ZXN0cy5wdXNoKHJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgdmFsdWUgb2YgYSBzcGVjaWZpYyBwbHVnaW4sIGlmIHByZXNlbnQuIE5vdGUgdGhhdFxuICAgIHBsdWdpbnMgdGhhdCBjcmFzaCBjYW4gYmUgZHJvcHBlZCBmcm9tIGEgdmlldywgc28gZXZlbiB3aGVuIHlvdVxuICAgIGtub3cgeW91IHJlZ2lzdGVyZWQgYSBnaXZlbiBwbHVnaW4sIGl0IGlzIHJlY29tbWVuZGVkIHRvIGNoZWNrXG4gICAgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGlzIG1ldGhvZC5cbiAgICAqL1xuICAgIHBsdWdpbihwbHVnaW4pIHtcbiAgICAgICAgbGV0IGtub3duID0gdGhpcy5wbHVnaW5NYXAuZ2V0KHBsdWdpbik7XG4gICAgICAgIGlmIChrbm93biA9PT0gdW5kZWZpbmVkIHx8IGtub3duICYmIGtub3duLnNwZWMgIT0gcGx1Z2luKVxuICAgICAgICAgICAgdGhpcy5wbHVnaW5NYXAuc2V0KHBsdWdpbiwga25vd24gPSB0aGlzLnBsdWdpbnMuZmluZChwID0+IHAuc3BlYyA9PSBwbHVnaW4pIHx8IG51bGwpO1xuICAgICAgICByZXR1cm4ga25vd24gJiYga25vd24udXBkYXRlKHRoaXMpLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgdG9wIHBvc2l0aW9uIG9mIHRoZSBkb2N1bWVudCwgaW4gc2NyZWVuIGNvb3JkaW5hdGVzLiBUaGlzXG4gICAgbWF5IGJlIG5lZ2F0aXZlIHdoZW4gdGhlIGVkaXRvciBpcyBzY3JvbGxlZCBkb3duLiBQb2ludHNcbiAgICBkaXJlY3RseSB0byB0aGUgdG9wIG9mIHRoZSBmaXJzdCBsaW5lLCBub3QgYWJvdmUgdGhlIHBhZGRpbmcuXG4gICAgKi9cbiAgICBnZXQgZG9jdW1lbnRUb3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgdGhpcy52aWV3U3RhdGUucGFkZGluZ1RvcDtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVwb3J0cyB0aGUgcGFkZGluZyBhYm92ZSBhbmQgYmVsb3cgdGhlIGRvY3VtZW50LlxuICAgICovXG4gICAgZ2V0IGRvY3VtZW50UGFkZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHsgdG9wOiB0aGlzLnZpZXdTdGF0ZS5wYWRkaW5nVG9wLCBib3R0b206IHRoaXMudmlld1N0YXRlLnBhZGRpbmdCb3R0b20gfTtcbiAgICB9XG4gICAgLyoqXG4gICAgSWYgdGhlIGVkaXRvciBpcyB0cmFuc2Zvcm1lZCB3aXRoIENTUywgdGhpcyBwcm92aWRlcyB0aGUgc2NhbGVcbiAgICBhbG9uZyB0aGUgWCBheGlzLiBPdGhlcndpc2UsIGl0IHdpbGwganVzdCBiZSAxLiBOb3RlIHRoYXRcbiAgICB0cmFuc2Zvcm1zIG90aGVyIHRoYW4gdHJhbnNsYXRpb24gYW5kIHNjYWxpbmcgYXJlIG5vdCBzdXBwb3J0ZWQuXG4gICAgKi9cbiAgICBnZXQgc2NhbGVYKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuc2NhbGVYOyB9XG4gICAgLyoqXG4gICAgUHJvdmlkZSB0aGUgQ1NTIHRyYW5zZm9ybWVkIHNjYWxlIGFsb25nIHRoZSBZIGF4aXMuXG4gICAgKi9cbiAgICBnZXQgc2NhbGVZKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuc2NhbGVZOyB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgdGV4dCBsaW5lIG9yIGJsb2NrIHdpZGdldCBhdCB0aGUgZ2l2ZW4gdmVydGljYWxcbiAgICBwb3NpdGlvbiAod2hpY2ggaXMgaW50ZXJwcmV0ZWQgYXMgcmVsYXRpdmUgdG8gdGhlIFt0b3Agb2YgdGhlXG4gICAgZG9jdW1lbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmRvY3VtZW50VG9wKSkuXG4gICAgKi9cbiAgICBlbGVtZW50QXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMucmVhZE1lYXN1cmVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdTdGF0ZS5lbGVtZW50QXRIZWlnaHQoaGVpZ2h0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgbGluZSBibG9jayAoc2VlXG4gICAgW2BsaW5lQmxvY2tBdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmxpbmVCbG9ja0F0KSBhdCB0aGUgZ2l2ZW5cbiAgICBoZWlnaHQsIGFnYWluIGludGVycHJldGVkIHJlbGF0aXZlIHRvIHRoZSBbdG9wIG9mIHRoZVxuICAgIGRvY3VtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kb2N1bWVudFRvcCkuXG4gICAgKi9cbiAgICBsaW5lQmxvY2tBdEhlaWdodChoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLmxpbmVCbG9ja0F0SGVpZ2h0KGhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgZXh0ZW50IGFuZCB2ZXJ0aWNhbCBwb3NpdGlvbiBvZiBhbGwgW2xpbmVcbiAgICBibG9ja3NdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmxpbmVCbG9ja0F0KSBpbiB0aGUgdmlld3BvcnQuIFBvc2l0aW9uc1xuICAgIGFyZSByZWxhdGl2ZSB0byB0aGUgW3RvcCBvZiB0aGVcbiAgICBkb2N1bWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuZG9jdW1lbnRUb3ApO1xuICAgICovXG4gICAgZ2V0IHZpZXdwb3J0TGluZUJsb2NrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLnZpZXdwb3J0TGluZXM7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIGxpbmUgYmxvY2sgYXJvdW5kIHRoZSBnaXZlbiBkb2N1bWVudCBwb3NpdGlvbi4gQSBsaW5lXG4gICAgYmxvY2sgaXMgYSByYW5nZSBkZWxpbWl0ZWQgb24gYm90aCBzaWRlcyBieSBlaXRoZXIgYVxuICAgIG5vbi1baGlkZGVuXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvbl5yZXBsYWNlKSBsaW5lIGJyZWFrcywgb3IgdGhlXG4gICAgc3RhcnQvZW5kIG9mIHRoZSBkb2N1bWVudC4gSXQgd2lsbCB1c3VhbGx5IGp1c3QgaG9sZCBhIGxpbmUgb2ZcbiAgICB0ZXh0LCBidXQgbWF5IGJlIGJyb2tlbiBpbnRvIG11bHRpcGxlIHRleHRibG9ja3MgYnkgYmxvY2tcbiAgICB3aWRnZXRzLlxuICAgICovXG4gICAgbGluZUJsb2NrQXQocG9zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdTdGF0ZS5saW5lQmxvY2tBdChwb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZWRpdG9yJ3MgdG90YWwgY29udGVudCBoZWlnaHQuXG4gICAgKi9cbiAgICBnZXQgY29udGVudEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLmNvbnRlbnRIZWlnaHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgYSBjdXJzb3IgcG9zaXRpb24gYnkgW2dyYXBoZW1lXG4gICAgY2x1c3Rlcl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5maW5kQ2x1c3RlckJyZWFrKS4gYGZvcndhcmRgIGRldGVybWluZXMgd2hldGhlclxuICAgIHRoZSBtb3Rpb24gaXMgYXdheSBmcm9tIHRoZSBsaW5lIHN0YXJ0LCBvciB0b3dhcmRzIGl0LiBJblxuICAgIGJpZGlyZWN0aW9uYWwgdGV4dCwgdGhlIGxpbmUgaXMgdHJhdmVyc2VkIGluIHZpc3VhbCBvcmRlciwgdXNpbmdcbiAgICB0aGUgZWRpdG9yJ3MgW3RleHQgZGlyZWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy50ZXh0RGlyZWN0aW9uKS5cbiAgICBXaGVuIHRoZSBzdGFydCBwb3NpdGlvbiB3YXMgdGhlIGxhc3Qgb25lIG9uIHRoZSBsaW5lLCB0aGVcbiAgICByZXR1cm5lZCBwb3NpdGlvbiB3aWxsIGJlIGFjcm9zcyB0aGUgbGluZSBicmVhay4gSWYgdGhlcmUgaXMgbm9cbiAgICBmdXJ0aGVyIGxpbmUsIHRoZSBvcmlnaW5hbCBwb3NpdGlvbiBpcyByZXR1cm5lZC5cbiAgICBcbiAgICBCeSBkZWZhdWx0LCB0aGlzIG1ldGhvZCBtb3ZlcyBvdmVyIGEgc2luZ2xlIGNsdXN0ZXIuIFRoZVxuICAgIG9wdGlvbmFsIGBieWAgYXJndW1lbnQgY2FuIGJlIHVzZWQgdG8gbW92ZSBhY3Jvc3MgbW9yZS4gSXQgd2lsbFxuICAgIGJlIGNhbGxlZCB3aXRoIHRoZSBmaXJzdCBjbHVzdGVyIGFzIGFyZ3VtZW50LCBhbmQgc2hvdWxkIHJldHVyblxuICAgIGEgcHJlZGljYXRlIHRoYXQgZGV0ZXJtaW5lcywgZm9yIGVhY2ggc3Vic2VxdWVudCBjbHVzdGVyLFxuICAgIHdoZXRoZXIgaXQgc2hvdWxkIGFsc28gYmUgbW92ZWQgb3Zlci5cbiAgICAqL1xuICAgIG1vdmVCeUNoYXIoc3RhcnQsIGZvcndhcmQsIGJ5KSB7XG4gICAgICAgIHJldHVybiBza2lwQXRvbXModGhpcywgc3RhcnQsIG1vdmVCeUNoYXIodGhpcywgc3RhcnQsIGZvcndhcmQsIGJ5KSk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgYSBjdXJzb3IgcG9zaXRpb24gYWNyb3NzIHRoZSBuZXh0IGdyb3VwIG9mIGVpdGhlclxuICAgIFtsZXR0ZXJzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmNoYXJDYXRlZ29yaXplcikgb3Igbm9uLWxldHRlclxuICAgIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMuXG4gICAgKi9cbiAgICBtb3ZlQnlHcm91cChzdGFydCwgZm9yd2FyZCkge1xuICAgICAgICByZXR1cm4gc2tpcEF0b21zKHRoaXMsIHN0YXJ0LCBtb3ZlQnlDaGFyKHRoaXMsIHN0YXJ0LCBmb3J3YXJkLCBpbml0aWFsID0+IGJ5R3JvdXAodGhpcywgc3RhcnQuaGVhZCwgaW5pdGlhbCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGUgbmV4dCBsaW5lIGJvdW5kYXJ5IGluIHRoZSBnaXZlbiBkaXJlY3Rpb24uIElmXG4gICAgYGluY2x1ZGVXcmFwYCBpcyB0cnVlLCBsaW5lIHdyYXBwaW5nIGlzIG9uLCBhbmQgdGhlcmUgaXMgYVxuICAgIGZ1cnRoZXIgd3JhcCBwb2ludCBvbiB0aGUgY3VycmVudCBsaW5lLCB0aGUgd3JhcCBwb2ludCB3aWxsIGJlXG4gICAgcmV0dXJuZWQuIE90aGVyd2lzZSB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSBzdGFydCBvciBlbmRcbiAgICBvZiB0aGUgbGluZS5cbiAgICAqL1xuICAgIG1vdmVUb0xpbmVCb3VuZGFyeShzdGFydCwgZm9yd2FyZCwgaW5jbHVkZVdyYXAgPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBtb3ZlVG9MaW5lQm91bmRhcnkodGhpcywgc3RhcnQsIGZvcndhcmQsIGluY2x1ZGVXcmFwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSBhIGN1cnNvciBwb3NpdGlvbiB2ZXJ0aWNhbGx5LiBXaGVuIGBkaXN0YW5jZWAgaXNuJ3QgZ2l2ZW4sXG4gICAgaXQgZGVmYXVsdHMgdG8gbW92aW5nIHRvIHRoZSBuZXh0IGxpbmUgKGluY2x1ZGluZyB3cmFwcGVkXG4gICAgbGluZXMpLiBPdGhlcndpc2UsIGBkaXN0YW5jZWAgc2hvdWxkIHByb3ZpZGUgYSBwb3NpdGl2ZSBkaXN0YW5jZVxuICAgIGluIHBpeGVscy5cbiAgICBcbiAgICBXaGVuIGBzdGFydGAgaGFzIGFcbiAgICBbYGdvYWxDb2x1bW5gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlNlbGVjdGlvblJhbmdlLmdvYWxDb2x1bW4pLCB0aGUgdmVydGljYWxcbiAgICBtb3Rpb24gd2lsbCB1c2UgdGhhdCBhcyBhIHRhcmdldCBob3Jpem9udGFsIHBvc2l0aW9uLiBPdGhlcndpc2UsXG4gICAgdGhlIGN1cnNvcidzIG93biBob3Jpem9udGFsIHBvc2l0aW9uIGlzIHVzZWQuIFRoZSByZXR1cm5lZFxuICAgIGN1cnNvciB3aWxsIGhhdmUgaXRzIGdvYWwgY29sdW1uIHNldCB0byB3aGljaGV2ZXIgY29sdW1uIHdhc1xuICAgIHVzZWQuXG4gICAgKi9cbiAgICBtb3ZlVmVydGljYWxseShzdGFydCwgZm9yd2FyZCwgZGlzdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIHNraXBBdG9tcyh0aGlzLCBzdGFydCwgbW92ZVZlcnRpY2FsbHkodGhpcywgc3RhcnQsIGZvcndhcmQsIGRpc3RhbmNlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIERPTSBwYXJlbnQgbm9kZSBhbmQgb2Zmc2V0IChjaGlsZCBvZmZzZXQgaWYgYG5vZGVgIGlzXG4gICAgYW4gZWxlbWVudCwgY2hhcmFjdGVyIG9mZnNldCB3aGVuIGl0IGlzIGEgdGV4dCBub2RlKSBhdCB0aGVcbiAgICBnaXZlbiBkb2N1bWVudCBwb3NpdGlvbi5cbiAgICBcbiAgICBOb3RlIHRoYXQgZm9yIHBvc2l0aW9ucyB0aGF0IGFyZW4ndCBjdXJyZW50bHkgaW5cbiAgICBgdmlzaWJsZVJhbmdlc2AsIHRoZSByZXN1bHRpbmcgRE9NIHBvc2l0aW9uIGlzbid0IG5lY2Vzc2FyaWx5XG4gICAgbWVhbmluZ2Z1bCAoaXQgbWF5IGp1c3QgcG9pbnQgYmVmb3JlIG9yIGFmdGVyIGEgcGxhY2Vob2xkZXJcbiAgICBlbGVtZW50KS5cbiAgICAqL1xuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NWaWV3LmRvbUF0UG9zKHBvcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIGRvY3VtZW50IHBvc2l0aW9uIGF0IHRoZSBnaXZlbiBET00gbm9kZS4gQ2FuIGJlIHVzZWZ1bFxuICAgIGZvciBhc3NvY2lhdGluZyBwb3NpdGlvbnMgd2l0aCBET00gZXZlbnRzLiBXaWxsIHJhaXNlIGFuIGVycm9yXG4gICAgd2hlbiBgbm9kZWAgaXNuJ3QgcGFydCBvZiB0aGUgZWRpdG9yIGNvbnRlbnQuXG4gICAgKi9cbiAgICBwb3NBdERPTShub2RlLCBvZmZzZXQgPSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY1ZpZXcucG9zRnJvbURPTShub2RlLCBvZmZzZXQpO1xuICAgIH1cbiAgICBwb3NBdENvb3Jkcyhjb29yZHMsIHByZWNpc2UgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMucmVhZE1lYXN1cmVkKCk7XG4gICAgICAgIHJldHVybiBwb3NBdENvb3Jkcyh0aGlzLCBjb29yZHMsIHByZWNpc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHNjcmVlbiBjb29yZGluYXRlcyBhdCB0aGUgZ2l2ZW4gZG9jdW1lbnQgcG9zaXRpb24uXG4gICAgYHNpZGVgIGRldGVybWluZXMgd2hldGhlciB0aGUgY29vcmRpbmF0ZXMgYXJlIGJhc2VkIG9uIHRoZVxuICAgIGVsZW1lbnQgYmVmb3JlICgtMSkgb3IgYWZ0ZXIgKDEpIHRoZSBwb3NpdGlvbiAoaWYgbm8gZWxlbWVudCBpc1xuICAgIGF2YWlsYWJsZSBvbiB0aGUgZ2l2ZW4gc2lkZSwgdGhlIG1ldGhvZCB3aWxsIHRyYW5zcGFyZW50bHkgdXNlXG4gICAgYW5vdGhlciBzdHJhdGVneSB0byBnZXQgcmVhc29uYWJsZSBjb29yZGluYXRlcykuXG4gICAgKi9cbiAgICBjb29yZHNBdFBvcyhwb3MsIHNpZGUgPSAxKSB7XG4gICAgICAgIHRoaXMucmVhZE1lYXN1cmVkKCk7XG4gICAgICAgIGxldCByZWN0ID0gdGhpcy5kb2NWaWV3LmNvb3Jkc0F0KHBvcywgc2lkZSk7XG4gICAgICAgIGlmICghcmVjdCB8fCByZWN0LmxlZnQgPT0gcmVjdC5yaWdodClcbiAgICAgICAgICAgIHJldHVybiByZWN0O1xuICAgICAgICBsZXQgbGluZSA9IHRoaXMuc3RhdGUuZG9jLmxpbmVBdChwb3MpLCBvcmRlciA9IHRoaXMuYmlkaVNwYW5zKGxpbmUpO1xuICAgICAgICBsZXQgc3BhbiA9IG9yZGVyW0JpZGlTcGFuLmZpbmQob3JkZXIsIHBvcyAtIGxpbmUuZnJvbSwgLTEsIHNpZGUpXTtcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5SZWN0KHJlY3QsIChzcGFuLmRpciA9PSBEaXJlY3Rpb24uTFRSKSA9PSAoc2lkZSA+IDApKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJuIHRoZSByZWN0YW5nbGUgYXJvdW5kIGEgZ2l2ZW4gY2hhcmFjdGVyLiBJZiBgcG9zYCBkb2VzIG5vdFxuICAgIHBvaW50IGluIGZyb250IG9mIGEgY2hhcmFjdGVyIHRoYXQgaXMgaW4gdGhlIHZpZXdwb3J0IGFuZFxuICAgIHJlbmRlcmVkIChpLmUuIG5vdCByZXBsYWNlZCwgbm90IGEgbGluZSBicmVhayksIHRoaXMgd2lsbCByZXR1cm5cbiAgICBudWxsLiBGb3Igc3BhY2UgY2hhcmFjdGVycyB0aGF0IGFyZSBhIGxpbmUgd3JhcCBwb2ludCwgdGhpcyB3aWxsXG4gICAgcmV0dXJuIHRoZSBwb3NpdGlvbiBiZWZvcmUgdGhlIGxpbmUgYnJlYWsuXG4gICAgKi9cbiAgICBjb29yZHNGb3JDaGFyKHBvcykge1xuICAgICAgICB0aGlzLnJlYWRNZWFzdXJlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NWaWV3LmNvb3Jkc0ZvckNoYXIocG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGRlZmF1bHQgd2lkdGggb2YgYSBjaGFyYWN0ZXIgaW4gdGhlIGVkaXRvci4gTWF5IG5vdFxuICAgIGFjY3VyYXRlbHkgcmVmbGVjdCB0aGUgd2lkdGggb2YgYWxsIGNoYXJhY3RlcnMgKGdpdmVuIHZhcmlhYmxlXG4gICAgd2lkdGggZm9udHMgb3Igc3R5bGluZyBvZiBpbnZpZGlkdWFsIHJhbmdlcykuXG4gICAgKi9cbiAgICBnZXQgZGVmYXVsdENoYXJhY3RlcldpZHRoKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuaGVpZ2h0T3JhY2xlLmNoYXJXaWR0aDsgfVxuICAgIC8qKlxuICAgIFRoZSBkZWZhdWx0IGhlaWdodCBvZiBhIGxpbmUgaW4gdGhlIGVkaXRvci4gTWF5IG5vdCBiZSBhY2N1cmF0ZVxuICAgIGZvciBhbGwgbGluZXMuXG4gICAgKi9cbiAgICBnZXQgZGVmYXVsdExpbmVIZWlnaHQoKSB7IHJldHVybiB0aGlzLnZpZXdTdGF0ZS5oZWlnaHRPcmFjbGUubGluZUhlaWdodDsgfVxuICAgIC8qKlxuICAgIFRoZSB0ZXh0IGRpcmVjdGlvblxuICAgIChbYGRpcmVjdGlvbmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9kaXJlY3Rpb24pXG4gICAgQ1NTIHByb3BlcnR5KSBvZiB0aGUgZWRpdG9yJ3MgY29udGVudCBlbGVtZW50LlxuICAgICovXG4gICAgZ2V0IHRleHREaXJlY3Rpb24oKSB7IHJldHVybiB0aGlzLnZpZXdTdGF0ZS5kZWZhdWx0VGV4dERpcmVjdGlvbjsgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIHRleHQgZGlyZWN0aW9uIG9mIHRoZSBibG9jayBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24sIGFzXG4gICAgYXNzaWduZWQgYnkgQ1NTLiBJZlxuICAgIFtgcGVyTGluZVRleHREaXJlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld15wZXJMaW5lVGV4dERpcmVjdGlvbilcbiAgICBpc24ndCBlbmFibGVkLCBvciB0aGUgZ2l2ZW4gcG9zaXRpb24gaXMgb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQsXG4gICAgdGhpcyB3aWxsIGFsd2F5cyByZXR1cm4gdGhlIHNhbWUgYXNcbiAgICBbYHRleHREaXJlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy50ZXh0RGlyZWN0aW9uKS4gTm90ZSB0aGF0XG4gICAgdGhpcyBtYXkgdHJpZ2dlciBhIERPTSBsYXlvdXQuXG4gICAgKi9cbiAgICB0ZXh0RGlyZWN0aW9uQXQocG9zKSB7XG4gICAgICAgIGxldCBwZXJMaW5lID0gdGhpcy5zdGF0ZS5mYWNldChwZXJMaW5lVGV4dERpcmVjdGlvbik7XG4gICAgICAgIGlmICghcGVyTGluZSB8fCBwb3MgPCB0aGlzLnZpZXdwb3J0LmZyb20gfHwgcG9zID4gdGhpcy52aWV3cG9ydC50bylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHREaXJlY3Rpb247XG4gICAgICAgIHRoaXMucmVhZE1lYXN1cmVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY1ZpZXcudGV4dERpcmVjdGlvbkF0KHBvcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhpcyBlZGl0b3IgW3dyYXBzIGxpbmVzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5saW5lV3JhcHBpbmcpXG4gICAgKGFzIGRldGVybWluZWQgYnkgdGhlXG4gICAgW2B3aGl0ZS1zcGFjZWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy93aGl0ZS1zcGFjZSlcbiAgICBDU1MgcHJvcGVydHkgb2YgaXRzIGNvbnRlbnQgZWxlbWVudCkuXG4gICAgKi9cbiAgICBnZXQgbGluZVdyYXBwaW5nKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuaGVpZ2h0T3JhY2xlLmxpbmVXcmFwcGluZzsgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdGhlIGJpZGlyZWN0aW9uYWwgdGV4dCBzdHJ1Y3R1cmUgb2YgdGhlIGdpdmVuIGxpbmVcbiAgICAod2hpY2ggc2hvdWxkIGJlIGluIHRoZSBjdXJyZW50IGRvY3VtZW50KSBhcyBhbiBhcnJheSBvZiBzcGFuXG4gICAgb2JqZWN0cy4gVGhlIG9yZGVyIG9mIHRoZXNlIHNwYW5zIG1hdGNoZXMgdGhlIFt0ZXh0XG4gICAgZGlyZWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy50ZXh0RGlyZWN0aW9uKeKAlGlmIHRoYXQgaXNcbiAgICBsZWZ0LXRvLXJpZ2h0LCB0aGUgbGVmdG1vc3Qgc3BhbnMgY29tZSBmaXJzdCwgb3RoZXJ3aXNlIHRoZVxuICAgIHJpZ2h0bW9zdCBzcGFucyBjb21lIGZpcnN0LlxuICAgICovXG4gICAgYmlkaVNwYW5zKGxpbmUpIHtcbiAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gTWF4QmlkaUxpbmUpXG4gICAgICAgICAgICByZXR1cm4gdHJpdmlhbE9yZGVyKGxpbmUubGVuZ3RoKTtcbiAgICAgICAgbGV0IGRpciA9IHRoaXMudGV4dERpcmVjdGlvbkF0KGxpbmUuZnJvbSksIGlzb2xhdGVzO1xuICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiB0aGlzLmJpZGlDYWNoZSkge1xuICAgICAgICAgICAgaWYgKGVudHJ5LmZyb20gPT0gbGluZS5mcm9tICYmIGVudHJ5LmRpciA9PSBkaXIgJiZcbiAgICAgICAgICAgICAgICAoZW50cnkuZnJlc2ggfHwgaXNvbGF0ZXNFcShlbnRyeS5pc29sYXRlcywgaXNvbGF0ZXMgPSBnZXRJc29sYXRlZFJhbmdlcyh0aGlzLCBsaW5lLmZyb20sIGxpbmUudG8pKSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5Lm9yZGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNvbGF0ZXMpXG4gICAgICAgICAgICBpc29sYXRlcyA9IGdldElzb2xhdGVkUmFuZ2VzKHRoaXMsIGxpbmUuZnJvbSwgbGluZS50byk7XG4gICAgICAgIGxldCBvcmRlciA9IGNvbXB1dGVPcmRlcihsaW5lLnRleHQsIGRpciwgaXNvbGF0ZXMpO1xuICAgICAgICB0aGlzLmJpZGlDYWNoZS5wdXNoKG5ldyBDYWNoZWRPcmRlcihsaW5lLmZyb20sIGxpbmUudG8sIGRpciwgaXNvbGF0ZXMsIHRydWUsIG9yZGVyKSk7XG4gICAgICAgIHJldHVybiBvcmRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgQ2hlY2sgd2hldGhlciB0aGUgZWRpdG9yIGhhcyBmb2N1cy5cbiAgICAqL1xuICAgIGdldCBoYXNGb2N1cygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBTYWZhcmkgcmV0dXJuIGZhbHNlIGZvciBoYXNGb2N1cyB3aGVuIHRoZSBjb250ZXh0IG1lbnUgaXMgb3BlblxuICAgICAgICAvLyBvciBjbG9zaW5nLCB3aGljaCBsZWFkcyB1cyB0byBpZ25vcmUgc2VsZWN0aW9uIGNoYW5nZXMgZnJvbSB0aGVcbiAgICAgICAgLy8gY29udGV4dCBtZW51IGJlY2F1c2UgaXQgbG9va3MgbGlrZSB0aGUgZWRpdG9yIGlzbid0IGZvY3VzZWQuXG4gICAgICAgIC8vIFRoaXMga2x1ZGdlcyBhcm91bmQgdGhhdC5cbiAgICAgICAgcmV0dXJuICh0aGlzLmRvbS5vd25lckRvY3VtZW50Lmhhc0ZvY3VzKCkgfHwgYnJvd3Nlci5zYWZhcmkgJiYgKChfYSA9IHRoaXMuaW5wdXRTdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhc3RDb250ZXh0TWVudSkgPiBEYXRlLm5vdygpIC0gM2U0KSAmJlxuICAgICAgICAgICAgdGhpcy5yb290LmFjdGl2ZUVsZW1lbnQgPT0gdGhpcy5jb250ZW50RE9NO1xuICAgIH1cbiAgICAvKipcbiAgICBQdXQgZm9jdXMgb24gdGhlIGVkaXRvci5cbiAgICAqL1xuICAgIGZvY3VzKCkge1xuICAgICAgICB0aGlzLm9ic2VydmVyLmlnbm9yZSgoKSA9PiB7XG4gICAgICAgICAgICBmb2N1c1ByZXZlbnRTY3JvbGwodGhpcy5jb250ZW50RE9NKTtcbiAgICAgICAgICAgIHRoaXMuZG9jVmlldy51cGRhdGVTZWxlY3Rpb24oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSB0aGUgW3Jvb3RdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jI3ZpZXcuRWRpdG9yVmlld0NvbmZpZy5yb290KSBpbiB3aGljaCB0aGUgZWRpdG9yIGxpdmVzLiBUaGlzIGlzIG9ubHlcbiAgICBuZWNlc3Nhcnkgd2hlbiBtb3ZpbmcgdGhlIGVkaXRvcidzIGV4aXN0aW5nIERPTSB0byBhIG5ldyB3aW5kb3cgb3Igc2hhZG93IHJvb3QuXG4gICAgKi9cbiAgICBzZXRSb290KHJvb3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QgIT0gcm9vdCkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdCA9IHJvb3Q7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLnNldFdpbmRvdygocm9vdC5ub2RlVHlwZSA9PSA5ID8gcm9vdCA6IHJvb3Qub3duZXJEb2N1bWVudCkuZGVmYXVsdFZpZXcgfHwgd2luZG93KTtcbiAgICAgICAgICAgIHRoaXMubW91bnRTdHlsZXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBDbGVhbiB1cCB0aGlzIGVkaXRvciB2aWV3LCByZW1vdmluZyBpdHMgZWxlbWVudCBmcm9tIHRoZVxuICAgIGRvY3VtZW50LCB1bnJlZ2lzdGVyaW5nIGV2ZW50IGhhbmRsZXJzLCBhbmQgbm90aWZ5aW5nXG4gICAgcGx1Z2lucy4gVGhlIHZpZXcgaW5zdGFuY2UgY2FuIG5vIGxvbmdlciBiZSB1c2VkIGFmdGVyXG4gICAgY2FsbGluZyB0aGlzLlxuICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMucGx1Z2lucylcbiAgICAgICAgICAgIHBsdWdpbi5kZXN0cm95KHRoaXMpO1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSBbXTtcbiAgICAgICAgdGhpcy5pbnB1dFN0YXRlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5kb20ucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuZGVzdHJveSgpO1xuICAgICAgICBpZiAodGhpcy5tZWFzdXJlU2NoZWR1bGVkID4gLTEpXG4gICAgICAgICAgICB0aGlzLndpbi5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLm1lYXN1cmVTY2hlZHVsZWQpO1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgYW4gZWZmZWN0IHRoYXQgY2FuIGJlXG4gICAgW2FkZGVkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5lZmZlY3RzKSB0byBhIHRyYW5zYWN0aW9uIHRvXG4gICAgY2F1c2UgaXQgdG8gc2Nyb2xsIHRoZSBnaXZlbiBwb3NpdGlvbiBvciByYW5nZSBpbnRvIHZpZXcuXG4gICAgKi9cbiAgICBzdGF0aWMgc2Nyb2xsSW50b1ZpZXcocG9zLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHNjcm9sbEludG9WaWV3Lm9mKG5ldyBTY3JvbGxUYXJnZXQodHlwZW9mIHBvcyA9PSBcIm51bWJlclwiID8gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihwb3MpIDogcG9zLCBvcHRpb25zLnksIG9wdGlvbnMueCwgb3B0aW9ucy55TWFyZ2luLCBvcHRpb25zLnhNYXJnaW4pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgRE9NIGV2ZW50IGhhbmRsZXJzLlxuICAgIFRoZSB2YWx1ZSBzaG91bGQgYmUgYW4gb2JqZWN0IG1hcHBpbmcgZXZlbnQgbmFtZXMgdG8gaGFuZGxlclxuICAgIGZ1bmN0aW9ucy4gRm9yIGFueSBnaXZlbiBldmVudCwgc3VjaCBmdW5jdGlvbnMgYXJlIG9yZGVyZWQgYnlcbiAgICBleHRlbnNpb24gcHJlY2VkZW5jZSwgYW5kIHRoZSBmaXJzdCBoYW5kbGVyIHRvIHJldHVybiB0cnVlIHdpbGxcbiAgICBiZSBhc3N1bWVkIHRvIGhhdmUgaGFuZGxlZCB0aGF0IGV2ZW50LCBhbmQgbm8gb3RoZXIgaGFuZGxlcnMgb3JcbiAgICBidWlsdC1pbiBiZWhhdmlvciB3aWxsIGJlIGFjdGl2YXRlZCBmb3IgaXQuIFRoZXNlIGFyZSByZWdpc3RlcmVkXG4gICAgb24gdGhlIFtjb250ZW50IGVsZW1lbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmNvbnRlbnRET00pLCBleGNlcHRcbiAgICBmb3IgYHNjcm9sbGAgaGFuZGxlcnMsIHdoaWNoIHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIHRoZVxuICAgIGVkaXRvcidzIFtzY3JvbGwgZWxlbWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuc2Nyb2xsRE9NKSBvciBvbmUgb2ZcbiAgICBpdHMgcGFyZW50IG5vZGVzIGlzIHNjcm9sbGVkLlxuICAgICovXG4gICAgc3RhdGljIGRvbUV2ZW50SGFuZGxlcnMoaGFuZGxlcnMpIHtcbiAgICAgICAgcmV0dXJuIFZpZXdQbHVnaW4uZGVmaW5lKCgpID0+ICh7fSksIHsgZXZlbnRIYW5kbGVyczogaGFuZGxlcnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCByZWdpc3RlcnMgRE9NIGV2ZW50IG9ic2VydmVycy4gQ29udHJhcnlcbiAgICB0byBldmVudCBbaGFuZGxlcnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmRvbUV2ZW50SGFuZGxlcnMpLFxuICAgIG9ic2VydmVycyBjYW4ndCBiZSBwcmV2ZW50ZWQgZnJvbSBydW5uaW5nIGJ5IGEgaGlnaGVyLXByZWNlZGVuY2VcbiAgICBoYW5kbGVyIHJldHVybmluZyB0cnVlLiBUaGV5IGFsc28gZG9uJ3QgcHJldmVudCBvdGhlciBoYW5kbGVyc1xuICAgIGFuZCBvYnNlcnZlcnMgZnJvbSBydW5uaW5nIHdoZW4gdGhleSByZXR1cm4gdHJ1ZSwgYW5kIHNob3VsZCBub3RcbiAgICBjYWxsIGBwcmV2ZW50RGVmYXVsdGAuXG4gICAgKi9cbiAgICBzdGF0aWMgZG9tRXZlbnRPYnNlcnZlcnMob2JzZXJ2ZXJzKSB7XG4gICAgICAgIHJldHVybiBWaWV3UGx1Z2luLmRlZmluZSgoKSA9PiAoe30pLCB7IGV2ZW50T2JzZXJ2ZXJzOiBvYnNlcnZlcnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHRoZW1lIGV4dGVuc2lvbi4gVGhlIGZpcnN0IGFyZ3VtZW50IGNhbiBiZSBhXG4gICAgW2BzdHlsZS1tb2RgXShodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9zdHlsZS1tb2QjZG9jdW1lbnRhdGlvbilcbiAgICBzdHlsZSBzcGVjIHByb3ZpZGluZyB0aGUgc3R5bGVzIGZvciB0aGUgdGhlbWUuIFRoZXNlIHdpbGwgYmVcbiAgICBwcmVmaXhlZCB3aXRoIGEgZ2VuZXJhdGVkIGNsYXNzIGZvciB0aGUgc3R5bGUuXG4gICAgXG4gICAgQmVjYXVzZSB0aGUgc2VsZWN0b3JzIHdpbGwgYmUgcHJlZml4ZWQgd2l0aCBhIHNjb3BlIGNsYXNzLCBydWxlXG4gICAgdGhhdCBkaXJlY3RseSBtYXRjaCB0aGUgZWRpdG9yJ3MgW3dyYXBwZXJcbiAgICBlbGVtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kb20p4oCUdG8gd2hpY2ggdGhlIHNjb3BlIGNsYXNzIHdpbGwgYmVcbiAgICBhZGRlZOKAlG5lZWQgdG8gYmUgZXhwbGljaXRseSBkaWZmZXJlbnRpYXRlZCBieSBhZGRpbmcgYW4gYCZgIHRvXG4gICAgdGhlIHNlbGVjdG9yIGZvciB0aGF0IGVsZW1lbnTigJRmb3IgZXhhbXBsZVxuICAgIGAmLmNtLWZvY3VzZWRgLlxuICAgIFxuICAgIFdoZW4gYGRhcmtgIGlzIHNldCB0byB0cnVlLCB0aGUgdGhlbWUgd2lsbCBiZSBtYXJrZWQgYXMgZGFyayxcbiAgICB3aGljaCB3aWxsIGNhdXNlIHRoZSBgJmRhcmtgIHJ1bGVzIGZyb20gW2Jhc2VcbiAgICB0aGVtZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmJhc2VUaGVtZSkgdG8gYmUgdXNlZCAoYXMgb3Bwb3NlZCB0b1xuICAgIGAmbGlnaHRgIHdoZW4gYSBsaWdodCB0aGVtZSBpcyBhY3RpdmUpLlxuICAgICovXG4gICAgc3RhdGljIHRoZW1lKHNwZWMsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHByZWZpeCA9IFN0eWxlTW9kdWxlLm5ld05hbWUoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFt0aGVtZS5vZihwcmVmaXgpLCBzdHlsZU1vZHVsZS5vZihidWlsZFRoZW1lKGAuJHtwcmVmaXh9YCwgc3BlYykpXTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5kYXJrKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZGFya1RoZW1lLm9mKHRydWUpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIGV4dGVuc2lvbiB0aGF0IGFkZHMgc3R5bGVzIHRvIHRoZSBiYXNlIHRoZW1lLiBMaWtlXG4gICAgd2l0aCBbYHRoZW1lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdedGhlbWUpLCB1c2UgYCZgIHRvIGluZGljYXRlIHRoZVxuICAgIHBsYWNlIG9mIHRoZSBlZGl0b3Igd3JhcHBlciBlbGVtZW50IHdoZW4gZGlyZWN0bHkgdGFyZ2V0aW5nXG4gICAgdGhhdC4gWW91IGNhbiBhbHNvIHVzZSBgJmRhcmtgIG9yIGAmbGlnaHRgIGluc3RlYWQgdG8gb25seVxuICAgIHRhcmdldCBlZGl0b3JzIHdpdGggYSBkYXJrIG9yIGxpZ2h0IHRoZW1lLlxuICAgICovXG4gICAgc3RhdGljIGJhc2VUaGVtZShzcGVjKSB7XG4gICAgICAgIHJldHVybiBQcmVjLmxvd2VzdChzdHlsZU1vZHVsZS5vZihidWlsZFRoZW1lKFwiLlwiICsgYmFzZVRoZW1lSUQsIHNwZWMsIGxpZ2h0RGFya0lEcykpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmUgYW4gZWRpdG9yIHZpZXcgaW5zdGFuY2UgZnJvbSB0aGUgdmlldydzIERPTVxuICAgIHJlcHJlc2VudGF0aW9uLlxuICAgICovXG4gICAgc3RhdGljIGZpbmRGcm9tRE9NKGRvbSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBjb250ZW50ID0gZG9tLnF1ZXJ5U2VsZWN0b3IoXCIuY20tY29udGVudFwiKTtcbiAgICAgICAgbGV0IGNWaWV3ID0gY29udGVudCAmJiBDb250ZW50Vmlldy5nZXQoY29udGVudCkgfHwgQ29udGVudFZpZXcuZ2V0KGRvbSk7XG4gICAgICAgIHJldHVybiAoKF9hID0gY1ZpZXcgPT09IG51bGwgfHwgY1ZpZXcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNWaWV3LnJvb3RWaWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmlldykgfHwgbnVsbDtcbiAgICB9XG59XG4vKipcbkZhY2V0IHRvIGFkZCBhIFtzdHlsZVxubW9kdWxlXShodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9zdHlsZS1tb2QjZG9jdW1lbnRhdGlvbikgdG9cbmFuIGVkaXRvciB2aWV3LiBUaGUgdmlldyB3aWxsIGVuc3VyZSB0aGF0IHRoZSBtb2R1bGUgaXNcbm1vdW50ZWQgaW4gaXRzIFtkb2N1bWVudFxucm9vdF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuY29uc3RydWN0b3JeY29uZmlnLnJvb3QpLlxuKi9cbkVkaXRvclZpZXcuc3R5bGVNb2R1bGUgPSBzdHlsZU1vZHVsZTtcbi8qKlxuQW4gaW5wdXQgaGFuZGxlciBjYW4gb3ZlcnJpZGUgdGhlIHdheSBjaGFuZ2VzIHRvIHRoZSBlZGl0YWJsZVxuRE9NIGNvbnRlbnQgYXJlIGhhbmRsZWQuIEhhbmRsZXJzIGFyZSBwYXNzZWQgdGhlIGRvY3VtZW50XG5wb3NpdGlvbnMgYmV0d2VlbiB3aGljaCB0aGUgY2hhbmdlIHdhcyBmb3VuZCwgYW5kIHRoZSBuZXdcbmNvbnRlbnQuIFdoZW4gb25lIHJldHVybnMgdHJ1ZSwgbm8gZnVydGhlciBpbnB1dCBoYW5kbGVycyBhcmVcbmNhbGxlZCBhbmQgdGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgcHJldmVudGVkLlxuXG5UaGUgYGluc2VydGAgYXJndW1lbnQgY2FuIGJlIHVzZWQgdG8gZ2V0IHRoZSBkZWZhdWx0IHRyYW5zYWN0aW9uXG50aGF0IHdvdWxkIGJlIGFwcGxpZWQgZm9yIHRoaXMgaW5wdXQuIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuXG5kaXNwYXRjaGluZyB0aGUgY3VzdG9tIGJlaGF2aW9yIGFzIGEgc2VwYXJhdGUgdHJhbnNhY3Rpb24uXG4qL1xuRWRpdG9yVmlldy5pbnB1dEhhbmRsZXIgPSBpbnB1dEhhbmRsZXI7XG4vKipcblRoaXMgZmFjZXQgY2FuIGJlIHVzZWQgdG8gcHJvdmlkZSBmdW5jdGlvbnMgdGhhdCBjcmVhdGUgZWZmZWN0c1xudG8gYmUgZGlzcGF0Y2hlZCB3aGVuIHRoZSBlZGl0b3IncyBmb2N1cyBzdGF0ZSBjaGFuZ2VzLlxuKi9cbkVkaXRvclZpZXcuZm9jdXNDaGFuZ2VFZmZlY3QgPSBmb2N1c0NoYW5nZUVmZmVjdDtcbi8qKlxuQnkgZGVmYXVsdCwgdGhlIGVkaXRvciBhc3N1bWVzIGFsbCBpdHMgY29udGVudCBoYXMgdGhlIHNhbWVcblt0ZXh0IGRpcmVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkRpcmVjdGlvbikuIENvbmZpZ3VyZSB0aGlzIHdpdGggYSBgdHJ1ZWBcbnZhbHVlIHRvIG1ha2UgaXQgcmVhZCB0aGUgdGV4dCBkaXJlY3Rpb24gb2YgZXZlcnkgKHJlbmRlcmVkKVxubGluZSBzZXBhcmF0ZWx5LlxuKi9cbkVkaXRvclZpZXcucGVyTGluZVRleHREaXJlY3Rpb24gPSBwZXJMaW5lVGV4dERpcmVjdGlvbjtcbi8qKlxuQWxsb3dzIHlvdSB0byBwcm92aWRlIGEgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlXG5saWJyYXJ5IGNhdGNoZXMgYW4gZXhjZXB0aW9uIGZyb20gYW4gZXh0ZW5zaW9uIChtb3N0bHkgZnJvbSB2aWV3XG5wbHVnaW5zLCBidXQgbWF5IGJlIHVzZWQgYnkgb3RoZXIgZXh0ZW5zaW9ucyB0byByb3V0ZSBleGNlcHRpb25zXG5mcm9tIHVzZXItY29kZS1wcm92aWRlZCBjYWxsYmFja3MpLiBUaGlzIGlzIG1vc3RseSB1c2VmdWwgZm9yXG5kZWJ1Z2dpbmcgYW5kIGxvZ2dpbmcuIFNlZSBbYGxvZ0V4Y2VwdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5sb2dFeGNlcHRpb24pLlxuKi9cbkVkaXRvclZpZXcuZXhjZXB0aW9uU2luayA9IGV4Y2VwdGlvblNpbms7XG4vKipcbkEgZmFjZXQgdGhhdCBjYW4gYmUgdXNlZCB0byByZWdpc3RlciBhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZFxuZXZlcnkgdGltZSB0aGUgdmlldyB1cGRhdGVzLlxuKi9cbkVkaXRvclZpZXcudXBkYXRlTGlzdGVuZXIgPSB1cGRhdGVMaXN0ZW5lcjtcbi8qKlxuRmFjZXQgdGhhdCBjb250cm9scyB3aGV0aGVyIHRoZSBlZGl0b3IgY29udGVudCBET00gaXMgZWRpdGFibGUuXG5XaGVuIGl0cyBoaWdoZXN0LXByZWNlZGVuY2UgdmFsdWUgaXMgYGZhbHNlYCwgdGhlIGVsZW1lbnQgd2lsbFxubm90IGhhdmUgaXRzIGBjb250ZW50ZWRpdGFibGVgIGF0dHJpYnV0ZSBzZXQuIChOb3RlIHRoYXQgdGhpc1xuZG9lc24ndCBhZmZlY3QgQVBJIGNhbGxzIHRoYXQgY2hhbmdlIHRoZSBlZGl0b3IgY29udGVudCwgZXZlblxud2hlbiB0aG9zZSBhcmUgYm91bmQgdG8ga2V5cyBvciBidXR0b25zLiBTZWUgdGhlXG5bYHJlYWRPbmx5YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5yZWFkT25seSkgZmFjZXQgZm9yIHRoYXQuKVxuKi9cbkVkaXRvclZpZXcuZWRpdGFibGUgPSBlZGl0YWJsZTtcbi8qKlxuQWxsb3dzIHlvdSB0byBpbmZsdWVuY2UgdGhlIHdheSBtb3VzZSBzZWxlY3Rpb24gaGFwcGVucy4gVGhlXG5mdW5jdGlvbnMgaW4gdGhpcyBmYWNldCB3aWxsIGJlIGNhbGxlZCBmb3IgYSBgbW91c2Vkb3duYCBldmVudFxub24gdGhlIGVkaXRvciwgYW5kIGNhbiByZXR1cm4gYW4gb2JqZWN0IHRoYXQgb3ZlcnJpZGVzIHRoZSB3YXkgYVxuc2VsZWN0aW9uIGlzIGNvbXB1dGVkIGZyb20gdGhhdCBtb3VzZSBjbGljayBvciBkcmFnLlxuKi9cbkVkaXRvclZpZXcubW91c2VTZWxlY3Rpb25TdHlsZSA9IG1vdXNlU2VsZWN0aW9uU3R5bGU7XG4vKipcbkZhY2V0IHVzZWQgdG8gY29uZmlndXJlIHdoZXRoZXIgYSBnaXZlbiBzZWxlY3Rpb24gZHJhZyBldmVudFxuc2hvdWxkIG1vdmUgb3IgY29weSB0aGUgc2VsZWN0aW9uLiBUaGUgZ2l2ZW4gcHJlZGljYXRlIHdpbGwgYmVcbmNhbGxlZCB3aXRoIHRoZSBgbW91c2Vkb3duYCBldmVudCwgYW5kIGNhbiByZXR1cm4gYHRydWVgIHdoZW5cbnRoZSBkcmFnIHNob3VsZCBtb3ZlIHRoZSBjb250ZW50LlxuKi9cbkVkaXRvclZpZXcuZHJhZ01vdmVzU2VsZWN0aW9uID0gZHJhZ01vdmVzU2VsZWN0aW9uJDE7XG4vKipcbkZhY2V0IHVzZWQgdG8gY29uZmlndXJlIHdoZXRoZXIgYSBnaXZlbiBzZWxlY3RpbmcgY2xpY2sgYWRkcyBhXG5uZXcgcmFuZ2UgdG8gdGhlIGV4aXN0aW5nIHNlbGVjdGlvbiBvciByZXBsYWNlcyBpdCBlbnRpcmVseS4gVGhlXG5kZWZhdWx0IGJlaGF2aW9yIGlzIHRvIGNoZWNrIGBldmVudC5tZXRhS2V5YCBvbiBtYWNPUywgYW5kXG5gZXZlbnQuY3RybEtleWAgZWxzZXdoZXJlLlxuKi9cbkVkaXRvclZpZXcuY2xpY2tBZGRzU2VsZWN0aW9uUmFuZ2UgPSBjbGlja0FkZHNTZWxlY3Rpb25SYW5nZTtcbi8qKlxuQSBmYWNldCB0aGF0IGRldGVybWluZXMgd2hpY2ggW2RlY29yYXRpb25zXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvbilcbmFyZSBzaG93biBpbiB0aGUgdmlldy4gRGVjb3JhdGlvbnMgY2FuIGJlIHByb3ZpZGVkIGluIHR3b1xud2F5c+KAlGRpcmVjdGx5LCBvciB2aWEgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIGVkaXRvciB2aWV3LlxuXG5Pbmx5IGRlY29yYXRpb24gc2V0cyBwcm92aWRlZCBkaXJlY3RseSBhcmUgYWxsb3dlZCB0byBpbmZsdWVuY2VcbnRoZSBlZGl0b3IncyB2ZXJ0aWNhbCBsYXlvdXQgc3RydWN0dXJlLiBUaGUgb25lcyBwcm92aWRlZCBhc1xuZnVuY3Rpb25zIGFyZSBjYWxsZWQgX2FmdGVyXyB0aGUgbmV3IHZpZXdwb3J0IGhhcyBiZWVuIGNvbXB1dGVkLFxuYW5kIHRodXMgKiptdXN0IG5vdCoqIGludHJvZHVjZSBibG9jayB3aWRnZXRzIG9yIHJlcGxhY2luZ1xuZGVjb3JhdGlvbnMgdGhhdCBjb3ZlciBsaW5lIGJyZWFrcy5cblxuSWYgeW91IHdhbnQgZGVjb3JhdGVkIHJhbmdlcyB0byBiZWhhdmUgbGlrZSBhdG9taWMgdW5pdHMgZm9yXG5jdXJzb3IgbW90aW9uIGFuZCBkZWxldGlvbiBwdXJwb3NlcywgYWxzbyBwcm92aWRlIHRoZSByYW5nZSBzZXRcbmNvbnRhaW5pbmcgdGhlIGRlY29yYXRpb25zIHRvXG5bYEVkaXRvclZpZXcuYXRvbWljUmFuZ2VzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdeYXRvbWljUmFuZ2VzKS5cbiovXG5FZGl0b3JWaWV3LmRlY29yYXRpb25zID0gZGVjb3JhdGlvbnM7XG4vKipcblVzZWQgdG8gcHJvdmlkZSByYW5nZXMgdGhhdCBzaG91bGQgYmUgdHJlYXRlZCBhcyBhdG9tcyBhcyBmYXIgYXNcbmN1cnNvciBtb3Rpb24gaXMgY29uY2VybmVkLiBUaGlzIGNhdXNlcyBtZXRob2RzIGxpa2VcbltgbW92ZUJ5Q2hhcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3Lm1vdmVCeUNoYXIpIGFuZFxuW2Btb3ZlVmVydGljYWxseWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3Lm1vdmVWZXJ0aWNhbGx5KSAoYW5kIHRoZVxuY29tbWFuZHMgYnVpbHQgb24gdG9wIG9mIHRoZW0pIHRvIHNraXAgYWNyb3NzIHN1Y2ggcmVnaW9ucyB3aGVuXG5hIHNlbGVjdGlvbiBlbmRwb2ludCB3b3VsZCBlbnRlciB0aGVtLiBUaGlzIGRvZXMgX25vdF8gcHJldmVudFxuZGlyZWN0IHByb2dyYW1tYXRpYyBbc2VsZWN0aW9uXG51cGRhdGVzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5zZWxlY3Rpb24pIGZyb20gbW92aW5nIGludG8gc3VjaFxucmVnaW9ucy5cbiovXG5FZGl0b3JWaWV3LmF0b21pY1JhbmdlcyA9IGF0b21pY1Jhbmdlcztcbi8qKlxuV2hlbiByYW5nZSBkZWNvcmF0aW9ucyBhZGQgYSBgdW5pY29kZS1iaWRpOiBpc29sYXRlYCBzdHlsZSwgdGhleVxuc2hvdWxkIGFsc28gaW5jbHVkZSBhXG5bYGJpZGlJc29sYXRlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3Lk1hcmtEZWNvcmF0aW9uU3BlYy5iaWRpSXNvbGF0ZSkgcHJvcGVydHlcbmluIHRoZWlyIGRlY29yYXRpb24gc3BlYywgYW5kIGJlIGV4cG9zZWQgdGhyb3VnaCB0aGlzIGZhY2V0LCBzb1xudGhhdCB0aGUgZWRpdG9yIGNhbiBjb21wdXRlIHRoZSBwcm9wZXIgdGV4dCBvcmRlci4gKE90aGVyIHZhbHVlc1xuZm9yIGB1bmljb2RlLWJpZGlgLCBleGNlcHQgb2YgY291cnNlIGBub3JtYWxgLCBhcmUgbm90XG5zdXBwb3J0ZWQuKVxuKi9cbkVkaXRvclZpZXcuYmlkaUlzb2xhdGVkUmFuZ2VzID0gYmlkaUlzb2xhdGVkUmFuZ2VzO1xuLyoqXG5GYWNldCB0aGF0IGFsbG93cyBleHRlbnNpb25zIHRvIHByb3ZpZGUgYWRkaXRpb25hbCBzY3JvbGxcbm1hcmdpbnMgKHNwYWNlIGFyb3VuZCB0aGUgc2lkZXMgb2YgdGhlIHNjcm9sbGluZyBlbGVtZW50IHRoYXRcbnNob3VsZCBiZSBjb25zaWRlcmVkIGludmlzaWJsZSkuIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIHRoZVxucGx1Z2luIGludHJvZHVjZXMgZWxlbWVudHMgdGhhdCBjb3ZlciBwYXJ0IG9mIHRoYXQgZWxlbWVudCAoZm9yXG5leGFtcGxlIGEgaG9yaXpvbnRhbGx5IGZpeGVkIGd1dHRlcikuXG4qL1xuRWRpdG9yVmlldy5zY3JvbGxNYXJnaW5zID0gc2Nyb2xsTWFyZ2lucztcbi8qKlxuVGhpcyBmYWNldCByZWNvcmRzIHdoZXRoZXIgYSBkYXJrIHRoZW1lIGlzIGFjdGl2ZS4gVGhlIGV4dGVuc2lvblxucmV0dXJuZWQgYnkgW2B0aGVtZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XnRoZW1lKSBhdXRvbWF0aWNhbGx5XG5pbmNsdWRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIHdoZW4gdGhlIGBkYXJrYCBvcHRpb24gaXMgc2V0IHRvXG50cnVlLlxuKi9cbkVkaXRvclZpZXcuZGFya1RoZW1lID0gZGFya1RoZW1lO1xuLyoqXG5Qcm92aWRlcyBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IG5vbmNlIHRvIHVzZSB3aGVuIGNyZWF0aW5nXG50aGUgc3R5bGUgc2hlZXRzIGZvciB0aGUgZWRpdG9yLiBIb2xkcyB0aGUgZW1wdHkgc3RyaW5nIHdoZW4gbm9cbm5vbmNlIGhhcyBiZWVuIHByb3ZpZGVkLlxuKi9cbkVkaXRvclZpZXcuY3NwTm9uY2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbMF0gOiBcIlwiIH0pO1xuLyoqXG5GYWNldCB0aGF0IHByb3ZpZGVzIGFkZGl0aW9uYWwgRE9NIGF0dHJpYnV0ZXMgZm9yIHRoZSBlZGl0b3Inc1xuZWRpdGFibGUgRE9NIGVsZW1lbnQuXG4qL1xuRWRpdG9yVmlldy5jb250ZW50QXR0cmlidXRlcyA9IGNvbnRlbnRBdHRyaWJ1dGVzO1xuLyoqXG5GYWNldCB0aGF0IHByb3ZpZGVzIERPTSBhdHRyaWJ1dGVzIGZvciB0aGUgZWRpdG9yJ3Mgb3V0ZXJcbmVsZW1lbnQuXG4qL1xuRWRpdG9yVmlldy5lZGl0b3JBdHRyaWJ1dGVzID0gZWRpdG9yQXR0cmlidXRlcztcbi8qKlxuQW4gZXh0ZW5zaW9uIHRoYXQgZW5hYmxlcyBsaW5lIHdyYXBwaW5nIGluIHRoZSBlZGl0b3IgKGJ5XG5zZXR0aW5nIENTUyBgd2hpdGUtc3BhY2VgIHRvIGBwcmUtd3JhcGAgaW4gdGhlIGNvbnRlbnQpLlxuKi9cbkVkaXRvclZpZXcubGluZVdyYXBwaW5nID0gLypAX19QVVJFX18qL0VkaXRvclZpZXcuY29udGVudEF0dHJpYnV0ZXMub2YoeyBcImNsYXNzXCI6IFwiY20tbGluZVdyYXBwaW5nXCIgfSk7XG4vKipcblN0YXRlIGVmZmVjdCB1c2VkIHRvIGluY2x1ZGUgc2NyZWVuIHJlYWRlciBhbm5vdW5jZW1lbnRzIGluIGFcbnRyYW5zYWN0aW9uLiBUaGVzZSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBET00gaW4gYSB2aXN1YWxseSBoaWRkZW5cbmVsZW1lbnQgd2l0aCBgYXJpYS1saXZlPVwicG9saXRlXCJgIHNldCwgYW5kIHNob3VsZCBiZSB1c2VkIHRvXG5kZXNjcmliZSBlZmZlY3RzIHRoYXQgYXJlIHZpc3VhbGx5IG9idmlvdXMgYnV0IG1heSBub3QgYmVcbm5vdGljZWQgYnkgc2NyZWVuIHJlYWRlciB1c2VycyAoc3VjaCBhcyBtb3ZpbmcgdG8gdGhlIG5leHRcbnNlYXJjaCBtYXRjaCkuXG4qL1xuRWRpdG9yVmlldy5hbm5vdW5jZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbi8vIE1heGltdW0gbGluZSBsZW5ndGggZm9yIHdoaWNoIHdlIGNvbXB1dGUgYWNjdXJhdGUgYmlkaSBpbmZvXG5jb25zdCBNYXhCaWRpTGluZSA9IDQwOTY7XG5jb25zdCBCYWRNZWFzdXJlID0ge307XG5jbGFzcyBDYWNoZWRPcmRlciB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8sIGRpciwgaXNvbGF0ZXMsIGZyZXNoLCBvcmRlcikge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMuZGlyID0gZGlyO1xuICAgICAgICB0aGlzLmlzb2xhdGVzID0gaXNvbGF0ZXM7XG4gICAgICAgIHRoaXMuZnJlc2ggPSBmcmVzaDtcbiAgICAgICAgdGhpcy5vcmRlciA9IG9yZGVyO1xuICAgIH1cbiAgICBzdGF0aWMgdXBkYXRlKGNhY2hlLCBjaGFuZ2VzKSB7XG4gICAgICAgIGlmIChjaGFuZ2VzLmVtcHR5ICYmICFjYWNoZS5zb21lKGMgPT4gYy5mcmVzaCkpXG4gICAgICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXSwgbGFzdERpciA9IGNhY2hlLmxlbmd0aCA/IGNhY2hlW2NhY2hlLmxlbmd0aCAtIDFdLmRpciA6IERpcmVjdGlvbi5MVFI7XG4gICAgICAgIGZvciAobGV0IGkgPSBNYXRoLm1heCgwLCBjYWNoZS5sZW5ndGggLSAxMCk7IGkgPCBjYWNoZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGVudHJ5ID0gY2FjaGVbaV07XG4gICAgICAgICAgICBpZiAoZW50cnkuZGlyID09IGxhc3REaXIgJiYgIWNoYW5nZXMudG91Y2hlc1JhbmdlKGVudHJ5LmZyb20sIGVudHJ5LnRvKSlcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgQ2FjaGVkT3JkZXIoY2hhbmdlcy5tYXBQb3MoZW50cnkuZnJvbSwgMSksIGNoYW5nZXMubWFwUG9zKGVudHJ5LnRvLCAtMSksIGVudHJ5LmRpciwgZW50cnkuaXNvbGF0ZXMsIGZhbHNlLCBlbnRyeS5vcmRlcikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gYXR0cnNGcm9tRmFjZXQodmlldywgZmFjZXQsIGJhc2UpIHtcbiAgICBmb3IgKGxldCBzb3VyY2VzID0gdmlldy5zdGF0ZS5mYWNldChmYWNldCksIGkgPSBzb3VyY2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBzb3VyY2UgPSBzb3VyY2VzW2ldLCB2YWx1ZSA9IHR5cGVvZiBzb3VyY2UgPT0gXCJmdW5jdGlvblwiID8gc291cmNlKHZpZXcpIDogc291cmNlO1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICBjb21iaW5lQXR0cnModmFsdWUsIGJhc2UpO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZTtcbn1cblxuY29uc3QgY3VycmVudFBsYXRmb3JtID0gYnJvd3Nlci5tYWMgPyBcIm1hY1wiIDogYnJvd3Nlci53aW5kb3dzID8gXCJ3aW5cIiA6IGJyb3dzZXIubGludXggPyBcImxpbnV4XCIgOiBcImtleVwiO1xuZnVuY3Rpb24gbm9ybWFsaXplS2V5TmFtZShuYW1lLCBwbGF0Zm9ybSkge1xuICAgIGNvbnN0IHBhcnRzID0gbmFtZS5zcGxpdCgvLSg/ISQpLyk7XG4gICAgbGV0IHJlc3VsdCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChyZXN1bHQgPT0gXCJTcGFjZVwiKVxuICAgICAgICByZXN1bHQgPSBcIiBcIjtcbiAgICBsZXQgYWx0LCBjdHJsLCBzaGlmdCwgbWV0YTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICBjb25zdCBtb2QgPSBwYXJ0c1tpXTtcbiAgICAgICAgaWYgKC9eKGNtZHxtZXRhfG0pJC9pLnRlc3QobW9kKSlcbiAgICAgICAgICAgIG1ldGEgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICgvXmEobHQpPyQvaS50ZXN0KG1vZCkpXG4gICAgICAgICAgICBhbHQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICgvXihjfGN0cmx8Y29udHJvbCkkL2kudGVzdChtb2QpKVxuICAgICAgICAgICAgY3RybCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKC9ecyhoaWZ0KT8kL2kudGVzdChtb2QpKVxuICAgICAgICAgICAgc2hpZnQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICgvXm1vZCQvaS50ZXN0KG1vZCkpIHtcbiAgICAgICAgICAgIGlmIChwbGF0Zm9ybSA9PSBcIm1hY1wiKVxuICAgICAgICAgICAgICAgIG1ldGEgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGN0cmwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiBcIiArIG1vZCk7XG4gICAgfVxuICAgIGlmIChhbHQpXG4gICAgICAgIHJlc3VsdCA9IFwiQWx0LVwiICsgcmVzdWx0O1xuICAgIGlmIChjdHJsKVxuICAgICAgICByZXN1bHQgPSBcIkN0cmwtXCIgKyByZXN1bHQ7XG4gICAgaWYgKG1ldGEpXG4gICAgICAgIHJlc3VsdCA9IFwiTWV0YS1cIiArIHJlc3VsdDtcbiAgICBpZiAoc2hpZnQpXG4gICAgICAgIHJlc3VsdCA9IFwiU2hpZnQtXCIgKyByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZGlmaWVycyhuYW1lLCBldmVudCwgc2hpZnQpIHtcbiAgICBpZiAoZXZlbnQuYWx0S2V5KVxuICAgICAgICBuYW1lID0gXCJBbHQtXCIgKyBuYW1lO1xuICAgIGlmIChldmVudC5jdHJsS2V5KVxuICAgICAgICBuYW1lID0gXCJDdHJsLVwiICsgbmFtZTtcbiAgICBpZiAoZXZlbnQubWV0YUtleSlcbiAgICAgICAgbmFtZSA9IFwiTWV0YS1cIiArIG5hbWU7XG4gICAgaWYgKHNoaWZ0ICE9PSBmYWxzZSAmJiBldmVudC5zaGlmdEtleSlcbiAgICAgICAgbmFtZSA9IFwiU2hpZnQtXCIgKyBuYW1lO1xuICAgIHJldHVybiBuYW1lO1xufVxuY29uc3QgaGFuZGxlS2V5RXZlbnRzID0gLypAX19QVVJFX18qL1ByZWMuZGVmYXVsdCgvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5kb21FdmVudEhhbmRsZXJzKHtcbiAgICBrZXlkb3duKGV2ZW50LCB2aWV3KSB7XG4gICAgICAgIHJldHVybiBydW5IYW5kbGVycyhnZXRLZXltYXAodmlldy5zdGF0ZSksIGV2ZW50LCB2aWV3LCBcImVkaXRvclwiKTtcbiAgICB9XG59KSk7XG4vKipcbkZhY2V0IHVzZWQgZm9yIHJlZ2lzdGVyaW5nIGtleW1hcHMuXG5cbllvdSBjYW4gYWRkIG11bHRpcGxlIGtleW1hcHMgdG8gYW4gZWRpdG9yLiBUaGVpciBwcmlvcml0aWVzXG5kZXRlcm1pbmUgdGhlaXIgcHJlY2VkZW5jZSAodGhlIG9uZXMgc3BlY2lmaWVkIGVhcmx5IG9yIHdpdGggaGlnaFxucHJpb3JpdHkgZ2V0IGNoZWNrZWQgZmlyc3QpLiBXaGVuIGEgaGFuZGxlciBoYXMgcmV0dXJuZWQgYHRydWVgXG5mb3IgYSBnaXZlbiBrZXksIG5vIGZ1cnRoZXIgaGFuZGxlcnMgYXJlIGNhbGxlZC5cbiovXG5jb25zdCBrZXltYXAgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgZW5hYmxlczogaGFuZGxlS2V5RXZlbnRzIH0pO1xuY29uc3QgS2V5bWFwcyA9IC8qQF9fUFVSRV9fKi9uZXcgV2Vha01hcCgpO1xuLy8gVGhpcyBpcyBoaWRkZW4gYmVoaW5kIGFuIGluZGlyZWN0aW9uLCByYXRoZXIgdGhhbiBkaXJlY3RseSBjb21wdXRlZFxuLy8gYnkgdGhlIGZhY2V0LCB0byBrZWVwIGludGVybmFsIHR5cGVzIG91dCBvZiB0aGUgZmFjZXQncyB0eXBlLlxuZnVuY3Rpb24gZ2V0S2V5bWFwKHN0YXRlKSB7XG4gICAgbGV0IGJpbmRpbmdzID0gc3RhdGUuZmFjZXQoa2V5bWFwKTtcbiAgICBsZXQgbWFwID0gS2V5bWFwcy5nZXQoYmluZGluZ3MpO1xuICAgIGlmICghbWFwKVxuICAgICAgICBLZXltYXBzLnNldChiaW5kaW5ncywgbWFwID0gYnVpbGRLZXltYXAoYmluZGluZ3MucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSwgW10pKSk7XG4gICAgcmV0dXJuIG1hcDtcbn1cbi8qKlxuUnVuIHRoZSBrZXkgaGFuZGxlcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBzY29wZS4gVGhlIGV2ZW50XG5vYmplY3Qgc2hvdWxkIGJlIGEgYFwia2V5ZG93blwiYCBldmVudC4gUmV0dXJucyB0cnVlIGlmIGFueSBvZiB0aGVcbmhhbmRsZXJzIGhhbmRsZWQgaXQuXG4qL1xuZnVuY3Rpb24gcnVuU2NvcGVIYW5kbGVycyh2aWV3LCBldmVudCwgc2NvcGUpIHtcbiAgICByZXR1cm4gcnVuSGFuZGxlcnMoZ2V0S2V5bWFwKHZpZXcuc3RhdGUpLCBldmVudCwgdmlldywgc2NvcGUpO1xufVxubGV0IHN0b3JlZFByZWZpeCA9IG51bGw7XG5jb25zdCBQcmVmaXhUaW1lb3V0ID0gNDAwMDtcbmZ1bmN0aW9uIGJ1aWxkS2V5bWFwKGJpbmRpbmdzLCBwbGF0Zm9ybSA9IGN1cnJlbnRQbGF0Zm9ybSkge1xuICAgIGxldCBib3VuZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGV0IGlzUHJlZml4ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBsZXQgY2hlY2tQcmVmaXggPSAobmFtZSwgaXMpID0+IHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBpc1ByZWZpeFtuYW1lXTtcbiAgICAgICAgaWYgKGN1cnJlbnQgPT0gbnVsbClcbiAgICAgICAgICAgIGlzUHJlZml4W25hbWVdID0gaXM7XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnQgIT0gaXMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJLZXkgYmluZGluZyBcIiArIG5hbWUgKyBcIiBpcyB1c2VkIGJvdGggYXMgYSByZWd1bGFyIGJpbmRpbmcgYW5kIGFzIGEgbXVsdGktc3Ryb2tlIHByZWZpeFwiKTtcbiAgICB9O1xuICAgIGxldCBhZGQgPSAoc2NvcGUsIGtleSwgY29tbWFuZCwgcHJldmVudERlZmF1bHQsIHN0b3BQcm9wYWdhdGlvbikgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBsZXQgc2NvcGVPYmogPSBib3VuZFtzY29wZV0gfHwgKGJvdW5kW3Njb3BlXSA9IE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICBsZXQgcGFydHMgPSBrZXkuc3BsaXQoLyAoPyEkKS8pLm1hcChrID0+IG5vcm1hbGl6ZUtleU5hbWUoaywgcGxhdGZvcm0pKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByZWZpeCA9IHBhcnRzLnNsaWNlKDAsIGkpLmpvaW4oXCIgXCIpO1xuICAgICAgICAgICAgY2hlY2tQcmVmaXgocHJlZml4LCB0cnVlKTtcbiAgICAgICAgICAgIGlmICghc2NvcGVPYmpbcHJlZml4XSlcbiAgICAgICAgICAgICAgICBzY29wZU9ialtwcmVmaXhdID0ge1xuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcnVuOiBbKHZpZXcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3VyT2JqID0gc3RvcmVkUHJlZml4ID0geyB2aWV3LCBwcmVmaXgsIHNjb3BlIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IGlmIChzdG9yZWRQcmVmaXggPT0gb3VyT2JqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZWRQcmVmaXggPSBudWxsOyB9LCBQcmVmaXhUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZnVsbCA9IHBhcnRzLmpvaW4oXCIgXCIpO1xuICAgICAgICBjaGVja1ByZWZpeChmdWxsLCBmYWxzZSk7XG4gICAgICAgIGxldCBiaW5kaW5nID0gc2NvcGVPYmpbZnVsbF0gfHwgKHNjb3BlT2JqW2Z1bGxdID0ge1xuICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgIHJ1bjogKChfYiA9IChfYSA9IHNjb3BlT2JqLl9hbnkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ydW4pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zbGljZSgpKSB8fCBbXVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNvbW1hbmQpXG4gICAgICAgICAgICBiaW5kaW5nLnJ1bi5wdXNoKGNvbW1hbmQpO1xuICAgICAgICBpZiAocHJldmVudERlZmF1bHQpXG4gICAgICAgICAgICBiaW5kaW5nLnByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgICAgIGJpbmRpbmcuc3RvcFByb3BhZ2F0aW9uID0gdHJ1ZTtcbiAgICB9O1xuICAgIGZvciAobGV0IGIgb2YgYmluZGluZ3MpIHtcbiAgICAgICAgbGV0IHNjb3BlcyA9IGIuc2NvcGUgPyBiLnNjb3BlLnNwbGl0KFwiIFwiKSA6IFtcImVkaXRvclwiXTtcbiAgICAgICAgaWYgKGIuYW55KVxuICAgICAgICAgICAgZm9yIChsZXQgc2NvcGUgb2Ygc2NvcGVzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNjb3BlT2JqID0gYm91bmRbc2NvcGVdIHx8IChib3VuZFtzY29wZV0gPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlT2JqLl9hbnkpXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlT2JqLl9hbnkgPSB7IHByZXZlbnREZWZhdWx0OiBmYWxzZSwgc3RvcFByb3BhZ2F0aW9uOiBmYWxzZSwgcnVuOiBbXSB9O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzY29wZU9iailcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVPYmpba2V5XS5ydW4ucHVzaChiLmFueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGxldCBuYW1lID0gYltwbGF0Zm9ybV0gfHwgYi5rZXk7XG4gICAgICAgIGlmICghbmFtZSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBmb3IgKGxldCBzY29wZSBvZiBzY29wZXMpIHtcbiAgICAgICAgICAgIGFkZChzY29wZSwgbmFtZSwgYi5ydW4sIGIucHJldmVudERlZmF1bHQsIGIuc3RvcFByb3BhZ2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChiLnNoaWZ0KVxuICAgICAgICAgICAgICAgIGFkZChzY29wZSwgXCJTaGlmdC1cIiArIG5hbWUsIGIuc2hpZnQsIGIucHJldmVudERlZmF1bHQsIGIuc3RvcFByb3BhZ2F0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYm91bmQ7XG59XG5mdW5jdGlvbiBydW5IYW5kbGVycyhtYXAsIGV2ZW50LCB2aWV3LCBzY29wZSkge1xuICAgIGxldCBuYW1lID0ga2V5TmFtZShldmVudCk7XG4gICAgbGV0IGNoYXJDb2RlID0gY29kZVBvaW50QXQobmFtZSwgMCksIGlzQ2hhciA9IGNvZGVQb2ludFNpemUoY2hhckNvZGUpID09IG5hbWUubGVuZ3RoICYmIG5hbWUgIT0gXCIgXCI7XG4gICAgbGV0IHByZWZpeCA9IFwiXCIsIGhhbmRsZWQgPSBmYWxzZSwgcHJldmVudGVkID0gZmFsc2UsIHN0b3BQcm9wYWdhdGlvbiA9IGZhbHNlO1xuICAgIGlmIChzdG9yZWRQcmVmaXggJiYgc3RvcmVkUHJlZml4LnZpZXcgPT0gdmlldyAmJiBzdG9yZWRQcmVmaXguc2NvcGUgPT0gc2NvcGUpIHtcbiAgICAgICAgcHJlZml4ID0gc3RvcmVkUHJlZml4LnByZWZpeCArIFwiIFwiO1xuICAgICAgICBpZiAobW9kaWZpZXJDb2Rlcy5pbmRleE9mKGV2ZW50LmtleUNvZGUpIDwgMCkge1xuICAgICAgICAgICAgcHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0b3JlZFByZWZpeCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJhbiA9IG5ldyBTZXQ7XG4gICAgbGV0IHJ1bkZvciA9IChiaW5kaW5nKSA9PiB7XG4gICAgICAgIGlmIChiaW5kaW5nKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjbWQgb2YgYmluZGluZy5ydW4pXG4gICAgICAgICAgICAgICAgaWYgKCFyYW4uaGFzKGNtZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuLmFkZChjbWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY21kKHZpZXcsIGV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpbmRpbmcuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiaW5kaW5nLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRpbmcuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICBzdG9wUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgbGV0IHNjb3BlT2JqID0gbWFwW3Njb3BlXSwgYmFzZU5hbWUsIHNoaWZ0TmFtZTtcbiAgICBpZiAoc2NvcGVPYmopIHtcbiAgICAgICAgaWYgKHJ1bkZvcihzY29wZU9ialtwcmVmaXggKyBtb2RpZmllcnMobmFtZSwgZXZlbnQsICFpc0NoYXIpXSkpIHtcbiAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ2hhciAmJiAoZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSkgJiZcbiAgICAgICAgICAgIC8vIEN0cmwtQWx0IG1heSBiZSB1c2VkIGZvciBBbHRHciBvbiBXaW5kb3dzXG4gICAgICAgICAgICAhKGJyb3dzZXIud2luZG93cyAmJiBldmVudC5jdHJsS2V5ICYmIGV2ZW50LmFsdEtleSkgJiZcbiAgICAgICAgICAgIChiYXNlTmFtZSA9IGJhc2VbZXZlbnQua2V5Q29kZV0pICYmIGJhc2VOYW1lICE9IG5hbWUpIHtcbiAgICAgICAgICAgIGlmIChydW5Gb3Ioc2NvcGVPYmpbcHJlZml4ICsgbW9kaWZpZXJzKGJhc2VOYW1lLCBldmVudCwgdHJ1ZSldKSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQuc2hpZnRLZXkgJiYgKHNoaWZ0TmFtZSA9IHNoaWZ0W2V2ZW50LmtleUNvZGVdKSAhPSBuYW1lICYmIHNoaWZ0TmFtZSAhPSBiYXNlTmFtZSAmJlxuICAgICAgICAgICAgICAgIHJ1bkZvcihzY29wZU9ialtwcmVmaXggKyBtb2RpZmllcnMoc2hpZnROYW1lLCBldmVudCwgZmFsc2UpXSkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NoYXIgJiYgZXZlbnQuc2hpZnRLZXkgJiZcbiAgICAgICAgICAgIHJ1bkZvcihzY29wZU9ialtwcmVmaXggKyBtb2RpZmllcnMobmFtZSwgZXZlbnQsIHRydWUpXSkpIHtcbiAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFuZGxlZCAmJiBydW5Gb3Ioc2NvcGVPYmouX2FueSkpXG4gICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHByZXZlbnRlZClcbiAgICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgaWYgKGhhbmRsZWQgJiYgc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICByZXR1cm4gaGFuZGxlZDtcbn1cblxuLyoqXG5JbXBsZW1lbnRhdGlvbiBvZiBbYExheWVyTWFya2VyYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkxheWVyTWFya2VyKSB0aGF0IGNyZWF0ZXNcbmEgcmVjdGFuZ2xlIGF0IGEgZ2l2ZW4gc2V0IG9mIGNvb3JkaW5hdGVzLlxuKi9cbmNsYXNzIFJlY3RhbmdsZU1hcmtlciB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbWFya2VyIHdpdGggdGhlIGdpdmVuIGNsYXNzIGFuZCBkaW1lbnNpb25zLiBJZiBgd2lkdGhgXG4gICAgaXMgbnVsbCwgdGhlIERPTSBlbGVtZW50IHdpbGwgZ2V0IG5vIHdpZHRoIHN0eWxlLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoY2xhc3NOYW1lLCBcbiAgICAvKipcbiAgICBUaGUgbGVmdCBwb3NpdGlvbiBvZiB0aGUgbWFya2VyIChpbiBwaXhlbHMsIGRvY3VtZW50LXJlbGF0aXZlKS5cbiAgICAqL1xuICAgIGxlZnQsIFxuICAgIC8qKlxuICAgIFRoZSB0b3AgcG9zaXRpb24gb2YgdGhlIG1hcmtlci5cbiAgICAqL1xuICAgIHRvcCwgXG4gICAgLyoqXG4gICAgVGhlIHdpZHRoIG9mIHRoZSBtYXJrZXIsIG9yIG51bGwgaWYgaXQgc2hvdWxkbid0IGdldCBhIHdpZHRoIGFzc2lnbmVkLlxuICAgICovXG4gICAgd2lkdGgsIFxuICAgIC8qKlxuICAgIFRoZSBoZWlnaHQgb2YgdGhlIG1hcmtlci5cbiAgICAqL1xuICAgIGhlaWdodCkge1xuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuICAgIGRyYXcoKSB7XG4gICAgICAgIGxldCBlbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbHQuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWU7XG4gICAgICAgIHRoaXMuYWRqdXN0KGVsdCk7XG4gICAgICAgIHJldHVybiBlbHQ7XG4gICAgfVxuICAgIHVwZGF0ZShlbHQsIHByZXYpIHtcbiAgICAgICAgaWYgKHByZXYuY2xhc3NOYW1lICE9IHRoaXMuY2xhc3NOYW1lKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLmFkanVzdChlbHQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgYWRqdXN0KGVsdCkge1xuICAgICAgICBlbHQuc3R5bGUubGVmdCA9IHRoaXMubGVmdCArIFwicHhcIjtcbiAgICAgICAgZWx0LnN0eWxlLnRvcCA9IHRoaXMudG9wICsgXCJweFwiO1xuICAgICAgICBpZiAodGhpcy53aWR0aCAhPSBudWxsKVxuICAgICAgICAgICAgZWx0LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArIFwicHhcIjtcbiAgICAgICAgZWx0LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgXCJweFwiO1xuICAgIH1cbiAgICBlcShwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQgPT0gcC5sZWZ0ICYmIHRoaXMudG9wID09IHAudG9wICYmIHRoaXMud2lkdGggPT0gcC53aWR0aCAmJiB0aGlzLmhlaWdodCA9PSBwLmhlaWdodCAmJlxuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPT0gcC5jbGFzc05hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHNldCBvZiByZWN0YW5nbGVzIGZvciB0aGUgZ2l2ZW4gc2VsZWN0aW9uIHJhbmdlLFxuICAgIGFzc2lnbmluZyB0aGVtIHRoZWNsYXNzYGNsYXNzTmFtZWAuIFdpbGwgY3JlYXRlIGEgc2luZ2xlXG4gICAgcmVjdGFuZ2xlIGZvciBlbXB0eSByYW5nZXMsIGFuZCBhIHNldCBvZiBzZWxlY3Rpb24tc3R5bGVcbiAgICByZWN0YW5nbGVzIGNvdmVyaW5nIHRoZSByYW5nZSdzIGNvbnRlbnQgKGluIGEgYmlkaS1hd2FyZVxuICAgIHdheSkgZm9yIG5vbi1lbXB0eSBvbmVzLlxuICAgICovXG4gICAgc3RhdGljIGZvclJhbmdlKHZpZXcsIGNsYXNzTmFtZSwgcmFuZ2UpIHtcbiAgICAgICAgaWYgKHJhbmdlLmVtcHR5KSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gdmlldy5jb29yZHNBdFBvcyhyYW5nZS5oZWFkLCByYW5nZS5hc3NvYyB8fCAxKTtcbiAgICAgICAgICAgIGlmICghcG9zKVxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIGxldCBiYXNlID0gZ2V0QmFzZSh2aWV3KTtcbiAgICAgICAgICAgIHJldHVybiBbbmV3IFJlY3RhbmdsZU1hcmtlcihjbGFzc05hbWUsIHBvcy5sZWZ0IC0gYmFzZS5sZWZ0LCBwb3MudG9wIC0gYmFzZS50b3AsIG51bGwsIHBvcy5ib3R0b20gLSBwb3MudG9wKV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjdGFuZ2xlc0ZvclJhbmdlKHZpZXcsIGNsYXNzTmFtZSwgcmFuZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0QmFzZSh2aWV3KSB7XG4gICAgbGV0IHJlY3QgPSB2aWV3LnNjcm9sbERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgbGVmdCA9IHZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uTFRSID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodCAtIHZpZXcuc2Nyb2xsRE9NLmNsaWVudFdpZHRoICogdmlldy5zY2FsZVg7XG4gICAgcmV0dXJuIHsgbGVmdDogbGVmdCAtIHZpZXcuc2Nyb2xsRE9NLnNjcm9sbExlZnQgKiB2aWV3LnNjYWxlWCwgdG9wOiByZWN0LnRvcCAtIHZpZXcuc2Nyb2xsRE9NLnNjcm9sbFRvcCAqIHZpZXcuc2NhbGVZIH07XG59XG5mdW5jdGlvbiB3cmFwcGVkTGluZSh2aWV3LCBwb3MsIGluc2lkZSkge1xuICAgIGxldCByYW5nZSA9IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zKTtcbiAgICByZXR1cm4geyBmcm9tOiBNYXRoLm1heChpbnNpZGUuZnJvbSwgdmlldy5tb3ZlVG9MaW5lQm91bmRhcnkocmFuZ2UsIGZhbHNlLCB0cnVlKS5mcm9tKSxcbiAgICAgICAgdG86IE1hdGgubWluKGluc2lkZS50bywgdmlldy5tb3ZlVG9MaW5lQm91bmRhcnkocmFuZ2UsIHRydWUsIHRydWUpLmZyb20pLFxuICAgICAgICB0eXBlOiBCbG9ja1R5cGUuVGV4dCB9O1xufVxuZnVuY3Rpb24gcmVjdGFuZ2xlc0ZvclJhbmdlKHZpZXcsIGNsYXNzTmFtZSwgcmFuZ2UpIHtcbiAgICBpZiAocmFuZ2UudG8gPD0gdmlldy52aWV3cG9ydC5mcm9tIHx8IHJhbmdlLmZyb20gPj0gdmlldy52aWV3cG9ydC50bylcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGxldCBmcm9tID0gTWF0aC5tYXgocmFuZ2UuZnJvbSwgdmlldy52aWV3cG9ydC5mcm9tKSwgdG8gPSBNYXRoLm1pbihyYW5nZS50bywgdmlldy52aWV3cG9ydC50byk7XG4gICAgbGV0IGx0ciA9IHZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uTFRSO1xuICAgIGxldCBjb250ZW50ID0gdmlldy5jb250ZW50RE9NLCBjb250ZW50UmVjdCA9IGNvbnRlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGJhc2UgPSBnZXRCYXNlKHZpZXcpO1xuICAgIGxldCBsaW5lRWx0ID0gY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNtLWxpbmVcIiksIGxpbmVTdHlsZSA9IGxpbmVFbHQgJiYgd2luZG93LmdldENvbXB1dGVkU3R5bGUobGluZUVsdCk7XG4gICAgbGV0IGxlZnRTaWRlID0gY29udGVudFJlY3QubGVmdCArXG4gICAgICAgIChsaW5lU3R5bGUgPyBwYXJzZUludChsaW5lU3R5bGUucGFkZGluZ0xlZnQpICsgTWF0aC5taW4oMCwgcGFyc2VJbnQobGluZVN0eWxlLnRleHRJbmRlbnQpKSA6IDApO1xuICAgIGxldCByaWdodFNpZGUgPSBjb250ZW50UmVjdC5yaWdodCAtIChsaW5lU3R5bGUgPyBwYXJzZUludChsaW5lU3R5bGUucGFkZGluZ1JpZ2h0KSA6IDApO1xuICAgIGxldCBzdGFydEJsb2NrID0gYmxvY2tBdCh2aWV3LCBmcm9tKSwgZW5kQmxvY2sgPSBibG9ja0F0KHZpZXcsIHRvKTtcbiAgICBsZXQgdmlzdWFsU3RhcnQgPSBzdGFydEJsb2NrLnR5cGUgPT0gQmxvY2tUeXBlLlRleHQgPyBzdGFydEJsb2NrIDogbnVsbDtcbiAgICBsZXQgdmlzdWFsRW5kID0gZW5kQmxvY2sudHlwZSA9PSBCbG9ja1R5cGUuVGV4dCA/IGVuZEJsb2NrIDogbnVsbDtcbiAgICBpZiAodmlzdWFsU3RhcnQgJiYgKHZpZXcubGluZVdyYXBwaW5nIHx8IHN0YXJ0QmxvY2sud2lkZ2V0TGluZUJyZWFrcykpXG4gICAgICAgIHZpc3VhbFN0YXJ0ID0gd3JhcHBlZExpbmUodmlldywgZnJvbSwgdmlzdWFsU3RhcnQpO1xuICAgIGlmICh2aXN1YWxFbmQgJiYgKHZpZXcubGluZVdyYXBwaW5nIHx8IGVuZEJsb2NrLndpZGdldExpbmVCcmVha3MpKVxuICAgICAgICB2aXN1YWxFbmQgPSB3cmFwcGVkTGluZSh2aWV3LCB0bywgdmlzdWFsRW5kKTtcbiAgICBpZiAodmlzdWFsU3RhcnQgJiYgdmlzdWFsRW5kICYmIHZpc3VhbFN0YXJ0LmZyb20gPT0gdmlzdWFsRW5kLmZyb20pIHtcbiAgICAgICAgcmV0dXJuIHBpZWNlcyhkcmF3Rm9yTGluZShyYW5nZS5mcm9tLCByYW5nZS50bywgdmlzdWFsU3RhcnQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCB0b3AgPSB2aXN1YWxTdGFydCA/IGRyYXdGb3JMaW5lKHJhbmdlLmZyb20sIG51bGwsIHZpc3VhbFN0YXJ0KSA6IGRyYXdGb3JXaWRnZXQoc3RhcnRCbG9jaywgZmFsc2UpO1xuICAgICAgICBsZXQgYm90dG9tID0gdmlzdWFsRW5kID8gZHJhd0ZvckxpbmUobnVsbCwgcmFuZ2UudG8sIHZpc3VhbEVuZCkgOiBkcmF3Rm9yV2lkZ2V0KGVuZEJsb2NrLCB0cnVlKTtcbiAgICAgICAgbGV0IGJldHdlZW4gPSBbXTtcbiAgICAgICAgaWYgKCh2aXN1YWxTdGFydCB8fCBzdGFydEJsb2NrKS50byA8ICh2aXN1YWxFbmQgfHwgZW5kQmxvY2spLmZyb20gLSAodmlzdWFsU3RhcnQgJiYgdmlzdWFsRW5kID8gMSA6IDApIHx8XG4gICAgICAgICAgICBzdGFydEJsb2NrLndpZGdldExpbmVCcmVha3MgPiAxICYmIHRvcC5ib3R0b20gKyB2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0IC8gMiA8IGJvdHRvbS50b3ApXG4gICAgICAgICAgICBiZXR3ZWVuLnB1c2gocGllY2UobGVmdFNpZGUsIHRvcC5ib3R0b20sIHJpZ2h0U2lkZSwgYm90dG9tLnRvcCkpO1xuICAgICAgICBlbHNlIGlmICh0b3AuYm90dG9tIDwgYm90dG9tLnRvcCAmJiB2aWV3LmVsZW1lbnRBdEhlaWdodCgodG9wLmJvdHRvbSArIGJvdHRvbS50b3ApIC8gMikudHlwZSA9PSBCbG9ja1R5cGUuVGV4dClcbiAgICAgICAgICAgIHRvcC5ib3R0b20gPSBib3R0b20udG9wID0gKHRvcC5ib3R0b20gKyBib3R0b20udG9wKSAvIDI7XG4gICAgICAgIHJldHVybiBwaWVjZXModG9wKS5jb25jYXQoYmV0d2VlbikuY29uY2F0KHBpZWNlcyhib3R0b20pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGllY2UobGVmdCwgdG9wLCByaWdodCwgYm90dG9tKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlTWFya2VyKGNsYXNzTmFtZSwgbGVmdCAtIGJhc2UubGVmdCwgdG9wIC0gYmFzZS50b3AgLSAwLjAxIC8qIEMuRXBzaWxvbiAqLywgcmlnaHQgLSBsZWZ0LCBib3R0b20gLSB0b3AgKyAwLjAxIC8qIEMuRXBzaWxvbiAqLyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBpZWNlcyh7IHRvcCwgYm90dG9tLCBob3Jpem9udGFsIH0pIHtcbiAgICAgICAgbGV0IHBpZWNlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvcml6b250YWwubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgICAgICBwaWVjZXMucHVzaChwaWVjZShob3Jpem9udGFsW2ldLCB0b3AsIGhvcml6b250YWxbaSArIDFdLCBib3R0b20pKTtcbiAgICAgICAgcmV0dXJuIHBpZWNlcztcbiAgICB9XG4gICAgLy8gR2V0cyBwYXNzZWQgZnJvbS90byBpbiBsaW5lLWxvY2FsIHBvc2l0aW9uc1xuICAgIGZ1bmN0aW9uIGRyYXdGb3JMaW5lKGZyb20sIHRvLCBsaW5lKSB7XG4gICAgICAgIGxldCB0b3AgPSAxZTksIGJvdHRvbSA9IC0xZTksIGhvcml6b250YWwgPSBbXTtcbiAgICAgICAgZnVuY3Rpb24gYWRkU3Bhbihmcm9tLCBmcm9tT3BlbiwgdG8sIHRvT3BlbiwgZGlyKSB7XG4gICAgICAgICAgICAvLyBQYXNzaW5nIDIvLTIgaXMgYSBrbHVkZ2UgdG8gZm9yY2UgdGhlIHZpZXcgdG8gcmV0dXJuXG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBvbiB0aGUgcHJvcGVyIHNpZGUgb2YgYmxvY2sgd2lkZ2V0cywgc2luY2VcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6aW5nIHRoZSBzaWRlIHRoZXJlLCB0aG91Z2ggYXBwcm9wcmlhdGUgZm9yIG1vc3RcbiAgICAgICAgICAgIC8vIGNvb3Jkc0F0UG9zIHF1ZXJpZXMsIHdvdWxkIGJyZWFrIHNlbGVjdGlvbiBkcmF3aW5nLlxuICAgICAgICAgICAgbGV0IGZyb21Db29yZHMgPSB2aWV3LmNvb3Jkc0F0UG9zKGZyb20sIChmcm9tID09IGxpbmUudG8gPyAtMiA6IDIpKTtcbiAgICAgICAgICAgIGxldCB0b0Nvb3JkcyA9IHZpZXcuY29vcmRzQXRQb3ModG8sICh0byA9PSBsaW5lLmZyb20gPyAyIDogLTIpKTtcbiAgICAgICAgICAgIGlmICghZnJvbUNvb3JkcyB8fCAhdG9Db29yZHMpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdG9wID0gTWF0aC5taW4oZnJvbUNvb3Jkcy50b3AsIHRvQ29vcmRzLnRvcCwgdG9wKTtcbiAgICAgICAgICAgIGJvdHRvbSA9IE1hdGgubWF4KGZyb21Db29yZHMuYm90dG9tLCB0b0Nvb3Jkcy5ib3R0b20sIGJvdHRvbSk7XG4gICAgICAgICAgICBpZiAoZGlyID09IERpcmVjdGlvbi5MVFIpXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbC5wdXNoKGx0ciAmJiBmcm9tT3BlbiA/IGxlZnRTaWRlIDogZnJvbUNvb3Jkcy5sZWZ0LCBsdHIgJiYgdG9PcGVuID8gcmlnaHRTaWRlIDogdG9Db29yZHMucmlnaHQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGhvcml6b250YWwucHVzaCghbHRyICYmIHRvT3BlbiA/IGxlZnRTaWRlIDogdG9Db29yZHMubGVmdCwgIWx0ciAmJiBmcm9tT3BlbiA/IHJpZ2h0U2lkZSA6IGZyb21Db29yZHMucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydCA9IGZyb20gIT09IG51bGwgJiYgZnJvbSAhPT0gdm9pZCAwID8gZnJvbSA6IGxpbmUuZnJvbSwgZW5kID0gdG8gIT09IG51bGwgJiYgdG8gIT09IHZvaWQgMCA/IHRvIDogbGluZS50bztcbiAgICAgICAgLy8gU3BsaXQgdGhlIHJhbmdlIGJ5IHZpc2libGUgcmFuZ2UgYW5kIGRvY3VtZW50IGxpbmVcbiAgICAgICAgZm9yIChsZXQgciBvZiB2aWV3LnZpc2libGVSYW5nZXMpXG4gICAgICAgICAgICBpZiAoci50byA+IHN0YXJ0ICYmIHIuZnJvbSA8IGVuZCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHBvcyA9IE1hdGgubWF4KHIuZnJvbSwgc3RhcnQpLCBlbmRQb3MgPSBNYXRoLm1pbihyLnRvLCBlbmQpOzspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRvY0xpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgc3BhbiBvZiB2aWV3LmJpZGlTcGFucyhkb2NMaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNwYW5Gcm9tID0gc3Bhbi5mcm9tICsgZG9jTGluZS5mcm9tLCBzcGFuVG8gPSBzcGFuLnRvICsgZG9jTGluZS5mcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW5Gcm9tID49IGVuZFBvcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGFuVG8gPiBwb3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3BhbihNYXRoLm1heChzcGFuRnJvbSwgcG9zKSwgZnJvbSA9PSBudWxsICYmIHNwYW5Gcm9tIDw9IHN0YXJ0LCBNYXRoLm1pbihzcGFuVG8sIGVuZFBvcyksIHRvID09IG51bGwgJiYgc3BhblRvID49IGVuZCwgc3Bhbi5kaXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IGRvY0xpbmUudG8gKyAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID49IGVuZFBvcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgaWYgKGhvcml6b250YWwubGVuZ3RoID09IDApXG4gICAgICAgICAgICBhZGRTcGFuKHN0YXJ0LCBmcm9tID09IG51bGwsIGVuZCwgdG8gPT0gbnVsbCwgdmlldy50ZXh0RGlyZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHsgdG9wLCBib3R0b20sIGhvcml6b250YWwgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZHJhd0ZvcldpZGdldChibG9jaywgdG9wKSB7XG4gICAgICAgIGxldCB5ID0gY29udGVudFJlY3QudG9wICsgKHRvcCA/IGJsb2NrLnRvcCA6IGJsb2NrLmJvdHRvbSk7XG4gICAgICAgIHJldHVybiB7IHRvcDogeSwgYm90dG9tOiB5LCBob3Jpem9udGFsOiBbXSB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVNYXJrZXIoYSwgYikge1xuICAgIHJldHVybiBhLmNvbnN0cnVjdG9yID09IGIuY29uc3RydWN0b3IgJiYgYS5lcShiKTtcbn1cbmNsYXNzIExheWVyVmlldyB7XG4gICAgY29uc3RydWN0b3IodmlldywgbGF5ZXIpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5sYXllciA9IGxheWVyO1xuICAgICAgICB0aGlzLmRyYXduID0gW107XG4gICAgICAgIHRoaXMuc2NhbGVYID0gMTtcbiAgICAgICAgdGhpcy5zY2FsZVkgPSAxO1xuICAgICAgICB0aGlzLm1lYXN1cmVSZXEgPSB7IHJlYWQ6IHRoaXMubWVhc3VyZS5iaW5kKHRoaXMpLCB3cml0ZTogdGhpcy5kcmF3LmJpbmQodGhpcykgfTtcbiAgICAgICAgdGhpcy5kb20gPSB2aWV3LnNjcm9sbERPTS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LmFkZChcImNtLWxheWVyXCIpO1xuICAgICAgICBpZiAobGF5ZXIuYWJvdmUpXG4gICAgICAgICAgICB0aGlzLmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tbGF5ZXItYWJvdmVcIik7XG4gICAgICAgIGlmIChsYXllci5jbGFzcylcbiAgICAgICAgICAgIHRoaXMuZG9tLmNsYXNzTGlzdC5hZGQobGF5ZXIuY2xhc3MpO1xuICAgICAgICB0aGlzLnNjYWxlKCk7XG4gICAgICAgIHRoaXMuZG9tLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgdGhpcy5zZXRPcmRlcih2aWV3LnN0YXRlKTtcbiAgICAgICAgdmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLm1lYXN1cmVSZXEpO1xuICAgICAgICBpZiAobGF5ZXIubW91bnQpXG4gICAgICAgICAgICBsYXllci5tb3VudCh0aGlzLmRvbSwgdmlldyk7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgaWYgKHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KGxheWVyT3JkZXIpICE9IHVwZGF0ZS5zdGF0ZS5mYWNldChsYXllck9yZGVyKSlcbiAgICAgICAgICAgIHRoaXMuc2V0T3JkZXIodXBkYXRlLnN0YXRlKTtcbiAgICAgICAgaWYgKHRoaXMubGF5ZXIudXBkYXRlKHVwZGF0ZSwgdGhpcy5kb20pIHx8IHVwZGF0ZS5nZW9tZXRyeUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUoKTtcbiAgICAgICAgICAgIHVwZGF0ZS52aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMubWVhc3VyZVJlcSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0T3JkZXIoc3RhdGUpIHtcbiAgICAgICAgbGV0IHBvcyA9IDAsIG9yZGVyID0gc3RhdGUuZmFjZXQobGF5ZXJPcmRlcik7XG4gICAgICAgIHdoaWxlIChwb3MgPCBvcmRlci5sZW5ndGggJiYgb3JkZXJbcG9zXSAhPSB0aGlzLmxheWVyKVxuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgIHRoaXMuZG9tLnN0eWxlLnpJbmRleCA9IFN0cmluZygodGhpcy5sYXllci5hYm92ZSA/IDE1MCA6IC0xKSAtIHBvcyk7XG4gICAgfVxuICAgIG1lYXN1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVyLm1hcmtlcnModGhpcy52aWV3KTtcbiAgICB9XG4gICAgc2NhbGUoKSB7XG4gICAgICAgIGxldCB7IHNjYWxlWCwgc2NhbGVZIH0gPSB0aGlzLnZpZXc7XG4gICAgICAgIGlmIChzY2FsZVggIT0gdGhpcy5zY2FsZVggfHwgc2NhbGVZICE9IHRoaXMuc2NhbGVZKSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlWCA9IHNjYWxlWDtcbiAgICAgICAgICAgIHRoaXMuc2NhbGVZID0gc2NhbGVZO1xuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGUudHJhbnNmb3JtID0gYHNjYWxlKCR7MSAvIHNjYWxlWH0sICR7MSAvIHNjYWxlWX0pYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3KG1hcmtlcnMpIHtcbiAgICAgICAgaWYgKG1hcmtlcnMubGVuZ3RoICE9IHRoaXMuZHJhd24ubGVuZ3RoIHx8IG1hcmtlcnMuc29tZSgocCwgaSkgPT4gIXNhbWVNYXJrZXIocCwgdGhpcy5kcmF3bltpXSkpKSB7XG4gICAgICAgICAgICBsZXQgb2xkID0gdGhpcy5kb20uZmlyc3RDaGlsZCwgb2xkSSA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBtYXJrZXIgb2YgbWFya2Vycykge1xuICAgICAgICAgICAgICAgIGlmIChtYXJrZXIudXBkYXRlICYmIG9sZCAmJiBtYXJrZXIuY29uc3RydWN0b3IgJiYgdGhpcy5kcmF3bltvbGRJXS5jb25zdHJ1Y3RvciAmJlxuICAgICAgICAgICAgICAgICAgICBtYXJrZXIudXBkYXRlKG9sZCwgdGhpcy5kcmF3bltvbGRJXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkID0gb2xkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBvbGRJKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbS5pbnNlcnRCZWZvcmUobWFya2VyLmRyYXcoKSwgb2xkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAob2xkKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBvbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgb2xkLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIG9sZCA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRyYXduID0gbWFya2VycztcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5sYXllci5kZXN0cm95KVxuICAgICAgICAgICAgdGhpcy5sYXllci5kZXN0cm95KHRoaXMuZG9tLCB0aGlzLnZpZXcpO1xuICAgICAgICB0aGlzLmRvbS5yZW1vdmUoKTtcbiAgICB9XG59XG5jb25zdCBsYXllck9yZGVyID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLyoqXG5EZWZpbmUgYSBsYXllci5cbiovXG5mdW5jdGlvbiBsYXllcihjb25maWcpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBWaWV3UGx1Z2luLmRlZmluZSh2ID0+IG5ldyBMYXllclZpZXcodiwgY29uZmlnKSksXG4gICAgICAgIGxheWVyT3JkZXIub2YoY29uZmlnKVxuICAgIF07XG59XG5cbmNvbnN0IENhbkhpZGVQcmltYXJ5ID0gIWJyb3dzZXIuaW9zOyAvLyBGSVhNRSB0ZXN0IElFXG5jb25zdCBzZWxlY3Rpb25Db25maWcgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lKGNvbmZpZ3MpIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVDb25maWcoY29uZmlncywge1xuICAgICAgICAgICAgY3Vyc29yQmxpbmtSYXRlOiAxMjAwLFxuICAgICAgICAgICAgZHJhd1JhbmdlQ3Vyc29yOiB0cnVlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGN1cnNvckJsaW5rUmF0ZTogKGEsIGIpID0+IE1hdGgubWluKGEsIGIpLFxuICAgICAgICAgICAgZHJhd1JhbmdlQ3Vyc29yOiAoYSwgYikgPT4gYSB8fCBiXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGhpZGVzIHRoZSBicm93c2VyJ3MgbmF0aXZlIHNlbGVjdGlvbiBhbmRcbmN1cnNvciwgcmVwbGFjaW5nIHRoZSBzZWxlY3Rpb24gd2l0aCBhIGJhY2tncm91bmQgYmVoaW5kIHRoZSB0ZXh0XG4od2l0aCB0aGUgYGNtLXNlbGVjdGlvbkJhY2tncm91bmRgIGNsYXNzKSwgYW5kIHRoZVxuY3Vyc29ycyB3aXRoIGVsZW1lbnRzIG92ZXJsYWlkIG92ZXIgdGhlIGNvZGUgKHVzaW5nXG5gY20tY3Vyc29yLXByaW1hcnlgIGFuZCBgY20tY3Vyc29yLXNlY29uZGFyeWApLlxuXG5UaGlzIGFsbG93cyB0aGUgZWRpdG9yIHRvIGRpc3BsYXkgc2Vjb25kYXJ5IHNlbGVjdGlvbiByYW5nZXMsIGFuZFxudGVuZHMgdG8gcHJvZHVjZSBhIHR5cGUgb2Ygc2VsZWN0aW9uIG1vcmUgaW4gbGluZSB3aXRoIHRoYXQgdXNlcnNcbmV4cGVjdCBpbiBhIHRleHQgZWRpdG9yICh0aGUgbmF0aXZlIHNlbGVjdGlvbiBzdHlsaW5nIHdpbGwgb2Z0ZW5cbmxlYXZlIGdhcHMgYmV0d2VlbiBsaW5lcyBhbmQgd29uJ3QgZmlsbCB0aGUgaG9yaXpvbnRhbCBzcGFjZSBhZnRlclxuYSBsaW5lIHdoZW4gdGhlIHNlbGVjdGlvbiBjb250aW51ZXMgcGFzdCBpdCkuXG5cbkl0IGRvZXMgaGF2ZSBhIHBlcmZvcm1hbmNlIGNvc3QsIGluIHRoYXQgaXQgcmVxdWlyZXMgYW4gZXh0cmEgRE9NXG5sYXlvdXQgY3ljbGUgZm9yIG1hbnkgdXBkYXRlcyAodGhlIHNlbGVjdGlvbiBpcyBkcmF3biBiYXNlZCBvbiBET01cbmxheW91dCBpbmZvcm1hdGlvbiB0aGF0J3Mgb25seSBhdmFpbGFibGUgYWZ0ZXIgbGF5aW5nIG91dCB0aGVcbmNvbnRlbnQpLlxuKi9cbmZ1bmN0aW9uIGRyYXdTZWxlY3Rpb24oY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBzZWxlY3Rpb25Db25maWcub2YoY29uZmlnKSxcbiAgICAgICAgY3Vyc29yTGF5ZXIsXG4gICAgICAgIHNlbGVjdGlvbkxheWVyLFxuICAgICAgICBoaWRlTmF0aXZlU2VsZWN0aW9uLFxuICAgICAgICBuYXRpdmVTZWxlY3Rpb25IaWRkZW4ub2YodHJ1ZSlcbiAgICBdO1xufVxuLyoqXG5SZXRyaWV2ZSB0aGUgW2BkcmF3U2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LmRyYXdTZWxlY3Rpb24pIGNvbmZpZ3VyYXRpb25cbmZvciB0aGlzIHN0YXRlLiAoTm90ZSB0aGF0IHRoaXMgd2lsbCByZXR1cm4gYSBzZXQgb2YgZGVmYXVsdHMgZXZlblxuaWYgYGRyYXdTZWxlY3Rpb25gIGlzbid0IGVuYWJsZWQuKVxuKi9cbmZ1bmN0aW9uIGdldERyYXdTZWxlY3Rpb25Db25maWcoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKTtcbn1cbmZ1bmN0aW9uIGNvbmZpZ0NoYW5nZWQodXBkYXRlKSB7XG4gICAgcmV0dXJuIHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KHNlbGVjdGlvbkNvbmZpZykgIT0gdXBkYXRlLnN0YXRlLmZhY2V0KHNlbGVjdGlvbkNvbmZpZyk7XG59XG5jb25zdCBjdXJzb3JMYXllciA9IC8qQF9fUFVSRV9fKi9sYXllcih7XG4gICAgYWJvdmU6IHRydWUsXG4gICAgbWFya2Vycyh2aWV3KSB7XG4gICAgICAgIGxldCB7IHN0YXRlIH0gPSB2aWV3LCBjb25mID0gc3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKTtcbiAgICAgICAgbGV0IGN1cnNvcnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgciBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgcHJpbSA9IHIgPT0gc3RhdGUuc2VsZWN0aW9uLm1haW47XG4gICAgICAgICAgICBpZiAoci5lbXB0eSA/ICFwcmltIHx8IENhbkhpZGVQcmltYXJ5IDogY29uZi5kcmF3UmFuZ2VDdXJzb3IpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gcHJpbSA/IFwiY20tY3Vyc29yIGNtLWN1cnNvci1wcmltYXJ5XCIgOiBcImNtLWN1cnNvciBjbS1jdXJzb3Itc2Vjb25kYXJ5XCI7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnNvciA9IHIuZW1wdHkgPyByIDogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyLmhlYWQsIHIuaGVhZCA+IHIuYW5jaG9yID8gLTEgOiAxKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwaWVjZSBvZiBSZWN0YW5nbGVNYXJrZXIuZm9yUmFuZ2UodmlldywgY2xhc3NOYW1lLCBjdXJzb3IpKVxuICAgICAgICAgICAgICAgICAgICBjdXJzb3JzLnB1c2gocGllY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJzb3JzO1xuICAgIH0sXG4gICAgdXBkYXRlKHVwZGF0ZSwgZG9tKSB7XG4gICAgICAgIGlmICh1cGRhdGUudHJhbnNhY3Rpb25zLnNvbWUodHIgPT4gdHIuc2VsZWN0aW9uKSlcbiAgICAgICAgICAgIGRvbS5zdHlsZS5hbmltYXRpb25OYW1lID0gZG9tLnN0eWxlLmFuaW1hdGlvbk5hbWUgPT0gXCJjbS1ibGlua1wiID8gXCJjbS1ibGluazJcIiA6IFwiY20tYmxpbmtcIjtcbiAgICAgICAgbGV0IGNvbmZDaGFuZ2UgPSBjb25maWdDaGFuZ2VkKHVwZGF0ZSk7XG4gICAgICAgIGlmIChjb25mQ2hhbmdlKVxuICAgICAgICAgICAgc2V0QmxpbmtSYXRlKHVwZGF0ZS5zdGF0ZSwgZG9tKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZS5kb2NDaGFuZ2VkIHx8IHVwZGF0ZS5zZWxlY3Rpb25TZXQgfHwgY29uZkNoYW5nZTtcbiAgICB9LFxuICAgIG1vdW50KGRvbSwgdmlldykge1xuICAgICAgICBzZXRCbGlua1JhdGUodmlldy5zdGF0ZSwgZG9tKTtcbiAgICB9LFxuICAgIGNsYXNzOiBcImNtLWN1cnNvckxheWVyXCJcbn0pO1xuZnVuY3Rpb24gc2V0QmxpbmtSYXRlKHN0YXRlLCBkb20pIHtcbiAgICBkb20uc3R5bGUuYW5pbWF0aW9uRHVyYXRpb24gPSBzdGF0ZS5mYWNldChzZWxlY3Rpb25Db25maWcpLmN1cnNvckJsaW5rUmF0ZSArIFwibXNcIjtcbn1cbmNvbnN0IHNlbGVjdGlvbkxheWVyID0gLypAX19QVVJFX18qL2xheWVyKHtcbiAgICBhYm92ZTogZmFsc2UsXG4gICAgbWFya2Vycyh2aWV3KSB7XG4gICAgICAgIHJldHVybiB2aWV3LnN0YXRlLnNlbGVjdGlvbi5yYW5nZXMubWFwKHIgPT4gci5lbXB0eSA/IFtdIDogUmVjdGFuZ2xlTWFya2VyLmZvclJhbmdlKHZpZXcsIFwiY20tc2VsZWN0aW9uQmFja2dyb3VuZFwiLCByKSlcbiAgICAgICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IGEuY29uY2F0KGIpKTtcbiAgICB9LFxuICAgIHVwZGF0ZSh1cGRhdGUsIGRvbSkge1xuICAgICAgICByZXR1cm4gdXBkYXRlLmRvY0NoYW5nZWQgfHwgdXBkYXRlLnNlbGVjdGlvblNldCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkIHx8IGNvbmZpZ0NoYW5nZWQodXBkYXRlKTtcbiAgICB9LFxuICAgIGNsYXNzOiBcImNtLXNlbGVjdGlvbkxheWVyXCJcbn0pO1xuY29uc3QgdGhlbWVTcGVjID0ge1xuICAgIFwiLmNtLWxpbmVcIjoge1xuICAgICAgICBcIiYgOjpzZWxlY3Rpb25cIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnQgIWltcG9ydGFudFwiIH0sXG4gICAgICAgIFwiJjo6c2VsZWN0aW9uXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50ICFpbXBvcnRhbnRcIiB9XG4gICAgfVxufTtcbmlmIChDYW5IaWRlUHJpbWFyeSlcbiAgICB0aGVtZVNwZWNbXCIuY20tbGluZVwiXS5jYXJldENvbG9yID0gXCJ0cmFuc3BhcmVudCAhaW1wb3J0YW50XCI7XG5jb25zdCBoaWRlTmF0aXZlU2VsZWN0aW9uID0gLypAX19QVVJFX18qL1ByZWMuaGlnaGVzdCgvKkBfX1BVUkVfXyovRWRpdG9yVmlldy50aGVtZSh0aGVtZVNwZWMpKTtcblxuY29uc3Qgc2V0RHJvcEN1cnNvclBvcyA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoe1xuICAgIG1hcChwb3MsIG1hcHBpbmcpIHsgcmV0dXJuIHBvcyA9PSBudWxsID8gbnVsbCA6IG1hcHBpbmcubWFwUG9zKHBvcyk7IH1cbn0pO1xuY29uc3QgZHJvcEN1cnNvclBvcyA9IC8qQF9fUFVSRV9fKi9TdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgY3JlYXRlKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICB1cGRhdGUocG9zLCB0cikge1xuICAgICAgICBpZiAocG9zICE9IG51bGwpXG4gICAgICAgICAgICBwb3MgPSB0ci5jaGFuZ2VzLm1hcFBvcyhwb3MpO1xuICAgICAgICByZXR1cm4gdHIuZWZmZWN0cy5yZWR1Y2UoKHBvcywgZSkgPT4gZS5pcyhzZXREcm9wQ3Vyc29yUG9zKSA/IGUudmFsdWUgOiBwb3MsIHBvcyk7XG4gICAgfVxufSk7XG5jb25zdCBkcmF3RHJvcEN1cnNvciA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIHRoaXMubWVhc3VyZVJlcSA9IHsgcmVhZDogdGhpcy5yZWFkUG9zLmJpbmQodGhpcyksIHdyaXRlOiB0aGlzLmRyYXdDdXJzb3IuYmluZCh0aGlzKSB9O1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGN1cnNvclBvcyA9IHVwZGF0ZS5zdGF0ZS5maWVsZChkcm9wQ3Vyc29yUG9zKTtcbiAgICAgICAgaWYgKGN1cnNvclBvcyA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJzb3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuY3Vyc29yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnNvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gdGhpcy52aWV3LnNjcm9sbERPTS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5jbGFzc05hbWUgPSBcImNtLWRyb3BDdXJzb3JcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1cGRhdGUuc3RhcnRTdGF0ZS5maWVsZChkcm9wQ3Vyc29yUG9zKSAhPSBjdXJzb3JQb3MgfHwgdXBkYXRlLmRvY0NoYW5nZWQgfHwgdXBkYXRlLmdlb21ldHJ5Q2hhbmdlZClcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcucmVxdWVzdE1lYXN1cmUodGhpcy5tZWFzdXJlUmVxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWFkUG9zKCkge1xuICAgICAgICBsZXQgeyB2aWV3IH0gPSB0aGlzO1xuICAgICAgICBsZXQgcG9zID0gdmlldy5zdGF0ZS5maWVsZChkcm9wQ3Vyc29yUG9zKTtcbiAgICAgICAgbGV0IHJlY3QgPSBwb3MgIT0gbnVsbCAmJiB2aWV3LmNvb3Jkc0F0UG9zKHBvcyk7XG4gICAgICAgIGlmICghcmVjdClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgb3V0ZXIgPSB2aWV3LnNjcm9sbERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCAtIG91dGVyLmxlZnQgKyB2aWV3LnNjcm9sbERPTS5zY3JvbGxMZWZ0ICogdmlldy5zY2FsZVgsXG4gICAgICAgICAgICB0b3A6IHJlY3QudG9wIC0gb3V0ZXIudG9wICsgdmlldy5zY3JvbGxET00uc2Nyb2xsVG9wICogdmlldy5zY2FsZVksXG4gICAgICAgICAgICBoZWlnaHQ6IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZHJhd0N1cnNvcihwb3MpIHtcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29yKSB7XG4gICAgICAgICAgICBsZXQgeyBzY2FsZVgsIHNjYWxlWSB9ID0gdGhpcy52aWV3O1xuICAgICAgICAgICAgaWYgKHBvcykge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLmxlZnQgPSBwb3MubGVmdCAvIHNjYWxlWCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5zdHlsZS50b3AgPSBwb3MudG9wIC8gc2NhbGVZICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLmhlaWdodCA9IHBvcy5oZWlnaHQgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5zdHlsZS5sZWZ0ID0gXCItMTAwMDAwcHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5jdXJzb3IpXG4gICAgICAgICAgICB0aGlzLmN1cnNvci5yZW1vdmUoKTtcbiAgICB9XG4gICAgc2V0RHJvcFBvcyhwb3MpIHtcbiAgICAgICAgaWYgKHRoaXMudmlldy5zdGF0ZS5maWVsZChkcm9wQ3Vyc29yUG9zKSAhPSBwb3MpXG4gICAgICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBzZXREcm9wQ3Vyc29yUG9zLm9mKHBvcykgfSk7XG4gICAgfVxufSwge1xuICAgIGV2ZW50T2JzZXJ2ZXJzOiB7XG4gICAgICAgIGRyYWdvdmVyKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNldERyb3BQb3ModGhpcy52aWV3LnBvc0F0Q29vcmRzKHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRyYWdsZWF2ZShldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PSB0aGlzLnZpZXcuY29udGVudERPTSB8fCAhdGhpcy52aWV3LmNvbnRlbnRET00uY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhpcy5zZXREcm9wUG9zKG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBkcmFnZW5kKCkge1xuICAgICAgICAgICAgdGhpcy5zZXREcm9wUG9zKG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBkcm9wKCkge1xuICAgICAgICAgICAgdGhpcy5zZXREcm9wUG9zKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG4vKipcbkRyYXdzIGEgY3Vyc29yIGF0IHRoZSBjdXJyZW50IGRyb3AgcG9zaXRpb24gd2hlbiBzb21ldGhpbmcgaXNcbmRyYWdnZWQgb3ZlciB0aGUgZWRpdG9yLlxuKi9cbmZ1bmN0aW9uIGRyb3BDdXJzb3IoKSB7XG4gICAgcmV0dXJuIFtkcm9wQ3Vyc29yUG9zLCBkcmF3RHJvcEN1cnNvcl07XG59XG5cbmZ1bmN0aW9uIGl0ZXJNYXRjaGVzKGRvYywgcmUsIGZyb20sIHRvLCBmKSB7XG4gICAgcmUubGFzdEluZGV4ID0gMDtcbiAgICBmb3IgKGxldCBjdXJzb3IgPSBkb2MuaXRlclJhbmdlKGZyb20sIHRvKSwgcG9zID0gZnJvbSwgbTsgIWN1cnNvci5uZXh0KCkuZG9uZTsgcG9zICs9IGN1cnNvci52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFjdXJzb3IubGluZUJyZWFrKVxuICAgICAgICAgICAgd2hpbGUgKG0gPSByZS5leGVjKGN1cnNvci52YWx1ZSkpXG4gICAgICAgICAgICAgICAgZihwb3MgKyBtLmluZGV4LCBtKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYXRjaFJhbmdlcyh2aWV3LCBtYXhMZW5ndGgpIHtcbiAgICBsZXQgdmlzaWJsZSA9IHZpZXcudmlzaWJsZVJhbmdlcztcbiAgICBpZiAodmlzaWJsZS5sZW5ndGggPT0gMSAmJiB2aXNpYmxlWzBdLmZyb20gPT0gdmlldy52aWV3cG9ydC5mcm9tICYmXG4gICAgICAgIHZpc2libGVbMF0udG8gPT0gdmlldy52aWV3cG9ydC50bylcbiAgICAgICAgcmV0dXJuIHZpc2libGU7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiB2aXNpYmxlKSB7XG4gICAgICAgIGZyb20gPSBNYXRoLm1heCh2aWV3LnN0YXRlLmRvYy5saW5lQXQoZnJvbSkuZnJvbSwgZnJvbSAtIG1heExlbmd0aCk7XG4gICAgICAgIHRvID0gTWF0aC5taW4odmlldy5zdGF0ZS5kb2MubGluZUF0KHRvKS50bywgdG8gKyBtYXhMZW5ndGgpO1xuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCAmJiByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLnRvID49IGZyb20pXG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLnRvID0gdG87XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgZnJvbSwgdG8gfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbkhlbHBlciBjbGFzcyB1c2VkIHRvIG1ha2UgaXQgZWFzaWVyIHRvIG1haW50YWluIGRlY29yYXRpb25zIG9uXG52aXNpYmxlIGNvZGUgdGhhdCBtYXRjaGVzIGEgZ2l2ZW4gcmVndWxhciBleHByZXNzaW9uLiBUbyBiZSB1c2VkXG5pbiBhIFt2aWV3IHBsdWdpbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LlZpZXdQbHVnaW4pLiBJbnN0YW5jZXMgb2YgdGhpcyBvYmplY3RcbnJlcHJlc2VudCBhIG1hdGNoaW5nIGNvbmZpZ3VyYXRpb24uXG4qL1xuY2xhc3MgTWF0Y2hEZWNvcmF0b3Ige1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIGRlY29yYXRvci5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBjb25zdCB7IHJlZ2V4cCwgZGVjb3JhdGlvbiwgZGVjb3JhdGUsIGJvdW5kYXJ5LCBtYXhMZW5ndGggPSAxMDAwIH0gPSBjb25maWc7XG4gICAgICAgIGlmICghcmVnZXhwLmdsb2JhbClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiB0byBNYXRjaERlY29yYXRvciBzaG91bGQgaGF2ZSBpdHMgJ2cnIGZsYWcgc2V0XCIpO1xuICAgICAgICB0aGlzLnJlZ2V4cCA9IHJlZ2V4cDtcbiAgICAgICAgaWYgKGRlY29yYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE1hdGNoID0gKG1hdGNoLCB2aWV3LCBmcm9tLCBhZGQpID0+IGRlY29yYXRlKGFkZCwgZnJvbSwgZnJvbSArIG1hdGNoWzBdLmxlbmd0aCwgbWF0Y2gsIHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkZWNvcmF0aW9uID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5hZGRNYXRjaCA9IChtYXRjaCwgdmlldywgZnJvbSwgYWRkKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGRlY28gPSBkZWNvcmF0aW9uKG1hdGNoLCB2aWV3LCBmcm9tKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVjbylcbiAgICAgICAgICAgICAgICAgICAgYWRkKGZyb20sIGZyb20gKyBtYXRjaFswXS5sZW5ndGgsIGRlY28pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWNvcmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE1hdGNoID0gKG1hdGNoLCBfdmlldywgZnJvbSwgYWRkKSA9PiBhZGQoZnJvbSwgZnJvbSArIG1hdGNoWzBdLmxlbmd0aCwgZGVjb3JhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkVpdGhlciAnZGVjb3JhdGUnIG9yICdkZWNvcmF0aW9uJyBzaG91bGQgYmUgcHJvdmlkZWQgdG8gTWF0Y2hEZWNvcmF0b3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib3VuZGFyeSA9IGJvdW5kYXJ5O1xuICAgICAgICB0aGlzLm1heExlbmd0aCA9IG1heExlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcHV0ZSB0aGUgZnVsbCBzZXQgb2YgZGVjb3JhdGlvbnMgZm9yIG1hdGNoZXMgaW4gdGhlIGdpdmVuXG4gICAgdmlldydzIHZpZXdwb3J0LiBZb3UnbGwgd2FudCB0byBjYWxsIHRoaXMgd2hlbiBpbml0aWFsaXppbmcgeW91clxuICAgIHBsdWdpbi5cbiAgICAqL1xuICAgIGNyZWF0ZURlY28odmlldykge1xuICAgICAgICBsZXQgYnVpbGQgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCksIGFkZCA9IGJ1aWxkLmFkZC5iaW5kKGJ1aWxkKTtcbiAgICAgICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIG1hdGNoUmFuZ2VzKHZpZXcsIHRoaXMubWF4TGVuZ3RoKSlcbiAgICAgICAgICAgIGl0ZXJNYXRjaGVzKHZpZXcuc3RhdGUuZG9jLCB0aGlzLnJlZ2V4cCwgZnJvbSwgdG8sIChmcm9tLCBtKSA9PiB0aGlzLmFkZE1hdGNoKG0sIHZpZXcsIGZyb20sIGFkZCkpO1xuICAgICAgICByZXR1cm4gYnVpbGQuZmluaXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSBhIHNldCBvZiBkZWNvcmF0aW9ucyBmb3IgYSB2aWV3IHVwZGF0ZS4gYGRlY29gIF9tdXN0XyBiZVxuICAgIHRoZSBzZXQgb2YgZGVjb3JhdGlvbnMgcHJvZHVjZWQgYnkgX3RoaXNfIGBNYXRjaERlY29yYXRvcmAgZm9yXG4gICAgdGhlIHZpZXcgc3RhdGUgYmVmb3JlIHRoZSB1cGRhdGUuXG4gICAgKi9cbiAgICB1cGRhdGVEZWNvKHVwZGF0ZSwgZGVjbykge1xuICAgICAgICBsZXQgY2hhbmdlRnJvbSA9IDFlOSwgY2hhbmdlVG8gPSAtMTtcbiAgICAgICAgaWYgKHVwZGF0ZS5kb2NDaGFuZ2VkKVxuICAgICAgICAgICAgdXBkYXRlLmNoYW5nZXMuaXRlckNoYW5nZXMoKF9mLCBfdCwgZnJvbSwgdG8pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodG8gPiB1cGRhdGUudmlldy52aWV3cG9ydC5mcm9tICYmIGZyb20gPCB1cGRhdGUudmlldy52aWV3cG9ydC50bykge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VGcm9tID0gTWF0aC5taW4oZnJvbSwgY2hhbmdlRnJvbSk7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVRvID0gTWF0aC5tYXgodG8sIGNoYW5nZVRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVwZGF0ZS52aWV3cG9ydENoYW5nZWQgfHwgY2hhbmdlVG8gLSBjaGFuZ2VGcm9tID4gMTAwMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZURlY28odXBkYXRlLnZpZXcpO1xuICAgICAgICBpZiAoY2hhbmdlVG8gPiAtMSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVJhbmdlKHVwZGF0ZS52aWV3LCBkZWNvLm1hcCh1cGRhdGUuY2hhbmdlcyksIGNoYW5nZUZyb20sIGNoYW5nZVRvKTtcbiAgICAgICAgcmV0dXJuIGRlY287XG4gICAgfVxuICAgIHVwZGF0ZVJhbmdlKHZpZXcsIGRlY28sIHVwZGF0ZUZyb20sIHVwZGF0ZVRvKSB7XG4gICAgICAgIGZvciAobGV0IHIgb2Ygdmlldy52aXNpYmxlUmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IE1hdGgubWF4KHIuZnJvbSwgdXBkYXRlRnJvbSksIHRvID0gTWF0aC5taW4oci50bywgdXBkYXRlVG8pO1xuICAgICAgICAgICAgaWYgKHRvID4gZnJvbSkge1xuICAgICAgICAgICAgICAgIGxldCBmcm9tTGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChmcm9tKSwgdG9MaW5lID0gZnJvbUxpbmUudG8gPCB0byA/IHZpZXcuc3RhdGUuZG9jLmxpbmVBdCh0bykgOiBmcm9tTGluZTtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBNYXRoLm1heChyLmZyb20sIGZyb21MaW5lLmZyb20pLCBlbmQgPSBNYXRoLm1pbihyLnRvLCB0b0xpbmUudG8pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBmcm9tID4gZnJvbUxpbmUuZnJvbTsgZnJvbS0tKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRhcnkudGVzdChmcm9tTGluZS50ZXh0W2Zyb20gLSAxIC0gZnJvbUxpbmUuZnJvbV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBmcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgdG8gPCB0b0xpbmUudG87IHRvKyspXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib3VuZGFyeS50ZXN0KHRvTGluZS50ZXh0W3RvIC0gdG9MaW5lLmZyb21dKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IHRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2VzID0gW10sIG07XG4gICAgICAgICAgICAgICAgbGV0IGFkZCA9IChmcm9tLCB0bywgZGVjbykgPT4gcmFuZ2VzLnB1c2goZGVjby5yYW5nZShmcm9tLCB0bykpO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tTGluZSA9PSB0b0xpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdleHAubGFzdEluZGV4ID0gc3RhcnQgLSBmcm9tTGluZS5mcm9tO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG0gPSB0aGlzLnJlZ2V4cC5leGVjKGZyb21MaW5lLnRleHQpKSAmJiBtLmluZGV4IDwgZW5kIC0gZnJvbUxpbmUuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2gobSwgdmlldywgbS5pbmRleCArIGZyb21MaW5lLmZyb20sIGFkZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVyTWF0Y2hlcyh2aWV3LnN0YXRlLmRvYywgdGhpcy5yZWdleHAsIHN0YXJ0LCBlbmQsIChmcm9tLCBtKSA9PiB0aGlzLmFkZE1hdGNoKG0sIHZpZXcsIGZyb20sIGFkZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNvID0gZGVjby51cGRhdGUoeyBmaWx0ZXJGcm9tOiBzdGFydCwgZmlsdGVyVG86IGVuZCwgZmlsdGVyOiAoZnJvbSwgdG8pID0+IGZyb20gPCBzdGFydCB8fCB0byA+IGVuZCwgYWRkOiByYW5nZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlY287XG4gICAgfVxufVxuXG5jb25zdCBVbmljb2RlUmVnZXhwU3VwcG9ydCA9IC94Ly51bmljb2RlICE9IG51bGwgPyBcImd1XCIgOiBcImdcIjtcbmNvbnN0IFNwZWNpYWxzID0gLypAX19QVVJFX18qL25ldyBSZWdFeHAoXCJbXFx1MDAwMC1cXHUwMDA4XFx1MDAwYS1cXHUwMDFmXFx1MDA3Zi1cXHUwMDlmXFx1MDBhZFxcdTA2MWNcXHUyMDBiXFx1MjAwZVxcdTIwMGZcXHUyMDI4XFx1MjAyOVxcdTIwMmRcXHUyMDJlXFx1MjA2NlxcdTIwNjdcXHUyMDY5XFx1ZmVmZlxcdWZmZjktXFx1ZmZmY11cIiwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuY29uc3QgTmFtZXMgPSB7XG4gICAgMDogXCJudWxsXCIsXG4gICAgNzogXCJiZWxsXCIsXG4gICAgODogXCJiYWNrc3BhY2VcIixcbiAgICAxMDogXCJuZXdsaW5lXCIsXG4gICAgMTE6IFwidmVydGljYWwgdGFiXCIsXG4gICAgMTM6IFwiY2FycmlhZ2UgcmV0dXJuXCIsXG4gICAgMjc6IFwiZXNjYXBlXCIsXG4gICAgODIwMzogXCJ6ZXJvIHdpZHRoIHNwYWNlXCIsXG4gICAgODIwNDogXCJ6ZXJvIHdpZHRoIG5vbi1qb2luZXJcIixcbiAgICA4MjA1OiBcInplcm8gd2lkdGggam9pbmVyXCIsXG4gICAgODIwNjogXCJsZWZ0LXRvLXJpZ2h0IG1hcmtcIixcbiAgICA4MjA3OiBcInJpZ2h0LXRvLWxlZnQgbWFya1wiLFxuICAgIDgyMzI6IFwibGluZSBzZXBhcmF0b3JcIixcbiAgICA4MjM3OiBcImxlZnQtdG8tcmlnaHQgb3ZlcnJpZGVcIixcbiAgICA4MjM4OiBcInJpZ2h0LXRvLWxlZnQgb3ZlcnJpZGVcIixcbiAgICA4Mjk0OiBcImxlZnQtdG8tcmlnaHQgaXNvbGF0ZVwiLFxuICAgIDgyOTU6IFwicmlnaHQtdG8tbGVmdCBpc29sYXRlXCIsXG4gICAgODI5NzogXCJwb3AgZGlyZWN0aW9uYWwgaXNvbGF0ZVwiLFxuICAgIDgyMzM6IFwicGFyYWdyYXBoIHNlcGFyYXRvclwiLFxuICAgIDY1Mjc5OiBcInplcm8gd2lkdGggbm8tYnJlYWsgc3BhY2VcIixcbiAgICA2NTUzMjogXCJvYmplY3QgcmVwbGFjZW1lbnRcIlxufTtcbmxldCBfc3VwcG9ydHNUYWJTaXplID0gbnVsbDtcbmZ1bmN0aW9uIHN1cHBvcnRzVGFiU2l6ZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKF9zdXBwb3J0c1RhYlNpemUgPT0gbnVsbCAmJiB0eXBlb2YgZG9jdW1lbnQgIT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIGxldCBzdHlsZXMgPSBkb2N1bWVudC5ib2R5LnN0eWxlO1xuICAgICAgICBfc3VwcG9ydHNUYWJTaXplID0gKChfYSA9IHN0eWxlcy50YWJTaXplKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBzdHlsZXMuTW96VGFiU2l6ZSkgIT0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIF9zdXBwb3J0c1RhYlNpemUgfHwgZmFsc2U7XG59XG5jb25zdCBzcGVjaWFsQ2hhckNvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICBsZXQgY29uZmlnID0gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICByZW5kZXI6IG51bGwsXG4gICAgICAgICAgICBzcGVjaWFsQ2hhcnM6IFNwZWNpYWxzLFxuICAgICAgICAgICAgYWRkU3BlY2lhbENoYXJzOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29uZmlnLnJlcGxhY2VUYWJzID0gIXN1cHBvcnRzVGFiU2l6ZSgpKVxuICAgICAgICAgICAgY29uZmlnLnNwZWNpYWxDaGFycyA9IG5ldyBSZWdFeHAoXCJcXHR8XCIgKyBjb25maWcuc3BlY2lhbENoYXJzLnNvdXJjZSwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuICAgICAgICBpZiAoY29uZmlnLmFkZFNwZWNpYWxDaGFycylcbiAgICAgICAgICAgIGNvbmZpZy5zcGVjaWFsQ2hhcnMgPSBuZXcgUmVnRXhwKGNvbmZpZy5zcGVjaWFsQ2hhcnMuc291cmNlICsgXCJ8XCIgKyBjb25maWcuYWRkU3BlY2lhbENoYXJzLnNvdXJjZSwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn0pO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGluc3RhbGxzIGhpZ2hsaWdodGluZyBvZiBzcGVjaWFsXG5jaGFyYWN0ZXJzLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodFNwZWNpYWxDaGFycyhcbi8qKlxuQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuKi9cbmNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtzcGVjaWFsQ2hhckNvbmZpZy5vZihjb25maWcpLCBzcGVjaWFsQ2hhclBsdWdpbigpXTtcbn1cbmxldCBfcGx1Z2luID0gbnVsbDtcbmZ1bmN0aW9uIHNwZWNpYWxDaGFyUGx1Z2luKCkge1xuICAgIHJldHVybiBfcGx1Z2luIHx8IChfcGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbkNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdG9yID0gdGhpcy5tYWtlRGVjb3JhdG9yKHZpZXcuc3RhdGUuZmFjZXQoc3BlY2lhbENoYXJDb25maWcpKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmRlY29yYXRvci5jcmVhdGVEZWNvKHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIG1ha2VEZWNvcmF0b3IoY29uZikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRjaERlY29yYXRvcih7XG4gICAgICAgICAgICAgICAgcmVnZXhwOiBjb25mLnNwZWNpYWxDaGFycyxcbiAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiAobSwgdmlldywgcG9zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB7IGRvYyB9ID0gdmlldy5zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBjb2RlUG9pbnRBdChtWzBdLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBkb2MubGluZUF0KHBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2l6ZSA9IHZpZXcuc3RhdGUudGFiU2l6ZSwgY29sID0gY291bnRDb2x1bW4obGluZS50ZXh0LCBzaXplLCBwb3MgLSBsaW5lLmZyb20pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24ucmVwbGFjZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0OiBuZXcgVGFiV2lkZ2V0KChzaXplIC0gKGNvbCAlIHNpemUpKSAqIHRoaXMudmlldy5kZWZhdWx0Q2hhcmFjdGVyV2lkdGggLyB0aGlzLnZpZXcuc2NhbGVYKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb3JhdGlvbkNhY2hlW2NvZGVdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5kZWNvcmF0aW9uQ2FjaGVbY29kZV0gPSBEZWNvcmF0aW9uLnJlcGxhY2UoeyB3aWRnZXQ6IG5ldyBTcGVjaWFsQ2hhcldpZGdldChjb25mLCBjb2RlKSB9KSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib3VuZGFyeTogY29uZi5yZXBsYWNlVGFicyA/IHVuZGVmaW5lZCA6IC9bXl0vXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgICAgICBsZXQgY29uZiA9IHVwZGF0ZS5zdGF0ZS5mYWNldChzcGVjaWFsQ2hhckNvbmZpZyk7XG4gICAgICAgICAgICBpZiAodXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQoc3BlY2lhbENoYXJDb25maWcpICE9IGNvbmYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29yYXRvciA9IHRoaXMubWFrZURlY29yYXRvcihjb25mKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5kZWNvcmF0b3IuY3JlYXRlRGVjbyh1cGRhdGUudmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5kZWNvcmF0b3IudXBkYXRlRGVjbyh1cGRhdGUsIHRoaXMuZGVjb3JhdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG4gICAgfSkpO1xufVxuY29uc3QgRGVmYXVsdFBsYWNlaG9sZGVyID0gXCJcXHUyMDIyXCI7XG4vLyBBc3NpZ25zIHBsYWNlaG9sZGVyIGNoYXJhY3RlcnMgZnJvbSB0aGUgQ29udHJvbCBQaWN0dXJlcyBibG9jayB0b1xuLy8gQVNDSUkgY29udHJvbCBjaGFyYWN0ZXJzXG5mdW5jdGlvbiBwbGFjZWhvbGRlciQxKGNvZGUpIHtcbiAgICBpZiAoY29kZSA+PSAzMilcbiAgICAgICAgcmV0dXJuIERlZmF1bHRQbGFjZWhvbGRlcjtcbiAgICBpZiAoY29kZSA9PSAxMClcbiAgICAgICAgcmV0dXJuIFwiXFx1MjQyNFwiO1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDkyMTYgKyBjb2RlKTtcbn1cbmNsYXNzIFNwZWNpYWxDaGFyV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgY29kZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gb3RoZXIuY29kZSA9PSB0aGlzLmNvZGU7IH1cbiAgICB0b0RPTSh2aWV3KSB7XG4gICAgICAgIGxldCBwaCA9IHBsYWNlaG9sZGVyJDEodGhpcy5jb2RlKTtcbiAgICAgICAgbGV0IGRlc2MgPSB2aWV3LnN0YXRlLnBocmFzZShcIkNvbnRyb2wgY2hhcmFjdGVyXCIpICsgXCIgXCIgKyAoTmFtZXNbdGhpcy5jb2RlXSB8fCBcIjB4XCIgKyB0aGlzLmNvZGUudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgbGV0IGN1c3RvbSA9IHRoaXMub3B0aW9ucy5yZW5kZXIgJiYgdGhpcy5vcHRpb25zLnJlbmRlcih0aGlzLmNvZGUsIGRlc2MsIHBoKTtcbiAgICAgICAgaWYgKGN1c3RvbSlcbiAgICAgICAgICAgIHJldHVybiBjdXN0b207XG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBwaDtcbiAgICAgICAgc3Bhbi50aXRsZSA9IGRlc2M7XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBkZXNjKTtcbiAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBcImNtLXNwZWNpYWxDaGFyXCI7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cbiAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG5jbGFzcyBUYWJXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiBvdGhlci53aWR0aCA9PSB0aGlzLndpZHRoOyB9XG4gICAgdG9ET00oKSB7XG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBcIlxcdFwiO1xuICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFwiY20tdGFiXCI7XG4gICAgICAgIHNwYW4uc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgXCJweFwiO1xuICAgICAgICByZXR1cm4gc3BhbjtcbiAgICB9XG4gICAgaWdub3JlRXZlbnQoKSB7IHJldHVybiBmYWxzZTsgfVxufVxuXG5jb25zdCBwbHVnaW4gPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmhlaWdodCA9IDEwMDA7XG4gICAgICAgIHRoaXMuYXR0cnMgPSB7IHN0eWxlOiBcInBhZGRpbmctYm90dG9tOiAxMDAwcHhcIiB9O1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHVwZGF0ZTtcbiAgICAgICAgbGV0IGhlaWdodCA9IHZpZXcudmlld1N0YXRlLmVkaXRvckhlaWdodCAqIHZpZXcuc2NhbGVZIC1cbiAgICAgICAgICAgIHZpZXcuZGVmYXVsdExpbmVIZWlnaHQgLSB2aWV3LmRvY3VtZW50UGFkZGluZy50b3AgLSAwLjU7XG4gICAgICAgIGlmIChoZWlnaHQgPj0gMCAmJiBoZWlnaHQgIT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5hdHRycyA9IHsgc3R5bGU6IGBwYWRkaW5nLWJvdHRvbTogJHtoZWlnaHR9cHhgIH07XG4gICAgICAgIH1cbiAgICB9XG59KTtcbi8qKlxuUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBtYWtlcyBzdXJlIHRoZSBjb250ZW50IGhhcyBhIGJvdHRvbVxubWFyZ2luIGVxdWl2YWxlbnQgdG8gdGhlIGhlaWdodCBvZiB0aGUgZWRpdG9yLCBtaW51cyBvbmUgbGluZVxuaGVpZ2h0LCBzbyB0aGF0IGV2ZXJ5IGxpbmUgaW4gdGhlIGRvY3VtZW50IGNhbiBiZSBzY3JvbGxlZCB0byB0aGVcbnRvcCBvZiB0aGUgZWRpdG9yLlxuXG5UaGlzIGlzIG9ubHkgbWVhbmluZ2Z1bCB3aGVuIHRoZSBlZGl0b3IgaXMgc2Nyb2xsYWJsZSwgYW5kIHNob3VsZFxubm90IGJlIGVuYWJsZWQgaW4gZWRpdG9ycyB0aGF0IHRha2UgdGhlIHNpemUgb2YgdGhlaXIgY29udGVudC5cbiovXG5mdW5jdGlvbiBzY3JvbGxQYXN0RW5kKCkge1xuICAgIHJldHVybiBbcGx1Z2luLCBjb250ZW50QXR0cmlidXRlcy5vZih2aWV3ID0+IHsgdmFyIF9hOyByZXR1cm4gKChfYSA9IHZpZXcucGx1Z2luKHBsdWdpbikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hdHRycykgfHwgbnVsbDsgfSldO1xufVxuXG4vKipcbk1hcmsgbGluZXMgdGhhdCBoYXZlIGEgY3Vyc29yIG9uIHRoZW0gd2l0aCB0aGUgYFwiY20tYWN0aXZlTGluZVwiYFxuRE9NIGNsYXNzLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodEFjdGl2ZUxpbmUoKSB7XG4gICAgcmV0dXJuIGFjdGl2ZUxpbmVIaWdobGlnaHRlcjtcbn1cbmNvbnN0IGxpbmVEZWNvID0gLypAX19QVVJFX18qL0RlY29yYXRpb24ubGluZSh7IGNsYXNzOiBcImNtLWFjdGl2ZUxpbmVcIiB9KTtcbmNvbnN0IGFjdGl2ZUxpbmVIaWdobGlnaHRlciA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5nZXREZWNvKHZpZXcpO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0KVxuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuZ2V0RGVjbyh1cGRhdGUudmlldyk7XG4gICAgfVxuICAgIGdldERlY28odmlldykge1xuICAgICAgICBsZXQgbGFzdExpbmVTdGFydCA9IC0xLCBkZWNvID0gW107XG4gICAgICAgIGZvciAobGV0IHIgb2Ygdmlldy5zdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHZpZXcubGluZUJsb2NrQXQoci5oZWFkKTtcbiAgICAgICAgICAgIGlmIChsaW5lLmZyb20gPiBsYXN0TGluZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgZGVjby5wdXNoKGxpbmVEZWNvLnJhbmdlKGxpbmUuZnJvbSkpO1xuICAgICAgICAgICAgICAgIGxhc3RMaW5lU3RhcnQgPSBsaW5lLmZyb207XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24uc2V0KGRlY28pO1xuICAgIH1cbn0sIHtcbiAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG59KTtcblxuY2xhc3MgUGxhY2Vob2xkZXIgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgfVxuICAgIHRvRE9NKCkge1xuICAgICAgICBsZXQgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICB3cmFwLmNsYXNzTmFtZSA9IFwiY20tcGxhY2Vob2xkZXJcIjtcbiAgICAgICAgd3JhcC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgICAgIHdyYXAuYXBwZW5kQ2hpbGQodHlwZW9mIHRoaXMuY29udGVudCA9PSBcInN0cmluZ1wiID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5jb250ZW50KSA6IHRoaXMuY29udGVudCk7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5jb250ZW50ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICB3cmFwLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJwbGFjZWhvbGRlciBcIiArIHRoaXMuY29udGVudCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHdyYXAuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICByZXR1cm4gd3JhcDtcbiAgICB9XG4gICAgY29vcmRzQXQoZG9tKSB7XG4gICAgICAgIGxldCByZWN0cyA9IGRvbS5maXJzdENoaWxkID8gY2xpZW50UmVjdHNGb3IoZG9tLmZpcnN0Q2hpbGQpIDogW107XG4gICAgICAgIGlmICghcmVjdHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvbS5wYXJlbnROb2RlKTtcbiAgICAgICAgbGV0IHJlY3QgPSBmbGF0dGVuUmVjdChyZWN0c1swXSwgc3R5bGUuZGlyZWN0aW9uICE9IFwicnRsXCIpO1xuICAgICAgICBsZXQgbGluZUhlaWdodCA9IHBhcnNlSW50KHN0eWxlLmxpbmVIZWlnaHQpO1xuICAgICAgICBpZiAocmVjdC5ib3R0b20gLSByZWN0LnRvcCA+IGxpbmVIZWlnaHQgKiAxLjUpXG4gICAgICAgICAgICByZXR1cm4geyBsZWZ0OiByZWN0LmxlZnQsIHJpZ2h0OiByZWN0LnJpZ2h0LCB0b3A6IHJlY3QudG9wLCBib3R0b206IHJlY3QudG9wICsgbGluZUhlaWdodCB9O1xuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICB9XG4gICAgaWdub3JlRXZlbnQoKSB7IHJldHVybiBmYWxzZTsgfVxufVxuLyoqXG5FeHRlbnNpb24gdGhhdCBlbmFibGVzIGEgcGxhY2Vob2xkZXLigJRhIHBpZWNlIG9mIGV4YW1wbGUgY29udGVudFxudG8gc2hvdyB3aGVuIHRoZSBlZGl0b3IgaXMgZW1wdHkuXG4qL1xuZnVuY3Rpb24gcGxhY2Vob2xkZXIoY29udGVudCkge1xuICAgIHJldHVybiBWaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgICAgICB0aGlzLnBsYWNlaG9sZGVyID0gY29udGVudFxuICAgICAgICAgICAgICAgID8gRGVjb3JhdGlvbi5zZXQoW0RlY29yYXRpb24ud2lkZ2V0KHsgd2lkZ2V0OiBuZXcgUGxhY2Vob2xkZXIoY29udGVudCksIHNpZGU6IDEgfSkucmFuZ2UoMCldKVxuICAgICAgICAgICAgICAgIDogRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICB9XG4gICAgICAgIGdldCBkZWNvcmF0aW9ucygpIHsgcmV0dXJuIHRoaXMudmlldy5zdGF0ZS5kb2MubGVuZ3RoID8gRGVjb3JhdGlvbi5ub25lIDogdGhpcy5wbGFjZWhvbGRlcjsgfVxuICAgIH0sIHsgZGVjb3JhdGlvbnM6IHYgPT4gdi5kZWNvcmF0aW9ucyB9KTtcbn1cblxuLy8gRG9uJ3QgY29tcHV0ZSBwcmVjaXNlIGNvbHVtbiBwb3NpdGlvbnMgZm9yIGxpbmUgb2Zmc2V0cyBhYm92ZSB0aGlzXG4vLyAoc2luY2UgaXQgY291bGQgZ2V0IGV4cGVuc2l2ZSkuIEFzc3VtZSBvZmZzZXQ9PWNvbHVtbiBmb3IgdGhlbS5cbmNvbnN0IE1heE9mZiA9IDIwMDA7XG5mdW5jdGlvbiByZWN0YW5nbGVGb3Ioc3RhdGUsIGEsIGIpIHtcbiAgICBsZXQgc3RhcnRMaW5lID0gTWF0aC5taW4oYS5saW5lLCBiLmxpbmUpLCBlbmRMaW5lID0gTWF0aC5tYXgoYS5saW5lLCBiLmxpbmUpO1xuICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICBpZiAoYS5vZmYgPiBNYXhPZmYgfHwgYi5vZmYgPiBNYXhPZmYgfHwgYS5jb2wgPCAwIHx8IGIuY29sIDwgMCkge1xuICAgICAgICBsZXQgc3RhcnRPZmYgPSBNYXRoLm1pbihhLm9mZiwgYi5vZmYpLCBlbmRPZmYgPSBNYXRoLm1heChhLm9mZiwgYi5vZmYpO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRMaW5lOyBpIDw9IGVuZExpbmU7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZShpKTtcbiAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA8PSBlbmRPZmYpXG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGxpbmUuZnJvbSArIHN0YXJ0T2ZmLCBsaW5lLnRvICsgZW5kT2ZmKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBzdGFydENvbCA9IE1hdGgubWluKGEuY29sLCBiLmNvbCksIGVuZENvbCA9IE1hdGgubWF4KGEuY29sLCBiLmNvbCk7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydExpbmU7IGkgPD0gZW5kTGluZTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lKGkpO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gZmluZENvbHVtbihsaW5lLnRleHQsIHN0YXJ0Q29sLCBzdGF0ZS50YWJTaXplLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGxpbmUudG8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBlbmQgPSBmaW5kQ29sdW1uKGxpbmUudGV4dCwgZW5kQ29sLCBzdGF0ZS50YWJTaXplKTtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChFZGl0b3JTZWxlY3Rpb24ucmFuZ2UobGluZS5mcm9tICsgc3RhcnQsIGxpbmUuZnJvbSArIGVuZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYW5nZXM7XG59XG5mdW5jdGlvbiBhYnNvbHV0ZUNvbHVtbih2aWV3LCB4KSB7XG4gICAgbGV0IHJlZiA9IHZpZXcuY29vcmRzQXRQb3Modmlldy52aWV3cG9ydC5mcm9tKTtcbiAgICByZXR1cm4gcmVmID8gTWF0aC5yb3VuZChNYXRoLmFicygocmVmLmxlZnQgLSB4KSAvIHZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoKSkgOiAtMTtcbn1cbmZ1bmN0aW9uIGdldFBvcyh2aWV3LCBldmVudCkge1xuICAgIGxldCBvZmZzZXQgPSB2aWV3LnBvc0F0Q29vcmRzKHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9LCBmYWxzZSk7XG4gICAgbGV0IGxpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQob2Zmc2V0KSwgb2ZmID0gb2Zmc2V0IC0gbGluZS5mcm9tO1xuICAgIGxldCBjb2wgPSBvZmYgPiBNYXhPZmYgPyAtMVxuICAgICAgICA6IG9mZiA9PSBsaW5lLmxlbmd0aCA/IGFic29sdXRlQ29sdW1uKHZpZXcsIGV2ZW50LmNsaWVudFgpXG4gICAgICAgICAgICA6IGNvdW50Q29sdW1uKGxpbmUudGV4dCwgdmlldy5zdGF0ZS50YWJTaXplLCBvZmZzZXQgLSBsaW5lLmZyb20pO1xuICAgIHJldHVybiB7IGxpbmU6IGxpbmUubnVtYmVyLCBjb2wsIG9mZiB9O1xufVxuZnVuY3Rpb24gcmVjdGFuZ2xlU2VsZWN0aW9uU3R5bGUodmlldywgZXZlbnQpIHtcbiAgICBsZXQgc3RhcnQgPSBnZXRQb3ModmlldywgZXZlbnQpLCBzdGFydFNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xuICAgIGlmICghc3RhcnQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGxldCBuZXdTdGFydCA9IHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyh1cGRhdGUuc3RhcnRTdGF0ZS5kb2MubGluZShzdGFydC5saW5lKS5mcm9tKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3TGluZSA9IHVwZGF0ZS5zdGF0ZS5kb2MubGluZUF0KG5ld1N0YXJ0KTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IHsgbGluZTogbmV3TGluZS5udW1iZXIsIGNvbDogc3RhcnQuY29sLCBvZmY6IE1hdGgubWluKHN0YXJ0Lm9mZiwgbmV3TGluZS5sZW5ndGgpIH07XG4gICAgICAgICAgICAgICAgc3RhcnRTZWwgPSBzdGFydFNlbC5tYXAodXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQoZXZlbnQsIF9leHRlbmQsIG11bHRpcGxlKSB7XG4gICAgICAgICAgICBsZXQgY3VyID0gZ2V0UG9zKHZpZXcsIGV2ZW50KTtcbiAgICAgICAgICAgIGlmICghY3VyKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydFNlbDtcbiAgICAgICAgICAgIGxldCByYW5nZXMgPSByZWN0YW5nbGVGb3Iodmlldy5zdGF0ZSwgc3RhcnQsIGN1cik7XG4gICAgICAgICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0U2VsO1xuICAgICAgICAgICAgaWYgKG11bHRpcGxlKVxuICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcy5jb25jYXQoc3RhcnRTZWwucmFuZ2VzKSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jcmVhdGUocmFuZ2VzKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbkNyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCBlbmFibGVzIHJlY3Rhbmd1bGFyIHNlbGVjdGlvbnMuIEJ5XG5kZWZhdWx0LCBpdCB3aWxsIHJlYWN0IHRvIGxlZnQgbW91c2UgZHJhZyB3aXRoIHRoZSBBbHQga2V5IGhlbGRcbmRvd24uIFdoZW4gc3VjaCBhIHNlbGVjdGlvbiBvY2N1cnMsIHRoZSB0ZXh0IHdpdGhpbiB0aGUgcmVjdGFuZ2xlXG50aGF0IHdhcyBkcmFnZ2VkIG92ZXIgd2lsbCBiZSBzZWxlY3RlZCwgYXMgb25lIHNlbGVjdGlvblxuW3JhbmdlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlNlbGVjdGlvblJhbmdlKSBwZXIgbGluZS5cbiovXG5mdW5jdGlvbiByZWN0YW5ndWxhclNlbGVjdGlvbihvcHRpb25zKSB7XG4gICAgbGV0IGZpbHRlciA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZXZlbnRGaWx0ZXIpIHx8IChlID0+IGUuYWx0S2V5ICYmIGUuYnV0dG9uID09IDApO1xuICAgIHJldHVybiBFZGl0b3JWaWV3Lm1vdXNlU2VsZWN0aW9uU3R5bGUub2YoKHZpZXcsIGV2ZW50KSA9PiBmaWx0ZXIoZXZlbnQpID8gcmVjdGFuZ2xlU2VsZWN0aW9uU3R5bGUodmlldywgZXZlbnQpIDogbnVsbCk7XG59XG5jb25zdCBrZXlzID0ge1xuICAgIEFsdDogWzE4LCBlID0+ICEhZS5hbHRLZXldLFxuICAgIENvbnRyb2w6IFsxNywgZSA9PiAhIWUuY3RybEtleV0sXG4gICAgU2hpZnQ6IFsxNiwgZSA9PiAhIWUuc2hpZnRLZXldLFxuICAgIE1ldGE6IFs5MSwgZSA9PiAhIWUubWV0YUtleV1cbn07XG5jb25zdCBzaG93Q3Jvc3NoYWlyID0geyBzdHlsZTogXCJjdXJzb3I6IGNyb3NzaGFpclwiIH07XG4vKipcblJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgdHVybnMgdGhlIHBvaW50ZXIgY3Vyc29yIGludG8gYVxuY3Jvc3NoYWlyIHdoZW4gYSBnaXZlbiBtb2RpZmllciBrZXksIGRlZmF1bHRpbmcgdG8gQWx0LCBpcyBoZWxkXG5kb3duLiBDYW4gc2VydmUgYXMgYSB2aXN1YWwgaGludCB0aGF0IHJlY3Rhbmd1bGFyIHNlbGVjdGlvbiBpc1xuZ29pbmcgdG8gaGFwcGVuIHdoZW4gcGFpcmVkIHdpdGhcbltgcmVjdGFuZ3VsYXJTZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcucmVjdGFuZ3VsYXJTZWxlY3Rpb24pLlxuKi9cbmZ1bmN0aW9uIGNyb3NzaGFpckN1cnNvcihvcHRpb25zID0ge30pIHtcbiAgICBsZXQgW2NvZGUsIGdldHRlcl0gPSBrZXlzW29wdGlvbnMua2V5IHx8IFwiQWx0XCJdO1xuICAgIGxldCBwbHVnaW4gPSBWaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgICAgICB0aGlzLmlzRG93biA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHNldChpc0Rvd24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRG93biAhPSBpc0Rvd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRG93biA9IGlzRG93bjtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlKFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgZXZlbnRPYnNlcnZlcnM6IHtcbiAgICAgICAgICAgIGtleWRvd24oZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGUua2V5Q29kZSA9PSBjb2RlIHx8IGdldHRlcihlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5dXAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gY29kZSB8fCAhZ2V0dGVyKGUpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldChmYWxzZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW91c2Vtb3ZlKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChnZXR0ZXIoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgcGx1Z2luLFxuICAgICAgICBFZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzLm9mKHZpZXcgPT4geyB2YXIgX2E7IHJldHVybiAoKF9hID0gdmlldy5wbHVnaW4ocGx1Z2luKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzRG93bikgPyBzaG93Q3Jvc3NoYWlyIDogbnVsbDsgfSlcbiAgICBdO1xufVxuXG5jb25zdCBPdXRzaWRlID0gXCItMTAwMDBweFwiO1xuY2xhc3MgVG9vbHRpcFZpZXdNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBmYWNldCwgY3JlYXRlVG9vbHRpcFZpZXcpIHtcbiAgICAgICAgdGhpcy5mYWNldCA9IGZhY2V0O1xuICAgICAgICB0aGlzLmNyZWF0ZVRvb2x0aXBWaWV3ID0gY3JlYXRlVG9vbHRpcFZpZXc7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB2aWV3LnN0YXRlLmZhY2V0KGZhY2V0KTtcbiAgICAgICAgdGhpcy50b29sdGlwcyA9IHRoaXMuaW5wdXQuZmlsdGVyKHQgPT4gdCk7XG4gICAgICAgIHRoaXMudG9vbHRpcFZpZXdzID0gdGhpcy50b29sdGlwcy5tYXAoY3JlYXRlVG9vbHRpcFZpZXcpO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlLCBhYm92ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBpbnB1dCA9IHVwZGF0ZS5zdGF0ZS5mYWNldCh0aGlzLmZhY2V0KTtcbiAgICAgICAgbGV0IHRvb2x0aXBzID0gaW5wdXQuZmlsdGVyKHggPT4geCk7XG4gICAgICAgIGlmIChpbnB1dCA9PT0gdGhpcy5pbnB1dCkge1xuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgICAgICBpZiAodC51cGRhdGUpXG4gICAgICAgICAgICAgICAgICAgIHQudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRvb2x0aXBWaWV3cyA9IFtdLCBuZXdBYm92ZSA9IGFib3ZlID8gW10gOiBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvb2x0aXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdGlwID0gdG9vbHRpcHNbaV0sIGtub3duID0gLTE7XG4gICAgICAgICAgICBpZiAoIXRpcClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b29sdGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBvdGhlciA9IHRoaXMudG9vbHRpcHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyICYmIG90aGVyLmNyZWF0ZSA9PSB0aXAuY3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICBrbm93biA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa25vd24gPCAwKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcFZpZXdzW2ldID0gdGhpcy5jcmVhdGVUb29sdGlwVmlldyh0aXApO1xuICAgICAgICAgICAgICAgIGlmIChuZXdBYm92ZSlcbiAgICAgICAgICAgICAgICAgICAgbmV3QWJvdmVbaV0gPSAhIXRpcC5hYm92ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB0b29sdGlwVmlldyA9IHRvb2x0aXBWaWV3c1tpXSA9IHRoaXMudG9vbHRpcFZpZXdzW2tub3duXTtcbiAgICAgICAgICAgICAgICBpZiAobmV3QWJvdmUpXG4gICAgICAgICAgICAgICAgICAgIG5ld0Fib3ZlW2ldID0gYWJvdmVba25vd25dO1xuICAgICAgICAgICAgICAgIGlmICh0b29sdGlwVmlldy51cGRhdGUpXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBWaWV3LnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHQgb2YgdGhpcy50b29sdGlwVmlld3MpXG4gICAgICAgICAgICBpZiAodG9vbHRpcFZpZXdzLmluZGV4T2YodCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgdC5kb20ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgKF9hID0gdC5kZXN0cm95KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgaWYgKGFib3ZlKSB7XG4gICAgICAgICAgICBuZXdBYm92ZS5mb3JFYWNoKCh2YWwsIGkpID0+IGFib3ZlW2ldID0gdmFsKTtcbiAgICAgICAgICAgIGFib3ZlLmxlbmd0aCA9IG5ld0Fib3ZlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMudG9vbHRpcHMgPSB0b29sdGlwcztcbiAgICAgICAgdGhpcy50b29sdGlwVmlld3MgPSB0b29sdGlwVmlld3M7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbi8qKlxuQ3JlYXRlcyBhbiBleHRlbnNpb24gdGhhdCBjb25maWd1cmVzIHRvb2x0aXAgYmVoYXZpb3IuXG4qL1xuZnVuY3Rpb24gdG9vbHRpcHMoY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gdG9vbHRpcENvbmZpZy5vZihjb25maWcpO1xufVxuZnVuY3Rpb24gd2luZG93U3BhY2Uodmlldykge1xuICAgIGxldCB7IHdpbiB9ID0gdmlldztcbiAgICByZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogd2luLmlubmVySGVpZ2h0LCByaWdodDogd2luLmlubmVyV2lkdGggfTtcbn1cbmNvbnN0IHRvb2x0aXBDb25maWcgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICBwb3NpdGlvbjogYnJvd3Nlci5pb3MgPyBcImFic29sdXRlXCIgOiAoKF9hID0gdmFsdWVzLmZpbmQoY29uZiA9PiBjb25mLnBvc2l0aW9uKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBvc2l0aW9uKSB8fCBcImZpeGVkXCIsXG4gICAgICAgICAgICBwYXJlbnQ6ICgoX2IgPSB2YWx1ZXMuZmluZChjb25mID0+IGNvbmYucGFyZW50KSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnBhcmVudCkgfHwgbnVsbCxcbiAgICAgICAgICAgIHRvb2x0aXBTcGFjZTogKChfYyA9IHZhbHVlcy5maW5kKGNvbmYgPT4gY29uZi50b29sdGlwU3BhY2UpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9vbHRpcFNwYWNlKSB8fCB3aW5kb3dTcGFjZSxcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5jb25zdCBrbm93bkhlaWdodCA9IC8qQF9fUFVSRV9fKi9uZXcgV2Vha01hcCgpO1xuY29uc3QgdG9vbHRpcFBsdWdpbiA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmFib3ZlID0gW107XG4gICAgICAgIHRoaXMuaW5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tYWRlQWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0VHJhbnNhY3Rpb24gPSAwO1xuICAgICAgICB0aGlzLm1lYXN1cmVUaW1lb3V0ID0gLTE7XG4gICAgICAgIGxldCBjb25maWcgPSB2aWV3LnN0YXRlLmZhY2V0KHRvb2x0aXBDb25maWcpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gY29uZmlnLnBvc2l0aW9uO1xuICAgICAgICB0aGlzLnBhcmVudCA9IGNvbmZpZy5wYXJlbnQ7XG4gICAgICAgIHRoaXMuY2xhc3NlcyA9IHZpZXcudGhlbWVDbGFzc2VzO1xuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLm1lYXN1cmVSZXEgPSB7IHJlYWQ6IHRoaXMucmVhZE1lYXN1cmUuYmluZCh0aGlzKSwgd3JpdGU6IHRoaXMud3JpdGVNZWFzdXJlLmJpbmQodGhpcyksIGtleTogdGhpcyB9O1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSBuZXcgVG9vbHRpcFZpZXdNYW5hZ2VyKHZpZXcsIHNob3dUb29sdGlwLCB0ID0+IHRoaXMuY3JlYXRlVG9vbHRpcCh0KSk7XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSB0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT0gXCJmdW5jdGlvblwiID8gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgPiB0aGlzLmxhc3RUcmFuc2FjdGlvbiAtIDUwICYmXG4gICAgICAgICAgICAgICAgZW50cmllcy5sZW5ndGggPiAwICYmIGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXS5pbnRlcnNlY3Rpb25SYXRpbyA8IDEpXG4gICAgICAgICAgICAgICAgdGhpcy5tZWFzdXJlU29vbigpO1xuICAgICAgICB9LCB7IHRocmVzaG9sZDogWzFdIH0pIDogbnVsbDtcbiAgICAgICAgdGhpcy5vYnNlcnZlSW50ZXJzZWN0aW9uKCk7XG4gICAgICAgIHZpZXcud2luLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5tZWFzdXJlU29vbiA9IHRoaXMubWVhc3VyZVNvb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMubWF5YmVNZWFzdXJlKCk7XG4gICAgfVxuICAgIGNyZWF0ZUNvbnRhaW5lcigpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTmFtZSA9IHRoaXMudmlldy50aGVtZUNsYXNzZXM7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMudmlldy5kb207XG4gICAgICAgIH1cbiAgICB9XG4gICAgb2JzZXJ2ZUludGVyc2VjdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgdG9vbHRpcCBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0b29sdGlwLmRvbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVhc3VyZVNvb24oKSB7XG4gICAgICAgIGlmICh0aGlzLm1lYXN1cmVUaW1lb3V0IDwgMClcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lYXN1cmVUaW1lb3V0ID0gLTE7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZU1lYXN1cmUoKTtcbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodXBkYXRlLnRyYW5zYWN0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmxhc3RUcmFuc2FjdGlvbiA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCB1cGRhdGVkID0gdGhpcy5tYW5hZ2VyLnVwZGF0ZSh1cGRhdGUsIHRoaXMuYWJvdmUpO1xuICAgICAgICBpZiAodXBkYXRlZClcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUludGVyc2VjdGlvbigpO1xuICAgICAgICBsZXQgc2hvdWxkTWVhc3VyZSA9IHVwZGF0ZWQgfHwgdXBkYXRlLmdlb21ldHJ5Q2hhbmdlZDtcbiAgICAgICAgbGV0IG5ld0NvbmZpZyA9IHVwZGF0ZS5zdGF0ZS5mYWNldCh0b29sdGlwQ29uZmlnKTtcbiAgICAgICAgaWYgKG5ld0NvbmZpZy5wb3NpdGlvbiAhPSB0aGlzLnBvc2l0aW9uICYmICF0aGlzLm1hZGVBYnNvbHV0ZSkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ld0NvbmZpZy5wb3NpdGlvbjtcbiAgICAgICAgICAgIGZvciAobGV0IHQgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgICAgICB0LmRvbS5zdHlsZS5wb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgICAgICAgICBzaG91bGRNZWFzdXJlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3Q29uZmlnLnBhcmVudCAhPSB0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50KVxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBuZXdDb25maWcucGFyZW50O1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDb250YWluZXIoKTtcbiAgICAgICAgICAgIGZvciAobGV0IHQgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0LmRvbSk7XG4gICAgICAgICAgICBzaG91bGRNZWFzdXJlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLnZpZXcudGhlbWVDbGFzc2VzICE9IHRoaXMuY2xhc3Nlcykge1xuICAgICAgICAgICAgdGhpcy5jbGFzc2VzID0gdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gdGhpcy52aWV3LnRoZW1lQ2xhc3NlcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkTWVhc3VyZSlcbiAgICAgICAgICAgIHRoaXMubWF5YmVNZWFzdXJlKCk7XG4gICAgfVxuICAgIGNyZWF0ZVRvb2x0aXAodG9vbHRpcCkge1xuICAgICAgICBsZXQgdG9vbHRpcFZpZXcgPSB0b29sdGlwLmNyZWF0ZSh0aGlzLnZpZXcpO1xuICAgICAgICB0b29sdGlwVmlldy5kb20uY2xhc3NMaXN0LmFkZChcImNtLXRvb2x0aXBcIik7XG4gICAgICAgIGlmICh0b29sdGlwLmFycm93ICYmICF0b29sdGlwVmlldy5kb20ucXVlcnlTZWxlY3RvcihcIi5jbS10b29sdGlwID4gLmNtLXRvb2x0aXAtYXJyb3dcIikpIHtcbiAgICAgICAgICAgIGxldCBhcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBhcnJvdy5jbGFzc05hbWUgPSBcImNtLXRvb2x0aXAtYXJyb3dcIjtcbiAgICAgICAgICAgIHRvb2x0aXBWaWV3LmRvbS5hcHBlbmRDaGlsZChhcnJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgdG9vbHRpcFZpZXcuZG9tLnN0eWxlLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdG9vbHRpcFZpZXcuZG9tLnN0eWxlLnRvcCA9IE91dHNpZGU7XG4gICAgICAgIHRvb2x0aXBWaWV3LmRvbS5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodG9vbHRpcFZpZXcuZG9tKTtcbiAgICAgICAgaWYgKHRvb2x0aXBWaWV3Lm1vdW50KVxuICAgICAgICAgICAgdG9vbHRpcFZpZXcubW91bnQodGhpcy52aWV3KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBWaWV3O1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLnZpZXcud2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5tZWFzdXJlU29vbik7XG4gICAgICAgIGZvciAobGV0IHRvb2x0aXBWaWV3IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpIHtcbiAgICAgICAgICAgIHRvb2x0aXBWaWV3LmRvbS5yZW1vdmUoKTtcbiAgICAgICAgICAgIChfYSA9IHRvb2x0aXBWaWV3LmRlc3Ryb3kpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRvb2x0aXBWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgKF9iID0gdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubWVhc3VyZVRpbWVvdXQpO1xuICAgIH1cbiAgICByZWFkTWVhc3VyZSgpIHtcbiAgICAgICAgbGV0IGVkaXRvciA9IHRoaXMudmlldy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGxldCBzY2FsZVggPSAxLCBzY2FsZVkgPSAxLCBtYWtlQWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24gPT0gXCJmaXhlZFwiICYmIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgeyBkb20gfSA9IHRoaXMubWFuYWdlci50b29sdGlwVmlld3NbMF07XG4gICAgICAgICAgICBpZiAoYnJvd3Nlci5nZWNrbykge1xuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggc2V0cyB0aGUgZWxlbWVudCdzIGBvZmZzZXRQYXJlbnRgIHRvIHRoZVxuICAgICAgICAgICAgICAgIC8vIHRyYW5zZm9ybWVkIGVsZW1lbnQgd2hlbiBhIHRyYW5zZm9ybSBpbnRlcmZlcmVzIHdpdGggZml4ZWRcbiAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbmluZy5cbiAgICAgICAgICAgICAgICBtYWtlQWJzb2x1dGUgPSBkb20ub2Zmc2V0UGFyZW50ICE9IHRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9uIG90aGVyIGJyb3dzZXJzLCB3ZSBoYXZlIHRvIGF3a3dhcmRseSB0cnkgYW5kIHVzZSBvdGhlclxuICAgICAgICAgICAgICAgIC8vIGluZm9ybWF0aW9uIHRvIGRldGVjdCBhIHRyYW5zZm9ybS5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3LnNjYWxlWCAhPSAxIHx8IHRoaXMudmlldy5zY2FsZVkgIT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBtYWtlQWJzb2x1dGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkb20uc3R5bGUudG9wID09IE91dHNpZGUgJiYgZG9tLnN0eWxlLmxlZnQgPT0gXCIwcHhcIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgbWFrZUFic29sdXRlID0gTWF0aC5hYnMocmVjdC50b3AgKyAxMDAwMCkgPiAxIHx8IE1hdGguYWJzKHJlY3QubGVmdCkgPiAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWFrZUFic29sdXRlIHx8IHRoaXMucG9zaXRpb24gPT0gXCJhYnNvbHV0ZVwiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHRoaXMucGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGlmIChyZWN0LndpZHRoICYmIHJlY3QuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlWCA9IHJlY3Qud2lkdGggLyB0aGlzLnBhcmVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVZID0gcmVjdC5oZWlnaHQgLyB0aGlzLnBhcmVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKHsgc2NhbGVYLCBzY2FsZVkgfSA9IHRoaXMudmlldy52aWV3U3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMucGFyZW50ID8gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBlZGl0b3IsXG4gICAgICAgICAgICBwb3M6IHRoaXMubWFuYWdlci50b29sdGlwcy5tYXAoKHQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdHYgPSB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzW2ldO1xuICAgICAgICAgICAgICAgIHJldHVybiB0di5nZXRDb29yZHMgPyB0di5nZXRDb29yZHModC5wb3MpIDogdGhpcy52aWV3LmNvb3Jkc0F0UG9zKHQucG9zKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgc2l6ZTogdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cy5tYXAoKHsgZG9tIH0pID0+IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksXG4gICAgICAgICAgICBzcGFjZTogdGhpcy52aWV3LnN0YXRlLmZhY2V0KHRvb2x0aXBDb25maWcpLnRvb2x0aXBTcGFjZSh0aGlzLnZpZXcpLFxuICAgICAgICAgICAgc2NhbGVYLCBzY2FsZVksIG1ha2VBYnNvbHV0ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICB3cml0ZU1lYXN1cmUobWVhc3VyZWQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAobWVhc3VyZWQubWFrZUFic29sdXRlKSB7XG4gICAgICAgICAgICB0aGlzLm1hZGVBYnNvbHV0ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgIHQuZG9tLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7IGVkaXRvciwgc3BhY2UsIHNjYWxlWCwgc2NhbGVZIH0gPSBtZWFzdXJlZDtcbiAgICAgICAgbGV0IG90aGVycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWFuYWdlci50b29sdGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHRvb2x0aXAgPSB0aGlzLm1hbmFnZXIudG9vbHRpcHNbaV0sIHRWaWV3ID0gdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3c1tpXSwgeyBkb20gfSA9IHRWaWV3O1xuICAgICAgICAgICAgbGV0IHBvcyA9IG1lYXN1cmVkLnBvc1tpXSwgc2l6ZSA9IG1lYXN1cmVkLnNpemVbaV07XG4gICAgICAgICAgICAvLyBIaWRlIHRvb2x0aXBzIHRoYXQgYXJlIG91dHNpZGUgb2YgdGhlIGVkaXRvci5cbiAgICAgICAgICAgIGlmICghcG9zIHx8IHBvcy5ib3R0b20gPD0gTWF0aC5tYXgoZWRpdG9yLnRvcCwgc3BhY2UudG9wKSB8fFxuICAgICAgICAgICAgICAgIHBvcy50b3AgPj0gTWF0aC5taW4oZWRpdG9yLmJvdHRvbSwgc3BhY2UuYm90dG9tKSB8fFxuICAgICAgICAgICAgICAgIHBvcy5yaWdodCA8IE1hdGgubWF4KGVkaXRvci5sZWZ0LCBzcGFjZS5sZWZ0KSAtIC4xIHx8XG4gICAgICAgICAgICAgICAgcG9zLmxlZnQgPiBNYXRoLm1pbihlZGl0b3IucmlnaHQsIHNwYWNlLnJpZ2h0KSArIC4xKSB7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLnRvcCA9IE91dHNpZGU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYXJyb3cgPSB0b29sdGlwLmFycm93ID8gdFZpZXcuZG9tLnF1ZXJ5U2VsZWN0b3IoXCIuY20tdG9vbHRpcC1hcnJvd1wiKSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgYXJyb3dIZWlnaHQgPSBhcnJvdyA/IDcgLyogQXJyb3cuU2l6ZSAqLyA6IDA7XG4gICAgICAgICAgICBsZXQgd2lkdGggPSBzaXplLnJpZ2h0IC0gc2l6ZS5sZWZ0LCBoZWlnaHQgPSAoX2EgPSBrbm93bkhlaWdodC5nZXQodFZpZXcpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBzaXplLmJvdHRvbSAtIHNpemUudG9wO1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHRWaWV3Lm9mZnNldCB8fCBub09mZnNldCwgbHRyID0gdGhpcy52aWV3LnRleHREaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUjtcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gc2l6ZS53aWR0aCA+IHNwYWNlLnJpZ2h0IC0gc3BhY2UubGVmdCA/IChsdHIgPyBzcGFjZS5sZWZ0IDogc3BhY2UucmlnaHQgLSBzaXplLndpZHRoKVxuICAgICAgICAgICAgICAgIDogbHRyID8gTWF0aC5taW4ocG9zLmxlZnQgLSAoYXJyb3cgPyAxNCAvKiBBcnJvdy5PZmZzZXQgKi8gOiAwKSArIG9mZnNldC54LCBzcGFjZS5yaWdodCAtIHdpZHRoKVxuICAgICAgICAgICAgICAgICAgICA6IE1hdGgubWF4KHNwYWNlLmxlZnQsIHBvcy5sZWZ0IC0gd2lkdGggKyAoYXJyb3cgPyAxNCAvKiBBcnJvdy5PZmZzZXQgKi8gOiAwKSAtIG9mZnNldC54KTtcbiAgICAgICAgICAgIGxldCBhYm92ZSA9IHRoaXMuYWJvdmVbaV07XG4gICAgICAgICAgICBpZiAoIXRvb2x0aXAuc3RyaWN0U2lkZSAmJiAoYWJvdmVcbiAgICAgICAgICAgICAgICA/IHBvcy50b3AgLSAoc2l6ZS5ib3R0b20gLSBzaXplLnRvcCkgLSBvZmZzZXQueSA8IHNwYWNlLnRvcFxuICAgICAgICAgICAgICAgIDogcG9zLmJvdHRvbSArIChzaXplLmJvdHRvbSAtIHNpemUudG9wKSArIG9mZnNldC55ID4gc3BhY2UuYm90dG9tKSAmJlxuICAgICAgICAgICAgICAgIGFib3ZlID09IChzcGFjZS5ib3R0b20gLSBwb3MuYm90dG9tID4gcG9zLnRvcCAtIHNwYWNlLnRvcCkpXG4gICAgICAgICAgICAgICAgYWJvdmUgPSB0aGlzLmFib3ZlW2ldID0gIWFib3ZlO1xuICAgICAgICAgICAgbGV0IHNwYWNlVmVydCA9IChhYm92ZSA/IHBvcy50b3AgLSBzcGFjZS50b3AgOiBzcGFjZS5ib3R0b20gLSBwb3MuYm90dG9tKSAtIGFycm93SGVpZ2h0O1xuICAgICAgICAgICAgaWYgKHNwYWNlVmVydCA8IGhlaWdodCAmJiB0Vmlldy5yZXNpemUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNwYWNlVmVydCA8IHRoaXMudmlldy5kZWZhdWx0TGluZUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBkb20uc3R5bGUudG9wID0gT3V0c2lkZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGtub3duSGVpZ2h0LnNldCh0VmlldywgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBkb20uc3R5bGUuaGVpZ2h0ID0gKGhlaWdodCA9IHNwYWNlVmVydCkgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkb20uc3R5bGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLmhlaWdodCA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdG9wID0gYWJvdmUgPyBwb3MudG9wIC0gaGVpZ2h0IC0gYXJyb3dIZWlnaHQgLSBvZmZzZXQueSA6IHBvcy5ib3R0b20gKyBhcnJvd0hlaWdodCArIG9mZnNldC55O1xuICAgICAgICAgICAgbGV0IHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xuICAgICAgICAgICAgaWYgKHRWaWV3Lm92ZXJsYXAgIT09IHRydWUpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgciBvZiBvdGhlcnMpXG4gICAgICAgICAgICAgICAgICAgIGlmIChyLmxlZnQgPCByaWdodCAmJiByLnJpZ2h0ID4gbGVmdCAmJiByLnRvcCA8IHRvcCArIGhlaWdodCAmJiByLmJvdHRvbSA+IHRvcClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCA9IGFib3ZlID8gci50b3AgLSBoZWlnaHQgLSAyIC0gYXJyb3dIZWlnaHQgOiByLmJvdHRvbSArIGFycm93SGVpZ2h0ICsgMjtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvc2l0aW9uID09IFwiYWJzb2x1dGVcIikge1xuICAgICAgICAgICAgICAgIGRvbS5zdHlsZS50b3AgPSAodG9wIC0gbWVhc3VyZWQucGFyZW50LnRvcCkgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLmxlZnQgPSAobGVmdCAtIG1lYXN1cmVkLnBhcmVudC5sZWZ0KSAvIHNjYWxlWCArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvbS5zdHlsZS50b3AgPSB0b3AgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLmxlZnQgPSBsZWZ0IC8gc2NhbGVYICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFycm93KSB7XG4gICAgICAgICAgICAgICAgbGV0IGFycm93TGVmdCA9IHBvcy5sZWZ0ICsgKGx0ciA/IG9mZnNldC54IDogLW9mZnNldC54KSAtIChsZWZ0ICsgMTQgLyogQXJyb3cuT2Zmc2V0ICovIC0gNyAvKiBBcnJvdy5TaXplICovKTtcbiAgICAgICAgICAgICAgICBhcnJvdy5zdHlsZS5sZWZ0ID0gYXJyb3dMZWZ0IC8gc2NhbGVYICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRWaWV3Lm92ZXJsYXAgIT09IHRydWUpXG4gICAgICAgICAgICAgICAgb3RoZXJzLnB1c2goeyBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b206IHRvcCArIGhlaWdodCB9KTtcbiAgICAgICAgICAgIGRvbS5jbGFzc0xpc3QudG9nZ2xlKFwiY20tdG9vbHRpcC1hYm92ZVwiLCBhYm92ZSk7XG4gICAgICAgICAgICBkb20uY2xhc3NMaXN0LnRvZ2dsZShcImNtLXRvb2x0aXAtYmVsb3dcIiwgIWFib3ZlKTtcbiAgICAgICAgICAgIGlmICh0Vmlldy5wb3NpdGlvbmVkKVxuICAgICAgICAgICAgICAgIHRWaWV3LnBvc2l0aW9uZWQobWVhc3VyZWQuc3BhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1heWJlTWVhc3VyZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubWFuYWdlci50b29sdGlwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXcuaW5WaWV3KVxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLm1lYXN1cmVSZXEpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5WaWV3ICE9IHRoaXMudmlldy5pblZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluVmlldyA9IHRoaXMudmlldy5pblZpZXc7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluVmlldylcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdHYgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgICAgICAgICAgICAgIHR2LmRvbS5zdHlsZS50b3AgPSBPdXRzaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSwge1xuICAgIGV2ZW50T2JzZXJ2ZXJzOiB7XG4gICAgICAgIHNjcm9sbCgpIHsgdGhpcy5tYXliZU1lYXN1cmUoKTsgfVxuICAgIH1cbn0pO1xuY29uc3QgYmFzZVRoZW1lID0gLypAX19QVVJFX18qL0VkaXRvclZpZXcuYmFzZVRoZW1lKHtcbiAgICBcIi5jbS10b29sdGlwXCI6IHtcbiAgICAgICAgekluZGV4OiAxMDAsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS10b29sdGlwXCI6IHtcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjYmJiXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjVmNWY1XCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS10b29sdGlwLXNlY3Rpb246bm90KDpmaXJzdC1jaGlsZClcIjoge1xuICAgICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICNiYmJcIixcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLXRvb2x0aXBcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMzMzMzOFwiLFxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiXG4gICAgfSxcbiAgICBcIi5jbS10b29sdGlwLWFycm93XCI6IHtcbiAgICAgICAgaGVpZ2h0OiBgJHs3IC8qIEFycm93LlNpemUgKi99cHhgLFxuICAgICAgICB3aWR0aDogYCR7NyAvKiBBcnJvdy5TaXplICovICogMn1weGAsXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIHpJbmRleDogLTEsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICBcIiY6YmVmb3JlLCAmOmFmdGVyXCI6IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiJydcIixcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIGJvcmRlckxlZnQ6IGAkezcgLyogQXJyb3cuU2l6ZSAqL31weCBzb2xpZCB0cmFuc3BhcmVudGAsXG4gICAgICAgICAgICBib3JkZXJSaWdodDogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkIHRyYW5zcGFyZW50YCxcbiAgICAgICAgfSxcbiAgICAgICAgXCIuY20tdG9vbHRpcC1hYm92ZSAmXCI6IHtcbiAgICAgICAgICAgIGJvdHRvbTogYC0kezcgLyogQXJyb3cuU2l6ZSAqL31weGAsXG4gICAgICAgICAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJUb3A6IGAkezcgLyogQXJyb3cuU2l6ZSAqL31weCBzb2xpZCAjYmJiYCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiY6YWZ0ZXJcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlclRvcDogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkICNmNWY1ZjVgLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogXCIxcHhcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIi5jbS10b29sdGlwLWJlbG93ICZcIjoge1xuICAgICAgICAgICAgdG9wOiBgLSR7NyAvKiBBcnJvdy5TaXplICovfXB4YCxcbiAgICAgICAgICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkICNiYmJgLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBgJHs3IC8qIEFycm93LlNpemUgKi99cHggc29saWQgI2Y1ZjVmNWAsXG4gICAgICAgICAgICAgICAgdG9wOiBcIjFweFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS10b29sdGlwIC5jbS10b29sdGlwLWFycm93XCI6IHtcbiAgICAgICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICAgICAgICBib3JkZXJUb3BDb2xvcjogXCIjMzMzMzM4XCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogXCIjMzMzMzM4XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgIGJvcmRlclRvcENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogXCJ0cmFuc3BhcmVudFwiXG4gICAgICAgIH1cbiAgICB9XG59KTtcbmNvbnN0IG5vT2Zmc2V0ID0geyB4OiAwLCB5OiAwIH07XG4vKipcbkZhY2V0IHRvIHdoaWNoIGFuIGV4dGVuc2lvbiBjYW4gYWRkIGEgdmFsdWUgdG8gc2hvdyBhIHRvb2x0aXAuXG4qL1xuY29uc3Qgc2hvd1Rvb2x0aXAgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBlbmFibGVzOiBbdG9vbHRpcFBsdWdpbiwgYmFzZVRoZW1lXVxufSk7XG5jb25zdCBzaG93SG92ZXJUb29sdGlwID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY2xhc3MgSG92ZXJUb29sdGlwSG9zdCB7XG4gICAgLy8gTmVlZHMgdG8gYmUgc3RhdGljIHNvIHRoYXQgaG9zdCB0b29sdGlwIGluc3RhbmNlcyBhbHdheXMgbWF0Y2hcbiAgICBzdGF0aWMgY3JlYXRlKHZpZXcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIb3ZlclRvb2x0aXBIb3N0KHZpZXcpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMubW91bnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS10b29sdGlwLWhvdmVyXCIpO1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSBuZXcgVG9vbHRpcFZpZXdNYW5hZ2VyKHZpZXcsIHNob3dIb3ZlclRvb2x0aXAsIHQgPT4gdGhpcy5jcmVhdGVIb3N0ZWRWaWV3KHQpKTtcbiAgICB9XG4gICAgY3JlYXRlSG9zdGVkVmlldyh0b29sdGlwKSB7XG4gICAgICAgIGxldCBob3N0ZWRWaWV3ID0gdG9vbHRpcC5jcmVhdGUodGhpcy52aWV3KTtcbiAgICAgICAgaG9zdGVkVmlldy5kb20uY2xhc3NMaXN0LmFkZChcImNtLXRvb2x0aXAtc2VjdGlvblwiKTtcbiAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQoaG9zdGVkVmlldy5kb20pO1xuICAgICAgICBpZiAodGhpcy5tb3VudGVkICYmIGhvc3RlZFZpZXcubW91bnQpXG4gICAgICAgICAgICBob3N0ZWRWaWV3Lm1vdW50KHRoaXMudmlldyk7XG4gICAgICAgIHJldHVybiBob3N0ZWRWaWV3O1xuICAgIH1cbiAgICBtb3VudCh2aWV3KSB7XG4gICAgICAgIGZvciAobGV0IGhvc3RlZFZpZXcgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cykge1xuICAgICAgICAgICAgaWYgKGhvc3RlZFZpZXcubW91bnQpXG4gICAgICAgICAgICAgICAgaG9zdGVkVmlldy5tb3VudCh2aWV3KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdW50ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBwb3NpdGlvbmVkKHNwYWNlKSB7XG4gICAgICAgIGZvciAobGV0IGhvc3RlZFZpZXcgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cykge1xuICAgICAgICAgICAgaWYgKGhvc3RlZFZpZXcucG9zaXRpb25lZClcbiAgICAgICAgICAgICAgICBob3N0ZWRWaWV3LnBvc2l0aW9uZWQoc3BhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnVwZGF0ZSh1cGRhdGUpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGZvciAobGV0IHQgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgIChfYSA9IHQuZGVzdHJveSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodCk7XG4gICAgfVxuICAgIHBhc3NQcm9wKG5hbWUpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGxldCB2aWV3IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpIHtcbiAgICAgICAgICAgIGxldCBnaXZlbiA9IHZpZXdbbmFtZV07XG4gICAgICAgICAgICBpZiAoZ2l2ZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGdpdmVuO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICE9PSBnaXZlbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGdldCBvZmZzZXQoKSB7IHJldHVybiB0aGlzLnBhc3NQcm9wKFwib2Zmc2V0XCIpOyB9XG4gICAgZ2V0IGdldENvb3JkcygpIHsgcmV0dXJuIHRoaXMucGFzc1Byb3AoXCJnZXRDb29yZHNcIik7IH1cbiAgICBnZXQgb3ZlcmxhcCgpIHsgcmV0dXJuIHRoaXMucGFzc1Byb3AoXCJvdmVybGFwXCIpOyB9XG4gICAgZ2V0IHJlc2l6ZSgpIHsgcmV0dXJuIHRoaXMucGFzc1Byb3AoXCJyZXNpemVcIik7IH1cbn1cbmNvbnN0IHNob3dIb3ZlclRvb2x0aXBIb3N0ID0gLypAX19QVVJFX18qL3Nob3dUb29sdGlwLmNvbXB1dGUoW3Nob3dIb3ZlclRvb2x0aXBdLCBzdGF0ZSA9PiB7XG4gICAgbGV0IHRvb2x0aXBzID0gc3RhdGUuZmFjZXQoc2hvd0hvdmVyVG9vbHRpcCkuZmlsdGVyKHQgPT4gdCk7XG4gICAgaWYgKHRvb2x0aXBzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9zOiBNYXRoLm1pbiguLi50b29sdGlwcy5tYXAodCA9PiB0LnBvcykpLFxuICAgICAgICBlbmQ6IE1hdGgubWF4KC4uLnRvb2x0aXBzLmZpbHRlcih0ID0+IHQuZW5kICE9IG51bGwpLm1hcCh0ID0+IHQuZW5kKSksXG4gICAgICAgIGNyZWF0ZTogSG92ZXJUb29sdGlwSG9zdC5jcmVhdGUsXG4gICAgICAgIGFib3ZlOiB0b29sdGlwc1swXS5hYm92ZSxcbiAgICAgICAgYXJyb3c6IHRvb2x0aXBzLnNvbWUodCA9PiB0LmFycm93KSxcbiAgICB9O1xufSk7XG5jbGFzcyBIb3ZlclBsdWdpbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgc291cmNlLCBmaWVsZCwgc2V0SG92ZXIsIGhvdmVyVGltZSkge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkO1xuICAgICAgICB0aGlzLnNldEhvdmVyID0gc2V0SG92ZXI7XG4gICAgICAgIHRoaXMuaG92ZXJUaW1lID0gaG92ZXJUaW1lO1xuICAgICAgICB0aGlzLmhvdmVyVGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLnJlc3RhcnRUaW1lb3V0ID0gLTE7XG4gICAgICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdE1vdmUgPSB7IHg6IDAsIHk6IDAsIHRhcmdldDogdmlldy5kb20sIHRpbWU6IDAgfTtcbiAgICAgICAgdGhpcy5jaGVja0hvdmVyID0gdGhpcy5jaGVja0hvdmVyLmJpbmQodGhpcyk7XG4gICAgICAgIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMubW91c2VsZWF2ZSA9IHRoaXMubW91c2VsZWF2ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlbW92ZSA9IHRoaXMubW91c2Vtb3ZlLmJpbmQodGhpcykpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXN0YXJ0VGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLnJlc3RhcnRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLnN0YXJ0SG92ZXIoKSwgMjApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBhY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc3RhdGUuZmllbGQodGhpcy5maWVsZCk7XG4gICAgfVxuICAgIGNoZWNrSG92ZXIoKSB7XG4gICAgICAgIHRoaXMuaG92ZXJUaW1lb3V0ID0gLTE7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGhvdmVyZWQgPSBEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZS50aW1lO1xuICAgICAgICBpZiAoaG92ZXJlZCA8IHRoaXMuaG92ZXJUaW1lKVxuICAgICAgICAgICAgdGhpcy5ob3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuY2hlY2tIb3ZlciwgdGhpcy5ob3ZlclRpbWUgLSBob3ZlcmVkKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5zdGFydEhvdmVyKCk7XG4gICAgfVxuICAgIHN0YXJ0SG92ZXIoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc3RhcnRUaW1lb3V0KTtcbiAgICAgICAgbGV0IHsgdmlldywgbGFzdE1vdmUgfSA9IHRoaXM7XG4gICAgICAgIGxldCBkZXNjID0gdmlldy5kb2NWaWV3Lm5lYXJlc3QobGFzdE1vdmUudGFyZ2V0KTtcbiAgICAgICAgaWYgKCFkZXNjKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgcG9zLCBzaWRlID0gMTtcbiAgICAgICAgaWYgKGRlc2MgaW5zdGFuY2VvZiBXaWRnZXRWaWV3KSB7XG4gICAgICAgICAgICBwb3MgPSBkZXNjLnBvc0F0U3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb3MgPSB2aWV3LnBvc0F0Q29vcmRzKGxhc3RNb3ZlKTtcbiAgICAgICAgICAgIGlmIChwb3MgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgcG9zQ29vcmRzID0gdmlldy5jb29yZHNBdFBvcyhwb3MpO1xuICAgICAgICAgICAgaWYgKCFwb3NDb29yZHMgfHxcbiAgICAgICAgICAgICAgICBsYXN0TW92ZS55IDwgcG9zQ29vcmRzLnRvcCB8fCBsYXN0TW92ZS55ID4gcG9zQ29vcmRzLmJvdHRvbSB8fFxuICAgICAgICAgICAgICAgIGxhc3RNb3ZlLnggPCBwb3NDb29yZHMubGVmdCAtIHZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoIHx8XG4gICAgICAgICAgICAgICAgbGFzdE1vdmUueCA+IHBvc0Nvb3Jkcy5yaWdodCArIHZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCBiaWRpID0gdmlldy5iaWRpU3BhbnModmlldy5zdGF0ZS5kb2MubGluZUF0KHBvcykpLmZpbmQocyA9PiBzLmZyb20gPD0gcG9zICYmIHMudG8gPj0gcG9zKTtcbiAgICAgICAgICAgIGxldCBydGwgPSBiaWRpICYmIGJpZGkuZGlyID09IERpcmVjdGlvbi5SVEwgPyAtMSA6IDE7XG4gICAgICAgICAgICBzaWRlID0gKGxhc3RNb3ZlLnggPCBwb3NDb29yZHMubGVmdCA/IC1ydGwgOiBydGwpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcGVuID0gdGhpcy5zb3VyY2UodmlldywgcG9zLCBzaWRlKTtcbiAgICAgICAgaWYgKG9wZW4gPT09IG51bGwgfHwgb3BlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3Blbi50aGVuKSB7XG4gICAgICAgICAgICBsZXQgcGVuZGluZyA9IHRoaXMucGVuZGluZyA9IHsgcG9zIH07XG4gICAgICAgICAgICBvcGVuLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nID09IHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiB0aGlzLnNldEhvdmVyLm9mKHJlc3VsdCkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZSA9PiBsb2dFeGNlcHRpb24odmlldy5zdGF0ZSwgZSwgXCJob3ZlciB0b29sdGlwXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcGVuKSB7XG4gICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogdGhpcy5zZXRIb3Zlci5vZihvcGVuKSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3VzZW1vdmUoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxhc3RNb3ZlID0geyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZLCB0YXJnZXQ6IGV2ZW50LnRhcmdldCwgdGltZTogRGF0ZS5ub3coKSB9O1xuICAgICAgICBpZiAodGhpcy5ob3ZlclRpbWVvdXQgPCAwKVxuICAgICAgICAgICAgdGhpcy5ob3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuY2hlY2tIb3ZlciwgdGhpcy5ob3ZlclRpbWUpO1xuICAgICAgICBsZXQgdG9vbHRpcCA9IHRoaXMuYWN0aXZlO1xuICAgICAgICBpZiAodG9vbHRpcCAmJiAhaXNJblRvb2x0aXAodGhpcy5sYXN0TW92ZS50YXJnZXQpIHx8IHRoaXMucGVuZGluZykge1xuICAgICAgICAgICAgbGV0IHsgcG9zIH0gPSB0b29sdGlwIHx8IHRoaXMucGVuZGluZywgZW5kID0gKF9hID0gdG9vbHRpcCA9PT0gbnVsbCB8fCB0b29sdGlwID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0b29sdGlwLmVuZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcG9zO1xuICAgICAgICAgICAgaWYgKChwb3MgPT0gZW5kID8gdGhpcy52aWV3LnBvc0F0Q29vcmRzKHRoaXMubGFzdE1vdmUpICE9IHBvc1xuICAgICAgICAgICAgICAgIDogIWlzT3ZlclJhbmdlKHRoaXMudmlldywgcG9zLCBlbmQsIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRoaXMuc2V0SG92ZXIub2YobnVsbCkgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3VzZWxlYXZlKGUpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaG92ZXJUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5ob3ZlclRpbWVvdXQgPSAtMTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlICYmICFpc0luVG9vbHRpcChlLnJlbGF0ZWRUYXJnZXQpKVxuICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogdGhpcy5zZXRIb3Zlci5vZihudWxsKSB9KTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaG92ZXJUaW1lb3V0KTtcbiAgICAgICAgdGhpcy52aWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLm1vdXNlbGVhdmUpO1xuICAgICAgICB0aGlzLnZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZW1vdmUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzSW5Ub29sdGlwKGVsdCkge1xuICAgIGZvciAobGV0IGN1ciA9IGVsdDsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSlcbiAgICAgICAgaWYgKGN1ci5ub2RlVHlwZSA9PSAxICYmIGN1ci5jbGFzc0xpc3QuY29udGFpbnMoXCJjbS10b29sdGlwXCIpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNPdmVyUmFuZ2UodmlldywgZnJvbSwgdG8sIHgsIHksIG1hcmdpbikge1xuICAgIGxldCByZWN0ID0gdmlldy5zY3JvbGxET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGRvY0JvdHRvbSA9IHZpZXcuZG9jdW1lbnRUb3AgKyB2aWV3LmRvY3VtZW50UGFkZGluZy50b3AgKyB2aWV3LmNvbnRlbnRIZWlnaHQ7XG4gICAgaWYgKHJlY3QubGVmdCA+IHggfHwgcmVjdC5yaWdodCA8IHggfHwgcmVjdC50b3AgPiB5IHx8IE1hdGgubWluKHJlY3QuYm90dG9tLCBkb2NCb3R0b20pIDwgeSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBwb3MgPSB2aWV3LnBvc0F0Q29vcmRzKHsgeCwgeSB9LCBmYWxzZSk7XG4gICAgcmV0dXJuIHBvcyA+PSBmcm9tICYmIHBvcyA8PSB0bztcbn1cbi8qKlxuU2V0IHVwIGEgaG92ZXIgdG9vbHRpcCwgd2hpY2ggc2hvd3MgdXAgd2hlbiB0aGUgcG9pbnRlciBob3ZlcnNcbm92ZXIgcmFuZ2VzIG9mIHRleHQuIFRoZSBjYWxsYmFjayBpcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgaG92ZXJzXG5vdmVyIHRoZSBkb2N1bWVudCB0ZXh0LiBJdCBzaG91bGQsIGlmIHRoZXJlIGlzIGEgdG9vbHRpcFxuYXNzb2NpYXRlZCB3aXRoIHBvc2l0aW9uIGBwb3NgLCByZXR1cm4gdGhlIHRvb2x0aXAgZGVzY3JpcHRpb25cbihlaXRoZXIgZGlyZWN0bHkgb3IgaW4gYSBwcm9taXNlKS4gVGhlIGBzaWRlYCBhcmd1bWVudCBpbmRpY2F0ZXNcbm9uIHdoaWNoIHNpZGUgb2YgdGhlIHBvc2l0aW9uIHRoZSBwb2ludGVyIGlz4oCUaXQgd2lsbCBiZSAtMSBpZiB0aGVcbnBvaW50ZXIgaXMgYmVmb3JlIHRoZSBwb3NpdGlvbiwgMSBpZiBhZnRlciB0aGUgcG9zaXRpb24uXG5cbk5vdGUgdGhhdCBhbGwgaG92ZXIgdG9vbHRpcHMgYXJlIGhvc3RlZCB3aXRoaW4gYSBzaW5nbGUgdG9vbHRpcFxuY29udGFpbmVyIGVsZW1lbnQuIFRoaXMgYWxsb3dzIG11bHRpcGxlIHRvb2x0aXBzIG92ZXIgdGhlIHNhbWVcbnJhbmdlIHRvIGJlIFwibWVyZ2VkXCIgdG9nZXRoZXIgd2l0aG91dCBvdmVybGFwcGluZy5cbiovXG5mdW5jdGlvbiBob3ZlclRvb2x0aXAoc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgc2V0SG92ZXIgPSBTdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbiAgICBsZXQgaG92ZXJTdGF0ZSA9IFN0YXRlRmllbGQuZGVmaW5lKHtcbiAgICAgICAgY3JlYXRlKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgdXBkYXRlKHZhbHVlLCB0cikge1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmIChvcHRpb25zLmhpZGVPbkNoYW5nZSAmJiAodHIuZG9jQ2hhbmdlZCB8fCB0ci5zZWxlY3Rpb24pIHx8XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oaWRlT24gJiYgb3B0aW9ucy5oaWRlT24odHIsIHZhbHVlKSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgdHIuZG9jQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGxldCBuZXdQb3MgPSB0ci5jaGFuZ2VzLm1hcFBvcyh2YWx1ZS5wb3MsIC0xLCBNYXBNb2RlLlRyYWNrRGVsKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3UG9zID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBjb3B5ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29weS5wb3MgPSBuZXdQb3M7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmVuZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBjb3B5LmVuZCA9IHRyLmNoYW5nZXMubWFwUG9zKHZhbHVlLmVuZCk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBjb3B5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0LmlzKHNldEhvdmVyKSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBlZmZlY3QudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhjbG9zZUhvdmVyVG9vbHRpcEVmZmVjdCkpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvdmlkZTogZiA9PiBzaG93SG92ZXJUb29sdGlwLmZyb20oZilcbiAgICB9KTtcbiAgICByZXR1cm4gW1xuICAgICAgICBob3ZlclN0YXRlLFxuICAgICAgICBWaWV3UGx1Z2luLmRlZmluZSh2aWV3ID0+IG5ldyBIb3ZlclBsdWdpbih2aWV3LCBzb3VyY2UsIGhvdmVyU3RhdGUsIHNldEhvdmVyLCBvcHRpb25zLmhvdmVyVGltZSB8fCAzMDAgLyogSG92ZXIuVGltZSAqLykpLFxuICAgICAgICBzaG93SG92ZXJUb29sdGlwSG9zdFxuICAgIF07XG59XG4vKipcbkdldCB0aGUgYWN0aXZlIHRvb2x0aXAgdmlldyBmb3IgYSBnaXZlbiB0b29sdGlwLCBpZiBhdmFpbGFibGUuXG4qL1xuZnVuY3Rpb24gZ2V0VG9vbHRpcCh2aWV3LCB0b29sdGlwKSB7XG4gICAgbGV0IHBsdWdpbiA9IHZpZXcucGx1Z2luKHRvb2x0aXBQbHVnaW4pO1xuICAgIGlmICghcGx1Z2luKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgZm91bmQgPSBwbHVnaW4ubWFuYWdlci50b29sdGlwcy5pbmRleE9mKHRvb2x0aXApO1xuICAgIHJldHVybiBmb3VuZCA8IDAgPyBudWxsIDogcGx1Z2luLm1hbmFnZXIudG9vbHRpcFZpZXdzW2ZvdW5kXTtcbn1cbi8qKlxuUmV0dXJucyB0cnVlIGlmIGFueSBob3ZlciB0b29sdGlwcyBhcmUgY3VycmVudGx5IGFjdGl2ZS5cbiovXG5mdW5jdGlvbiBoYXNIb3ZlclRvb2x0aXBzKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmZhY2V0KHNob3dIb3ZlclRvb2x0aXApLnNvbWUoeCA9PiB4KTtcbn1cbmNvbnN0IGNsb3NlSG92ZXJUb29sdGlwRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuLyoqXG5UcmFuc2FjdGlvbiBlZmZlY3QgdGhhdCBjbG9zZXMgYWxsIGhvdmVyIHRvb2x0aXBzLlxuKi9cbmNvbnN0IGNsb3NlSG92ZXJUb29sdGlwcyA9IC8qQF9fUFVSRV9fKi9jbG9zZUhvdmVyVG9vbHRpcEVmZmVjdC5vZihudWxsKTtcbi8qKlxuVGVsbCB0aGUgdG9vbHRpcCBleHRlbnNpb24gdG8gcmVjb21wdXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgYWN0aXZlXG50b29sdGlwcy4gVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gc29tZXRoaW5nIGhhcHBlbnMgKHN1Y2ggYXMgYVxucmUtcG9zaXRpb25pbmcgb3IgQ1NTIGNoYW5nZSBhZmZlY3RpbmcgdGhlIGVkaXRvcikgdGhhdCBjb3VsZFxuaW52YWxpZGF0ZSB0aGUgZXhpc3RpbmcgdG9vbHRpcCBwb3NpdGlvbnMuXG4qL1xuZnVuY3Rpb24gcmVwb3NpdGlvblRvb2x0aXBzKHZpZXcpIHtcbiAgICBsZXQgcGx1Z2luID0gdmlldy5wbHVnaW4odG9vbHRpcFBsdWdpbik7XG4gICAgaWYgKHBsdWdpbilcbiAgICAgICAgcGx1Z2luLm1heWJlTWVhc3VyZSgpO1xufVxuXG5jb25zdCBwYW5lbENvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICBsZXQgdG9wQ29udGFpbmVyLCBib3R0b21Db250YWluZXI7XG4gICAgICAgIGZvciAobGV0IGMgb2YgY29uZmlncykge1xuICAgICAgICAgICAgdG9wQ29udGFpbmVyID0gdG9wQ29udGFpbmVyIHx8IGMudG9wQ29udGFpbmVyO1xuICAgICAgICAgICAgYm90dG9tQ29udGFpbmVyID0gYm90dG9tQ29udGFpbmVyIHx8IGMuYm90dG9tQ29udGFpbmVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHRvcENvbnRhaW5lciwgYm90dG9tQ29udGFpbmVyIH07XG4gICAgfVxufSk7XG4vKipcbkNvbmZpZ3VyZXMgdGhlIHBhbmVsLW1hbmFnaW5nIGV4dGVuc2lvbi5cbiovXG5mdW5jdGlvbiBwYW5lbHMoY29uZmlnKSB7XG4gICAgcmV0dXJuIGNvbmZpZyA/IFtwYW5lbENvbmZpZy5vZihjb25maWcpXSA6IFtdO1xufVxuLyoqXG5HZXQgdGhlIGFjdGl2ZSBwYW5lbCBjcmVhdGVkIGJ5IHRoZSBnaXZlbiBjb25zdHJ1Y3RvciwgaWYgYW55LlxuVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4geW91IG5lZWQgYWNjZXNzIHRvIHlvdXIgcGFuZWxzJyBET01cbnN0cnVjdHVyZS5cbiovXG5mdW5jdGlvbiBnZXRQYW5lbCh2aWV3LCBwYW5lbCkge1xuICAgIGxldCBwbHVnaW4gPSB2aWV3LnBsdWdpbihwYW5lbFBsdWdpbik7XG4gICAgbGV0IGluZGV4ID0gcGx1Z2luID8gcGx1Z2luLnNwZWNzLmluZGV4T2YocGFuZWwpIDogLTE7XG4gICAgcmV0dXJuIGluZGV4ID4gLTEgPyBwbHVnaW4ucGFuZWxzW2luZGV4XSA6IG51bGw7XG59XG5jb25zdCBwYW5lbFBsdWdpbiA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLmlucHV0ID0gdmlldy5zdGF0ZS5mYWNldChzaG93UGFuZWwpO1xuICAgICAgICB0aGlzLnNwZWNzID0gdGhpcy5pbnB1dC5maWx0ZXIocyA9PiBzKTtcbiAgICAgICAgdGhpcy5wYW5lbHMgPSB0aGlzLnNwZWNzLm1hcChzcGVjID0+IHNwZWModmlldykpO1xuICAgICAgICBsZXQgY29uZiA9IHZpZXcuc3RhdGUuZmFjZXQocGFuZWxDb25maWcpO1xuICAgICAgICB0aGlzLnRvcCA9IG5ldyBQYW5lbEdyb3VwKHZpZXcsIHRydWUsIGNvbmYudG9wQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5ib3R0b20gPSBuZXcgUGFuZWxHcm91cCh2aWV3LCBmYWxzZSwgY29uZi5ib3R0b21Db250YWluZXIpO1xuICAgICAgICB0aGlzLnRvcC5zeW5jKHRoaXMucGFuZWxzLmZpbHRlcihwID0+IHAudG9wKSk7XG4gICAgICAgIHRoaXMuYm90dG9tLnN5bmModGhpcy5wYW5lbHMuZmlsdGVyKHAgPT4gIXAudG9wKSk7XG4gICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wYW5lbHMpIHtcbiAgICAgICAgICAgIHAuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS1wYW5lbFwiKTtcbiAgICAgICAgICAgIGlmIChwLm1vdW50KVxuICAgICAgICAgICAgICAgIHAubW91bnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCBjb25mID0gdXBkYXRlLnN0YXRlLmZhY2V0KHBhbmVsQ29uZmlnKTtcbiAgICAgICAgaWYgKHRoaXMudG9wLmNvbnRhaW5lciAhPSBjb25mLnRvcENvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy50b3Auc3luYyhbXSk7XG4gICAgICAgICAgICB0aGlzLnRvcCA9IG5ldyBQYW5lbEdyb3VwKHVwZGF0ZS52aWV3LCB0cnVlLCBjb25mLnRvcENvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm90dG9tLmNvbnRhaW5lciAhPSBjb25mLmJvdHRvbUNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5ib3R0b20uc3luYyhbXSk7XG4gICAgICAgICAgICB0aGlzLmJvdHRvbSA9IG5ldyBQYW5lbEdyb3VwKHVwZGF0ZS52aWV3LCBmYWxzZSwgY29uZi5ib3R0b21Db250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9wLnN5bmNDbGFzc2VzKCk7XG4gICAgICAgIHRoaXMuYm90dG9tLnN5bmNDbGFzc2VzKCk7XG4gICAgICAgIGxldCBpbnB1dCA9IHVwZGF0ZS5zdGF0ZS5mYWNldChzaG93UGFuZWwpO1xuICAgICAgICBpZiAoaW5wdXQgIT0gdGhpcy5pbnB1dCkge1xuICAgICAgICAgICAgbGV0IHNwZWNzID0gaW5wdXQuZmlsdGVyKHggPT4geCk7XG4gICAgICAgICAgICBsZXQgcGFuZWxzID0gW10sIHRvcCA9IFtdLCBib3R0b20gPSBbXSwgbW91bnQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHNwZWMgb2Ygc3BlY3MpIHtcbiAgICAgICAgICAgICAgICBsZXQga25vd24gPSB0aGlzLnNwZWNzLmluZGV4T2Yoc3BlYyksIHBhbmVsO1xuICAgICAgICAgICAgICAgIGlmIChrbm93biA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwgPSBzcGVjKHVwZGF0ZS52aWV3KTtcbiAgICAgICAgICAgICAgICAgICAgbW91bnQucHVzaChwYW5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYW5lbCA9IHRoaXMucGFuZWxzW2tub3duXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhbmVsLnVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYW5lbHMucHVzaChwYW5lbCk7XG4gICAgICAgICAgICAgICAgKHBhbmVsLnRvcCA/IHRvcCA6IGJvdHRvbSkucHVzaChwYW5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNwZWNzID0gc3BlY3M7XG4gICAgICAgICAgICB0aGlzLnBhbmVscyA9IHBhbmVscztcbiAgICAgICAgICAgIHRoaXMudG9wLnN5bmModG9wKTtcbiAgICAgICAgICAgIHRoaXMuYm90dG9tLnN5bmMoYm90dG9tKTtcbiAgICAgICAgICAgIGZvciAobGV0IHAgb2YgbW91bnQpIHtcbiAgICAgICAgICAgICAgICBwLmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tcGFuZWxcIik7XG4gICAgICAgICAgICAgICAgaWYgKHAubW91bnQpXG4gICAgICAgICAgICAgICAgICAgIHAubW91bnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wYW5lbHMpXG4gICAgICAgICAgICAgICAgaWYgKHAudXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICBwLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudG9wLnN5bmMoW10pO1xuICAgICAgICB0aGlzLmJvdHRvbS5zeW5jKFtdKTtcbiAgICB9XG59LCB7XG4gICAgcHJvdmlkZTogcGx1Z2luID0+IEVkaXRvclZpZXcuc2Nyb2xsTWFyZ2lucy5vZih2aWV3ID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gdmlldy5wbHVnaW4ocGx1Z2luKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlICYmIHsgdG9wOiB2YWx1ZS50b3Auc2Nyb2xsTWFyZ2luKCksIGJvdHRvbTogdmFsdWUuYm90dG9tLnNjcm9sbE1hcmdpbigpIH07XG4gICAgfSlcbn0pO1xuY2xhc3MgUGFuZWxHcm91cCB7XG4gICAgY29uc3RydWN0b3IodmlldywgdG9wLCBjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmRvbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jbGFzc2VzID0gXCJcIjtcbiAgICAgICAgdGhpcy5wYW5lbHMgPSBbXTtcbiAgICAgICAgdGhpcy5zeW5jQ2xhc3NlcygpO1xuICAgIH1cbiAgICBzeW5jKHBhbmVscykge1xuICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMucGFuZWxzKVxuICAgICAgICAgICAgaWYgKHAuZGVzdHJveSAmJiBwYW5lbHMuaW5kZXhPZihwKSA8IDApXG4gICAgICAgICAgICAgICAgcC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMucGFuZWxzID0gcGFuZWxzO1xuICAgICAgICB0aGlzLnN5bmNET00oKTtcbiAgICB9XG4gICAgc3luY0RPTSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFuZWxzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kb20pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZG9tKSB7XG4gICAgICAgICAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSB0aGlzLnRvcCA/IFwiY20tcGFuZWxzIGNtLXBhbmVscy10b3BcIiA6IFwiY20tcGFuZWxzIGNtLXBhbmVscy1ib3R0b21cIjtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlW3RoaXMudG9wID8gXCJ0b3BcIiA6IFwiYm90dG9tXCJdID0gXCIwXCI7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5jb250YWluZXIgfHwgdGhpcy52aWV3LmRvbTtcbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGhpcy5kb20sIHRoaXMudG9wID8gcGFyZW50LmZpcnN0Q2hpbGQgOiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VyRE9NID0gdGhpcy5kb20uZmlyc3RDaGlsZDtcbiAgICAgICAgZm9yIChsZXQgcGFuZWwgb2YgdGhpcy5wYW5lbHMpIHtcbiAgICAgICAgICAgIGlmIChwYW5lbC5kb20ucGFyZW50Tm9kZSA9PSB0aGlzLmRvbSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJET00gIT0gcGFuZWwuZG9tKVxuICAgICAgICAgICAgICAgICAgICBjdXJET00gPSBybShjdXJET00pO1xuICAgICAgICAgICAgICAgIGN1ckRPTSA9IGN1ckRPTS5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tLmluc2VydEJlZm9yZShwYW5lbC5kb20sIGN1ckRPTSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGN1ckRPTSlcbiAgICAgICAgICAgIGN1ckRPTSA9IHJtKGN1ckRPTSk7XG4gICAgfVxuICAgIHNjcm9sbE1hcmdpbigpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmRvbSB8fCB0aGlzLmNvbnRhaW5lciA/IDBcbiAgICAgICAgICAgIDogTWF0aC5tYXgoMCwgdGhpcy50b3AgP1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSAtIE1hdGgubWF4KDAsIHRoaXMudmlldy5zY3JvbGxET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKSA6XG4gICAgICAgICAgICAgICAgTWF0aC5taW4oaW5uZXJIZWlnaHQsIHRoaXMudmlldy5zY3JvbGxET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKSAtIHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCk7XG4gICAgfVxuICAgIHN5bmNDbGFzc2VzKCkge1xuICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyIHx8IHRoaXMuY2xhc3NlcyA9PSB0aGlzLnZpZXcudGhlbWVDbGFzc2VzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmb3IgKGxldCBjbHMgb2YgdGhpcy5jbGFzc2VzLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgIGlmIChjbHMpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShjbHMpO1xuICAgICAgICBmb3IgKGxldCBjbHMgb2YgKHRoaXMuY2xhc3NlcyA9IHRoaXMudmlldy50aGVtZUNsYXNzZXMpLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgIGlmIChjbHMpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChjbHMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJtKG5vZGUpIHtcbiAgICBsZXQgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgbm9kZS5yZW1vdmUoKTtcbiAgICByZXR1cm4gbmV4dDtcbn1cbi8qKlxuT3BlbmluZyBhIHBhbmVsIGlzIGRvbmUgYnkgcHJvdmlkaW5nIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gZm9yXG50aGUgcGFuZWwgdGhyb3VnaCB0aGlzIGZhY2V0LiAoVGhlIHBhbmVsIGlzIGNsb3NlZCBhZ2FpbiB3aGVuIGl0c1xuY29uc3RydWN0b3IgaXMgbm8gbG9uZ2VyIHByb3ZpZGVkLikgVmFsdWVzIG9mIGBudWxsYCBhcmUgaWdub3JlZC5cbiovXG5jb25zdCBzaG93UGFuZWwgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBlbmFibGVzOiBwYW5lbFBsdWdpblxufSk7XG5cbi8qKlxuQSBndXR0ZXIgbWFya2VyIHJlcHJlc2VudHMgYSBiaXQgb2YgaW5mb3JtYXRpb24gYXR0YWNoZWQgdG8gYSBsaW5lXG5pbiBhIHNwZWNpZmljIGd1dHRlci4gWW91ciBvd24gY3VzdG9tIG1hcmtlcnMgaGF2ZSB0byBleHRlbmQgdGhpc1xuY2xhc3MuXG4qL1xuY2xhc3MgR3V0dGVyTWFya2VyIGV4dGVuZHMgUmFuZ2VWYWx1ZSB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb21wYXJlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8IHRoaXMuY29uc3RydWN0b3IgPT0gb3RoZXIuY29uc3RydWN0b3IgJiYgdGhpcy5lcShvdGhlcik7XG4gICAgfVxuICAgIC8qKlxuICAgIENvbXBhcmUgdGhpcyBtYXJrZXIgdG8gYW5vdGhlciBtYXJrZXIgb2YgdGhlIHNhbWUgdHlwZS5cbiAgICAqL1xuICAgIGVxKG90aGVyKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIC8qKlxuICAgIENhbGxlZCBpZiB0aGUgbWFya2VyIGhhcyBhIGB0b0RPTWAgbWV0aG9kIGFuZCBpdHMgcmVwcmVzZW50YXRpb25cbiAgICB3YXMgcmVtb3ZlZCBmcm9tIGEgZ3V0dGVyLlxuICAgICovXG4gICAgZGVzdHJveShkb20pIHsgfVxufVxuR3V0dGVyTWFya2VyLnByb3RvdHlwZS5lbGVtZW50Q2xhc3MgPSBcIlwiO1xuR3V0dGVyTWFya2VyLnByb3RvdHlwZS50b0RPTSA9IHVuZGVmaW5lZDtcbkd1dHRlck1hcmtlci5wcm90b3R5cGUubWFwTW9kZSA9IE1hcE1vZGUuVHJhY2tCZWZvcmU7XG5HdXR0ZXJNYXJrZXIucHJvdG90eXBlLnN0YXJ0U2lkZSA9IEd1dHRlck1hcmtlci5wcm90b3R5cGUuZW5kU2lkZSA9IC0xO1xuR3V0dGVyTWFya2VyLnByb3RvdHlwZS5wb2ludCA9IHRydWU7XG4vKipcbkZhY2V0IHVzZWQgdG8gYWRkIGEgY2xhc3MgdG8gYWxsIGd1dHRlciBlbGVtZW50cyBmb3IgYSBnaXZlbiBsaW5lLlxuTWFya2VycyBnaXZlbiB0byB0aGlzIGZhY2V0IHNob3VsZCBfb25seV8gZGVmaW5lIGFuXG5bYGVsZW1lbnRjbGFzc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5HdXR0ZXJNYXJrZXIuZWxlbWVudENsYXNzKSwgbm90IGFcbltgdG9ET01gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuR3V0dGVyTWFya2VyLnRvRE9NKSAob3IgdGhlIG1hcmtlciB3aWxsIGFwcGVhclxuaW4gYWxsIGd1dHRlcnMgZm9yIHRoZSBsaW5lKS5cbiovXG5jb25zdCBndXR0ZXJMaW5lQ2xhc3MgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgICBjbGFzczogXCJcIixcbiAgICByZW5kZXJFbXB0eUVsZW1lbnRzOiBmYWxzZSxcbiAgICBlbGVtZW50U3R5bGU6IFwiXCIsXG4gICAgbWFya2VyczogKCkgPT4gUmFuZ2VTZXQuZW1wdHksXG4gICAgbGluZU1hcmtlcjogKCkgPT4gbnVsbCxcbiAgICB3aWRnZXRNYXJrZXI6ICgpID0+IG51bGwsXG4gICAgbGluZU1hcmtlckNoYW5nZTogbnVsbCxcbiAgICBpbml0aWFsU3BhY2VyOiBudWxsLFxuICAgIHVwZGF0ZVNwYWNlcjogbnVsbCxcbiAgICBkb21FdmVudEhhbmRsZXJzOiB7fVxufTtcbmNvbnN0IGFjdGl2ZUd1dHRlcnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcbkRlZmluZSBhbiBlZGl0b3IgZ3V0dGVyLiBUaGUgb3JkZXIgaW4gd2hpY2ggdGhlIGd1dHRlcnMgYXBwZWFyIGlzXG5kZXRlcm1pbmVkIGJ5IHRoZWlyIGV4dGVuc2lvbiBwcmlvcml0eS5cbiovXG5mdW5jdGlvbiBndXR0ZXIoY29uZmlnKSB7XG4gICAgcmV0dXJuIFtndXR0ZXJzKCksIGFjdGl2ZUd1dHRlcnMub2YoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cyksIGNvbmZpZykpXTtcbn1cbmNvbnN0IHVuZml4R3V0dGVycyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMuc29tZSh4ID0+IHgpXG59KTtcbi8qKlxuVGhlIGd1dHRlci1kcmF3aW5nIHBsdWdpbiBpcyBhdXRvbWF0aWNhbGx5IGVuYWJsZWQgd2hlbiB5b3UgYWRkIGFcbmd1dHRlciwgYnV0IHlvdSBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gdG8gZXhwbGljaXRseSBjb25maWd1cmUgaXQuXG5cblVubGVzcyBgZml4ZWRgIGlzIGV4cGxpY2l0bHkgc2V0IHRvIGBmYWxzZWAsIHRoZSBndXR0ZXJzIGFyZVxuZml4ZWQsIG1lYW5pbmcgdGhleSBkb24ndCBzY3JvbGwgYWxvbmcgd2l0aCB0aGUgY29udGVudFxuaG9yaXpvbnRhbGx5IChleGNlcHQgb24gSW50ZXJuZXQgRXhwbG9yZXIsIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydFxuQ1NTIFtgcG9zaXRpb246XG5zdGlja3lgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvcG9zaXRpb24jc3RpY2t5KSkuXG4qL1xuZnVuY3Rpb24gZ3V0dGVycyhjb25maWcpIHtcbiAgICBsZXQgcmVzdWx0ID0gW1xuICAgICAgICBndXR0ZXJWaWV3LFxuICAgIF07XG4gICAgaWYgKGNvbmZpZyAmJiBjb25maWcuZml4ZWQgPT09IGZhbHNlKVxuICAgICAgICByZXN1bHQucHVzaCh1bmZpeEd1dHRlcnMub2YodHJ1ZSkpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBndXR0ZXJWaWV3ID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMucHJldlZpZXdwb3J0ID0gdmlldy52aWV3cG9ydDtcbiAgICAgICAgdGhpcy5kb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcImNtLWd1dHRlcnNcIjtcbiAgICAgICAgdGhpcy5kb20uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICB0aGlzLmRvbS5zdHlsZS5taW5IZWlnaHQgPSAodGhpcy52aWV3LmNvbnRlbnRIZWlnaHQgLyB0aGlzLnZpZXcuc2NhbGVZKSArIFwicHhcIjtcbiAgICAgICAgdGhpcy5ndXR0ZXJzID0gdmlldy5zdGF0ZS5mYWNldChhY3RpdmVHdXR0ZXJzKS5tYXAoY29uZiA9PiBuZXcgU2luZ2xlR3V0dGVyVmlldyh2aWV3LCBjb25mKSk7XG4gICAgICAgIGZvciAobGV0IGd1dHRlciBvZiB0aGlzLmd1dHRlcnMpXG4gICAgICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZChndXR0ZXIuZG9tKTtcbiAgICAgICAgdGhpcy5maXhlZCA9ICF2aWV3LnN0YXRlLmZhY2V0KHVuZml4R3V0dGVycyk7XG4gICAgICAgIGlmICh0aGlzLmZpeGVkKSB7XG4gICAgICAgICAgICAvLyBGSVhNRSBJRTExIGZhbGxiYWNrLCB3aGljaCBkb2Vzbid0IHN1cHBvcnQgcG9zaXRpb246IHN0aWNreSxcbiAgICAgICAgICAgIC8vIGJ5IHVzaW5nIHBvc2l0aW9uOiByZWxhdGl2ZSArIGV2ZW50IGhhbmRsZXJzIHRoYXQgcmVhbGlnbiB0aGVcbiAgICAgICAgICAgIC8vIGd1dHRlciAob3IganVzdCBmb3JjZSBmaXhlZD1mYWxzZSBvbiBJRTExPylcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLnBvc2l0aW9uID0gXCJzdGlja3lcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN5bmNHdXR0ZXJzKGZhbHNlKTtcbiAgICAgICAgdmlldy5zY3JvbGxET00uaW5zZXJ0QmVmb3JlKHRoaXMuZG9tLCB2aWV3LmNvbnRlbnRET00pO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUd1dHRlcnModXBkYXRlKSkge1xuICAgICAgICAgICAgLy8gRGV0YWNoIGR1cmluZyBzeW5jIHdoZW4gdGhlIHZpZXdwb3J0IGNoYW5nZWQgc2lnbmlmaWNhbnRseVxuICAgICAgICAgICAgLy8gKHN1Y2ggYXMgZHVyaW5nIHNjcm9sbGluZyksIHNpbmNlIGZvciBsYXJnZSB1cGRhdGVzIHRoYXQgaXNcbiAgICAgICAgICAgIC8vIGZhc3Rlci5cbiAgICAgICAgICAgIGxldCB2cEEgPSB0aGlzLnByZXZWaWV3cG9ydCwgdnBCID0gdXBkYXRlLnZpZXcudmlld3BvcnQ7XG4gICAgICAgICAgICBsZXQgdnBPdmVybGFwID0gTWF0aC5taW4odnBBLnRvLCB2cEIudG8pIC0gTWF0aC5tYXgodnBBLmZyb20sIHZwQi5mcm9tKTtcbiAgICAgICAgICAgIHRoaXMuc3luY0d1dHRlcnModnBPdmVybGFwIDwgKHZwQi50byAtIHZwQi5mcm9tKSAqIDAuOCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZS5nZW9tZXRyeUNoYW5nZWQpXG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5taW5IZWlnaHQgPSB0aGlzLnZpZXcuY29udGVudEhlaWdodCArIFwicHhcIjtcbiAgICAgICAgaWYgKHRoaXMudmlldy5zdGF0ZS5mYWNldCh1bmZpeEd1dHRlcnMpICE9ICF0aGlzLmZpeGVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpeGVkID0gIXRoaXMuZml4ZWQ7XG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5wb3NpdGlvbiA9IHRoaXMuZml4ZWQgPyBcInN0aWNreVwiIDogXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZXZWaWV3cG9ydCA9IHVwZGF0ZS52aWV3LnZpZXdwb3J0O1xuICAgIH1cbiAgICBzeW5jR3V0dGVycyhkZXRhY2gpIHtcbiAgICAgICAgbGV0IGFmdGVyID0gdGhpcy5kb20ubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChkZXRhY2gpXG4gICAgICAgICAgICB0aGlzLmRvbS5yZW1vdmUoKTtcbiAgICAgICAgbGV0IGxpbmVDbGFzc2VzID0gUmFuZ2VTZXQuaXRlcih0aGlzLnZpZXcuc3RhdGUuZmFjZXQoZ3V0dGVyTGluZUNsYXNzKSwgdGhpcy52aWV3LnZpZXdwb3J0LmZyb20pO1xuICAgICAgICBsZXQgY2xhc3NTZXQgPSBbXTtcbiAgICAgICAgbGV0IGNvbnRleHRzID0gdGhpcy5ndXR0ZXJzLm1hcChndXR0ZXIgPT4gbmV3IFVwZGF0ZUNvbnRleHQoZ3V0dGVyLCB0aGlzLnZpZXcudmlld3BvcnQsIC10aGlzLnZpZXcuZG9jdW1lbnRQYWRkaW5nLnRvcCkpO1xuICAgICAgICBmb3IgKGxldCBsaW5lIG9mIHRoaXMudmlldy52aWV3cG9ydExpbmVCbG9ja3MpIHtcbiAgICAgICAgICAgIGlmIChjbGFzc1NldC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgY2xhc3NTZXQgPSBbXTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGxpbmUudHlwZSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGIgb2YgbGluZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiLnR5cGUgPT0gQmxvY2tUeXBlLlRleHQgJiYgZmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VDdXJzb3IobGluZUNsYXNzZXMsIGNsYXNzU2V0LCBiLmZyb20pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY3ggb2YgY29udGV4dHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3gubGluZSh0aGlzLnZpZXcsIGIsIGNsYXNzU2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYi53aWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGN4IG9mIGNvbnRleHRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4LndpZGdldCh0aGlzLnZpZXcsIGIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZS50eXBlID09IEJsb2NrVHlwZS5UZXh0KSB7XG4gICAgICAgICAgICAgICAgYWR2YW5jZUN1cnNvcihsaW5lQ2xhc3NlcywgY2xhc3NTZXQsIGxpbmUuZnJvbSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY3ggb2YgY29udGV4dHMpXG4gICAgICAgICAgICAgICAgICAgIGN4LmxpbmUodGhpcy52aWV3LCBsaW5lLCBjbGFzc1NldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lLndpZGdldCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGN4IG9mIGNvbnRleHRzKVxuICAgICAgICAgICAgICAgICAgICBjeC53aWRnZXQodGhpcy52aWV3LCBsaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBjeCBvZiBjb250ZXh0cylcbiAgICAgICAgICAgIGN4LmZpbmlzaCgpO1xuICAgICAgICBpZiAoZGV0YWNoKVxuICAgICAgICAgICAgdGhpcy52aWV3LnNjcm9sbERPTS5pbnNlcnRCZWZvcmUodGhpcy5kb20sIGFmdGVyKTtcbiAgICB9XG4gICAgdXBkYXRlR3V0dGVycyh1cGRhdGUpIHtcbiAgICAgICAgbGV0IHByZXYgPSB1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldChhY3RpdmVHdXR0ZXJzKSwgY3VyID0gdXBkYXRlLnN0YXRlLmZhY2V0KGFjdGl2ZUd1dHRlcnMpO1xuICAgICAgICBsZXQgY2hhbmdlID0gdXBkYXRlLmRvY0NoYW5nZWQgfHwgdXBkYXRlLmhlaWdodENoYW5nZWQgfHwgdXBkYXRlLnZpZXdwb3J0Q2hhbmdlZCB8fFxuICAgICAgICAgICAgIVJhbmdlU2V0LmVxKHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KGd1dHRlckxpbmVDbGFzcyksIHVwZGF0ZS5zdGF0ZS5mYWNldChndXR0ZXJMaW5lQ2xhc3MpLCB1cGRhdGUudmlldy52aWV3cG9ydC5mcm9tLCB1cGRhdGUudmlldy52aWV3cG9ydC50byk7XG4gICAgICAgIGlmIChwcmV2ID09IGN1cikge1xuICAgICAgICAgICAgZm9yIChsZXQgZ3V0dGVyIG9mIHRoaXMuZ3V0dGVycylcbiAgICAgICAgICAgICAgICBpZiAoZ3V0dGVyLnVwZGF0ZSh1cGRhdGUpKVxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBndXR0ZXJzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBjb25mIG9mIGN1cikge1xuICAgICAgICAgICAgICAgIGxldCBrbm93biA9IHByZXYuaW5kZXhPZihjb25mKTtcbiAgICAgICAgICAgICAgICBpZiAoa25vd24gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGd1dHRlcnMucHVzaChuZXcgU2luZ2xlR3V0dGVyVmlldyh0aGlzLnZpZXcsIGNvbmYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3V0dGVyc1trbm93bl0udXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGd1dHRlcnMucHVzaCh0aGlzLmd1dHRlcnNba25vd25dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBnIG9mIHRoaXMuZ3V0dGVycykge1xuICAgICAgICAgICAgICAgIGcuZG9tLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChndXR0ZXJzLmluZGV4T2YoZykgPCAwKVxuICAgICAgICAgICAgICAgICAgICBnLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGcgb2YgZ3V0dGVycylcbiAgICAgICAgICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZChnLmRvbSk7XG4gICAgICAgICAgICB0aGlzLmd1dHRlcnMgPSBndXR0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFuZ2U7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAobGV0IHZpZXcgb2YgdGhpcy5ndXR0ZXJzKVxuICAgICAgICAgICAgdmlldy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZG9tLnJlbW92ZSgpO1xuICAgIH1cbn0sIHtcbiAgICBwcm92aWRlOiBwbHVnaW4gPT4gRWRpdG9yVmlldy5zY3JvbGxNYXJnaW5zLm9mKHZpZXcgPT4ge1xuICAgICAgICBsZXQgdmFsdWUgPSB2aWV3LnBsdWdpbihwbHVnaW4pO1xuICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlLmd1dHRlcnMubGVuZ3RoID09IDAgfHwgIXZhbHVlLmZpeGVkKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB2aWV3LnRleHREaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUlxuICAgICAgICAgICAgPyB7IGxlZnQ6IHZhbHVlLmRvbS5vZmZzZXRXaWR0aCAqIHZpZXcuc2NhbGVYIH1cbiAgICAgICAgICAgIDogeyByaWdodDogdmFsdWUuZG9tLm9mZnNldFdpZHRoICogdmlldy5zY2FsZVggfTtcbiAgICB9KVxufSk7XG5mdW5jdGlvbiBhc0FycmF5KHZhbCkgeyByZXR1cm4gKEFycmF5LmlzQXJyYXkodmFsKSA/IHZhbCA6IFt2YWxdKTsgfVxuZnVuY3Rpb24gYWR2YW5jZUN1cnNvcihjdXJzb3IsIGNvbGxlY3QsIHBvcykge1xuICAgIHdoaWxlIChjdXJzb3IudmFsdWUgJiYgY3Vyc29yLmZyb20gPD0gcG9zKSB7XG4gICAgICAgIGlmIChjdXJzb3IuZnJvbSA9PSBwb3MpXG4gICAgICAgICAgICBjb2xsZWN0LnB1c2goY3Vyc29yLnZhbHVlKTtcbiAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICB9XG59XG5jbGFzcyBVcGRhdGVDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihndXR0ZXIsIHZpZXdwb3J0LCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5ndXR0ZXIgPSBndXR0ZXI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmkgPSAwO1xuICAgICAgICB0aGlzLmN1cnNvciA9IFJhbmdlU2V0Lml0ZXIoZ3V0dGVyLm1hcmtlcnMsIHZpZXdwb3J0LmZyb20pO1xuICAgIH1cbiAgICBhZGRFbGVtZW50KHZpZXcsIGJsb2NrLCBtYXJrZXJzKSB7XG4gICAgICAgIGxldCB7IGd1dHRlciB9ID0gdGhpcywgYWJvdmUgPSAoYmxvY2sudG9wIC0gdGhpcy5oZWlnaHQpIC8gdmlldy5zY2FsZVksIGhlaWdodCA9IGJsb2NrLmhlaWdodCAvIHZpZXcuc2NhbGVZO1xuICAgICAgICBpZiAodGhpcy5pID09IGd1dHRlci5lbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBuZXdFbHQgPSBuZXcgR3V0dGVyRWxlbWVudCh2aWV3LCBoZWlnaHQsIGFib3ZlLCBtYXJrZXJzKTtcbiAgICAgICAgICAgIGd1dHRlci5lbGVtZW50cy5wdXNoKG5ld0VsdCk7XG4gICAgICAgICAgICBndXR0ZXIuZG9tLmFwcGVuZENoaWxkKG5ld0VsdC5kb20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ3V0dGVyLmVsZW1lbnRzW3RoaXMuaV0udXBkYXRlKHZpZXcsIGhlaWdodCwgYWJvdmUsIG1hcmtlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gYmxvY2suYm90dG9tO1xuICAgICAgICB0aGlzLmkrKztcbiAgICB9XG4gICAgbGluZSh2aWV3LCBsaW5lLCBleHRyYU1hcmtlcnMpIHtcbiAgICAgICAgbGV0IGxvY2FsTWFya2VycyA9IFtdO1xuICAgICAgICBhZHZhbmNlQ3Vyc29yKHRoaXMuY3Vyc29yLCBsb2NhbE1hcmtlcnMsIGxpbmUuZnJvbSk7XG4gICAgICAgIGlmIChleHRyYU1hcmtlcnMubGVuZ3RoKVxuICAgICAgICAgICAgbG9jYWxNYXJrZXJzID0gbG9jYWxNYXJrZXJzLmNvbmNhdChleHRyYU1hcmtlcnMpO1xuICAgICAgICBsZXQgZm9yTGluZSA9IHRoaXMuZ3V0dGVyLmNvbmZpZy5saW5lTWFya2VyKHZpZXcsIGxpbmUsIGxvY2FsTWFya2Vycyk7XG4gICAgICAgIGlmIChmb3JMaW5lKVxuICAgICAgICAgICAgbG9jYWxNYXJrZXJzLnVuc2hpZnQoZm9yTGluZSk7XG4gICAgICAgIGxldCBndXR0ZXIgPSB0aGlzLmd1dHRlcjtcbiAgICAgICAgaWYgKGxvY2FsTWFya2Vycy5sZW5ndGggPT0gMCAmJiAhZ3V0dGVyLmNvbmZpZy5yZW5kZXJFbXB0eUVsZW1lbnRzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmFkZEVsZW1lbnQodmlldywgbGluZSwgbG9jYWxNYXJrZXJzKTtcbiAgICB9XG4gICAgd2lkZ2V0KHZpZXcsIGJsb2NrKSB7XG4gICAgICAgIGxldCBtYXJrZXIgPSB0aGlzLmd1dHRlci5jb25maWcud2lkZ2V0TWFya2VyKHZpZXcsIGJsb2NrLndpZGdldCwgYmxvY2spO1xuICAgICAgICBpZiAobWFya2VyKVxuICAgICAgICAgICAgdGhpcy5hZGRFbGVtZW50KHZpZXcsIGJsb2NrLCBbbWFya2VyXSk7XG4gICAgfVxuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgbGV0IGd1dHRlciA9IHRoaXMuZ3V0dGVyO1xuICAgICAgICB3aGlsZSAoZ3V0dGVyLmVsZW1lbnRzLmxlbmd0aCA+IHRoaXMuaSkge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSBndXR0ZXIuZWxlbWVudHMucG9wKCk7XG4gICAgICAgICAgICBndXR0ZXIuZG9tLnJlbW92ZUNoaWxkKGxhc3QuZG9tKTtcbiAgICAgICAgICAgIGxhc3QuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgU2luZ2xlR3V0dGVyVmlldyB7XG4gICAgY29uc3RydWN0b3IodmlldywgY29uZmlnKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gW107XG4gICAgICAgIHRoaXMuc3BhY2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5kb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcImNtLWd1dHRlclwiICsgKHRoaXMuY29uZmlnLmNsYXNzID8gXCIgXCIgKyB0aGlzLmNvbmZpZy5jbGFzcyA6IFwiXCIpO1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIGNvbmZpZy5kb21FdmVudEhhbmRsZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKHByb3AsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQsIHk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPSB0aGlzLmRvbSAmJiB0aGlzLmRvbS5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0YXJnZXQucGFyZW50Tm9kZSAhPSB0aGlzLmRvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IChyZWN0LnRvcCArIHJlY3QuYm90dG9tKSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB5ID0gZXZlbnQuY2xpZW50WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSB2aWV3LmxpbmVCbG9ja0F0SGVpZ2h0KHkgLSB2aWV3LmRvY3VtZW50VG9wKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmRvbUV2ZW50SGFuZGxlcnNbcHJvcF0odmlldywgbGluZSwgZXZlbnQpKVxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXJrZXJzID0gYXNBcnJheShjb25maWcubWFya2Vycyh2aWV3KSk7XG4gICAgICAgIGlmIChjb25maWcuaW5pdGlhbFNwYWNlcikge1xuICAgICAgICAgICAgdGhpcy5zcGFjZXIgPSBuZXcgR3V0dGVyRWxlbWVudCh2aWV3LCAwLCAwLCBbY29uZmlnLmluaXRpYWxTcGFjZXIodmlldyldKTtcbiAgICAgICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKHRoaXMuc3BhY2VyLmRvbSk7XG4gICAgICAgICAgICB0aGlzLnNwYWNlci5kb20uc3R5bGUuY3NzVGV4dCArPSBcInZpc2liaWxpdHk6IGhpZGRlbjsgcG9pbnRlci1ldmVudHM6IG5vbmVcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCBwcmV2TWFya2VycyA9IHRoaXMubWFya2VycztcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gYXNBcnJheSh0aGlzLmNvbmZpZy5tYXJrZXJzKHVwZGF0ZS52aWV3KSk7XG4gICAgICAgIGlmICh0aGlzLnNwYWNlciAmJiB0aGlzLmNvbmZpZy51cGRhdGVTcGFjZXIpIHtcbiAgICAgICAgICAgIGxldCB1cGRhdGVkID0gdGhpcy5jb25maWcudXBkYXRlU3BhY2VyKHRoaXMuc3BhY2VyLm1hcmtlcnNbMF0sIHVwZGF0ZSk7XG4gICAgICAgICAgICBpZiAodXBkYXRlZCAhPSB0aGlzLnNwYWNlci5tYXJrZXJzWzBdKVxuICAgICAgICAgICAgICAgIHRoaXMuc3BhY2VyLnVwZGF0ZSh1cGRhdGUudmlldywgMCwgMCwgW3VwZGF0ZWRdKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdnAgPSB1cGRhdGUudmlldy52aWV3cG9ydDtcbiAgICAgICAgcmV0dXJuICFSYW5nZVNldC5lcSh0aGlzLm1hcmtlcnMsIHByZXZNYXJrZXJzLCB2cC5mcm9tLCB2cC50bykgfHxcbiAgICAgICAgICAgICh0aGlzLmNvbmZpZy5saW5lTWFya2VyQ2hhbmdlID8gdGhpcy5jb25maWcubGluZU1hcmtlckNoYW5nZSh1cGRhdGUpIDogZmFsc2UpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGxldCBlbHQgb2YgdGhpcy5lbGVtZW50cylcbiAgICAgICAgICAgIGVsdC5kZXN0cm95KCk7XG4gICAgfVxufVxuY2xhc3MgR3V0dGVyRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IodmlldywgaGVpZ2h0LCBhYm92ZSwgbWFya2Vycykge1xuICAgICAgICB0aGlzLmhlaWdodCA9IC0xO1xuICAgICAgICB0aGlzLmFib3ZlID0gMDtcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gW107XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1ndXR0ZXJFbGVtZW50XCI7XG4gICAgICAgIHRoaXMudXBkYXRlKHZpZXcsIGhlaWdodCwgYWJvdmUsIG1hcmtlcnMpO1xuICAgIH1cbiAgICB1cGRhdGUodmlldywgaGVpZ2h0LCBhYm92ZSwgbWFya2Vycykge1xuICAgICAgICBpZiAodGhpcy5oZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hYm92ZSAhPSBhYm92ZSlcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLm1hcmdpblRvcCA9ICh0aGlzLmFib3ZlID0gYWJvdmUpID8gYWJvdmUgKyBcInB4XCIgOiBcIlwiO1xuICAgICAgICBpZiAoIXNhbWVNYXJrZXJzKHRoaXMubWFya2VycywgbWFya2VycykpXG4gICAgICAgICAgICB0aGlzLnNldE1hcmtlcnModmlldywgbWFya2Vycyk7XG4gICAgfVxuICAgIHNldE1hcmtlcnModmlldywgbWFya2Vycykge1xuICAgICAgICBsZXQgY2xzID0gXCJjbS1ndXR0ZXJFbGVtZW50XCIsIGRvbVBvcyA9IHRoaXMuZG9tLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGZvciAobGV0IGlOZXcgPSAwLCBpT2xkID0gMDs7KSB7XG4gICAgICAgICAgICBsZXQgc2tpcFRvID0gaU9sZCwgbWFya2VyID0gaU5ldyA8IG1hcmtlcnMubGVuZ3RoID8gbWFya2Vyc1tpTmV3KytdIDogbnVsbCwgbWF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG1hcmtlcikge1xuICAgICAgICAgICAgICAgIGxldCBjID0gbWFya2VyLmVsZW1lbnRDbGFzcztcbiAgICAgICAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgICAgICAgICAgY2xzICs9IFwiIFwiICsgYztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gaU9sZDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWFya2Vyc1tpXS5jb21wYXJlKG1hcmtlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBUbyA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBza2lwVG8gPSB0aGlzLm1hcmtlcnMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGlPbGQgPCBza2lwVG8pIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMubWFya2Vyc1tpT2xkKytdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0LnRvRE9NKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQuZGVzdHJveShkb21Qb3MpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWZ0ZXIgPSBkb21Qb3MubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGRvbVBvcy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgZG9tUG9zID0gYWZ0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtYXJrZXIpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAobWFya2VyLnRvRE9NKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZWQpXG4gICAgICAgICAgICAgICAgICAgIGRvbVBvcyA9IGRvbVBvcy5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9tLmluc2VydEJlZm9yZShtYXJrZXIudG9ET00odmlldyksIGRvbVBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hlZClcbiAgICAgICAgICAgICAgICBpT2xkKys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gY2xzO1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNldE1hcmtlcnMobnVsbCwgW10pOyAvLyBGaXJzdCBhcmd1bWVudCBub3QgdXNlZCB1bmxlc3MgY3JlYXRpbmcgbWFya2Vyc1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVNYXJrZXJzKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghYVtpXS5jb21wYXJlKGJbaV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG5GYWNldCB1c2VkIHRvIHByb3ZpZGUgbWFya2VycyB0byB0aGUgbGluZSBudW1iZXIgZ3V0dGVyLlxuKi9cbmNvbnN0IGxpbmVOdW1iZXJNYXJrZXJzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgbGluZU51bWJlckNvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lQ29uZmlnKHZhbHVlcywgeyBmb3JtYXROdW1iZXI6IFN0cmluZywgZG9tRXZlbnRIYW5kbGVyczoge30gfSwge1xuICAgICAgICAgICAgZG9tRXZlbnRIYW5kbGVycyhhLCBiKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oe30sIGEpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGV2ZW50IGluIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4aXN0cyA9IHJlc3VsdFtldmVudF0sIGFkZCA9IGJbZXZlbnRdO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbZXZlbnRdID0gZXhpc3RzID8gKHZpZXcsIGxpbmUsIGV2ZW50KSA9PiBleGlzdHModmlldywgbGluZSwgZXZlbnQpIHx8IGFkZCh2aWV3LCBsaW5lLCBldmVudCkgOiBhZGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuY2xhc3MgTnVtYmVyTWFya2VyIGV4dGVuZHMgR3V0dGVyTWFya2VyIHtcbiAgICBjb25zdHJ1Y3RvcihudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiB0aGlzLm51bWJlciA9PSBvdGhlci5udW1iZXI7IH1cbiAgICB0b0RPTSgpIHsgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMubnVtYmVyKTsgfVxufVxuZnVuY3Rpb24gZm9ybWF0TnVtYmVyKHZpZXcsIG51bWJlcikge1xuICAgIHJldHVybiB2aWV3LnN0YXRlLmZhY2V0KGxpbmVOdW1iZXJDb25maWcpLmZvcm1hdE51bWJlcihudW1iZXIsIHZpZXcuc3RhdGUpO1xufVxuY29uc3QgbGluZU51bWJlckd1dHRlciA9IC8qQF9fUFVSRV9fKi9hY3RpdmVHdXR0ZXJzLmNvbXB1dGUoW2xpbmVOdW1iZXJDb25maWddLCBzdGF0ZSA9PiAoe1xuICAgIGNsYXNzOiBcImNtLWxpbmVOdW1iZXJzXCIsXG4gICAgcmVuZGVyRW1wdHlFbGVtZW50czogZmFsc2UsXG4gICAgbWFya2Vycyh2aWV3KSB7IHJldHVybiB2aWV3LnN0YXRlLmZhY2V0KGxpbmVOdW1iZXJNYXJrZXJzKTsgfSxcbiAgICBsaW5lTWFya2VyKHZpZXcsIGxpbmUsIG90aGVycykge1xuICAgICAgICBpZiAob3RoZXJzLnNvbWUobSA9PiBtLnRvRE9NKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbmV3IE51bWJlck1hcmtlcihmb3JtYXROdW1iZXIodmlldywgdmlldy5zdGF0ZS5kb2MubGluZUF0KGxpbmUuZnJvbSkubnVtYmVyKSk7XG4gICAgfSxcbiAgICB3aWRnZXRNYXJrZXI6ICgpID0+IG51bGwsXG4gICAgbGluZU1hcmtlckNoYW5nZTogdXBkYXRlID0+IHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KGxpbmVOdW1iZXJDb25maWcpICE9IHVwZGF0ZS5zdGF0ZS5mYWNldChsaW5lTnVtYmVyQ29uZmlnKSxcbiAgICBpbml0aWFsU3BhY2VyKHZpZXcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOdW1iZXJNYXJrZXIoZm9ybWF0TnVtYmVyKHZpZXcsIG1heExpbmVOdW1iZXIodmlldy5zdGF0ZS5kb2MubGluZXMpKSk7XG4gICAgfSxcbiAgICB1cGRhdGVTcGFjZXIoc3BhY2VyLCB1cGRhdGUpIHtcbiAgICAgICAgbGV0IG1heCA9IGZvcm1hdE51bWJlcih1cGRhdGUudmlldywgbWF4TGluZU51bWJlcih1cGRhdGUudmlldy5zdGF0ZS5kb2MubGluZXMpKTtcbiAgICAgICAgcmV0dXJuIG1heCA9PSBzcGFjZXIubnVtYmVyID8gc3BhY2VyIDogbmV3IE51bWJlck1hcmtlcihtYXgpO1xuICAgIH0sXG4gICAgZG9tRXZlbnRIYW5kbGVyczogc3RhdGUuZmFjZXQobGluZU51bWJlckNvbmZpZykuZG9tRXZlbnRIYW5kbGVyc1xufSkpO1xuLyoqXG5DcmVhdGUgYSBsaW5lIG51bWJlciBndXR0ZXIgZXh0ZW5zaW9uLlxuKi9cbmZ1bmN0aW9uIGxpbmVOdW1iZXJzKGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgbGluZU51bWJlckNvbmZpZy5vZihjb25maWcpLFxuICAgICAgICBndXR0ZXJzKCksXG4gICAgICAgIGxpbmVOdW1iZXJHdXR0ZXJcbiAgICBdO1xufVxuZnVuY3Rpb24gbWF4TGluZU51bWJlcihsaW5lcykge1xuICAgIGxldCBsYXN0ID0gOTtcbiAgICB3aGlsZSAobGFzdCA8IGxpbmVzKVxuICAgICAgICBsYXN0ID0gbGFzdCAqIDEwICsgOTtcbiAgICByZXR1cm4gbGFzdDtcbn1cbmNvbnN0IGFjdGl2ZUxpbmVHdXR0ZXJNYXJrZXIgPSAvKkBfX1BVUkVfXyovbmV3IGNsYXNzIGV4dGVuZHMgR3V0dGVyTWFya2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5lbGVtZW50Q2xhc3MgPSBcImNtLWFjdGl2ZUxpbmVHdXR0ZXJcIjtcbiAgICB9XG59O1xuY29uc3QgYWN0aXZlTGluZUd1dHRlckhpZ2hsaWdodGVyID0gLypAX19QVVJFX18qL2d1dHRlckxpbmVDbGFzcy5jb21wdXRlKFtcInNlbGVjdGlvblwiXSwgc3RhdGUgPT4ge1xuICAgIGxldCBtYXJrcyA9IFtdLCBsYXN0ID0gLTE7XG4gICAgZm9yIChsZXQgcmFuZ2Ugb2Ygc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICBsZXQgbGluZVBvcyA9IHN0YXRlLmRvYy5saW5lQXQocmFuZ2UuaGVhZCkuZnJvbTtcbiAgICAgICAgaWYgKGxpbmVQb3MgPiBsYXN0KSB7XG4gICAgICAgICAgICBsYXN0ID0gbGluZVBvcztcbiAgICAgICAgICAgIG1hcmtzLnB1c2goYWN0aXZlTGluZUd1dHRlck1hcmtlci5yYW5nZShsaW5lUG9zKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFJhbmdlU2V0Lm9mKG1hcmtzKTtcbn0pO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGFkZHMgYSBgY20tYWN0aXZlTGluZUd1dHRlcmAgY2xhc3MgdG9cbmFsbCBndXR0ZXIgZWxlbWVudHMgb24gdGhlIFthY3RpdmVcbmxpbmVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5oaWdobGlnaHRBY3RpdmVMaW5lKS5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRBY3RpdmVMaW5lR3V0dGVyKCkge1xuICAgIHJldHVybiBhY3RpdmVMaW5lR3V0dGVySGlnaGxpZ2h0ZXI7XG59XG5cbmNvbnN0IFdoaXRlc3BhY2VEZWNvID0gLypAX19QVVJFX18qL25ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldFdoaXRlc3BhY2VEZWNvKHNwYWNlKSB7XG4gICAgbGV0IGRlY28gPSBXaGl0ZXNwYWNlRGVjby5nZXQoc3BhY2UpO1xuICAgIGlmICghZGVjbylcbiAgICAgICAgV2hpdGVzcGFjZURlY28uc2V0KHNwYWNlLCBkZWNvID0gRGVjb3JhdGlvbi5tYXJrKHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNwYWNlID09PSBcIlxcdFwiID8ge1xuICAgICAgICAgICAgICAgIGNsYXNzOiBcImNtLWhpZ2hsaWdodFRhYlwiLFxuICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICBjbGFzczogXCJjbS1oaWdobGlnaHRTcGFjZVwiLFxuICAgICAgICAgICAgICAgIFwiZGF0YS1kaXNwbGF5XCI6IHNwYWNlLnJlcGxhY2UoLyAvZywgXCLCt1wiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgcmV0dXJuIGRlY287XG59XG5mdW5jdGlvbiBtYXRjaGVyKGRlY29yYXRvcikge1xuICAgIHJldHVybiBWaWV3UGx1Z2luLmRlZmluZSh2aWV3ID0+ICh7XG4gICAgICAgIGRlY29yYXRpb25zOiBkZWNvcmF0b3IuY3JlYXRlRGVjbyh2aWV3KSxcbiAgICAgICAgdXBkYXRlKHUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSBkZWNvcmF0b3IudXBkYXRlRGVjbyh1LCB0aGlzLmRlY29yYXRpb25zKTtcbiAgICAgICAgfSxcbiAgICB9KSwge1xuICAgICAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG4gICAgfSk7XG59XG5jb25zdCB3aGl0ZXNwYWNlSGlnaGxpZ2h0ZXIgPSAvKkBfX1BVUkVfXyovbWF0Y2hlcigvKkBfX1BVUkVfXyovbmV3IE1hdGNoRGVjb3JhdG9yKHtcbiAgICByZWdleHA6IC9cXHR8ICsvZyxcbiAgICBkZWNvcmF0aW9uOiBtYXRjaCA9PiBnZXRXaGl0ZXNwYWNlRGVjbyhtYXRjaFswXSksXG4gICAgYm91bmRhcnk6IC9cXFMvLFxufSkpO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGhpZ2hsaWdodHMgd2hpdGVzcGFjZSwgYWRkaW5nIGFcbmBjbS1oaWdobGlnaHRTcGFjZWAgY2xhc3MgdG8gc3RyZXRjaGVzIG9mIHNwYWNlcywgYW5kIGFcbmBjbS1oaWdobGlnaHRUYWJgIGNsYXNzIHRvIGluZGl2aWR1YWwgdGFiIGNoYXJhY3RlcnMuIEJ5IGRlZmF1bHQsXG50aGUgZm9ybWVyIGFyZSBzaG93biBhcyBmYWludCBkb3RzLCBhbmQgdGhlIGxhdHRlciBhcyBhcnJvd3MuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0V2hpdGVzcGFjZSgpIHtcbiAgICByZXR1cm4gd2hpdGVzcGFjZUhpZ2hsaWdodGVyO1xufVxuY29uc3QgdHJhaWxpbmdIaWdobGlnaHRlciA9IC8qQF9fUFVSRV9fKi9tYXRjaGVyKC8qQF9fUFVSRV9fKi9uZXcgTWF0Y2hEZWNvcmF0b3Ioe1xuICAgIHJlZ2V4cDogL1xccyskL2csXG4gICAgZGVjb3JhdGlvbjogLypAX19QVVJFX18qL0RlY29yYXRpb24ubWFyayh7IGNsYXNzOiBcImNtLXRyYWlsaW5nU3BhY2VcIiB9KSxcbiAgICBib3VuZGFyeTogL1xcUy8sXG59KSk7XG4vKipcblJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgYWRkcyBhIGBjbS10cmFpbGluZ1NwYWNlYCBjbGFzcyB0byBhbGxcbnRyYWlsaW5nIHdoaXRlc3BhY2UuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0VHJhaWxpbmdXaGl0ZXNwYWNlKCkge1xuICAgIHJldHVybiB0cmFpbGluZ0hpZ2hsaWdodGVyO1xufVxuXG4vKipcbkBpbnRlcm5hbFxuKi9cbmNvbnN0IF9fdGVzdCA9IHsgSGVpZ2h0TWFwLCBIZWlnaHRPcmFjbGUsIE1lYXN1cmVkSGVpZ2h0cywgUXVlcnlUeXBlLCBDaGFuZ2VkUmFuZ2UsIGNvbXB1dGVPcmRlciwgbW92ZVZpc3VhbGx5IH07XG5cbmV4cG9ydCB7IEJpZGlTcGFuLCBCbG9ja0luZm8sIEJsb2NrVHlwZSwgRGVjb3JhdGlvbiwgRGlyZWN0aW9uLCBFZGl0b3JWaWV3LCBHdXR0ZXJNYXJrZXIsIE1hdGNoRGVjb3JhdG9yLCBSZWN0YW5nbGVNYXJrZXIsIFZpZXdQbHVnaW4sIFZpZXdVcGRhdGUsIFdpZGdldFR5cGUsIF9fdGVzdCwgY2xvc2VIb3ZlclRvb2x0aXBzLCBjcm9zc2hhaXJDdXJzb3IsIGRyYXdTZWxlY3Rpb24sIGRyb3BDdXJzb3IsIGdldERyYXdTZWxlY3Rpb25Db25maWcsIGdldFBhbmVsLCBnZXRUb29sdGlwLCBndXR0ZXIsIGd1dHRlckxpbmVDbGFzcywgZ3V0dGVycywgaGFzSG92ZXJUb29sdGlwcywgaGlnaGxpZ2h0QWN0aXZlTGluZSwgaGlnaGxpZ2h0QWN0aXZlTGluZUd1dHRlciwgaGlnaGxpZ2h0U3BlY2lhbENoYXJzLCBoaWdobGlnaHRUcmFpbGluZ1doaXRlc3BhY2UsIGhpZ2hsaWdodFdoaXRlc3BhY2UsIGhvdmVyVG9vbHRpcCwga2V5bWFwLCBsYXllciwgbGluZU51bWJlck1hcmtlcnMsIGxpbmVOdW1iZXJzLCBsb2dFeGNlcHRpb24sIHBhbmVscywgcGxhY2Vob2xkZXIsIHJlY3Rhbmd1bGFyU2VsZWN0aW9uLCByZXBvc2l0aW9uVG9vbHRpcHMsIHJ1blNjb3BlSGFuZGxlcnMsIHNjcm9sbFBhc3RFbmQsIHNob3dQYW5lbCwgc2hvd1Rvb2x0aXAsIHRvb2x0aXBzIH07XG4iLCIvKipcblRoZSBkZWZhdWx0IG1heGltdW0gbGVuZ3RoIG9mIGEgYFRyZWVCdWZmZXJgIG5vZGUuXG4qL1xuY29uc3QgRGVmYXVsdEJ1ZmZlckxlbmd0aCA9IDEwMjQ7XG5sZXQgbmV4dFByb3BJRCA9IDA7XG5jbGFzcyBSYW5nZSB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbn1cbi8qKlxuRWFjaCBbbm9kZSB0eXBlXSgjY29tbW9uLk5vZGVUeXBlKSBvciBbaW5kaXZpZHVhbCB0cmVlXSgjY29tbW9uLlRyZWUpXG5jYW4gaGF2ZSBtZXRhZGF0YSBhc3NvY2lhdGVkIHdpdGggaXQgaW4gcHJvcHMuIEluc3RhbmNlcyBvZiB0aGlzXG5jbGFzcyByZXByZXNlbnQgcHJvcCBuYW1lcy5cbiovXG5jbGFzcyBOb2RlUHJvcCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbmV3IG5vZGUgcHJvcCB0eXBlLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRQcm9wSUQrKztcbiAgICAgICAgdGhpcy5wZXJOb2RlID0gISFjb25maWcucGVyTm9kZTtcbiAgICAgICAgdGhpcy5kZXNlcmlhbGl6ZSA9IGNvbmZpZy5kZXNlcmlhbGl6ZSB8fCAoKCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBub2RlIHR5cGUgZG9lc24ndCBkZWZpbmUgYSBkZXNlcmlhbGl6ZSBmdW5jdGlvblwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoaXMgaXMgbWVhbnQgdG8gYmUgdXNlZCB3aXRoXG4gICAgW2BOb2RlU2V0LmV4dGVuZGBdKCNjb21tb24uTm9kZVNldC5leHRlbmQpIG9yXG4gICAgW2BMUlBhcnNlci5jb25maWd1cmVgXSgjbHIuUGFyc2VyQ29uZmlnLnByb3BzKSB0byBjb21wdXRlXG4gICAgcHJvcCB2YWx1ZXMgZm9yIGVhY2ggbm9kZSB0eXBlIGluIHRoZSBzZXQuIFRha2VzIGEgW21hdGNoXG4gICAgb2JqZWN0XSgjY29tbW9uLk5vZGVUeXBlXm1hdGNoKSBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgdW5kZWZpbmVkXG4gICAgaWYgdGhlIG5vZGUgdHlwZSBkb2Vzbid0IGdldCB0aGlzIHByb3AsIGFuZCB0aGUgcHJvcCdzIHZhbHVlIGlmXG4gICAgaXQgZG9lcy5cbiAgICAqL1xuICAgIGFkZChtYXRjaCkge1xuICAgICAgICBpZiAodGhpcy5wZXJOb2RlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDYW4ndCBhZGQgcGVyLW5vZGUgcHJvcHMgdG8gbm9kZSB0eXBlc1wiKTtcbiAgICAgICAgaWYgKHR5cGVvZiBtYXRjaCAhPSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICBtYXRjaCA9IE5vZGVUeXBlLm1hdGNoKG1hdGNoKTtcbiAgICAgICAgcmV0dXJuICh0eXBlKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gbWF0Y2godHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBudWxsIDogW3RoaXMsIHJlc3VsdF07XG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG5Qcm9wIHRoYXQgaXMgdXNlZCB0byBkZXNjcmliZSBtYXRjaGluZyBkZWxpbWl0ZXJzLiBGb3Igb3BlbmluZ1xuZGVsaW1pdGVycywgdGhpcyBob2xkcyBhbiBhcnJheSBvZiBub2RlIG5hbWVzICh3cml0dGVuIGFzIGFcbnNwYWNlLXNlcGFyYXRlZCBzdHJpbmcgd2hlbiBkZWNsYXJpbmcgdGhpcyBwcm9wIGluIGEgZ3JhbW1hcilcbmZvciB0aGUgbm9kZSB0eXBlcyBvZiBjbG9zaW5nIGRlbGltaXRlcnMgdGhhdCBtYXRjaCBpdC5cbiovXG5Ob2RlUHJvcC5jbG9zZWRCeSA9IG5ldyBOb2RlUHJvcCh7IGRlc2VyaWFsaXplOiBzdHIgPT4gc3RyLnNwbGl0KFwiIFwiKSB9KTtcbi8qKlxuVGhlIGludmVyc2Ugb2YgW2BjbG9zZWRCeWBdKCNjb21tb24uTm9kZVByb3BeY2xvc2VkQnkpLiBUaGlzIGlzXG5hdHRhY2hlZCB0byBjbG9zaW5nIGRlbGltaXRlcnMsIGhvbGRpbmcgYW4gYXJyYXkgb2Ygbm9kZSBuYW1lc1xub2YgdHlwZXMgb2YgbWF0Y2hpbmcgb3BlbmluZyBkZWxpbWl0ZXJzLlxuKi9cbk5vZGVQcm9wLm9wZW5lZEJ5ID0gbmV3IE5vZGVQcm9wKHsgZGVzZXJpYWxpemU6IHN0ciA9PiBzdHIuc3BsaXQoXCIgXCIpIH0pO1xuLyoqXG5Vc2VkIHRvIGFzc2lnbiBub2RlIHR5cGVzIHRvIGdyb3VwcyAoZm9yIGV4YW1wbGUsIGFsbCBub2RlXG50eXBlcyB0aGF0IHJlcHJlc2VudCBhbiBleHByZXNzaW9uIGNvdWxkIGJlIHRhZ2dlZCB3aXRoIGFuXG5gXCJFeHByZXNzaW9uXCJgIGdyb3VwKS5cbiovXG5Ob2RlUHJvcC5ncm91cCA9IG5ldyBOb2RlUHJvcCh7IGRlc2VyaWFsaXplOiBzdHIgPT4gc3RyLnNwbGl0KFwiIFwiKSB9KTtcbi8qKlxuVGhlIGhhc2ggb2YgdGhlIFtjb250ZXh0XSgjbHIuQ29udGV4dFRyYWNrZXIuY29uc3RydWN0b3IpXG50aGF0IHRoZSBub2RlIHdhcyBwYXJzZWQgaW4sIGlmIGFueS4gVXNlZCB0byBsaW1pdCByZXVzZSBvZlxuY29udGV4dHVhbCBub2Rlcy5cbiovXG5Ob2RlUHJvcC5jb250ZXh0SGFzaCA9IG5ldyBOb2RlUHJvcCh7IHBlck5vZGU6IHRydWUgfSk7XG4vKipcblRoZSBkaXN0YW5jZSBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgbm9kZSB0aGF0IHRoZSB0b2tlbml6ZXJcbmxvb2tlZCBhaGVhZCBmb3IgYW55IG9mIHRoZSB0b2tlbnMgaW5zaWRlIHRoZSBub2RlLiAoVGhlIExSXG5wYXJzZXIgb25seSBzdG9yZXMgdGhpcyB3aGVuIGl0IGlzIGxhcmdlciB0aGFuIDI1LCBmb3JcbmVmZmljaWVuY3kgcmVhc29ucy4pXG4qL1xuTm9kZVByb3AubG9va0FoZWFkID0gbmV3IE5vZGVQcm9wKHsgcGVyTm9kZTogdHJ1ZSB9KTtcbi8qKlxuVGhpcyBwZXItbm9kZSBwcm9wIGlzIHVzZWQgdG8gcmVwbGFjZSBhIGdpdmVuIG5vZGUsIG9yIHBhcnQgb2YgYVxubm9kZSwgd2l0aCBhbm90aGVyIHRyZWUuIFRoaXMgaXMgdXNlZnVsIHRvIGluY2x1ZGUgdHJlZXMgZnJvbVxuZGlmZmVyZW50IGxhbmd1YWdlcyBpbiBtaXhlZC1sYW5ndWFnZSBwYXJzZXJzLlxuKi9cbk5vZGVQcm9wLm1vdW50ZWQgPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuLyoqXG5BIG1vdW50ZWQgdHJlZSwgd2hpY2ggY2FuIGJlIFtzdG9yZWRdKCNjb21tb24uTm9kZVByb3BebW91bnRlZCkgb25cbmEgdHJlZSBub2RlIHRvIGluZGljYXRlIHRoYXQgcGFydHMgb2YgaXRzIGNvbnRlbnQgYXJlXG5yZXByZXNlbnRlZCBieSBhbm90aGVyIHRyZWUuXG4qL1xuY2xhc3MgTW91bnRlZFRyZWUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBpbm5lciB0cmVlLlxuICAgICovXG4gICAgdHJlZSwgXG4gICAgLyoqXG4gICAgSWYgdGhpcyBpcyBudWxsLCB0aGlzIHRyZWUgcmVwbGFjZXMgdGhlIGVudGlyZSBub2RlIChpdCB3aWxsXG4gICAgYmUgaW5jbHVkZWQgaW4gdGhlIHJlZ3VsYXIgaXRlcmF0aW9uIGluc3RlYWQgb2YgaXRzIGhvc3RcbiAgICBub2RlKS4gSWYgbm90LCBvbmx5IHRoZSBnaXZlbiByYW5nZXMgYXJlIGNvbnNpZGVyZWQgdG8gYmVcbiAgICBjb3ZlcmVkIGJ5IHRoaXMgdHJlZS4gVGhpcyBpcyB1c2VkIGZvciB0cmVlcyB0aGF0IGFyZSBtaXhlZCBpblxuICAgIGEgd2F5IHRoYXQgaXNuJ3Qgc3RyaWN0bHkgaGllcmFyY2hpY2FsLiBTdWNoIG1vdW50ZWQgdHJlZXMgYXJlXG4gICAgb25seSBlbnRlcmVkIGJ5IFtgcmVzb2x2ZUlubmVyYF0oI2NvbW1vbi5UcmVlLnJlc29sdmVJbm5lcilcbiAgICBhbmQgW2BlbnRlcmBdKCNjb21tb24uU3ludGF4Tm9kZS5lbnRlcikuXG4gICAgKi9cbiAgICBvdmVybGF5LCBcbiAgICAvKipcbiAgICBUaGUgcGFyc2VyIHVzZWQgdG8gY3JlYXRlIHRoaXMgc3VidHJlZS5cbiAgICAqL1xuICAgIHBhcnNlcikge1xuICAgICAgICB0aGlzLnRyZWUgPSB0cmVlO1xuICAgICAgICB0aGlzLm92ZXJsYXkgPSBvdmVybGF5O1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0KHRyZWUpIHtcbiAgICAgICAgcmV0dXJuIHRyZWUgJiYgdHJlZS5wcm9wcyAmJiB0cmVlLnByb3BzW05vZGVQcm9wLm1vdW50ZWQuaWRdO1xuICAgIH1cbn1cbmNvbnN0IG5vUHJvcHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG5FYWNoIG5vZGUgaW4gYSBzeW50YXggdHJlZSBoYXMgYSBub2RlIHR5cGUgYXNzb2NpYXRlZCB3aXRoIGl0LlxuKi9cbmNsYXNzIE5vZGVUeXBlIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBuYW1lIG9mIHRoZSBub2RlIHR5cGUuIE5vdCBuZWNlc3NhcmlseSB1bmlxdWUsIGJ1dCBpZiB0aGVcbiAgICBncmFtbWFyIHdhcyB3cml0dGVuIHByb3Blcmx5LCBkaWZmZXJlbnQgbm9kZSB0eXBlcyB3aXRoIHRoZVxuICAgIHNhbWUgbmFtZSB3aXRoaW4gYSBub2RlIHNldCBzaG91bGQgcGxheSB0aGUgc2FtZSBzZW1hbnRpY1xuICAgIHJvbGUuXG4gICAgKi9cbiAgICBuYW1lLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHByb3BzLCBcbiAgICAvKipcbiAgICBUaGUgaWQgb2YgdGhpcyBub2RlIGluIGl0cyBzZXQuIENvcnJlc3BvbmRzIHRvIHRoZSB0ZXJtIGlkc1xuICAgIHVzZWQgaW4gdGhlIHBhcnNlci5cbiAgICAqL1xuICAgIGlkLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZsYWdzID0gMCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgIH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSBub2RlIHR5cGUuXG4gICAgKi9cbiAgICBzdGF0aWMgZGVmaW5lKHNwZWMpIHtcbiAgICAgICAgbGV0IHByb3BzID0gc3BlYy5wcm9wcyAmJiBzcGVjLnByb3BzLmxlbmd0aCA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiBub1Byb3BzO1xuICAgICAgICBsZXQgZmxhZ3MgPSAoc3BlYy50b3AgPyAxIC8qIE5vZGVGbGFnLlRvcCAqLyA6IDApIHwgKHNwZWMuc2tpcHBlZCA/IDIgLyogTm9kZUZsYWcuU2tpcHBlZCAqLyA6IDApIHxcbiAgICAgICAgICAgIChzcGVjLmVycm9yID8gNCAvKiBOb2RlRmxhZy5FcnJvciAqLyA6IDApIHwgKHNwZWMubmFtZSA9PSBudWxsID8gOCAvKiBOb2RlRmxhZy5Bbm9ueW1vdXMgKi8gOiAwKTtcbiAgICAgICAgbGV0IHR5cGUgPSBuZXcgTm9kZVR5cGUoc3BlYy5uYW1lIHx8IFwiXCIsIHByb3BzLCBzcGVjLmlkLCBmbGFncyk7XG4gICAgICAgIGlmIChzcGVjLnByb3BzKVxuICAgICAgICAgICAgZm9yIChsZXQgc3JjIG9mIHNwZWMucHJvcHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3JjKSlcbiAgICAgICAgICAgICAgICAgICAgc3JjID0gc3JjKHR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNyY1swXS5wZXJOb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDYW4ndCBzdG9yZSBhIHBlci1ub2RlIHByb3Agb24gYSBub2RlIHR5cGVcIik7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzW3NyY1swXS5pZF0gPSBzcmNbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmVzIGEgbm9kZSBwcm9wIGZvciB0aGlzIHR5cGUuIFdpbGwgcmV0dXJuIGB1bmRlZmluZWRgIGlmXG4gICAgdGhlIHByb3AgaXNuJ3QgcHJlc2VudCBvbiB0aGlzIG5vZGUuXG4gICAgKi9cbiAgICBwcm9wKHByb3ApIHsgcmV0dXJuIHRoaXMucHJvcHNbcHJvcC5pZF07IH1cbiAgICAvKipcbiAgICBUcnVlIHdoZW4gdGhpcyBpcyB0aGUgdG9wIG5vZGUgb2YgYSBncmFtbWFyLlxuICAgICovXG4gICAgZ2V0IGlzVG9wKCkgeyByZXR1cm4gKHRoaXMuZmxhZ3MgJiAxIC8qIE5vZGVGbGFnLlRvcCAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgVHJ1ZSB3aGVuIHRoaXMgbm9kZSBpcyBwcm9kdWNlZCBieSBhIHNraXAgcnVsZS5cbiAgICAqL1xuICAgIGdldCBpc1NraXBwZWQoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDIgLyogTm9kZUZsYWcuU2tpcHBlZCAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBhbiBlcnJvciBub2RlLlxuICAgICovXG4gICAgZ2V0IGlzRXJyb3IoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDQgLyogTm9kZUZsYWcuRXJyb3IgKi8pID4gMDsgfVxuICAgIC8qKlxuICAgIFdoZW4gdHJ1ZSwgdGhpcyBub2RlIHR5cGUgZG9lc24ndCBjb3JyZXNwb25kIHRvIGEgdXNlci1kZWNsYXJlZFxuICAgIG5hbWVkIG5vZGUsIGZvciBleGFtcGxlIGJlY2F1c2UgaXQgaXMgdXNlZCB0byBjYWNoZSByZXBldGl0aW9uLlxuICAgICovXG4gICAgZ2V0IGlzQW5vbnltb3VzKCkgeyByZXR1cm4gKHRoaXMuZmxhZ3MgJiA4IC8qIE5vZGVGbGFnLkFub255bW91cyAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0cnVlIHdoZW4gdGhpcyBub2RlJ3MgbmFtZSBvciBvbmUgb2YgaXRzXG4gICAgW2dyb3Vwc10oI2NvbW1vbi5Ob2RlUHJvcF5ncm91cCkgbWF0Y2hlcyB0aGUgZ2l2ZW4gc3RyaW5nLlxuICAgICovXG4gICAgaXMobmFtZSkge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5hbWUgPT0gbmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBncm91cCA9IHRoaXMucHJvcChOb2RlUHJvcC5ncm91cCk7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXAgPyBncm91cC5pbmRleE9mKG5hbWUpID4gLTEgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pZCA9PSBuYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBmdW5jdGlvbiBmcm9tIG5vZGUgdHlwZXMgdG8gYXJiaXRyYXJ5IHZhbHVlcyBieVxuICAgIHNwZWNpZnlpbmcgYW4gb2JqZWN0IHdob3NlIHByb3BlcnR5IG5hbWVzIGFyZSBub2RlIG9yXG4gICAgW2dyb3VwXSgjY29tbW9uLk5vZGVQcm9wXmdyb3VwKSBuYW1lcy4gT2Z0ZW4gdXNlZnVsIHdpdGhcbiAgICBbYE5vZGVQcm9wLmFkZGBdKCNjb21tb24uTm9kZVByb3AuYWRkKS4gWW91IGNhbiBwdXQgbXVsdGlwbGVcbiAgICBuYW1lcywgc2VwYXJhdGVkIGJ5IHNwYWNlcywgaW4gYSBzaW5nbGUgcHJvcGVydHkgbmFtZSB0byBtYXBcbiAgICBtdWx0aXBsZSBub2RlIG5hbWVzIHRvIGEgc2luZ2xlIHZhbHVlLlxuICAgICovXG4gICAgc3RhdGljIG1hdGNoKG1hcCkge1xuICAgICAgICBsZXQgZGlyZWN0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBtYXApXG4gICAgICAgICAgICBmb3IgKGxldCBuYW1lIG9mIHByb3Auc3BsaXQoXCIgXCIpKVxuICAgICAgICAgICAgICAgIGRpcmVjdFtuYW1lXSA9IG1hcFtwcm9wXTtcbiAgICAgICAgcmV0dXJuIChub2RlKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBncm91cHMgPSBub2RlLnByb3AoTm9kZVByb3AuZ3JvdXApLCBpID0gLTE7IGkgPCAoZ3JvdXBzID8gZ3JvdXBzLmxlbmd0aCA6IDApOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBkaXJlY3RbaSA8IDAgPyBub2RlLm5hbWUgOiBncm91cHNbaV1dO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuQW4gZW1wdHkgZHVtbXkgbm9kZSB0eXBlIHRvIHVzZSB3aGVuIG5vIGFjdHVhbCB0eXBlIGlzIGF2YWlsYWJsZS5cbiovXG5Ob2RlVHlwZS5ub25lID0gbmV3IE5vZGVUeXBlKFwiXCIsIE9iamVjdC5jcmVhdGUobnVsbCksIDAsIDggLyogTm9kZUZsYWcuQW5vbnltb3VzICovKTtcbi8qKlxuQSBub2RlIHNldCBob2xkcyBhIGNvbGxlY3Rpb24gb2Ygbm9kZSB0eXBlcy4gSXQgaXMgdXNlZCB0b1xuY29tcGFjdGx5IHJlcHJlc2VudCB0cmVlcyBieSBzdG9yaW5nIHRoZWlyIHR5cGUgaWRzLCByYXRoZXIgdGhhbiBhXG5mdWxsIHBvaW50ZXIgdG8gdGhlIHR5cGUgb2JqZWN0LCBpbiBhIG51bWVyaWMgYXJyYXkuIEVhY2ggcGFyc2VyXG5baGFzXSgjbHIuTFJQYXJzZXIubm9kZVNldCkgYSBub2RlIHNldCwgYW5kIFt0cmVlXG5idWZmZXJzXSgjY29tbW9uLlRyZWVCdWZmZXIpIGNhbiBvbmx5IHN0b3JlIGNvbGxlY3Rpb25zIG9mIG5vZGVzXG5mcm9tIHRoZSBzYW1lIHNldC4gQSBzZXQgY2FuIGhhdmUgYSBtYXhpbXVtIG9mIDIqKjE2ICg2NTUzNikgbm9kZVxudHlwZXMgaW4gaXQsIHNvIHRoYXQgdGhlIGlkcyBmaXQgaW50byAxNi1iaXQgdHlwZWQgYXJyYXkgc2xvdHMuXG4qL1xuY2xhc3MgTm9kZVNldCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc2V0IHdpdGggdGhlIGdpdmVuIHR5cGVzLiBUaGUgYGlkYCBwcm9wZXJ0eSBvZiBlYWNoXG4gICAgdHlwZSBzaG91bGQgY29ycmVzcG9uZCB0byBpdHMgcG9zaXRpb24gd2l0aGluIHRoZSBhcnJheS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBub2RlIHR5cGVzIGluIHRoaXMgc2V0LCBieSBpZC5cbiAgICAqL1xuICAgIHR5cGVzKSB7XG4gICAgICAgIHRoaXMudHlwZXMgPSB0eXBlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmICh0eXBlc1tpXS5pZCAhPSBpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTm9kZSB0eXBlIGlkcyBzaG91bGQgY29ycmVzcG9uZCB0byBhcnJheSBwb3NpdGlvbnMgd2hlbiBjcmVhdGluZyBhIG5vZGUgc2V0XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBjb3B5IG9mIHRoaXMgc2V0IHdpdGggc29tZSBub2RlIHByb3BlcnRpZXMgYWRkZWQuIFRoZVxuICAgIGFyZ3VtZW50cyB0byB0aGlzIG1ldGhvZCBjYW4gYmUgY3JlYXRlZCB3aXRoXG4gICAgW2BOb2RlUHJvcC5hZGRgXSgjY29tbW9uLk5vZGVQcm9wLmFkZCkuXG4gICAgKi9cbiAgICBleHRlbmQoLi4ucHJvcHMpIHtcbiAgICAgICAgbGV0IG5ld1R5cGVzID0gW107XG4gICAgICAgIGZvciAobGV0IHR5cGUgb2YgdGhpcy50eXBlcykge1xuICAgICAgICAgICAgbGV0IG5ld1Byb3BzID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAobGV0IHNvdXJjZSBvZiBwcm9wcykge1xuICAgICAgICAgICAgICAgIGxldCBhZGQgPSBzb3VyY2UodHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld1Byb3BzKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCB0eXBlLnByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNbYWRkWzBdLmlkXSA9IGFkZFsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdUeXBlcy5wdXNoKG5ld1Byb3BzID8gbmV3IE5vZGVUeXBlKHR5cGUubmFtZSwgbmV3UHJvcHMsIHR5cGUuaWQsIHR5cGUuZmxhZ3MpIDogdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlU2V0KG5ld1R5cGVzKTtcbiAgICB9XG59XG5jb25zdCBDYWNoZWROb2RlID0gbmV3IFdlYWtNYXAoKSwgQ2FjaGVkSW5uZXJOb2RlID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuT3B0aW9ucyB0aGF0IGNvbnRyb2wgaXRlcmF0aW9uLiBDYW4gYmUgY29tYmluZWQgd2l0aCB0aGUgYHxgXG5vcGVyYXRvciB0byBlbmFibGUgbXVsdGlwbGUgb25lcy5cbiovXG52YXIgSXRlck1vZGU7XG4oZnVuY3Rpb24gKEl0ZXJNb2RlKSB7XG4gICAgLyoqXG4gICAgV2hlbiBlbmFibGVkLCBpdGVyYXRpb24gd2lsbCBvbmx5IHZpc2l0IFtgVHJlZWBdKCNjb21tb24uVHJlZSlcbiAgICBvYmplY3RzLCBub3Qgbm9kZXMgcGFja2VkIGludG9cbiAgICBbYFRyZWVCdWZmZXJgXSgjY29tbW9uLlRyZWVCdWZmZXIpcy5cbiAgICAqL1xuICAgIEl0ZXJNb2RlW0l0ZXJNb2RlW1wiRXhjbHVkZUJ1ZmZlcnNcIl0gPSAxXSA9IFwiRXhjbHVkZUJ1ZmZlcnNcIjtcbiAgICAvKipcbiAgICBFbmFibGUgdGhpcyB0byBtYWtlIGl0ZXJhdGlvbiBpbmNsdWRlIGFub255bW91cyBub2RlcyAoc3VjaCBhc1xuICAgIHRoZSBub2RlcyB0aGF0IHdyYXAgcmVwZWF0ZWQgZ3JhbW1hciBjb25zdHJ1Y3RzIGludG8gYSBiYWxhbmNlZFxuICAgIHRyZWUpLlxuICAgICovXG4gICAgSXRlck1vZGVbSXRlck1vZGVbXCJJbmNsdWRlQW5vbnltb3VzXCJdID0gMl0gPSBcIkluY2x1ZGVBbm9ueW1vdXNcIjtcbiAgICAvKipcbiAgICBCeSBkZWZhdWx0LCByZWd1bGFyIFttb3VudGVkXSgjY29tbW9uLk5vZGVQcm9wXm1vdW50ZWQpIG5vZGVzXG4gICAgcmVwbGFjZSB0aGVpciBiYXNlIG5vZGUgaW4gaXRlcmF0aW9uLiBFbmFibGUgdGhpcyB0byBpZ25vcmUgdGhlbVxuICAgIGluc3RlYWQuXG4gICAgKi9cbiAgICBJdGVyTW9kZVtJdGVyTW9kZVtcIklnbm9yZU1vdW50c1wiXSA9IDRdID0gXCJJZ25vcmVNb3VudHNcIjtcbiAgICAvKipcbiAgICBUaGlzIG9wdGlvbiBvbmx5IGFwcGxpZXMgaW5cbiAgICBbYGVudGVyYF0oI2NvbW1vbi5TeW50YXhOb2RlLmVudGVyKS1zdHlsZSBtZXRob2RzLiBJdCB0ZWxscyB0aGVcbiAgICBsaWJyYXJ5IHRvIG5vdCBlbnRlciBtb3VudGVkIG92ZXJsYXlzIGlmIG9uZSBjb3ZlcnMgdGhlIGdpdmVuXG4gICAgcG9zaXRpb24uXG4gICAgKi9cbiAgICBJdGVyTW9kZVtJdGVyTW9kZVtcIklnbm9yZU92ZXJsYXlzXCJdID0gOF0gPSBcIklnbm9yZU92ZXJsYXlzXCI7XG59KShJdGVyTW9kZSB8fCAoSXRlck1vZGUgPSB7fSkpO1xuLyoqXG5BIHBpZWNlIG9mIHN5bnRheCB0cmVlLiBUaGVyZSBhcmUgdHdvIHdheXMgdG8gYXBwcm9hY2ggdGhlc2VcbnRyZWVzOiB0aGUgd2F5IHRoZXkgYXJlIGFjdHVhbGx5IHN0b3JlZCBpbiBtZW1vcnksIGFuZCB0aGVcbmNvbnZlbmllbnQgd2F5LlxuXG5TeW50YXggdHJlZXMgYXJlIHN0b3JlZCBhcyBhIHRyZWUgb2YgYFRyZWVgIGFuZCBgVHJlZUJ1ZmZlcmBcbm9iamVjdHMuIEJ5IHBhY2tpbmcgZGV0YWlsIGluZm9ybWF0aW9uIGludG8gYFRyZWVCdWZmZXJgIGxlYWZcbm5vZGVzLCB0aGUgcmVwcmVzZW50YXRpb24gaXMgbWFkZSBhIGxvdCBtb3JlIG1lbW9yeS1lZmZpY2llbnQuXG5cbkhvd2V2ZXIsIHdoZW4geW91IHdhbnQgdG8gYWN0dWFsbHkgd29yayB3aXRoIHRyZWUgbm9kZXMsIHRoaXNcbnJlcHJlc2VudGF0aW9uIGlzIHZlcnkgYXdrd2FyZCwgc28gbW9zdCBjbGllbnQgY29kZSB3aWxsIHdhbnQgdG9cbnVzZSB0aGUgW2BUcmVlQ3Vyc29yYF0oI2NvbW1vbi5UcmVlQ3Vyc29yKSBvclxuW2BTeW50YXhOb2RlYF0oI2NvbW1vbi5TeW50YXhOb2RlKSBpbnRlcmZhY2UgaW5zdGVhZCwgd2hpY2ggcHJvdmlkZXNcbmEgdmlldyBvbiBzb21lIHBhcnQgb2YgdGhpcyBkYXRhIHN0cnVjdHVyZSwgYW5kIGNhbiBiZSB1c2VkIHRvXG5tb3ZlIGFyb3VuZCB0byBhZGphY2VudCBub2Rlcy5cbiovXG5jbGFzcyBUcmVlIHtcbiAgICAvKipcbiAgICBDb25zdHJ1Y3QgYSBuZXcgdHJlZS4gU2VlIGFsc28gW2BUcmVlLmJ1aWxkYF0oI2NvbW1vbi5UcmVlXmJ1aWxkKS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSB0eXBlIG9mIHRoZSB0b3Agbm9kZS5cbiAgICAqL1xuICAgIHR5cGUsIFxuICAgIC8qKlxuICAgIFRoaXMgbm9kZSdzIGNoaWxkIG5vZGVzLlxuICAgICovXG4gICAgY2hpbGRyZW4sIFxuICAgIC8qKlxuICAgIFRoZSBwb3NpdGlvbnMgKG9mZnNldHMgcmVsYXRpdmUgdG8gdGhlIHN0YXJ0IG9mIHRoaXMgdHJlZSkgb2ZcbiAgICB0aGUgY2hpbGRyZW4uXG4gICAgKi9cbiAgICBwb3NpdGlvbnMsIFxuICAgIC8qKlxuICAgIFRoZSB0b3RhbCBsZW5ndGggb2YgdGhpcyB0cmVlXG4gICAgKi9cbiAgICBsZW5ndGgsIFxuICAgIC8qKlxuICAgIFBlci1ub2RlIFtub2RlIHByb3BzXSgjY29tbW9uLk5vZGVQcm9wKSB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIG5vZGUuXG4gICAgKi9cbiAgICBwcm9wcykge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMucG9zaXRpb25zID0gcG9zaXRpb25zO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb3BzID0gbnVsbDtcbiAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICBmb3IgKGxldCBbcHJvcCwgdmFsdWVdIG9mIHByb3BzKVxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHNbdHlwZW9mIHByb3AgPT0gXCJudW1iZXJcIiA/IHByb3AgOiBwcm9wLmlkXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCBtb3VudGVkID0gTW91bnRlZFRyZWUuZ2V0KHRoaXMpO1xuICAgICAgICBpZiAobW91bnRlZCAmJiAhbW91bnRlZC5vdmVybGF5KVxuICAgICAgICAgICAgcmV0dXJuIG1vdW50ZWQudHJlZS50b1N0cmluZygpO1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBjaCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBsZXQgc3RyID0gY2gudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuICs9IFwiLFwiO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuICs9IHN0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXRoaXMudHlwZS5uYW1lID8gY2hpbGRyZW4gOlxuICAgICAgICAgICAgKC9cXFcvLnRlc3QodGhpcy50eXBlLm5hbWUpICYmICF0aGlzLnR5cGUuaXNFcnJvciA/IEpTT04uc3RyaW5naWZ5KHRoaXMudHlwZS5uYW1lKSA6IHRoaXMudHlwZS5uYW1lKSArXG4gICAgICAgICAgICAgICAgKGNoaWxkcmVuLmxlbmd0aCA/IFwiKFwiICsgY2hpbGRyZW4gKyBcIilcIiA6IFwiXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBbdHJlZSBjdXJzb3JdKCNjb21tb24uVHJlZUN1cnNvcikgcG9zaXRpb25lZCBhdCB0aGUgdG9wIG9mXG4gICAgdGhlIHRyZWUuIE1vZGUgY2FuIGJlIHVzZWQgdG8gW2NvbnRyb2xdKCNjb21tb24uSXRlck1vZGUpIHdoaWNoXG4gICAgbm9kZXMgdGhlIGN1cnNvciB2aXNpdHMuXG4gICAgKi9cbiAgICBjdXJzb3IobW9kZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlQ3Vyc29yKHRoaXMudG9wTm9kZSwgbW9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCBhIFt0cmVlIGN1cnNvcl0oI2NvbW1vbi5UcmVlQ3Vyc29yKSBwb2ludGluZyBpbnRvIHRoaXMgdHJlZVxuICAgIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgc2lkZSAoc2VlXG4gICAgW2Btb3ZlVG9gXSgjY29tbW9uLlRyZWVDdXJzb3IubW92ZVRvKS5cbiAgICAqL1xuICAgIGN1cnNvckF0KHBvcywgc2lkZSA9IDAsIG1vZGUgPSAwKSB7XG4gICAgICAgIGxldCBzY29wZSA9IENhY2hlZE5vZGUuZ2V0KHRoaXMpIHx8IHRoaXMudG9wTm9kZTtcbiAgICAgICAgbGV0IGN1cnNvciA9IG5ldyBUcmVlQ3Vyc29yKHNjb3BlKTtcbiAgICAgICAgY3Vyc29yLm1vdmVUbyhwb3MsIHNpZGUpO1xuICAgICAgICBDYWNoZWROb2RlLnNldCh0aGlzLCBjdXJzb3IuX3RyZWUpO1xuICAgICAgICByZXR1cm4gY3Vyc29yO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBbc3ludGF4IG5vZGVdKCNjb21tb24uU3ludGF4Tm9kZSkgb2JqZWN0IGZvciB0aGUgdG9wIG9mIHRoZVxuICAgIHRyZWUuXG4gICAgKi9cbiAgICBnZXQgdG9wTm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlTm9kZSh0aGlzLCAwLCAwLCBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBbc3ludGF4IG5vZGVdKCNjb21tb24uU3ludGF4Tm9kZSkgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgIElmIGBzaWRlYCBpcyAtMSwgdGhpcyB3aWxsIG1vdmUgaW50byBub2RlcyB0aGF0IGVuZCBhdCB0aGVcbiAgICBwb3NpdGlvbi4gSWYgMSwgaXQnbGwgbW92ZSBpbnRvIG5vZGVzIHRoYXQgc3RhcnQgYXQgdGhlXG4gICAgcG9zaXRpb24uIFdpdGggMCwgaXQnbGwgb25seSBlbnRlciBub2RlcyB0aGF0IGNvdmVyIHRoZSBwb3NpdGlvblxuICAgIGZyb20gYm90aCBzaWRlcy5cbiAgICBcbiAgICBOb3RlIHRoYXQgdGhpcyB3aWxsIG5vdCBlbnRlclxuICAgIFtvdmVybGF5c10oI2NvbW1vbi5Nb3VudGVkVHJlZS5vdmVybGF5KSwgYW5kIHlvdSBvZnRlbiB3YW50XG4gICAgW2ByZXNvbHZlSW5uZXJgXSgjY29tbW9uLlRyZWUucmVzb2x2ZUlubmVyKSBpbnN0ZWFkLlxuICAgICovXG4gICAgcmVzb2x2ZShwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIGxldCBub2RlID0gcmVzb2x2ZU5vZGUoQ2FjaGVkTm9kZS5nZXQodGhpcykgfHwgdGhpcy50b3BOb2RlLCBwb3MsIHNpZGUsIGZhbHNlKTtcbiAgICAgICAgQ2FjaGVkTm9kZS5zZXQodGhpcywgbm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICAvKipcbiAgICBMaWtlIFtgcmVzb2x2ZWBdKCNjb21tb24uVHJlZS5yZXNvbHZlKSwgYnV0IHdpbGwgZW50ZXJcbiAgICBbb3ZlcmxhaWRdKCNjb21tb24uTW91bnRlZFRyZWUub3ZlcmxheSkgbm9kZXMsIHByb2R1Y2luZyBhIHN5bnRheCBub2RlXG4gICAgcG9pbnRpbmcgaW50byB0aGUgaW5uZXJtb3N0IG92ZXJsYWlkIHRyZWUgYXQgdGhlIGdpdmVuIHBvc2l0aW9uXG4gICAgKHdpdGggcGFyZW50IGxpbmtzIGdvaW5nIHRocm91Z2ggYWxsIHBhcmVudCBzdHJ1Y3R1cmUsIGluY2x1ZGluZ1xuICAgIHRoZSBob3N0IHRyZWVzKS5cbiAgICAqL1xuICAgIHJlc29sdmVJbm5lcihwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIGxldCBub2RlID0gcmVzb2x2ZU5vZGUoQ2FjaGVkSW5uZXJOb2RlLmdldCh0aGlzKSB8fCB0aGlzLnRvcE5vZGUsIHBvcywgc2lkZSwgdHJ1ZSk7XG4gICAgICAgIENhY2hlZElubmVyTm9kZS5zZXQodGhpcywgbm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICAvKipcbiAgICBJbiBzb21lIHNpdHVhdGlvbnMsIGl0IGNhbiBiZSB1c2VmdWwgdG8gaXRlcmF0ZSB0aHJvdWdoIGFsbFxuICAgIG5vZGVzIGFyb3VuZCBhIHBvc2l0aW9uLCBpbmNsdWRpbmcgdGhvc2UgaW4gb3ZlcmxheXMgdGhhdCBkb24ndFxuICAgIGRpcmVjdGx5IGNvdmVyIHRoZSBwb3NpdGlvbi4gVGhpcyBtZXRob2QgZ2l2ZXMgeW91IGFuIGl0ZXJhdG9yXG4gICAgdGhhdCB3aWxsIHByb2R1Y2UgYWxsIG5vZGVzLCBmcm9tIHNtYWxsIHRvIGJpZywgYXJvdW5kIHRoZSBnaXZlblxuICAgIHBvc2l0aW9uLlxuICAgICovXG4gICAgcmVzb2x2ZVN0YWNrKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrSXRlcmF0b3IodGhpcywgcG9zLCBzaWRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSB0cmVlIGFuZCBpdHMgY2hpbGRyZW4sIGNhbGxpbmcgYGVudGVyYCBmb3IgYW55XG4gICAgbm9kZSB0aGF0IHRvdWNoZXMgdGhlIGBmcm9tYC9gdG9gIHJlZ2lvbiAoaWYgZ2l2ZW4pIGJlZm9yZVxuICAgIHJ1bm5pbmcgb3ZlciBzdWNoIGEgbm9kZSdzIGNoaWxkcmVuLCBhbmQgYGxlYXZlYCAoaWYgZ2l2ZW4pIHdoZW5cbiAgICBsZWF2aW5nIHRoZSBub2RlLiBXaGVuIGBlbnRlcmAgcmV0dXJucyBgZmFsc2VgLCB0aGF0IG5vZGUgd2lsbFxuICAgIG5vdCBoYXZlIGl0cyBjaGlsZHJlbiBpdGVyYXRlZCBvdmVyIChvciBgbGVhdmVgIGNhbGxlZCkuXG4gICAgKi9cbiAgICBpdGVyYXRlKHNwZWMpIHtcbiAgICAgICAgbGV0IHsgZW50ZXIsIGxlYXZlLCBmcm9tID0gMCwgdG8gPSB0aGlzLmxlbmd0aCB9ID0gc3BlYztcbiAgICAgICAgbGV0IG1vZGUgPSBzcGVjLm1vZGUgfHwgMCwgYW5vbiA9IChtb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgPiAwO1xuICAgICAgICBmb3IgKGxldCBjID0gdGhpcy5jdXJzb3IobW9kZSB8IEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpOzspIHtcbiAgICAgICAgICAgIGxldCBlbnRlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoYy5mcm9tIDw9IHRvICYmIGMudG8gPj0gZnJvbSAmJiAoIWFub24gJiYgYy50eXBlLmlzQW5vbnltb3VzIHx8IGVudGVyKGMpICE9PSBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYy5maXJzdENoaWxkKCkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGVudGVyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGlmIChlbnRlcmVkICYmIGxlYXZlICYmIChhbm9uIHx8ICFjLnR5cGUuaXNBbm9ueW1vdXMpKVxuICAgICAgICAgICAgICAgICAgICBsZWF2ZShjKTtcbiAgICAgICAgICAgICAgICBpZiAoYy5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoIWMucGFyZW50KCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBlbnRlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBbbm9kZSBwcm9wXSgjY29tbW9uLk5vZGVQcm9wKSBmb3IgdGhpc1xuICAgIG5vZGUuIFdvcmtzIHdpdGggYm90aCBwZXItbm9kZSBhbmQgcGVyLXR5cGUgcHJvcHMuXG4gICAgKi9cbiAgICBwcm9wKHByb3ApIHtcbiAgICAgICAgcmV0dXJuICFwcm9wLnBlck5vZGUgPyB0aGlzLnR5cGUucHJvcChwcm9wKSA6IHRoaXMucHJvcHMgPyB0aGlzLnByb3BzW3Byb3AuaWRdIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRoZSBub2RlJ3MgW3Blci1ub2RlIHByb3BzXSgjY29tbW9uLk5vZGVQcm9wLnBlck5vZGUpIGluIGFcbiAgICBmb3JtYXQgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBbYFRyZWVgXSgjY29tbW9uLlRyZWUpXG4gICAgY29uc3RydWN0b3IuXG4gICAgKi9cbiAgICBnZXQgcHJvcFZhbHVlcygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAodGhpcy5wcm9wcylcbiAgICAgICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMucHJvcHMpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goWytpZCwgdGhpcy5wcm9wc1tpZF1dKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgQmFsYW5jZSB0aGUgZGlyZWN0IGNoaWxkcmVuIG9mIHRoaXMgdHJlZSwgcHJvZHVjaW5nIGEgY29weSBvZlxuICAgIHdoaWNoIG1heSBoYXZlIGNoaWxkcmVuIGdyb3VwZWQgaW50byBzdWJ0cmVlcyB3aXRoIHR5cGVcbiAgICBbYE5vZGVUeXBlLm5vbmVgXSgjY29tbW9uLk5vZGVUeXBlXm5vbmUpLlxuICAgICovXG4gICAgYmFsYW5jZShjb25maWcgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGggPD0gOCAvKiBCYWxhbmNlLkJyYW5jaEZhY3RvciAqLyA/IHRoaXMgOlxuICAgICAgICAgICAgYmFsYW5jZVJhbmdlKE5vZGVUeXBlLm5vbmUsIHRoaXMuY2hpbGRyZW4sIHRoaXMucG9zaXRpb25zLCAwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCwgMCwgdGhpcy5sZW5ndGgsIChjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpID0+IG5ldyBUcmVlKHRoaXMudHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoLCB0aGlzLnByb3BWYWx1ZXMpLCBjb25maWcubWFrZVRyZWUgfHwgKChjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpID0+IG5ldyBUcmVlKE5vZGVUeXBlLm5vbmUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQnVpbGQgYSB0cmVlIGZyb20gYSBwb3N0Zml4LW9yZGVyZWQgYnVmZmVyIG9mIG5vZGUgaW5mb3JtYXRpb24sXG4gICAgb3IgYSBjdXJzb3Igb3ZlciBzdWNoIGEgYnVmZmVyLlxuICAgICovXG4gICAgc3RhdGljIGJ1aWxkKGRhdGEpIHsgcmV0dXJuIGJ1aWxkVHJlZShkYXRhKTsgfVxufVxuLyoqXG5UaGUgZW1wdHkgdHJlZVxuKi9cblRyZWUuZW1wdHkgPSBuZXcgVHJlZShOb2RlVHlwZS5ub25lLCBbXSwgW10sIDApO1xuY2xhc3MgRmxhdEJ1ZmZlckN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoYnVmZmVyLCBpbmRleCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgIH1cbiAgICBnZXQgaWQoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gNF07IH1cbiAgICBnZXQgc3RhcnQoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gM107IH1cbiAgICBnZXQgZW5kKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDJdOyB9XG4gICAgZ2V0IHNpemUoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gMV07IH1cbiAgICBnZXQgcG9zKCkgeyByZXR1cm4gdGhpcy5pbmRleDsgfVxuICAgIG5leHQoKSB7IHRoaXMuaW5kZXggLT0gNDsgfVxuICAgIGZvcmsoKSB7IHJldHVybiBuZXcgRmxhdEJ1ZmZlckN1cnNvcih0aGlzLmJ1ZmZlciwgdGhpcy5pbmRleCk7IH1cbn1cbi8qKlxuVHJlZSBidWZmZXJzIGNvbnRhaW4gKHR5cGUsIHN0YXJ0LCBlbmQsIGVuZEluZGV4KSBxdWFkcyBmb3IgZWFjaFxubm9kZS4gSW4gc3VjaCBhIGJ1ZmZlciwgbm9kZXMgYXJlIHN0b3JlZCBpbiBwcmVmaXggb3JkZXIgKHBhcmVudHNcbmJlZm9yZSBjaGlsZHJlbiwgd2l0aCB0aGUgZW5kSW5kZXggb2YgdGhlIHBhcmVudCBpbmRpY2F0aW5nIHdoaWNoXG5jaGlsZHJlbiBiZWxvbmcgdG8gaXQpLlxuKi9cbmNsYXNzIFRyZWVCdWZmZXIge1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIHRyZWUgYnVmZmVyLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIGJ1ZmZlcidzIGNvbnRlbnQuXG4gICAgKi9cbiAgICBidWZmZXIsIFxuICAgIC8qKlxuICAgIFRoZSB0b3RhbCBsZW5ndGggb2YgdGhlIGdyb3VwIG9mIG5vZGVzIGluIHRoZSBidWZmZXIuXG4gICAgKi9cbiAgICBsZW5ndGgsIFxuICAgIC8qKlxuICAgIFRoZSBub2RlIHNldCB1c2VkIGluIHRoaXMgYnVmZmVyLlxuICAgICovXG4gICAgc2V0KSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiBOb2RlVHlwZS5ub25lOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5idWZmZXIubGVuZ3RoOykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5jaGlsZFN0cmluZyhpbmRleCkpO1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLmJ1ZmZlcltpbmRleCArIDNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbihcIixcIik7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2hpbGRTdHJpbmcoaW5kZXgpIHtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5idWZmZXJbaW5kZXhdLCBlbmRJbmRleCA9IHRoaXMuYnVmZmVyW2luZGV4ICsgM107XG4gICAgICAgIGxldCB0eXBlID0gdGhpcy5zZXQudHlwZXNbaWRdLCByZXN1bHQgPSB0eXBlLm5hbWU7XG4gICAgICAgIGlmICgvXFxXLy50ZXN0KHJlc3VsdCkgJiYgIXR5cGUuaXNFcnJvcilcbiAgICAgICAgICAgIHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gICAgICAgIGluZGV4ICs9IDQ7XG4gICAgICAgIGlmIChlbmRJbmRleCA9PSBpbmRleClcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBlbmRJbmRleCkge1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkU3RyaW5nKGluZGV4KSk7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuYnVmZmVyW2luZGV4ICsgM107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIFwiKFwiICsgY2hpbGRyZW4uam9pbihcIixcIikgKyBcIilcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBmaW5kQ2hpbGQoc3RhcnRJbmRleCwgZW5kSW5kZXgsIGRpciwgcG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcywgcGljayA9IC0xO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSAhPSBlbmRJbmRleDsgaSA9IGJ1ZmZlcltpICsgM10pIHtcbiAgICAgICAgICAgIGlmIChjaGVja1NpZGUoc2lkZSwgcG9zLCBidWZmZXJbaSArIDFdLCBidWZmZXJbaSArIDJdKSkge1xuICAgICAgICAgICAgICAgIHBpY2sgPSBpO1xuICAgICAgICAgICAgICAgIGlmIChkaXIgPiAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGljaztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzbGljZShzdGFydEksIGVuZEksIGZyb20pIHtcbiAgICAgICAgbGV0IGIgPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgbGV0IGNvcHkgPSBuZXcgVWludDE2QXJyYXkoZW5kSSAtIHN0YXJ0SSksIGxlbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydEksIGogPSAwOyBpIDwgZW5kSTspIHtcbiAgICAgICAgICAgIGNvcHlbaisrXSA9IGJbaSsrXTtcbiAgICAgICAgICAgIGNvcHlbaisrXSA9IGJbaSsrXSAtIGZyb207XG4gICAgICAgICAgICBsZXQgdG8gPSBjb3B5W2orK10gPSBiW2krK10gLSBmcm9tO1xuICAgICAgICAgICAgY29weVtqKytdID0gYltpKytdIC0gc3RhcnRJO1xuICAgICAgICAgICAgbGVuID0gTWF0aC5tYXgobGVuLCB0byk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlQnVmZmVyKGNvcHksIGxlbiwgdGhpcy5zZXQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrU2lkZShzaWRlLCBwb3MsIGZyb20sIHRvKSB7XG4gICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICAgIGNhc2UgLTIgLyogU2lkZS5CZWZvcmUgKi86IHJldHVybiBmcm9tIDwgcG9zO1xuICAgICAgICBjYXNlIC0xIC8qIFNpZGUuQXRPckJlZm9yZSAqLzogcmV0dXJuIHRvID49IHBvcyAmJiBmcm9tIDwgcG9zO1xuICAgICAgICBjYXNlIDAgLyogU2lkZS5Bcm91bmQgKi86IHJldHVybiBmcm9tIDwgcG9zICYmIHRvID4gcG9zO1xuICAgICAgICBjYXNlIDEgLyogU2lkZS5BdE9yQWZ0ZXIgKi86IHJldHVybiBmcm9tIDw9IHBvcyAmJiB0byA+IHBvcztcbiAgICAgICAgY2FzZSAyIC8qIFNpZGUuQWZ0ZXIgKi86IHJldHVybiB0byA+IHBvcztcbiAgICAgICAgY2FzZSA0IC8qIFNpZGUuRG9udENhcmUgKi86IHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVOb2RlKG5vZGUsIHBvcywgc2lkZSwgb3ZlcmxheXMpIHtcbiAgICB2YXIgX2E7XG4gICAgLy8gTW92ZSB1cCB0byBhIG5vZGUgdGhhdCBhY3R1YWxseSBob2xkcyB0aGUgcG9zaXRpb24sIGlmIHBvc3NpYmxlXG4gICAgd2hpbGUgKG5vZGUuZnJvbSA9PSBub2RlLnRvIHx8XG4gICAgICAgIChzaWRlIDwgMSA/IG5vZGUuZnJvbSA+PSBwb3MgOiBub2RlLmZyb20gPiBwb3MpIHx8XG4gICAgICAgIChzaWRlID4gLTEgPyBub2RlLnRvIDw9IHBvcyA6IG5vZGUudG8gPCBwb3MpKSB7XG4gICAgICAgIGxldCBwYXJlbnQgPSAhb3ZlcmxheXMgJiYgbm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlICYmIG5vZGUuaW5kZXggPCAwID8gbnVsbCA6IG5vZGUucGFyZW50O1xuICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICBub2RlID0gcGFyZW50O1xuICAgIH1cbiAgICBsZXQgbW9kZSA9IG92ZXJsYXlzID8gMCA6IEl0ZXJNb2RlLklnbm9yZU92ZXJsYXlzO1xuICAgIC8vIE11c3QgZ28gdXAgb3V0IG9mIG92ZXJsYXlzIHdoZW4gdGhvc2UgZG8gbm90IG92ZXJsYXAgd2l0aCBwb3NcbiAgICBpZiAob3ZlcmxheXMpXG4gICAgICAgIGZvciAobGV0IHNjYW4gPSBub2RlLCBwYXJlbnQgPSBzY2FuLnBhcmVudDsgcGFyZW50OyBzY2FuID0gcGFyZW50LCBwYXJlbnQgPSBzY2FuLnBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHNjYW4gaW5zdGFuY2VvZiBUcmVlTm9kZSAmJiBzY2FuLmluZGV4IDwgMCAmJiAoKF9hID0gcGFyZW50LmVudGVyKHBvcywgc2lkZSwgbW9kZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mcm9tKSAhPSBzY2FuLmZyb20pXG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgIGZvciAoOzspIHtcbiAgICAgICAgbGV0IGlubmVyID0gbm9kZS5lbnRlcihwb3MsIHNpZGUsIG1vZGUpO1xuICAgICAgICBpZiAoIWlubmVyKVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIG5vZGUgPSBpbm5lcjtcbiAgICB9XG59XG5jbGFzcyBCYXNlTm9kZSB7XG4gICAgY3Vyc29yKG1vZGUgPSAwKSB7IHJldHVybiBuZXcgVHJlZUN1cnNvcih0aGlzLCBtb2RlKTsgfVxuICAgIGdldENoaWxkKHR5cGUsIGJlZm9yZSA9IG51bGwsIGFmdGVyID0gbnVsbCkge1xuICAgICAgICBsZXQgciA9IGdldENoaWxkcmVuKHRoaXMsIHR5cGUsIGJlZm9yZSwgYWZ0ZXIpO1xuICAgICAgICByZXR1cm4gci5sZW5ndGggPyByWzBdIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0Q2hpbGRyZW4odHlwZSwgYmVmb3JlID0gbnVsbCwgYWZ0ZXIgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXRDaGlsZHJlbih0aGlzLCB0eXBlLCBiZWZvcmUsIGFmdGVyKTtcbiAgICB9XG4gICAgcmVzb2x2ZShwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlTm9kZSh0aGlzLCBwb3MsIHNpZGUsIGZhbHNlKTtcbiAgICB9XG4gICAgcmVzb2x2ZUlubmVyKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVOb2RlKHRoaXMsIHBvcywgc2lkZSwgdHJ1ZSk7XG4gICAgfVxuICAgIG1hdGNoQ29udGV4dChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBtYXRjaE5vZGVDb250ZXh0KHRoaXMsIGNvbnRleHQpO1xuICAgIH1cbiAgICBlbnRlclVuZmluaXNoZWROb2Rlc0JlZm9yZShwb3MpIHtcbiAgICAgICAgbGV0IHNjYW4gPSB0aGlzLmNoaWxkQmVmb3JlKHBvcyksIG5vZGUgPSB0aGlzO1xuICAgICAgICB3aGlsZSAoc2Nhbikge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSBzY2FuLmxhc3RDaGlsZDtcbiAgICAgICAgICAgIGlmICghbGFzdCB8fCBsYXN0LnRvICE9IHNjYW4udG8pXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAobGFzdC50eXBlLmlzRXJyb3IgJiYgbGFzdC5mcm9tID09IGxhc3QudG8pIHtcbiAgICAgICAgICAgICAgICBub2RlID0gc2NhbjtcbiAgICAgICAgICAgICAgICBzY2FuID0gbGFzdC5wcmV2U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjYW4gPSBsYXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBnZXQgbm9kZSgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgICBnZXQgbmV4dCgpIHsgcmV0dXJuIHRoaXMucGFyZW50OyB9XG59XG5jbGFzcyBUcmVlTm9kZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihfdHJlZSwgZnJvbSwgXG4gICAgLy8gSW5kZXggaW4gcGFyZW50IG5vZGUsIHNldCB0byAtMSBpZiB0aGUgbm9kZSBpcyBub3QgYSBkaXJlY3QgY2hpbGQgb2YgX3BhcmVudC5ub2RlIChvdmVybGF5KVxuICAgIGluZGV4LCBfcGFyZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3RyZWUgPSBfdHJlZTtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWUudHlwZTsgfVxuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gdGhpcy5fdHJlZS50eXBlLm5hbWU7IH1cbiAgICBnZXQgdG8oKSB7IHJldHVybiB0aGlzLmZyb20gKyB0aGlzLl90cmVlLmxlbmd0aDsgfVxuICAgIG5leHRDaGlsZChpLCBkaXIsIHBvcywgc2lkZSwgbW9kZSA9IDApIHtcbiAgICAgICAgZm9yIChsZXQgcGFyZW50ID0gdGhpczs7KSB7XG4gICAgICAgICAgICBmb3IgKGxldCB7IGNoaWxkcmVuLCBwb3NpdGlvbnMgfSA9IHBhcmVudC5fdHJlZSwgZSA9IGRpciA+IDAgPyBjaGlsZHJlbi5sZW5ndGggOiAtMTsgaSAhPSBlOyBpICs9IGRpcikge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gY2hpbGRyZW5baV0sIHN0YXJ0ID0gcG9zaXRpb25zW2ldICsgcGFyZW50LmZyb207XG4gICAgICAgICAgICAgICAgaWYgKCFjaGVja1NpZGUoc2lkZSwgcG9zLCBzdGFydCwgc3RhcnQgKyBuZXh0Lmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0IGluc3RhbmNlb2YgVHJlZUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZSAmIEl0ZXJNb2RlLkV4Y2x1ZGVCdWZmZXJzKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IG5leHQuZmluZENoaWxkKDAsIG5leHQuYnVmZmVyLmxlbmd0aCwgZGlyLCBwb3MgLSBzdGFydCwgc2lkZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXJOb2RlKG5ldyBCdWZmZXJDb250ZXh0KHBhcmVudCwgbmV4dCwgaSwgc3RhcnQpLCBudWxsLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChtb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgfHwgKCFuZXh0LnR5cGUuaXNBbm9ueW1vdXMgfHwgaGFzQ2hpbGQobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtb3VudGVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShtb2RlICYgSXRlck1vZGUuSWdub3JlTW91bnRzKSAmJiAobW91bnRlZCA9IE1vdW50ZWRUcmVlLmdldChuZXh0KSkgJiYgIW1vdW50ZWQub3ZlcmxheSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVHJlZU5vZGUobW91bnRlZC50cmVlLCBzdGFydCwgaSwgcGFyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlubmVyID0gbmV3IFRyZWVOb2RlKG5leHQsIHN0YXJ0LCBpLCBwYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSB8fCAhaW5uZXIudHlwZS5pc0Fub255bW91cyA/IGlubmVyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGlubmVyLm5leHRDaGlsZChkaXIgPCAwID8gbmV4dC5jaGlsZHJlbi5sZW5ndGggLSAxIDogMCwgZGlyLCBwb3MsIHNpZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgobW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpIHx8ICFwYXJlbnQudHlwZS5pc0Fub255bW91cylcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuaW5kZXggPj0gMClcbiAgICAgICAgICAgICAgICBpID0gcGFyZW50LmluZGV4ICsgZGlyO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGkgPSBkaXIgPCAwID8gLTEgOiBwYXJlbnQuX3BhcmVudC5fdHJlZS5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX3BhcmVudDtcbiAgICAgICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBmaXJzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5uZXh0Q2hpbGQoMCwgMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTsgfVxuICAgIGdldCBsYXN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLm5leHRDaGlsZCh0aGlzLl90cmVlLmNoaWxkcmVuLmxlbmd0aCAtIDEsIC0xLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pOyB9XG4gICAgY2hpbGRBZnRlcihwb3MpIHsgcmV0dXJuIHRoaXMubmV4dENoaWxkKDAsIDEsIHBvcywgMiAvKiBTaWRlLkFmdGVyICovKTsgfVxuICAgIGNoaWxkQmVmb3JlKHBvcykgeyByZXR1cm4gdGhpcy5uZXh0Q2hpbGQodGhpcy5fdHJlZS5jaGlsZHJlbi5sZW5ndGggLSAxLCAtMSwgcG9zLCAtMiAvKiBTaWRlLkJlZm9yZSAqLyk7IH1cbiAgICBlbnRlcihwb3MsIHNpZGUsIG1vZGUgPSAwKSB7XG4gICAgICAgIGxldCBtb3VudGVkO1xuICAgICAgICBpZiAoIShtb2RlICYgSXRlck1vZGUuSWdub3JlT3ZlcmxheXMpICYmIChtb3VudGVkID0gTW91bnRlZFRyZWUuZ2V0KHRoaXMuX3RyZWUpKSAmJiBtb3VudGVkLm92ZXJsYXkpIHtcbiAgICAgICAgICAgIGxldCByUG9zID0gcG9zIC0gdGhpcy5mcm9tO1xuICAgICAgICAgICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIG1vdW50ZWQub3ZlcmxheSkge1xuICAgICAgICAgICAgICAgIGlmICgoc2lkZSA+IDAgPyBmcm9tIDw9IHJQb3MgOiBmcm9tIDwgclBvcykgJiZcbiAgICAgICAgICAgICAgICAgICAgKHNpZGUgPCAwID8gdG8gPj0gclBvcyA6IHRvID4gclBvcykpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVHJlZU5vZGUobW91bnRlZC50cmVlLCBtb3VudGVkLm92ZXJsYXlbMF0uZnJvbSArIHRoaXMuZnJvbSwgLTEsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRDaGlsZCgwLCAxLCBwb3MsIHNpZGUsIG1vZGUpO1xuICAgIH1cbiAgICBuZXh0U2lnbmlmaWNhbnRQYXJlbnQoKSB7XG4gICAgICAgIGxldCB2YWwgPSB0aGlzO1xuICAgICAgICB3aGlsZSAodmFsLnR5cGUuaXNBbm9ueW1vdXMgJiYgdmFsLl9wYXJlbnQpXG4gICAgICAgICAgICB2YWwgPSB2YWwuX3BhcmVudDtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCA/IHRoaXMuX3BhcmVudC5uZXh0U2lnbmlmaWNhbnRQYXJlbnQoKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBuZXh0U2libGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCAmJiB0aGlzLmluZGV4ID49IDAgPyB0aGlzLl9wYXJlbnQubmV4dENoaWxkKHRoaXMuaW5kZXggKyAxLCAxLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IHByZXZTaWJsaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50ICYmIHRoaXMuaW5kZXggPj0gMCA/IHRoaXMuX3BhcmVudC5uZXh0Q2hpbGQodGhpcy5pbmRleCAtIDEsIC0xLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IHRyZWUoKSB7IHJldHVybiB0aGlzLl90cmVlOyB9XG4gICAgdG9UcmVlKCkgeyByZXR1cm4gdGhpcy5fdHJlZTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiB0aGlzLl90cmVlLnRvU3RyaW5nKCk7IH1cbn1cbmZ1bmN0aW9uIGdldENoaWxkcmVuKG5vZGUsIHR5cGUsIGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICBsZXQgY3VyID0gbm9kZS5jdXJzb3IoKSwgcmVzdWx0ID0gW107XG4gICAgaWYgKCFjdXIuZmlyc3RDaGlsZCgpKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIGlmIChiZWZvcmUgIT0gbnVsbClcbiAgICAgICAgd2hpbGUgKCFjdXIudHlwZS5pcyhiZWZvcmUpKVxuICAgICAgICAgICAgaWYgKCFjdXIubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKGFmdGVyICE9IG51bGwgJiYgY3VyLnR5cGUuaXMoYWZ0ZXIpKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgaWYgKGN1ci50eXBlLmlzKHR5cGUpKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VyLm5vZGUpO1xuICAgICAgICBpZiAoIWN1ci5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgcmV0dXJuIGFmdGVyID09IG51bGwgPyByZXN1bHQgOiBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYXRjaE5vZGVDb250ZXh0KG5vZGUsIGNvbnRleHQsIGkgPSBjb250ZXh0Lmxlbmd0aCAtIDEpIHtcbiAgICBmb3IgKGxldCBwID0gbm9kZS5wYXJlbnQ7IGkgPj0gMDsgcCA9IHAucGFyZW50KSB7XG4gICAgICAgIGlmICghcClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFwLnR5cGUuaXNBbm9ueW1vdXMpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0W2ldICYmIGNvbnRleHRbaV0gIT0gcC5uYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmNsYXNzIEJ1ZmZlckNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgYnVmZmVyLCBpbmRleCwgc3RhcnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICB9XG59XG5jbGFzcyBCdWZmZXJOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gdGhpcy50eXBlLm5hbWU7IH1cbiAgICBnZXQgZnJvbSgpIHsgcmV0dXJuIHRoaXMuY29udGV4dC5zdGFydCArIHRoaXMuY29udGV4dC5idWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAxXTsgfVxuICAgIGdldCB0bygpIHsgcmV0dXJuIHRoaXMuY29udGV4dC5zdGFydCArIHRoaXMuY29udGV4dC5idWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAyXTsgfVxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIF9wYXJlbnQsIGluZGV4KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy50eXBlID0gY29udGV4dC5idWZmZXIuc2V0LnR5cGVzW2NvbnRleHQuYnVmZmVyLmJ1ZmZlcltpbmRleF1dO1xuICAgIH1cbiAgICBjaGlsZChkaXIsIHBvcywgc2lkZSkge1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IGluZGV4ID0gYnVmZmVyLmZpbmRDaGlsZCh0aGlzLmluZGV4ICsgNCwgYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM10sIGRpciwgcG9zIC0gdGhpcy5jb250ZXh0LnN0YXJ0LCBzaWRlKTtcbiAgICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IG51bGwgOiBuZXcgQnVmZmVyTm9kZSh0aGlzLmNvbnRleHQsIHRoaXMsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0IGZpcnN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmNoaWxkKDEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICBnZXQgbGFzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5jaGlsZCgtMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTsgfVxuICAgIGNoaWxkQWZ0ZXIocG9zKSB7IHJldHVybiB0aGlzLmNoaWxkKDEsIHBvcywgMiAvKiBTaWRlLkFmdGVyICovKTsgfVxuICAgIGNoaWxkQmVmb3JlKHBvcykgeyByZXR1cm4gdGhpcy5jaGlsZCgtMSwgcG9zLCAtMiAvKiBTaWRlLkJlZm9yZSAqLyk7IH1cbiAgICBlbnRlcihwb3MsIHNpZGUsIG1vZGUgPSAwKSB7XG4gICAgICAgIGlmIChtb2RlICYgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBpbmRleCA9IGJ1ZmZlci5maW5kQ2hpbGQodGhpcy5pbmRleCArIDQsIGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdLCBzaWRlID4gMCA/IDEgOiAtMSwgcG9zIC0gdGhpcy5jb250ZXh0LnN0YXJ0LCBzaWRlKTtcbiAgICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IG51bGwgOiBuZXcgQnVmZmVyTm9kZSh0aGlzLmNvbnRleHQsIHRoaXMsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCB8fCB0aGlzLmNvbnRleHQucGFyZW50Lm5leHRTaWduaWZpY2FudFBhcmVudCgpO1xuICAgIH1cbiAgICBleHRlcm5hbFNpYmxpbmcoZGlyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgPyBudWxsIDogdGhpcy5jb250ZXh0LnBhcmVudC5uZXh0Q2hpbGQodGhpcy5jb250ZXh0LmluZGV4ICsgZGlyLCBkaXIsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7XG4gICAgfVxuICAgIGdldCBuZXh0U2libGluZygpIHtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBhZnRlciA9IGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdO1xuICAgICAgICBpZiAoYWZ0ZXIgPCAodGhpcy5fcGFyZW50ID8gYnVmZmVyLmJ1ZmZlclt0aGlzLl9wYXJlbnQuaW5kZXggKyAzXSA6IGJ1ZmZlci5idWZmZXIubGVuZ3RoKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyTm9kZSh0aGlzLmNvbnRleHQsIHRoaXMuX3BhcmVudCwgYWZ0ZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5leHRlcm5hbFNpYmxpbmcoMSk7XG4gICAgfVxuICAgIGdldCBwcmV2U2libGluZygpIHtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBwYXJlbnRTdGFydCA9IHRoaXMuX3BhcmVudCA/IHRoaXMuX3BhcmVudC5pbmRleCArIDQgOiAwO1xuICAgICAgICBpZiAodGhpcy5pbmRleCA9PSBwYXJlbnRTdGFydClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVybmFsU2libGluZygtMSk7XG4gICAgICAgIHJldHVybiBuZXcgQnVmZmVyTm9kZSh0aGlzLmNvbnRleHQsIHRoaXMuX3BhcmVudCwgYnVmZmVyLmZpbmRDaGlsZChwYXJlbnRTdGFydCwgdGhpcy5pbmRleCwgLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykpO1xuICAgIH1cbiAgICBnZXQgdHJlZSgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICB0b1RyZWUoKSB7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IFtdLCBwb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBzdGFydEkgPSB0aGlzLmluZGV4ICsgNCwgZW5kSSA9IGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdO1xuICAgICAgICBpZiAoZW5kSSA+IHN0YXJ0SSkge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAxXTtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goYnVmZmVyLnNsaWNlKHN0YXJ0SSwgZW5kSSwgZnJvbSkpO1xuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlKHRoaXMudHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgdGhpcy50byAtIHRoaXMuZnJvbSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiB0aGlzLmNvbnRleHQuYnVmZmVyLmNoaWxkU3RyaW5nKHRoaXMuaW5kZXgpOyB9XG59XG5mdW5jdGlvbiBpdGVyU3RhY2soaGVhZHMpIHtcbiAgICBpZiAoIWhlYWRzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKGhlYWRzLmxlbmd0aCA9PSAxKVxuICAgICAgICByZXR1cm4gaGVhZHNbMF07XG4gICAgbGV0IHBpY2sgPSAwLCBwaWNrZWQgPSBoZWFkc1swXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGhlYWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBub2RlID0gaGVhZHNbaV07XG4gICAgICAgIGlmIChub2RlLmZyb20gPiBwaWNrZWQuZnJvbSB8fCBub2RlLnRvIDwgcGlja2VkLnRvKSB7XG4gICAgICAgICAgICBwaWNrZWQgPSBub2RlO1xuICAgICAgICAgICAgcGljayA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IG5leHQgPSBwaWNrZWQgaW5zdGFuY2VvZiBUcmVlTm9kZSAmJiBwaWNrZWQuaW5kZXggPCAwID8gbnVsbCA6IHBpY2tlZC5wYXJlbnQ7XG4gICAgbGV0IG5ld0hlYWRzID0gaGVhZHMuc2xpY2UoKTtcbiAgICBpZiAobmV4dClcbiAgICAgICAgbmV3SGVhZHNbcGlja10gPSBuZXh0O1xuICAgIGVsc2VcbiAgICAgICAgbmV3SGVhZHMuc3BsaWNlKHBpY2ssIDEpO1xuICAgIHJldHVybiBuZXcgU3RhY2tJdGVyYXRvcihuZXdIZWFkcywgcGlja2VkKTtcbn1cbmNsYXNzIFN0YWNrSXRlcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGhlYWRzLCBub2RlKSB7XG4gICAgICAgIHRoaXMuaGVhZHMgPSBoZWFkcztcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICB9XG4gICAgZ2V0IG5leHQoKSB7IHJldHVybiBpdGVyU3RhY2sodGhpcy5oZWFkcyk7IH1cbn1cbmZ1bmN0aW9uIHN0YWNrSXRlcmF0b3IodHJlZSwgcG9zLCBzaWRlKSB7XG4gICAgbGV0IGlubmVyID0gdHJlZS5yZXNvbHZlSW5uZXIocG9zLCBzaWRlKSwgbGF5ZXJzID0gbnVsbDtcbiAgICBmb3IgKGxldCBzY2FuID0gaW5uZXIgaW5zdGFuY2VvZiBUcmVlTm9kZSA/IGlubmVyIDogaW5uZXIuY29udGV4dC5wYXJlbnQ7IHNjYW47IHNjYW4gPSBzY2FuLnBhcmVudCkge1xuICAgICAgICBpZiAoc2Nhbi5pbmRleCA8IDApIHsgLy8gVGhpcyBpcyBhbiBvdmVybGF5IHJvb3RcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBzY2FuLnBhcmVudDtcbiAgICAgICAgICAgIChsYXllcnMgfHwgKGxheWVycyA9IFtpbm5lcl0pKS5wdXNoKHBhcmVudC5yZXNvbHZlKHBvcywgc2lkZSkpO1xuICAgICAgICAgICAgc2NhbiA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBtb3VudCA9IE1vdW50ZWRUcmVlLmdldChzY2FuLnRyZWUpO1xuICAgICAgICAgICAgLy8gUmVsZXZhbnQgb3ZlcmxheSBicmFuY2hpbmcgb2ZmXG4gICAgICAgICAgICBpZiAobW91bnQgJiYgbW91bnQub3ZlcmxheSAmJiBtb3VudC5vdmVybGF5WzBdLmZyb20gPD0gcG9zICYmIG1vdW50Lm92ZXJsYXlbbW91bnQub3ZlcmxheS5sZW5ndGggLSAxXS50byA+PSBwb3MpIHtcbiAgICAgICAgICAgICAgICBsZXQgcm9vdCA9IG5ldyBUcmVlTm9kZShtb3VudC50cmVlLCBtb3VudC5vdmVybGF5WzBdLmZyb20gKyBzY2FuLmZyb20sIDAsIG51bGwpO1xuICAgICAgICAgICAgICAgIChsYXllcnMgfHwgKGxheWVycyA9IFtpbm5lcl0pKS5wdXNoKHJlc29sdmVOb2RlKHJvb3QsIHBvcywgc2lkZSwgZmFsc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGF5ZXJzID8gaXRlclN0YWNrKGxheWVycykgOiBpbm5lcjtcbn1cbi8qKlxuQSB0cmVlIGN1cnNvciBvYmplY3QgZm9jdXNlcyBvbiBhIGdpdmVuIG5vZGUgaW4gYSBzeW50YXggdHJlZSwgYW5kXG5hbGxvd3MgeW91IHRvIG1vdmUgdG8gYWRqYWNlbnQgbm9kZXMuXG4qL1xuY2xhc3MgVHJlZUN1cnNvciB7XG4gICAgLyoqXG4gICAgU2hvcnRoYW5kIGZvciBgLnR5cGUubmFtZWAuXG4gICAgKi9cbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuIHRoaXMudHlwZS5uYW1lOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihub2RlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1vZGUgPSAwKSB7XG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMuYnVmZmVyTm9kZSA9IG51bGw7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgVHJlZU5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMueWllbGROb2RlKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdHJlZSA9IG5vZGUuY29udGV4dC5wYXJlbnQ7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IG5vZGUuY29udGV4dDtcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSBub2RlLl9wYXJlbnQ7IG47IG4gPSBuLl9wYXJlbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFjay51bnNoaWZ0KG4uaW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJOb2RlID0gbm9kZTtcbiAgICAgICAgICAgIHRoaXMueWllbGRCdWYobm9kZS5pbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeWllbGROb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLl90cmVlID0gbm9kZTtcbiAgICAgICAgdGhpcy50eXBlID0gbm9kZS50eXBlO1xuICAgICAgICB0aGlzLmZyb20gPSBub2RlLmZyb207XG4gICAgICAgIHRoaXMudG8gPSBub2RlLnRvO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgeWllbGRCdWYoaW5kZXgsIHR5cGUpIHtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICBsZXQgeyBzdGFydCwgYnVmZmVyIH0gPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZSB8fCBidWZmZXIuc2V0LnR5cGVzW2J1ZmZlci5idWZmZXJbaW5kZXhdXTtcbiAgICAgICAgdGhpcy5mcm9tID0gc3RhcnQgKyBidWZmZXIuYnVmZmVyW2luZGV4ICsgMV07XG4gICAgICAgIHRoaXMudG8gPSBzdGFydCArIGJ1ZmZlci5idWZmZXJbaW5kZXggKyAyXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHlpZWxkKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZE5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXIgPSBub2RlLmNvbnRleHQ7XG4gICAgICAgIHJldHVybiB0aGlzLnlpZWxkQnVmKG5vZGUuaW5kZXgsIG5vZGUudHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlciA/IHRoaXMuYnVmZmVyLmJ1ZmZlci5jaGlsZFN0cmluZyh0aGlzLmluZGV4KSA6IHRoaXMuX3RyZWUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBlbnRlckNoaWxkKGRpciwgcG9zLCBzaWRlKSB7XG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZCh0aGlzLl90cmVlLm5leHRDaGlsZChkaXIgPCAwID8gdGhpcy5fdHJlZS5fdHJlZS5jaGlsZHJlbi5sZW5ndGggLSAxIDogMCwgZGlyLCBwb3MsIHNpZGUsIHRoaXMubW9kZSkpO1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBsZXQgaW5kZXggPSBidWZmZXIuZmluZENoaWxkKHRoaXMuaW5kZXggKyA0LCBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAzXSwgZGlyLCBwb3MgLSB0aGlzLmJ1ZmZlci5zdGFydCwgc2lkZSk7XG4gICAgICAgIGlmIChpbmRleCA8IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhY2sucHVzaCh0aGlzLmluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYoaW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhpcyBub2RlJ3MgZmlyc3QgY2hpbGQuIFdoZW4gdGhpcyByZXR1cm5zXG4gICAgZmFsc2UsIHRoZSBub2RlIGhhcyBubyBjaGlsZCwgYW5kIHRoZSBjdXJzb3IgaGFzIG5vdCBiZWVuIG1vdmVkLlxuICAgICovXG4gICAgZmlyc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuZW50ZXJDaGlsZCgxLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0aGUgY3Vyc29yIHRvIHRoaXMgbm9kZSdzIGxhc3QgY2hpbGQuXG4gICAgKi9cbiAgICBsYXN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmVudGVyQ2hpbGQoLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIGZpcnN0IGNoaWxkIHRoYXQgZW5kcyBhZnRlciBgcG9zYC5cbiAgICAqL1xuICAgIGNoaWxkQWZ0ZXIocG9zKSB7IHJldHVybiB0aGlzLmVudGVyQ2hpbGQoMSwgcG9zLCAyIC8qIFNpZGUuQWZ0ZXIgKi8pOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGUgbGFzdCBjaGlsZCB0aGF0IHN0YXJ0cyBiZWZvcmUgYHBvc2AuXG4gICAgKi9cbiAgICBjaGlsZEJlZm9yZShwb3MpIHsgcmV0dXJuIHRoaXMuZW50ZXJDaGlsZCgtMSwgcG9zLCAtMiAvKiBTaWRlLkJlZm9yZSAqLyk7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIGNoaWxkIGFyb3VuZCBgcG9zYC4gSWYgc2lkZSBpcyAtMSB0aGVcbiAgICBjaGlsZCBtYXkgZW5kIGF0IHRoYXQgcG9zaXRpb24sIHdoZW4gMSBpdCBtYXkgc3RhcnQgdGhlcmUuIFRoaXNcbiAgICB3aWxsIGFsc28gZW50ZXIgW292ZXJsYWlkXSgjY29tbW9uLk1vdW50ZWRUcmVlLm92ZXJsYXkpXG4gICAgW21vdW50ZWRdKCNjb21tb24uTm9kZVByb3BebW91bnRlZCkgdHJlZXMgdW5sZXNzIGBvdmVybGF5c2AgaXNcbiAgICBzZXQgdG8gZmFsc2UuXG4gICAgKi9cbiAgICBlbnRlcihwb3MsIHNpZGUsIG1vZGUgPSB0aGlzLm1vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnlpZWxkKHRoaXMuX3RyZWUuZW50ZXIocG9zLCBzaWRlLCBtb2RlKSk7XG4gICAgICAgIHJldHVybiBtb2RlICYgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMgPyBmYWxzZSA6IHRoaXMuZW50ZXJDaGlsZCgxLCBwb3MsIHNpZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoZSBub2RlJ3MgcGFyZW50IG5vZGUsIGlmIHRoaXMgaXNuJ3QgdGhlIHRvcCBub2RlLlxuICAgICovXG4gICAgcGFyZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGROb2RlKCh0aGlzLm1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSA/IHRoaXMuX3RyZWUuX3BhcmVudCA6IHRoaXMuX3RyZWUucGFyZW50KTtcbiAgICAgICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYodGhpcy5zdGFjay5wb3AoKSk7XG4gICAgICAgIGxldCBwYXJlbnQgPSAodGhpcy5tb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgPyB0aGlzLmJ1ZmZlci5wYXJlbnQgOiB0aGlzLmJ1ZmZlci5wYXJlbnQubmV4dFNpZ25pZmljYW50UGFyZW50KCk7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMueWllbGROb2RlKHBhcmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2libGluZyhkaXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5fdHJlZS5fcGFyZW50ID8gZmFsc2VcbiAgICAgICAgICAgICAgICA6IHRoaXMueWllbGQodGhpcy5fdHJlZS5pbmRleCA8IDAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fdHJlZS5fcGFyZW50Lm5leHRDaGlsZCh0aGlzLl90cmVlLmluZGV4ICsgZGlyLCBkaXIsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLywgdGhpcy5tb2RlKSk7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5idWZmZXIsIGQgPSB0aGlzLnN0YWNrLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChkaXIgPCAwKSB7XG4gICAgICAgICAgICBsZXQgcGFyZW50U3RhcnQgPSBkIDwgMCA/IDAgOiB0aGlzLnN0YWNrW2RdICsgNDtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ICE9IHBhcmVudFN0YXJ0KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnlpZWxkQnVmKGJ1ZmZlci5maW5kQ2hpbGQocGFyZW50U3RhcnQsIHRoaXMuaW5kZXgsIC0xLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBhZnRlciA9IGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdO1xuICAgICAgICAgICAgaWYgKGFmdGVyIDwgKGQgPCAwID8gYnVmZmVyLmJ1ZmZlci5sZW5ndGggOiBidWZmZXIuYnVmZmVyW3RoaXMuc3RhY2tbZF0gKyAzXSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYoYWZ0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkIDwgMCA/IHRoaXMueWllbGQodGhpcy5idWZmZXIucGFyZW50Lm5leHRDaGlsZCh0aGlzLmJ1ZmZlci5pbmRleCArIGRpciwgZGlyLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8sIHRoaXMubW9kZSkpIDogZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhpcyBub2RlJ3MgbmV4dCBzaWJsaW5nLCBpZiBhbnkuXG4gICAgKi9cbiAgICBuZXh0U2libGluZygpIHsgcmV0dXJuIHRoaXMuc2libGluZygxKTsgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhpcyBub2RlJ3MgcHJldmlvdXMgc2libGluZywgaWYgYW55LlxuICAgICovXG4gICAgcHJldlNpYmxpbmcoKSB7IHJldHVybiB0aGlzLnNpYmxpbmcoLTEpOyB9XG4gICAgYXRMYXN0Tm9kZShkaXIpIHtcbiAgICAgICAgbGV0IGluZGV4LCBwYXJlbnQsIHsgYnVmZmVyIH0gPSB0aGlzO1xuICAgICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgICAgICBpZiAoZGlyID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluZGV4IDwgYnVmZmVyLmJ1ZmZlci5idWZmZXIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kZXg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5idWZmZXIuYnVmZmVyW2kgKyAzXSA8IHRoaXMuaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoeyBpbmRleCwgcGFyZW50IH0gPSBidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgKHsgaW5kZXgsIF9wYXJlbnQ6IHBhcmVudCB9ID0gdGhpcy5fdHJlZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICg7IHBhcmVudDsgeyBpbmRleCwgX3BhcmVudDogcGFyZW50IH0gPSBwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleCArIGRpciwgZSA9IGRpciA8IDAgPyAtMSA6IHBhcmVudC5fdHJlZS5jaGlsZHJlbi5sZW5ndGg7IGkgIT0gZTsgaSArPSBkaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gcGFyZW50Ll90cmVlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHRoaXMubW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBpbnN0YW5jZW9mIFRyZWVCdWZmZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFjaGlsZC50eXBlLmlzQW5vbnltb3VzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGlsZChjaGlsZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBtb3ZlKGRpciwgZW50ZXIpIHtcbiAgICAgICAgaWYgKGVudGVyICYmIHRoaXMuZW50ZXJDaGlsZChkaXIsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2libGluZyhkaXIpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXRMYXN0Tm9kZShkaXIpIHx8ICF0aGlzLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoZSBuZXh0IG5vZGUgaW4gYVxuICAgIFtwcmUtb3JkZXJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1RyZWVfdHJhdmVyc2FsI1ByZS1vcmRlcixfTkxSKVxuICAgIHRyYXZlcnNhbCwgZ29pbmcgZnJvbSBhIG5vZGUgdG8gaXRzIGZpcnN0IGNoaWxkIG9yLCBpZiB0aGVcbiAgICBjdXJyZW50IG5vZGUgaXMgZW1wdHkgb3IgYGVudGVyYCBpcyBmYWxzZSwgaXRzIG5leHQgc2libGluZyBvclxuICAgIHRoZSBuZXh0IHNpYmxpbmcgb2YgdGhlIGZpcnN0IHBhcmVudCBub2RlIHRoYXQgaGFzIG9uZS5cbiAgICAqL1xuICAgIG5leHQoZW50ZXIgPSB0cnVlKSB7IHJldHVybiB0aGlzLm1vdmUoMSwgZW50ZXIpOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGUgbmV4dCBub2RlIGluIGEgbGFzdC10by1maXJzdCBwcmUtb3JkZXIgdHJhdmVyYWwuIEFcbiAgICBub2RlIGlzIGZvbGxvd2VkIGJ5IGl0cyBsYXN0IGNoaWxkIG9yLCBpZiBpdCBoYXMgbm9uZSwgaXRzXG4gICAgcHJldmlvdXMgc2libGluZyBvciB0aGUgcHJldmlvdXMgc2libGluZyBvZiB0aGUgZmlyc3QgcGFyZW50XG4gICAgbm9kZSB0aGF0IGhhcyBvbmUuXG4gICAgKi9cbiAgICBwcmV2KGVudGVyID0gdHJ1ZSkgeyByZXR1cm4gdGhpcy5tb3ZlKC0xLCBlbnRlcik7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIGlubmVybW9zdCBub2RlIHRoYXQgY292ZXJzIGBwb3NgLiBJZlxuICAgIGBzaWRlYCBpcyAtMSwgaXQgd2lsbCBlbnRlciBub2RlcyB0aGF0IGVuZCBhdCBgcG9zYC4gSWYgaXQgaXMgMSxcbiAgICBpdCB3aWxsIGVudGVyIG5vZGVzIHRoYXQgc3RhcnQgYXQgYHBvc2AuXG4gICAgKi9cbiAgICBtb3ZlVG8ocG9zLCBzaWRlID0gMCkge1xuICAgICAgICAvLyBNb3ZlIHVwIHRvIGEgbm9kZSB0aGF0IGFjdHVhbGx5IGhvbGRzIHRoZSBwb3NpdGlvbiwgaWYgcG9zc2libGVcbiAgICAgICAgd2hpbGUgKHRoaXMuZnJvbSA9PSB0aGlzLnRvIHx8XG4gICAgICAgICAgICAoc2lkZSA8IDEgPyB0aGlzLmZyb20gPj0gcG9zIDogdGhpcy5mcm9tID4gcG9zKSB8fFxuICAgICAgICAgICAgKHNpZGUgPiAtMSA/IHRoaXMudG8gPD0gcG9zIDogdGhpcy50byA8IHBvcykpXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KCkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIFRoZW4gc2NhbiBkb3duIGludG8gY2hpbGQgbm9kZXMgYXMgZmFyIGFzIHBvc3NpYmxlXG4gICAgICAgIHdoaWxlICh0aGlzLmVudGVyQ2hpbGQoMSwgcG9zLCBzaWRlKSkgeyB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBbc3ludGF4IG5vZGVdKCNjb21tb24uU3ludGF4Tm9kZSkgYXQgdGhlIGN1cnNvcidzIGN1cnJlbnRcbiAgICBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGdldCBub2RlKCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyZWU7XG4gICAgICAgIGxldCBjYWNoZSA9IHRoaXMuYnVmZmVyTm9kZSwgcmVzdWx0ID0gbnVsbCwgZGVwdGggPSAwO1xuICAgICAgICBpZiAoY2FjaGUgJiYgY2FjaGUuY29udGV4dCA9PSB0aGlzLmJ1ZmZlcikge1xuICAgICAgICAgICAgc2NhbjogZm9yIChsZXQgaW5kZXggPSB0aGlzLmluZGV4LCBkID0gdGhpcy5zdGFjay5sZW5ndGg7IGQgPj0gMDspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjID0gY2FjaGU7IGM7IGMgPSBjLl9wYXJlbnQpXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmluZGV4ID09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gdGhpcy5pbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGM7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXB0aCA9IGQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgc2NhbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5zdGFja1stLWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSBkZXB0aDsgaSA8IHRoaXMuc3RhY2subGVuZ3RoOyBpKyspXG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgQnVmZmVyTm9kZSh0aGlzLmJ1ZmZlciwgcmVzdWx0LCB0aGlzLnN0YWNrW2ldKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyTm9kZSA9IG5ldyBCdWZmZXJOb2RlKHRoaXMuYnVmZmVyLCByZXN1bHQsIHRoaXMuaW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIFt0cmVlXSgjY29tbW9uLlRyZWUpIHRoYXQgcmVwcmVzZW50cyB0aGUgY3VycmVudCBub2RlLCBpZlxuICAgIGFueS4gV2lsbCByZXR1cm4gbnVsbCB3aGVuIHRoZSBub2RlIGlzIGluIGEgW3RyZWVcbiAgICBidWZmZXJdKCNjb21tb24uVHJlZUJ1ZmZlcikuXG4gICAgKi9cbiAgICBnZXQgdHJlZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyID8gbnVsbCA6IHRoaXMuX3RyZWUuX3RyZWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgY3VycmVudCBub2RlIGFuZCBhbGwgaXRzIGRlc2NlbmRhbnRzLCBjYWxsaW5nXG4gICAgYGVudGVyYCB3aGVuIGVudGVyaW5nIGEgbm9kZSBhbmQgYGxlYXZlYCwgaWYgZ2l2ZW4sIHdoZW4gbGVhdmluZ1xuICAgIG9uZS4gV2hlbiBgZW50ZXJgIHJldHVybnMgYGZhbHNlYCwgYW55IGNoaWxkcmVuIG9mIHRoYXQgbm9kZSBhcmVcbiAgICBza2lwcGVkLCBhbmQgYGxlYXZlYCBpc24ndCBjYWxsZWQgZm9yIGl0LlxuICAgICovXG4gICAgaXRlcmF0ZShlbnRlciwgbGVhdmUpIHtcbiAgICAgICAgZm9yIChsZXQgZGVwdGggPSAwOzspIHtcbiAgICAgICAgICAgIGxldCBtdXN0TGVhdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUuaXNBbm9ueW1vdXMgfHwgZW50ZXIodGhpcykgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlyc3RDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudHlwZS5pc0Fub255bW91cylcbiAgICAgICAgICAgICAgICAgICAgbXVzdExlYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBpZiAobXVzdExlYXZlICYmIGxlYXZlKVxuICAgICAgICAgICAgICAgICAgICBsZWF2ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICBtdXN0TGVhdmUgPSB0aGlzLnR5cGUuaXNBbm9ueW1vdXM7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKCFkZXB0aClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICAgICAgICBtdXN0TGVhdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIFRlc3Qgd2hldGhlciB0aGUgY3VycmVudCBub2RlIG1hdGNoZXMgYSBnaXZlbiBjb250ZXh04oCUYSBzZXF1ZW5jZVxuICAgIG9mIGRpcmVjdCBwYXJlbnQgbm9kZSBuYW1lcy4gRW1wdHkgc3RyaW5ncyBpbiB0aGUgY29udGV4dCBhcnJheVxuICAgIGFyZSB0cmVhdGVkIGFzIHdpbGRjYXJkcy5cbiAgICAqL1xuICAgIG1hdGNoQ29udGV4dChjb250ZXh0KSB7XG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hOb2RlQ29udGV4dCh0aGlzLm5vZGUsIGNvbnRleHQpO1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuYnVmZmVyLCB7IHR5cGVzIH0gPSBidWZmZXIuc2V0O1xuICAgICAgICBmb3IgKGxldCBpID0gY29udGV4dC5sZW5ndGggLSAxLCBkID0gdGhpcy5zdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGQtLSkge1xuICAgICAgICAgICAgaWYgKGQgPCAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaE5vZGVDb250ZXh0KHRoaXMubm9kZSwgY29udGV4dCwgaSk7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IHR5cGVzW2J1ZmZlci5idWZmZXJbdGhpcy5zdGFja1tkXV1dO1xuICAgICAgICAgICAgaWYgKCF0eXBlLmlzQW5vbnltb3VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHRbaV0gJiYgY29udGV4dFtpXSAhPSB0eXBlLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFzQ2hpbGQodHJlZSkge1xuICAgIHJldHVybiB0cmVlLmNoaWxkcmVuLnNvbWUoY2ggPT4gY2ggaW5zdGFuY2VvZiBUcmVlQnVmZmVyIHx8ICFjaC50eXBlLmlzQW5vbnltb3VzIHx8IGhhc0NoaWxkKGNoKSk7XG59XG5mdW5jdGlvbiBidWlsZFRyZWUoZGF0YSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgeyBidWZmZXIsIG5vZGVTZXQsIG1heEJ1ZmZlckxlbmd0aCA9IERlZmF1bHRCdWZmZXJMZW5ndGgsIHJldXNlZCA9IFtdLCBtaW5SZXBlYXRUeXBlID0gbm9kZVNldC50eXBlcy5sZW5ndGggfSA9IGRhdGE7XG4gICAgbGV0IGN1cnNvciA9IEFycmF5LmlzQXJyYXkoYnVmZmVyKSA/IG5ldyBGbGF0QnVmZmVyQ3Vyc29yKGJ1ZmZlciwgYnVmZmVyLmxlbmd0aCkgOiBidWZmZXI7XG4gICAgbGV0IHR5cGVzID0gbm9kZVNldC50eXBlcztcbiAgICBsZXQgY29udGV4dEhhc2ggPSAwLCBsb29rQWhlYWQgPSAwO1xuICAgIGZ1bmN0aW9uIHRha2VOb2RlKHBhcmVudFN0YXJ0LCBtaW5Qb3MsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGluUmVwZWF0KSB7XG4gICAgICAgIGxldCB7IGlkLCBzdGFydCwgZW5kLCBzaXplIH0gPSBjdXJzb3I7XG4gICAgICAgIGxldCBsb29rQWhlYWRBdFN0YXJ0ID0gbG9va0FoZWFkO1xuICAgICAgICB3aGlsZSAoc2l6ZSA8IDApIHtcbiAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICBpZiAoc2l6ZSA9PSAtMSAvKiBTcGVjaWFsUmVjb3JkLlJldXNlICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSByZXVzZWRbaWRdO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goc3RhcnQgLSBwYXJlbnRTdGFydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2l6ZSA9PSAtMyAvKiBTcGVjaWFsUmVjb3JkLkNvbnRleHRDaGFuZ2UgKi8pIHsgLy8gQ29udGV4dCBjaGFuZ2VcbiAgICAgICAgICAgICAgICBjb250ZXh0SGFzaCA9IGlkO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNpemUgPT0gLTQgLyogU3BlY2lhbFJlY29yZC5Mb29rQWhlYWQgKi8pIHtcbiAgICAgICAgICAgICAgICBsb29rQWhlYWQgPSBpZDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgVW5yZWNvZ25pemVkIHJlY29yZCBzaXplOiAke3NpemV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tpZF0sIG5vZGUsIGJ1ZmZlcjtcbiAgICAgICAgbGV0IHN0YXJ0UG9zID0gc3RhcnQgLSBwYXJlbnRTdGFydDtcbiAgICAgICAgaWYgKGVuZCAtIHN0YXJ0IDw9IG1heEJ1ZmZlckxlbmd0aCAmJiAoYnVmZmVyID0gZmluZEJ1ZmZlclNpemUoY3Vyc29yLnBvcyAtIG1pblBvcywgaW5SZXBlYXQpKSkge1xuICAgICAgICAgICAgLy8gU21hbGwgZW5vdWdoIGZvciBhIGJ1ZmZlciwgYW5kIG5vIHJldXNlZCBub2RlcyBpbnNpZGVcbiAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlci5zaXplIC0gYnVmZmVyLnNraXApO1xuICAgICAgICAgICAgbGV0IGVuZFBvcyA9IGN1cnNvci5wb3MgLSBidWZmZXIuc2l6ZSwgaW5kZXggPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJzb3IucG9zID4gZW5kUG9zKVxuICAgICAgICAgICAgICAgIGluZGV4ID0gY29weVRvQnVmZmVyKGJ1ZmZlci5zdGFydCwgZGF0YSwgaW5kZXgpO1xuICAgICAgICAgICAgbm9kZSA9IG5ldyBUcmVlQnVmZmVyKGRhdGEsIGVuZCAtIGJ1ZmZlci5zdGFydCwgbm9kZVNldCk7XG4gICAgICAgICAgICBzdGFydFBvcyA9IGJ1ZmZlci5zdGFydCAtIHBhcmVudFN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBNYWtlIGl0IGEgbm9kZVxuICAgICAgICAgICAgbGV0IGVuZFBvcyA9IGN1cnNvci5wb3MgLSBzaXplO1xuICAgICAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICAgICAgICAgIGxldCBsb2NhbENoaWxkcmVuID0gW10sIGxvY2FsUG9zaXRpb25zID0gW107XG4gICAgICAgICAgICBsZXQgbG9jYWxJblJlcGVhdCA9IGlkID49IG1pblJlcGVhdFR5cGUgPyBpZCA6IC0xO1xuICAgICAgICAgICAgbGV0IGxhc3RHcm91cCA9IDAsIGxhc3RFbmQgPSBlbmQ7XG4gICAgICAgICAgICB3aGlsZSAoY3Vyc29yLnBvcyA+IGVuZFBvcykge1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbEluUmVwZWF0ID49IDAgJiYgY3Vyc29yLmlkID09IGxvY2FsSW5SZXBlYXQgJiYgY3Vyc29yLnNpemUgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLmVuZCA8PSBsYXN0RW5kIC0gbWF4QnVmZmVyTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlUmVwZWF0TGVhZihsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgc3RhcnQsIGxhc3RHcm91cCwgY3Vyc29yLmVuZCwgbGFzdEVuZCwgbG9jYWxJblJlcGVhdCwgbG9va0FoZWFkQXRTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0R3JvdXAgPSBsb2NhbENoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RFbmQgPSBjdXJzb3IuZW5kO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YWtlTm9kZShzdGFydCwgZW5kUG9zLCBsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgbG9jYWxJblJlcGVhdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvY2FsSW5SZXBlYXQgPj0gMCAmJiBsYXN0R3JvdXAgPiAwICYmIGxhc3RHcm91cCA8IGxvY2FsQ2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIG1ha2VSZXBlYXRMZWFmKGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCBzdGFydCwgbGFzdEdyb3VwLCBzdGFydCwgbGFzdEVuZCwgbG9jYWxJblJlcGVhdCwgbG9va0FoZWFkQXRTdGFydCk7XG4gICAgICAgICAgICBsb2NhbENoaWxkcmVuLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGxvY2FsUG9zaXRpb25zLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGlmIChsb2NhbEluUmVwZWF0ID4gLTEgJiYgbGFzdEdyb3VwID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBtYWtlID0gbWFrZUJhbGFuY2VkKHR5cGUpO1xuICAgICAgICAgICAgICAgIG5vZGUgPSBiYWxhbmNlUmFuZ2UodHlwZSwgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIDAsIGxvY2FsQ2hpbGRyZW4ubGVuZ3RoLCAwLCBlbmQgLSBzdGFydCwgbWFrZSwgbWFrZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbWFrZVRyZWUodHlwZSwgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIGVuZCAtIHN0YXJ0LCBsb29rQWhlYWRBdFN0YXJ0IC0gZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICBwb3NpdGlvbnMucHVzaChzdGFydFBvcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VCYWxhbmNlZCh0eXBlKSB7XG4gICAgICAgIHJldHVybiAoY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbG9va0FoZWFkID0gMCwgbGFzdEkgPSBjaGlsZHJlbi5sZW5ndGggLSAxLCBsYXN0LCBsb29rQWhlYWRQcm9wO1xuICAgICAgICAgICAgaWYgKGxhc3RJID49IDAgJiYgKGxhc3QgPSBjaGlsZHJlbltsYXN0SV0pIGluc3RhbmNlb2YgVHJlZSkge1xuICAgICAgICAgICAgICAgIGlmICghbGFzdEkgJiYgbGFzdC50eXBlID09IHR5cGUgJiYgbGFzdC5sZW5ndGggPT0gbGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFzdDtcbiAgICAgICAgICAgICAgICBpZiAobG9va0FoZWFkUHJvcCA9IGxhc3QucHJvcChOb2RlUHJvcC5sb29rQWhlYWQpKVxuICAgICAgICAgICAgICAgICAgICBsb29rQWhlYWQgPSBwb3NpdGlvbnNbbGFzdEldICsgbGFzdC5sZW5ndGggKyBsb29rQWhlYWRQcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1ha2VUcmVlKHR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCwgbG9va0FoZWFkKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZVJlcGVhdExlYWYoY2hpbGRyZW4sIHBvc2l0aW9ucywgYmFzZSwgaSwgZnJvbSwgdG8sIHR5cGUsIGxvb2tBaGVhZCkge1xuICAgICAgICBsZXQgbG9jYWxDaGlsZHJlbiA9IFtdLCBsb2NhbFBvc2l0aW9ucyA9IFtdO1xuICAgICAgICB3aGlsZSAoY2hpbGRyZW4ubGVuZ3RoID4gaSkge1xuICAgICAgICAgICAgbG9jYWxDaGlsZHJlbi5wdXNoKGNoaWxkcmVuLnBvcCgpKTtcbiAgICAgICAgICAgIGxvY2FsUG9zaXRpb25zLnB1c2gocG9zaXRpb25zLnBvcCgpICsgYmFzZSAtIGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkcmVuLnB1c2gobWFrZVRyZWUobm9kZVNldC50eXBlc1t0eXBlXSwgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIHRvIC0gZnJvbSwgbG9va0FoZWFkIC0gdG8pKTtcbiAgICAgICAgcG9zaXRpb25zLnB1c2goZnJvbSAtIGJhc2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlVHJlZSh0eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgsIGxvb2tBaGVhZCA9IDAsIHByb3BzKSB7XG4gICAgICAgIGlmIChjb250ZXh0SGFzaCkge1xuICAgICAgICAgICAgbGV0IHBhaXIgPSBbTm9kZVByb3AuY29udGV4dEhhc2gsIGNvbnRleHRIYXNoXTtcbiAgICAgICAgICAgIHByb3BzID0gcHJvcHMgPyBbcGFpcl0uY29uY2F0KHByb3BzKSA6IFtwYWlyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9va0FoZWFkID4gMjUpIHtcbiAgICAgICAgICAgIGxldCBwYWlyID0gW05vZGVQcm9wLmxvb2tBaGVhZCwgbG9va0FoZWFkXTtcbiAgICAgICAgICAgIHByb3BzID0gcHJvcHMgPyBbcGFpcl0uY29uY2F0KHByb3BzKSA6IFtwYWlyXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRyZWUodHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoLCBwcm9wcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRCdWZmZXJTaXplKG1heFNpemUsIGluUmVwZWF0KSB7XG4gICAgICAgIC8vIFNjYW4gdGhyb3VnaCB0aGUgYnVmZmVyIHRvIGZpbmQgcHJldmlvdXMgc2libGluZ3MgdGhhdCBmaXRcbiAgICAgICAgLy8gdG9nZXRoZXIgaW4gYSBUcmVlQnVmZmVyLCBhbmQgZG9uJ3QgY29udGFpbiBhbnkgcmV1c2VkIG5vZGVzXG4gICAgICAgIC8vICh3aGljaCBjYW4ndCBiZSBzdG9yZWQgaW4gYSBidWZmZXIpLlxuICAgICAgICAvLyBJZiBgaW5SZXBlYXRgIGlzID4gLTEsIGlnbm9yZSBub2RlIGJvdW5kYXJpZXMgb2YgdGhhdCB0eXBlIGZvclxuICAgICAgICAvLyBuZXN0aW5nLCBidXQgbWFrZSBzdXJlIHRoZSBlbmQgZmFsbHMgZWl0aGVyIGF0IHRoZSBzdGFydFxuICAgICAgICAvLyAoYG1heFNpemVgKSBvciBiZWZvcmUgc3VjaCBhIG5vZGUuXG4gICAgICAgIGxldCBmb3JrID0gY3Vyc29yLmZvcmsoKTtcbiAgICAgICAgbGV0IHNpemUgPSAwLCBzdGFydCA9IDAsIHNraXAgPSAwLCBtaW5TdGFydCA9IGZvcmsuZW5kIC0gbWF4QnVmZmVyTGVuZ3RoO1xuICAgICAgICBsZXQgcmVzdWx0ID0geyBzaXplOiAwLCBzdGFydDogMCwgc2tpcDogMCB9O1xuICAgICAgICBzY2FuOiBmb3IgKGxldCBtaW5Qb3MgPSBmb3JrLnBvcyAtIG1heFNpemU7IGZvcmsucG9zID4gbWluUG9zOykge1xuICAgICAgICAgICAgbGV0IG5vZGVTaXplID0gZm9yay5zaXplO1xuICAgICAgICAgICAgLy8gUHJldGVuZCBuZXN0ZWQgcmVwZWF0IG5vZGVzIG9mIHRoZSBzYW1lIHR5cGUgZG9uJ3QgZXhpc3RcbiAgICAgICAgICAgIGlmIChmb3JrLmlkID09IGluUmVwZWF0ICYmIG5vZGVTaXplID49IDApIHtcbiAgICAgICAgICAgICAgICAvLyBFeGNlcHQgdGhhdCB3ZSBzdG9yZSB0aGUgY3VycmVudCBzdGF0ZSBhcyBhIHZhbGlkIHJldHVyblxuICAgICAgICAgICAgICAgIC8vIHZhbHVlLlxuICAgICAgICAgICAgICAgIHJlc3VsdC5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgICAgICByZXN1bHQuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgICAgICByZXN1bHQuc2tpcCA9IHNraXA7XG4gICAgICAgICAgICAgICAgc2tpcCArPSA0O1xuICAgICAgICAgICAgICAgIHNpemUgKz0gNDtcbiAgICAgICAgICAgICAgICBmb3JrLm5leHQoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzdGFydFBvcyA9IGZvcmsucG9zIC0gbm9kZVNpemU7XG4gICAgICAgICAgICBpZiAobm9kZVNpemUgPCAwIHx8IHN0YXJ0UG9zIDwgbWluUG9zIHx8IGZvcmsuc3RhcnQgPCBtaW5TdGFydClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxldCBsb2NhbFNraXBwZWQgPSBmb3JrLmlkID49IG1pblJlcGVhdFR5cGUgPyA0IDogMDtcbiAgICAgICAgICAgIGxldCBub2RlU3RhcnQgPSBmb3JrLnN0YXJ0O1xuICAgICAgICAgICAgZm9yay5uZXh0KCk7XG4gICAgICAgICAgICB3aGlsZSAoZm9yay5wb3MgPiBzdGFydFBvcykge1xuICAgICAgICAgICAgICAgIGlmIChmb3JrLnNpemUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JrLnNpemUgPT0gLTMgLyogU3BlY2lhbFJlY29yZC5Db250ZXh0Q2hhbmdlICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTa2lwcGVkICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHNjYW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvcmsuaWQgPj0gbWluUmVwZWF0VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFNraXBwZWQgKz0gNDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yay5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFydCA9IG5vZGVTdGFydDtcbiAgICAgICAgICAgIHNpemUgKz0gbm9kZVNpemU7XG4gICAgICAgICAgICBza2lwICs9IGxvY2FsU2tpcHBlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5SZXBlYXQgPCAwIHx8IHNpemUgPT0gbWF4U2l6ZSkge1xuICAgICAgICAgICAgcmVzdWx0LnNpemUgPSBzaXplO1xuICAgICAgICAgICAgcmVzdWx0LnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICByZXN1bHQuc2tpcCA9IHNraXA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zaXplID4gNCA/IHJlc3VsdCA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29weVRvQnVmZmVyKGJ1ZmZlclN0YXJ0LCBidWZmZXIsIGluZGV4KSB7XG4gICAgICAgIGxldCB7IGlkLCBzdGFydCwgZW5kLCBzaXplIH0gPSBjdXJzb3I7XG4gICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgIGlmIChzaXplID49IDAgJiYgaWQgPCBtaW5SZXBlYXRUeXBlKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgaWYgKHNpemUgPiA0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuZFBvcyA9IGN1cnNvci5wb3MgLSAoc2l6ZSAtIDQpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJzb3IucG9zID4gZW5kUG9zKVxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGNvcHlUb0J1ZmZlcihidWZmZXJTdGFydCwgYnVmZmVyLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXJbLS1pbmRleF0gPSBzdGFydEluZGV4O1xuICAgICAgICAgICAgYnVmZmVyWy0taW5kZXhdID0gZW5kIC0gYnVmZmVyU3RhcnQ7XG4gICAgICAgICAgICBidWZmZXJbLS1pbmRleF0gPSBzdGFydCAtIGJ1ZmZlclN0YXJ0O1xuICAgICAgICAgICAgYnVmZmVyWy0taW5kZXhdID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA9PSAtMyAvKiBTcGVjaWFsUmVjb3JkLkNvbnRleHRDaGFuZ2UgKi8pIHtcbiAgICAgICAgICAgIGNvbnRleHRIYXNoID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA9PSAtNCAvKiBTcGVjaWFsUmVjb3JkLkxvb2tBaGVhZCAqLykge1xuICAgICAgICAgICAgbG9va0FoZWFkID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBsZXQgY2hpbGRyZW4gPSBbXSwgcG9zaXRpb25zID0gW107XG4gICAgd2hpbGUgKGN1cnNvci5wb3MgPiAwKVxuICAgICAgICB0YWtlTm9kZShkYXRhLnN0YXJ0IHx8IDAsIGRhdGEuYnVmZmVyU3RhcnQgfHwgMCwgY2hpbGRyZW4sIHBvc2l0aW9ucywgLTEpO1xuICAgIGxldCBsZW5ndGggPSAoX2EgPSBkYXRhLmxlbmd0aCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGNoaWxkcmVuLmxlbmd0aCA/IHBvc2l0aW9uc1swXSArIGNoaWxkcmVuWzBdLmxlbmd0aCA6IDApO1xuICAgIHJldHVybiBuZXcgVHJlZSh0eXBlc1tkYXRhLnRvcElEXSwgY2hpbGRyZW4ucmV2ZXJzZSgpLCBwb3NpdGlvbnMucmV2ZXJzZSgpLCBsZW5ndGgpO1xufVxuY29uc3Qgbm9kZVNpemVDYWNoZSA9IG5ldyBXZWFrTWFwO1xuZnVuY3Rpb24gbm9kZVNpemUoYmFsYW5jZVR5cGUsIG5vZGUpIHtcbiAgICBpZiAoIWJhbGFuY2VUeXBlLmlzQW5vbnltb3VzIHx8IG5vZGUgaW5zdGFuY2VvZiBUcmVlQnVmZmVyIHx8IG5vZGUudHlwZSAhPSBiYWxhbmNlVHlwZSlcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgbGV0IHNpemUgPSBub2RlU2l6ZUNhY2hlLmdldChub2RlKTtcbiAgICBpZiAoc2l6ZSA9PSBudWxsKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQudHlwZSAhPSBiYWxhbmNlVHlwZSB8fCAhKGNoaWxkIGluc3RhbmNlb2YgVHJlZSkpIHtcbiAgICAgICAgICAgICAgICBzaXplID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNpemUgKz0gbm9kZVNpemUoYmFsYW5jZVR5cGUsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlU2l6ZUNhY2hlLnNldChub2RlLCBzaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG59XG5mdW5jdGlvbiBiYWxhbmNlUmFuZ2UoXG4vLyBUaGUgdHlwZSB0aGUgYmFsYW5jZWQgdHJlZSdzIGlubmVyIG5vZGVzLlxuYmFsYW5jZVR5cGUsIFxuLy8gVGhlIGRpcmVjdCBjaGlsZHJlbiBhbmQgdGhlaXIgcG9zaXRpb25zXG5jaGlsZHJlbiwgcG9zaXRpb25zLCBcbi8vIFRoZSBpbmRleCByYW5nZSBpbiBjaGlsZHJlbi9wb3NpdGlvbnMgdG8gdXNlXG5mcm9tLCB0bywgXG4vLyBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG5vZGVzLCByZWxhdGl2ZSB0byB0aGVpciBwYXJlbnQuXG5zdGFydCwgXG4vLyBMZW5ndGggb2YgdGhlIG91dGVyIG5vZGVcbmxlbmd0aCwgXG4vLyBGdW5jdGlvbiB0byBidWlsZCB0aGUgdG9wIG5vZGUgb2YgdGhlIGJhbGFuY2VkIHRyZWVcbm1rVG9wLCBcbi8vIEZ1bmN0aW9uIHRvIGJ1aWxkIGludGVybmFsIG5vZGVzIGZvciB0aGUgYmFsYW5jZWQgdHJlZVxubWtUcmVlKSB7XG4gICAgbGV0IHRvdGFsID0gMDtcbiAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOyBpKyspXG4gICAgICAgIHRvdGFsICs9IG5vZGVTaXplKGJhbGFuY2VUeXBlLCBjaGlsZHJlbltpXSk7XG4gICAgbGV0IG1heENoaWxkID0gTWF0aC5jZWlsKCh0b3RhbCAqIDEuNSkgLyA4IC8qIEJhbGFuY2UuQnJhbmNoRmFjdG9yICovKTtcbiAgICBsZXQgbG9jYWxDaGlsZHJlbiA9IFtdLCBsb2NhbFBvc2l0aW9ucyA9IFtdO1xuICAgIGZ1bmN0aW9uIGRpdmlkZShjaGlsZHJlbiwgcG9zaXRpb25zLCBmcm9tLCB0bywgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDwgdG87KSB7XG4gICAgICAgICAgICBsZXQgZ3JvdXBGcm9tID0gaSwgZ3JvdXBTdGFydCA9IHBvc2l0aW9uc1tpXSwgZ3JvdXBTaXplID0gbm9kZVNpemUoYmFsYW5jZVR5cGUsIGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGZvciAoOyBpIDwgdG87IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0U2l6ZSA9IG5vZGVTaXplKGJhbGFuY2VUeXBlLCBjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwU2l6ZSArIG5leHRTaXplID49IG1heENoaWxkKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBncm91cFNpemUgKz0gbmV4dFNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA9PSBncm91cEZyb20gKyAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwU2l6ZSA+IG1heENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvbmx5ID0gY2hpbGRyZW5bZ3JvdXBGcm9tXTsgLy8gT25seSB0cmVlcyBjYW4gaGF2ZSBhIHNpemUgPiAxXG4gICAgICAgICAgICAgICAgICAgIGRpdmlkZShvbmx5LmNoaWxkcmVuLCBvbmx5LnBvc2l0aW9ucywgMCwgb25seS5jaGlsZHJlbi5sZW5ndGgsIHBvc2l0aW9uc1tncm91cEZyb21dICsgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvY2FsQ2hpbGRyZW4ucHVzaChjaGlsZHJlbltncm91cEZyb21dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSBwb3NpdGlvbnNbaSAtIDFdICsgY2hpbGRyZW5baSAtIDFdLmxlbmd0aCAtIGdyb3VwU3RhcnQ7XG4gICAgICAgICAgICAgICAgbG9jYWxDaGlsZHJlbi5wdXNoKGJhbGFuY2VSYW5nZShiYWxhbmNlVHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgZ3JvdXBGcm9tLCBpLCBncm91cFN0YXJ0LCBsZW5ndGgsIG51bGwsIG1rVHJlZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxQb3NpdGlvbnMucHVzaChncm91cFN0YXJ0ICsgb2Zmc2V0IC0gc3RhcnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpdmlkZShjaGlsZHJlbiwgcG9zaXRpb25zLCBmcm9tLCB0bywgMCk7XG4gICAgcmV0dXJuIChta1RvcCB8fCBta1RyZWUpKGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCBsZW5ndGgpO1xufVxuLyoqXG5Qcm92aWRlcyBhIHdheSB0byBhc3NvY2lhdGUgdmFsdWVzIHdpdGggcGllY2VzIG9mIHRyZWVzLiBBcyBsb25nXG5hcyB0aGF0IHBhcnQgb2YgdGhlIHRyZWUgaXMgcmV1c2VkLCB0aGUgYXNzb2NpYXRlZCB2YWx1ZXMgY2FuIGJlXG5yZXRyaWV2ZWQgZnJvbSBhbiB1cGRhdGVkIHRyZWUuXG4qL1xuY2xhc3MgTm9kZVdlYWtNYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgfVxuICAgIHNldEJ1ZmZlcihidWZmZXIsIGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBsZXQgaW5uZXIgPSB0aGlzLm1hcC5nZXQoYnVmZmVyKTtcbiAgICAgICAgaWYgKCFpbm5lcilcbiAgICAgICAgICAgIHRoaXMubWFwLnNldChidWZmZXIsIGlubmVyID0gbmV3IE1hcCk7XG4gICAgICAgIGlubmVyLnNldChpbmRleCwgdmFsdWUpO1xuICAgIH1cbiAgICBnZXRCdWZmZXIoYnVmZmVyLCBpbmRleCkge1xuICAgICAgICBsZXQgaW5uZXIgPSB0aGlzLm1hcC5nZXQoYnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIGlubmVyICYmIGlubmVyLmdldChpbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFNldCB0aGUgdmFsdWUgZm9yIHRoaXMgc3ludGF4IG5vZGUuXG4gICAgKi9cbiAgICBzZXQobm9kZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBCdWZmZXJOb2RlKVxuICAgICAgICAgICAgdGhpcy5zZXRCdWZmZXIobm9kZS5jb250ZXh0LmJ1ZmZlciwgbm9kZS5pbmRleCwgdmFsdWUpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgVHJlZU5vZGUpXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQobm9kZS50cmVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHJpZXZlIHZhbHVlIGZvciB0aGlzIHN5bnRheCBub2RlLCBpZiBpdCBleGlzdHMgaW4gdGhlIG1hcC5cbiAgICAqL1xuICAgIGdldChub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlIGluc3RhbmNlb2YgQnVmZmVyTm9kZSA/IHRoaXMuZ2V0QnVmZmVyKG5vZGUuY29udGV4dC5idWZmZXIsIG5vZGUuaW5kZXgpXG4gICAgICAgICAgICA6IG5vZGUgaW5zdGFuY2VvZiBUcmVlTm9kZSA/IHRoaXMubWFwLmdldChub2RlLnRyZWUpIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICBTZXQgdGhlIHZhbHVlIGZvciB0aGUgbm9kZSB0aGF0IGEgY3Vyc29yIGN1cnJlbnRseSBwb2ludHMgdG8uXG4gICAgKi9cbiAgICBjdXJzb3JTZXQoY3Vyc29yLCB2YWx1ZSkge1xuICAgICAgICBpZiAoY3Vyc29yLmJ1ZmZlcilcbiAgICAgICAgICAgIHRoaXMuc2V0QnVmZmVyKGN1cnNvci5idWZmZXIuYnVmZmVyLCBjdXJzb3IuaW5kZXgsIHZhbHVlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0KGN1cnNvci50cmVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHJpZXZlIHRoZSB2YWx1ZSBmb3IgdGhlIG5vZGUgdGhhdCBhIGN1cnNvciBjdXJyZW50bHkgcG9pbnRzXG4gICAgdG8uXG4gICAgKi9cbiAgICBjdXJzb3JHZXQoY3Vyc29yKSB7XG4gICAgICAgIHJldHVybiBjdXJzb3IuYnVmZmVyID8gdGhpcy5nZXRCdWZmZXIoY3Vyc29yLmJ1ZmZlci5idWZmZXIsIGN1cnNvci5pbmRleCkgOiB0aGlzLm1hcC5nZXQoY3Vyc29yLnRyZWUpO1xuICAgIH1cbn1cblxuLyoqXG5UcmVlIGZyYWdtZW50cyBhcmUgdXNlZCBkdXJpbmcgW2luY3JlbWVudGFsXG5wYXJzaW5nXSgjY29tbW9uLlBhcnNlci5zdGFydFBhcnNlKSB0byB0cmFjayBwYXJ0cyBvZiBvbGQgdHJlZXNcbnRoYXQgY2FuIGJlIHJldXNlZCBpbiBhIG5ldyBwYXJzZS4gQW4gYXJyYXkgb2YgZnJhZ21lbnRzIGlzIHVzZWRcbnRvIHRyYWNrIHJlZ2lvbnMgb2YgYW4gb2xkIHRyZWUgd2hvc2Ugbm9kZXMgbWlnaHQgYmUgcmV1c2VkIGluIG5ld1xucGFyc2VzLiBVc2UgdGhlIHN0YXRpY1xuW2BhcHBseUNoYW5nZXNgXSgjY29tbW9uLlRyZWVGcmFnbWVudF5hcHBseUNoYW5nZXMpIG1ldGhvZCB0b1xudXBkYXRlIGZyYWdtZW50cyBmb3IgZG9jdW1lbnQgY2hhbmdlcy5cbiovXG5jbGFzcyBUcmVlRnJhZ21lbnQge1xuICAgIC8qKlxuICAgIENvbnN0cnVjdCBhIHRyZWUgZnJhZ21lbnQuIFlvdSdsbCB1c3VhbGx5IHdhbnQgdG8gdXNlXG4gICAgW2BhZGRUcmVlYF0oI2NvbW1vbi5UcmVlRnJhZ21lbnReYWRkVHJlZSkgYW5kXG4gICAgW2BhcHBseUNoYW5nZXNgXSgjY29tbW9uLlRyZWVGcmFnbWVudF5hcHBseUNoYW5nZXMpIGluc3RlYWQgb2ZcbiAgICBjYWxsaW5nIHRoaXMgZGlyZWN0bHkuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgc3RhcnQgb2YgdGhlIHVuY2hhbmdlZCByYW5nZSBwb2ludGVkIHRvIGJ5IHRoaXMgZnJhZ21lbnQuXG4gICAgVGhpcyByZWZlcnMgdG8gYW4gb2Zmc2V0IGluIHRoZSBfdXBkYXRlZF8gZG9jdW1lbnQgKGFzIG9wcG9zZWRcbiAgICB0byB0aGUgb3JpZ2luYWwgdHJlZSkuXG4gICAgKi9cbiAgICBmcm9tLCBcbiAgICAvKipcbiAgICBUaGUgZW5kIG9mIHRoZSB1bmNoYW5nZWQgcmFuZ2UuXG4gICAgKi9cbiAgICB0bywgXG4gICAgLyoqXG4gICAgVGhlIHRyZWUgdGhhdCB0aGlzIGZyYWdtZW50IGlzIGJhc2VkIG9uLlxuICAgICovXG4gICAgdHJlZSwgXG4gICAgLyoqXG4gICAgVGhlIG9mZnNldCBiZXR3ZWVuIHRoZSBmcmFnbWVudCdzIHRyZWUgYW5kIHRoZSBkb2N1bWVudCB0aGF0XG4gICAgdGhpcyBmcmFnbWVudCBjYW4gYmUgdXNlZCBhZ2FpbnN0LiBBZGQgdGhpcyB3aGVuIGdvaW5nIGZyb21cbiAgICBkb2N1bWVudCB0byB0cmVlIHBvc2l0aW9ucywgc3VidHJhY3QgaXQgdG8gZ28gZnJvbSB0cmVlIHRvXG4gICAgZG9jdW1lbnQgcG9zaXRpb25zLlxuICAgICovXG4gICAgb2Zmc2V0LCBvcGVuU3RhcnQgPSBmYWxzZSwgb3BlbkVuZCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMub3BlbiA9IChvcGVuU3RhcnQgPyAxIC8qIE9wZW4uU3RhcnQgKi8gOiAwKSB8IChvcGVuRW5kID8gMiAvKiBPcGVuLkVuZCAqLyA6IDApO1xuICAgIH1cbiAgICAvKipcbiAgICBXaGV0aGVyIHRoZSBzdGFydCBvZiB0aGUgZnJhZ21lbnQgcmVwcmVzZW50cyB0aGUgc3RhcnQgb2YgYVxuICAgIHBhcnNlLCBvciB0aGUgZW5kIG9mIGEgY2hhbmdlLiAoSW4gdGhlIHNlY29uZCBjYXNlLCBpdCBtYXkgbm90XG4gICAgYmUgc2FmZSB0byByZXVzZSBzb21lIG5vZGVzIGF0IHRoZSBzdGFydCwgZGVwZW5kaW5nIG9uIHRoZVxuICAgIHBhcnNpbmcgYWxnb3JpdGhtLilcbiAgICAqL1xuICAgIGdldCBvcGVuU3RhcnQoKSB7IHJldHVybiAodGhpcy5vcGVuICYgMSAvKiBPcGVuLlN0YXJ0ICovKSA+IDA7IH1cbiAgICAvKipcbiAgICBXaGV0aGVyIHRoZSBlbmQgb2YgdGhlIGZyYWdtZW50IHJlcHJlc2VudHMgdGhlIGVuZCBvZiBhXG4gICAgZnVsbC1kb2N1bWVudCBwYXJzZSwgb3IgdGhlIHN0YXJ0IG9mIGEgY2hhbmdlLlxuICAgICovXG4gICAgZ2V0IG9wZW5FbmQoKSB7IHJldHVybiAodGhpcy5vcGVuICYgMiAvKiBPcGVuLkVuZCAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc2V0IG9mIGZyYWdtZW50cyBmcm9tIGEgZnJlc2hseSBwYXJzZWQgdHJlZSwgb3IgdXBkYXRlXG4gICAgYW4gZXhpc3Rpbmcgc2V0IG9mIGZyYWdtZW50cyBieSByZXBsYWNpbmcgdGhlIG9uZXMgdGhhdCBvdmVybGFwXG4gICAgd2l0aCBhIHRyZWUgd2l0aCBjb250ZW50IGZyb20gdGhlIG5ldyB0cmVlLiBXaGVuIGBwYXJ0aWFsYCBpc1xuICAgIHRydWUsIHRoZSBwYXJzZSBpcyB0cmVhdGVkIGFzIGluY29tcGxldGUsIGFuZCB0aGUgcmVzdWx0aW5nXG4gICAgZnJhZ21lbnQgaGFzIFtgb3BlbkVuZGBdKCNjb21tb24uVHJlZUZyYWdtZW50Lm9wZW5FbmQpIHNldCB0b1xuICAgIHRydWUuXG4gICAgKi9cbiAgICBzdGF0aWMgYWRkVHJlZSh0cmVlLCBmcmFnbWVudHMgPSBbXSwgcGFydGlhbCA9IGZhbHNlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbbmV3IFRyZWVGcmFnbWVudCgwLCB0cmVlLmxlbmd0aCwgdHJlZSwgMCwgZmFsc2UsIHBhcnRpYWwpXTtcbiAgICAgICAgZm9yIChsZXQgZiBvZiBmcmFnbWVudHMpXG4gICAgICAgICAgICBpZiAoZi50byA+IHRyZWUubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGYpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBBcHBseSBhIHNldCBvZiBlZGl0cyB0byBhbiBhcnJheSBvZiBmcmFnbWVudHMsIHJlbW92aW5nIG9yXG4gICAgc3BsaXR0aW5nIGZyYWdtZW50cyBhcyBuZWNlc3NhcnkgdG8gcmVtb3ZlIGVkaXRlZCByYW5nZXMsIGFuZFxuICAgIGFkanVzdGluZyBvZmZzZXRzIGZvciBmcmFnbWVudHMgdGhhdCBtb3ZlZC5cbiAgICAqL1xuICAgIHN0YXRpYyBhcHBseUNoYW5nZXMoZnJhZ21lbnRzLCBjaGFuZ2VzLCBtaW5HYXAgPSAxMjgpIHtcbiAgICAgICAgaWYgKCFjaGFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmcmFnbWVudHM7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGZJID0gMSwgbmV4dEYgPSBmcmFnbWVudHMubGVuZ3RoID8gZnJhZ21lbnRzWzBdIDogbnVsbDtcbiAgICAgICAgZm9yIChsZXQgY0kgPSAwLCBwb3MgPSAwLCBvZmYgPSAwOzsgY0krKykge1xuICAgICAgICAgICAgbGV0IG5leHRDID0gY0kgPCBjaGFuZ2VzLmxlbmd0aCA/IGNoYW5nZXNbY0ldIDogbnVsbDtcbiAgICAgICAgICAgIGxldCBuZXh0UG9zID0gbmV4dEMgPyBuZXh0Qy5mcm9tQSA6IDFlOTtcbiAgICAgICAgICAgIGlmIChuZXh0UG9zIC0gcG9zID49IG1pbkdhcClcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dEYgJiYgbmV4dEYuZnJvbSA8IG5leHRQb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1dCA9IG5leHRGO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID49IGN1dC5mcm9tIHx8IG5leHRQb3MgPD0gY3V0LnRvIHx8IG9mZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZGcm9tID0gTWF0aC5tYXgoY3V0LmZyb20sIHBvcykgLSBvZmYsIGZUbyA9IE1hdGgubWluKGN1dC50bywgbmV4dFBvcykgLSBvZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXQgPSBmRnJvbSA+PSBmVG8gPyBudWxsIDogbmV3IFRyZWVGcmFnbWVudChmRnJvbSwgZlRvLCBjdXQudHJlZSwgY3V0Lm9mZnNldCArIG9mZiwgY0kgPiAwLCAhIW5leHRDKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3V0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRGLnRvID4gbmV4dFBvcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBuZXh0RiA9IGZJIDwgZnJhZ21lbnRzLmxlbmd0aCA/IGZyYWdtZW50c1tmSSsrXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuZXh0QylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHBvcyA9IG5leHRDLnRvQTtcbiAgICAgICAgICAgIG9mZiA9IG5leHRDLnRvQSAtIG5leHRDLnRvQjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8qKlxuQSBzdXBlcmNsYXNzIHRoYXQgcGFyc2VycyBzaG91bGQgZXh0ZW5kLlxuKi9cbmNsYXNzIFBhcnNlciB7XG4gICAgLyoqXG4gICAgU3RhcnQgYSBwYXJzZSwgcmV0dXJuaW5nIGEgW3BhcnRpYWwgcGFyc2VdKCNjb21tb24uUGFydGlhbFBhcnNlKVxuICAgIG9iamVjdC4gW2BmcmFnbWVudHNgXSgjY29tbW9uLlRyZWVGcmFnbWVudCkgY2FuIGJlIHBhc3NlZCBpbiB0b1xuICAgIG1ha2UgdGhlIHBhcnNlIGluY3JlbWVudGFsLlxuICAgIFxuICAgIEJ5IGRlZmF1bHQsIHRoZSBlbnRpcmUgaW5wdXQgaXMgcGFyc2VkLiBZb3UgY2FuIHBhc3MgYHJhbmdlc2AsXG4gICAgd2hpY2ggc2hvdWxkIGJlIGEgc29ydGVkIGFycmF5IG9mIG5vbi1lbXB0eSwgbm9uLW92ZXJsYXBwaW5nXG4gICAgcmFuZ2VzLCB0byBwYXJzZSBvbmx5IHRob3NlIHJhbmdlcy4gVGhlIHRyZWUgcmV0dXJuZWQgaW4gdGhhdFxuICAgIGNhc2Ugd2lsbCBzdGFydCBhdCBgcmFuZ2VzWzBdLmZyb21gLlxuICAgICovXG4gICAgc3RhcnRQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgaW5wdXQgPSBuZXcgU3RyaW5nSW5wdXQoaW5wdXQpO1xuICAgICAgICByYW5nZXMgPSAhcmFuZ2VzID8gW25ldyBSYW5nZSgwLCBpbnB1dC5sZW5ndGgpXSA6IHJhbmdlcy5sZW5ndGggPyByYW5nZXMubWFwKHIgPT4gbmV3IFJhbmdlKHIuZnJvbSwgci50bykpIDogW25ldyBSYW5nZSgwLCAwKV07XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVBhcnNlKGlucHV0LCBmcmFnbWVudHMgfHwgW10sIHJhbmdlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJ1biBhIGZ1bGwgcGFyc2UsIHJldHVybmluZyB0aGUgcmVzdWx0aW5nIHRyZWUuXG4gICAgKi9cbiAgICBwYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgbGV0IHBhcnNlID0gdGhpcy5zdGFydFBhcnNlKGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcyk7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBkb25lID0gcGFyc2UuYWR2YW5jZSgpO1xuICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmU7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBTdHJpbmdJbnB1dCB7XG4gICAgY29uc3RydWN0b3Ioc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3RyaW5nID0gc3RyaW5nO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkgeyByZXR1cm4gdGhpcy5zdHJpbmcubGVuZ3RoOyB9XG4gICAgY2h1bmsoZnJvbSkgeyByZXR1cm4gdGhpcy5zdHJpbmcuc2xpY2UoZnJvbSk7IH1cbiAgICBnZXQgbGluZUNodW5rcygpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgcmVhZChmcm9tLCB0bykgeyByZXR1cm4gdGhpcy5zdHJpbmcuc2xpY2UoZnJvbSwgdG8pOyB9XG59XG5cbi8qKlxuQ3JlYXRlIGEgcGFyc2Ugd3JhcHBlciB0aGF0LCBhZnRlciB0aGUgaW5uZXIgcGFyc2UgY29tcGxldGVzLFxuc2NhbnMgaXRzIHRyZWUgZm9yIG1peGVkIGxhbmd1YWdlIHJlZ2lvbnMgd2l0aCB0aGUgYG5lc3RgXG5mdW5jdGlvbiwgcnVucyB0aGUgcmVzdWx0aW5nIFtpbm5lciBwYXJzZXNdKCNjb21tb24uTmVzdGVkUGFyc2UpLFxuYW5kIHRoZW4gW21vdW50c10oI2NvbW1vbi5Ob2RlUHJvcF5tb3VudGVkKSB0aGVpciByZXN1bHRzIG9udG8gdGhlXG50cmVlLlxuKi9cbmZ1bmN0aW9uIHBhcnNlTWl4ZWQobmVzdCkge1xuICAgIHJldHVybiAocGFyc2UsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykgPT4gbmV3IE1peGVkUGFyc2UocGFyc2UsIG5lc3QsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcyk7XG59XG5jbGFzcyBJbm5lclBhcnNlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXIsIHBhcnNlLCBvdmVybGF5LCB0YXJnZXQsIHJhbmdlcykge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHBhcnNlO1xuICAgICAgICB0aGlzLm92ZXJsYXkgPSBvdmVybGF5O1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIGlmICghcmFuZ2VzLmxlbmd0aCB8fCByYW5nZXMuc29tZShyID0+IHIuZnJvbSA+PSByLnRvKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbm5lciBwYXJzZSByYW5nZXMgZ2l2ZW46IFwiICsgSlNPTi5zdHJpbmdpZnkocmFuZ2VzKSk7XG4gICAgfVxufVxuY2xhc3MgQWN0aXZlT3ZlcmxheSB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBwcmVkaWNhdGUsIG1vdW50cywgaW5kZXgsIHN0YXJ0LCB0YXJnZXQsIHByZXYpIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICB0aGlzLm1vdW50cyA9IG1vdW50cztcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLnByZXYgPSBwcmV2O1xuICAgICAgICB0aGlzLmRlcHRoID0gMDtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSBbXTtcbiAgICB9XG59XG5jb25zdCBzdG9wcGVkSW5uZXIgPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuY2xhc3MgTWl4ZWRQYXJzZSB7XG4gICAgY29uc3RydWN0b3IoYmFzZSwgbmVzdCwgaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKSB7XG4gICAgICAgIHRoaXMubmVzdCA9IG5lc3Q7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBmcmFnbWVudHM7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gcmFuZ2VzO1xuICAgICAgICB0aGlzLmlubmVyID0gW107XG4gICAgICAgIHRoaXMuaW5uZXJEb25lID0gMDtcbiAgICAgICAgdGhpcy5iYXNlVHJlZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXNlUGFyc2UgPSBiYXNlO1xuICAgIH1cbiAgICBhZHZhbmNlKCkge1xuICAgICAgICBpZiAodGhpcy5iYXNlUGFyc2UpIHtcbiAgICAgICAgICAgIGxldCBkb25lID0gdGhpcy5iYXNlUGFyc2UuYWR2YW5jZSgpO1xuICAgICAgICAgICAgaWYgKCFkb25lKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGFyc2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5iYXNlVHJlZSA9IGRvbmU7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0SW5uZXIoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3BwZWRBdCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlubmVyIG9mIHRoaXMuaW5uZXIpXG4gICAgICAgICAgICAgICAgICAgIGlubmVyLnBhcnNlLnN0b3BBdCh0aGlzLnN0b3BwZWRBdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5uZXJEb25lID09IHRoaXMuaW5uZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5iYXNlVHJlZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3BwZWRBdCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBUcmVlKHJlc3VsdC50eXBlLCByZXN1bHQuY2hpbGRyZW4sIHJlc3VsdC5wb3NpdGlvbnMsIHJlc3VsdC5sZW5ndGgsIHJlc3VsdC5wcm9wVmFsdWVzLmNvbmNhdChbW3N0b3BwZWRJbm5lciwgdGhpcy5zdG9wcGVkQXRdXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW5uZXIgPSB0aGlzLmlubmVyW3RoaXMuaW5uZXJEb25lXSwgZG9uZSA9IGlubmVyLnBhcnNlLmFkdmFuY2UoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5uZXJEb25lKys7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgc29tZXdoYXQgZG9kZ3kgYnV0IHN1cGVyIGhlbHBmdWwgaGFjayB3aGVyZSB3ZVxuICAgICAgICAgICAgLy8gcGF0Y2ggdXAgbm9kZXMgY3JlYXRlZCBieSB0aGUgaW5uZXIgcGFyc2UgKGFuZCB0aHVzXG4gICAgICAgICAgICAvLyBwcmVzdW1hYmx5IG5vdCBhbGlhc2VkIGFueXdoZXJlIGVsc2UpIHRvIGhvbGQgdGhlIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAvLyBhYm91dCB0aGUgaW5uZXIgcGFyc2UuXG4gICAgICAgICAgICBsZXQgcHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIGlubmVyLnRhcmdldC5wcm9wcyk7XG4gICAgICAgICAgICBwcm9wc1tOb2RlUHJvcC5tb3VudGVkLmlkXSA9IG5ldyBNb3VudGVkVHJlZShkb25lLCBpbm5lci5vdmVybGF5LCBpbm5lci5wYXJzZXIpO1xuICAgICAgICAgICAgaW5uZXIudGFyZ2V0LnByb3BzID0gcHJvcHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGdldCBwYXJzZWRQb3MoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VQYXJzZSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgcG9zID0gdGhpcy5pbnB1dC5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmlubmVyRG9uZTsgaSA8IHRoaXMuaW5uZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlubmVyW2ldLnJhbmdlc1swXS5mcm9tIDwgcG9zKVxuICAgICAgICAgICAgICAgIHBvcyA9IE1hdGgubWluKHBvcywgdGhpcy5pbm5lcltpXS5wYXJzZS5wYXJzZWRQb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuICAgIHN0b3BBdChwb3MpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkQXQgPSBwb3M7XG4gICAgICAgIGlmICh0aGlzLmJhc2VQYXJzZSlcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhcnNlLnN0b3BBdChwb3MpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5pbm5lckRvbmU7IGkgPCB0aGlzLmlubmVyLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJbaV0ucGFyc2Uuc3RvcEF0KHBvcyk7XG4gICAgfVxuICAgIHN0YXJ0SW5uZXIoKSB7XG4gICAgICAgIGxldCBmcmFnbWVudEN1cnNvciA9IG5ldyBGcmFnbWVudEN1cnNvcih0aGlzLmZyYWdtZW50cyk7XG4gICAgICAgIGxldCBvdmVybGF5ID0gbnVsbDtcbiAgICAgICAgbGV0IGNvdmVyZWQgPSBudWxsO1xuICAgICAgICBsZXQgY3Vyc29yID0gbmV3IFRyZWVDdXJzb3IobmV3IFRyZWVOb2RlKHRoaXMuYmFzZVRyZWUsIHRoaXMucmFuZ2VzWzBdLmZyb20sIDAsIG51bGwpLCBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzIHwgSXRlck1vZGUuSWdub3JlTW91bnRzKTtcbiAgICAgICAgc2NhbjogZm9yIChsZXQgbmVzdCwgaXNDb3ZlcmVkOyB0aGlzLnN0b3BwZWRBdCA9PSBudWxsIHx8IGN1cnNvci5mcm9tIDwgdGhpcy5zdG9wcGVkQXQ7KSB7XG4gICAgICAgICAgICBsZXQgZW50ZXIgPSB0cnVlLCByYW5nZTtcbiAgICAgICAgICAgIGlmIChmcmFnbWVudEN1cnNvci5oYXNOb2RlKGN1cnNvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcmxheSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSBvdmVybGF5Lm1vdW50cy5maW5kKG0gPT4gbS5mcmFnLmZyb20gPD0gY3Vyc29yLmZyb20gJiYgbS5mcmFnLnRvID49IGN1cnNvci50byAmJiBtLm1vdW50Lm92ZXJsYXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByIG9mIG1hdGNoLm1vdW50Lm92ZXJsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHIuZnJvbSArIG1hdGNoLnBvcywgdG8gPSByLnRvICsgbWF0Y2gucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcm9tID49IGN1cnNvci5mcm9tICYmIHRvIDw9IGN1cnNvci50byAmJiAhb3ZlcmxheS5yYW5nZXMuc29tZShyID0+IHIuZnJvbSA8IHRvICYmIHIudG8gPiBmcm9tKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5yYW5nZXMucHVzaCh7IGZyb20sIHRvIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbnRlciA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY292ZXJlZCAmJiAoaXNDb3ZlcmVkID0gY2hlY2tDb3Zlcihjb3ZlcmVkLnJhbmdlcywgY3Vyc29yLmZyb20sIGN1cnNvci50bykpKSB7XG4gICAgICAgICAgICAgICAgZW50ZXIgPSBpc0NvdmVyZWQgIT0gMiAvKiBDb3Zlci5GdWxsICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWN1cnNvci50eXBlLmlzQW5vbnltb3VzICYmIGN1cnNvci5mcm9tIDwgY3Vyc29yLnRvICYmIChuZXN0ID0gdGhpcy5uZXN0KGN1cnNvciwgdGhpcy5pbnB1dCkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IudHJlZSlcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxpemUoY3Vyc29yKTtcbiAgICAgICAgICAgICAgICBsZXQgb2xkTW91bnRzID0gZnJhZ21lbnRDdXJzb3IuZmluZE1vdW50cyhjdXJzb3IuZnJvbSwgbmVzdC5wYXJzZXIpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmVzdC5vdmVybGF5ID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5ID0gbmV3IEFjdGl2ZU92ZXJsYXkobmVzdC5wYXJzZXIsIG5lc3Qub3ZlcmxheSwgb2xkTW91bnRzLCB0aGlzLmlubmVyLmxlbmd0aCwgY3Vyc29yLmZyb20sIGN1cnNvci50cmVlLCBvdmVybGF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByYW5nZXMgPSBwdW5jaFJhbmdlcyh0aGlzLnJhbmdlcywgbmVzdC5vdmVybGF5IHx8IFtuZXcgUmFuZ2UoY3Vyc29yLmZyb20sIGN1cnNvci50byldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlubmVyLnB1c2gobmV3IElubmVyUGFyc2UobmVzdC5wYXJzZXIsIG5lc3QucGFyc2VyLnN0YXJ0UGFyc2UodGhpcy5pbnB1dCwgZW50ZXJGcmFnbWVudHMob2xkTW91bnRzLCByYW5nZXMpLCByYW5nZXMpLCBuZXN0Lm92ZXJsYXkgPyBuZXN0Lm92ZXJsYXkubWFwKHIgPT4gbmV3IFJhbmdlKHIuZnJvbSAtIGN1cnNvci5mcm9tLCByLnRvIC0gY3Vyc29yLmZyb20pKSA6IG51bGwsIGN1cnNvci50cmVlLCByYW5nZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXN0Lm92ZXJsYXkpXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJlZCA9IHsgcmFuZ2VzLCBkZXB0aDogMCwgcHJldjogY292ZXJlZCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG92ZXJsYXkgJiYgKHJhbmdlID0gb3ZlcmxheS5wcmVkaWNhdGUoY3Vyc29yKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UgPT09IHRydWUpXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKGN1cnNvci5mcm9tLCBjdXJzb3IudG8pO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5mcm9tIDwgcmFuZ2UudG8pXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkucmFuZ2VzLnB1c2gocmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVudGVyICYmIGN1cnNvci5maXJzdENoaWxkKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcmxheSlcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5kZXB0aCsrO1xuICAgICAgICAgICAgICAgIGlmIChjb3ZlcmVkKVxuICAgICAgICAgICAgICAgICAgICBjb3ZlcmVkLmRlcHRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJzb3IubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnNvci5wYXJlbnQoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHNjYW47XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVybGF5ICYmICEtLW92ZXJsYXkuZGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByYW5nZXMgPSBwdW5jaFJhbmdlcyh0aGlzLnJhbmdlcywgb3ZlcmxheS5yYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbm5lci5zcGxpY2Uob3ZlcmxheS5pbmRleCwgMCwgbmV3IElubmVyUGFyc2Uob3ZlcmxheS5wYXJzZXIsIG92ZXJsYXkucGFyc2VyLnN0YXJ0UGFyc2UodGhpcy5pbnB1dCwgZW50ZXJGcmFnbWVudHMob3ZlcmxheS5tb3VudHMsIHJhbmdlcyksIHJhbmdlcyksIG92ZXJsYXkucmFuZ2VzLm1hcChyID0+IG5ldyBSYW5nZShyLmZyb20gLSBvdmVybGF5LnN0YXJ0LCByLnRvIC0gb3ZlcmxheS5zdGFydCkpLCBvdmVybGF5LnRhcmdldCwgcmFuZ2VzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5ID0gb3ZlcmxheS5wcmV2O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3ZlcmVkICYmICEtLWNvdmVyZWQuZGVwdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcmVkID0gY292ZXJlZC5wcmV2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrQ292ZXIoY292ZXJlZCwgZnJvbSwgdG8pIHtcbiAgICBmb3IgKGxldCByYW5nZSBvZiBjb3ZlcmVkKSB7XG4gICAgICAgIGlmIChyYW5nZS5mcm9tID49IHRvKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChyYW5nZS50byA+IGZyb20pXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2UuZnJvbSA8PSBmcm9tICYmIHJhbmdlLnRvID49IHRvID8gMiAvKiBDb3Zlci5GdWxsICovIDogMSAvKiBDb3Zlci5QYXJ0aWFsICovO1xuICAgIH1cbiAgICByZXR1cm4gMCAvKiBDb3Zlci5Ob25lICovO1xufVxuLy8gVGFrZSBhIHBpZWNlIG9mIGJ1ZmZlciBhbmQgY29udmVydCBpdCBpbnRvIGEgc3RhbmQtYWxvbmVcbi8vIFRyZWVCdWZmZXIuXG5mdW5jdGlvbiBzbGljZUJ1ZihidWYsIHN0YXJ0SSwgZW5kSSwgbm9kZXMsIHBvc2l0aW9ucywgb2ZmKSB7XG4gICAgaWYgKHN0YXJ0SSA8IGVuZEkpIHtcbiAgICAgICAgbGV0IGZyb20gPSBidWYuYnVmZmVyW3N0YXJ0SSArIDFdO1xuICAgICAgICBub2Rlcy5wdXNoKGJ1Zi5zbGljZShzdGFydEksIGVuZEksIGZyb20pKTtcbiAgICAgICAgcG9zaXRpb25zLnB1c2goZnJvbSAtIG9mZik7XG4gICAgfVxufVxuLy8gVGhpcyBmdW5jdGlvbiB0YWtlcyBhIG5vZGUgdGhhdCdzIGluIGEgYnVmZmVyLCBhbmQgY29udmVydHMgaXQsIGFuZFxuLy8gaXRzIHBhcmVudCBidWZmZXIgbm9kZXMsIGludG8gYSBUcmVlLiBUaGlzIGlzIGFnYWluIGFjdGluZyBvbiB0aGVcbi8vIGFzc3VtcHRpb24gdGhhdCB0aGUgdHJlZXMgYW5kIGJ1ZmZlcnMgaGF2ZSBiZWVuIGNvbnN0cnVjdGVkIGJ5IHRoZVxuLy8gcGFyc2UgdGhhdCB3YXMgcmFuIHZpYSB0aGUgbWl4IHBhcnNlciwgYW5kIHRodXMgYXJlbid0IHNoYXJlZCB3aXRoXG4vLyBhbnkgb3RoZXIgY29kZSwgbWFraW5nIHZpb2xhdGlvbnMgb2YgdGhlIGltbXV0YWJpbGl0eSBzYWZlLlxuZnVuY3Rpb24gbWF0ZXJpYWxpemUoY3Vyc29yKSB7XG4gICAgbGV0IHsgbm9kZSB9ID0gY3Vyc29yLCBkZXB0aCA9IDA7XG4gICAgLy8gU2NhbiB1cCB0byB0aGUgbmVhcmVzdCB0cmVlXG4gICAgZG8ge1xuICAgICAgICBjdXJzb3IucGFyZW50KCk7XG4gICAgICAgIGRlcHRoKys7XG4gICAgfSB3aGlsZSAoIWN1cnNvci50cmVlKTtcbiAgICAvLyBGaW5kIHRoZSBpbmRleCBvZiB0aGUgYnVmZmVyIGluIHRoYXQgdHJlZVxuICAgIGxldCBpID0gMCwgYmFzZSA9IGN1cnNvci50cmVlLCBvZmYgPSAwO1xuICAgIGZvciAoOzsgaSsrKSB7XG4gICAgICAgIG9mZiA9IGJhc2UucG9zaXRpb25zW2ldICsgY3Vyc29yLmZyb207XG4gICAgICAgIGlmIChvZmYgPD0gbm9kZS5mcm9tICYmIG9mZiArIGJhc2UuY2hpbGRyZW5baV0ubGVuZ3RoID49IG5vZGUudG8pXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgbGV0IGJ1ZiA9IGJhc2UuY2hpbGRyZW5baV0sIGIgPSBidWYuYnVmZmVyO1xuICAgIC8vIFNwbGl0IGEgbGV2ZWwgaW4gdGhlIGJ1ZmZlciwgcHV0dGluZyB0aGUgbm9kZXMgYmVmb3JlIGFuZCBhZnRlclxuICAgIC8vIHRoZSBjaGlsZCB0aGF0IGNvbnRhaW5zIGBub2RlYCBpbnRvIG5ldyBidWZmZXJzLlxuICAgIGZ1bmN0aW9uIHNwbGl0KHN0YXJ0SSwgZW5kSSwgdHlwZSwgaW5uZXJPZmZzZXQsIGxlbmd0aCkge1xuICAgICAgICBsZXQgaSA9IHN0YXJ0STtcbiAgICAgICAgd2hpbGUgKGJbaSArIDJdICsgb2ZmIDw9IG5vZGUuZnJvbSlcbiAgICAgICAgICAgIGkgPSBiW2kgKyAzXTtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gW10sIHBvc2l0aW9ucyA9IFtdO1xuICAgICAgICBzbGljZUJ1ZihidWYsIHN0YXJ0SSwgaSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgaW5uZXJPZmZzZXQpO1xuICAgICAgICBsZXQgZnJvbSA9IGJbaSArIDFdLCB0byA9IGJbaSArIDJdO1xuICAgICAgICBsZXQgaXNUYXJnZXQgPSBmcm9tICsgb2ZmID09IG5vZGUuZnJvbSAmJiB0byArIG9mZiA9PSBub2RlLnRvICYmIGJbaV0gPT0gbm9kZS50eXBlLmlkO1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGlzVGFyZ2V0ID8gbm9kZS50b1RyZWUoKSA6IHNwbGl0KGkgKyA0LCBiW2kgKyAzXSwgYnVmLnNldC50eXBlc1tiW2ldXSwgZnJvbSwgdG8gLSBmcm9tKSk7XG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKGZyb20gLSBpbm5lck9mZnNldCk7XG4gICAgICAgIHNsaWNlQnVmKGJ1ZiwgYltpICsgM10sIGVuZEksIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGlubmVyT2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlKHR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCk7XG4gICAgfVxuICAgIGJhc2UuY2hpbGRyZW5baV0gPSBzcGxpdCgwLCBiLmxlbmd0aCwgTm9kZVR5cGUubm9uZSwgMCwgYnVmLmxlbmd0aCk7XG4gICAgLy8gTW92ZSB0aGUgY3Vyc29yIGJhY2sgdG8gdGhlIHRhcmdldCBub2RlXG4gICAgZm9yIChsZXQgZCA9IDA7IGQgPD0gZGVwdGg7IGQrKylcbiAgICAgICAgY3Vyc29yLmNoaWxkQWZ0ZXIobm9kZS5mcm9tKTtcbn1cbmNsYXNzIFN0cnVjdHVyZUN1cnNvciB7XG4gICAgY29uc3RydWN0b3Iocm9vdCwgb2Zmc2V0KSB7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSByb290LmN1cnNvcihJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzIHwgSXRlck1vZGUuSWdub3JlTW91bnRzKTtcbiAgICB9XG4gICAgLy8gTW92ZSB0byB0aGUgZmlyc3Qgbm9kZSAoaW4gcHJlLW9yZGVyKSB0aGF0IHN0YXJ0cyBhdCBvciBhZnRlciBgcG9zYC5cbiAgICBtb3ZlVG8ocG9zKSB7XG4gICAgICAgIGxldCB7IGN1cnNvciB9ID0gdGhpcywgcCA9IHBvcyAtIHRoaXMub2Zmc2V0O1xuICAgICAgICB3aGlsZSAoIXRoaXMuZG9uZSAmJiBjdXJzb3IuZnJvbSA8IHApIHtcbiAgICAgICAgICAgIGlmIChjdXJzb3IudG8gPj0gcG9zICYmIGN1cnNvci5lbnRlcihwLCAxLCBJdGVyTW9kZS5JZ25vcmVPdmVybGF5cyB8IEl0ZXJNb2RlLkV4Y2x1ZGVCdWZmZXJzKSkgO1xuICAgICAgICAgICAgZWxzZSBpZiAoIWN1cnNvci5uZXh0KGZhbHNlKSlcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhc05vZGUoY3Vyc29yKSB7XG4gICAgICAgIHRoaXMubW92ZVRvKGN1cnNvci5mcm9tKTtcbiAgICAgICAgaWYgKCF0aGlzLmRvbmUgJiYgdGhpcy5jdXJzb3IuZnJvbSArIHRoaXMub2Zmc2V0ID09IGN1cnNvci5mcm9tICYmIHRoaXMuY3Vyc29yLnRyZWUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHRyZWUgPSB0aGlzLmN1cnNvci50cmVlOzspIHtcbiAgICAgICAgICAgICAgICBpZiAodHJlZSA9PSBjdXJzb3IudHJlZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHRyZWUuY2hpbGRyZW4ubGVuZ3RoICYmIHRyZWUucG9zaXRpb25zWzBdID09IDAgJiYgdHJlZS5jaGlsZHJlblswXSBpbnN0YW5jZW9mIFRyZWUpXG4gICAgICAgICAgICAgICAgICAgIHRyZWUgPSB0cmVlLmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmNsYXNzIEZyYWdtZW50Q3Vyc29yIHtcbiAgICBjb25zdHJ1Y3RvcihmcmFnbWVudHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy5jdXJUbyA9IDA7XG4gICAgICAgIHRoaXMuZnJhZ0kgPSAwO1xuICAgICAgICBpZiAoZnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGZpcnN0ID0gdGhpcy5jdXJGcmFnID0gZnJhZ21lbnRzWzBdO1xuICAgICAgICAgICAgdGhpcy5jdXJUbyA9IChfYSA9IGZpcnN0LnRyZWUucHJvcChzdG9wcGVkSW5uZXIpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmaXJzdC50bztcbiAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBuZXcgU3RydWN0dXJlQ3Vyc29yKGZpcnN0LnRyZWUsIC1maXJzdC5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJGcmFnID0gdGhpcy5pbm5lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFzTm9kZShub2RlKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmN1ckZyYWcgJiYgbm9kZS5mcm9tID49IHRoaXMuY3VyVG8pXG4gICAgICAgICAgICB0aGlzLm5leHRGcmFnKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmN1ckZyYWcgJiYgdGhpcy5jdXJGcmFnLmZyb20gPD0gbm9kZS5mcm9tICYmIHRoaXMuY3VyVG8gPj0gbm9kZS50byAmJiB0aGlzLmlubmVyLmhhc05vZGUobm9kZSk7XG4gICAgfVxuICAgIG5leHRGcmFnKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZnJhZ0krKztcbiAgICAgICAgaWYgKHRoaXMuZnJhZ0kgPT0gdGhpcy5mcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmN1ckZyYWcgPSB0aGlzLmlubmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmcmFnID0gdGhpcy5jdXJGcmFnID0gdGhpcy5mcmFnbWVudHNbdGhpcy5mcmFnSV07XG4gICAgICAgICAgICB0aGlzLmN1clRvID0gKF9hID0gZnJhZy50cmVlLnByb3Aoc3RvcHBlZElubmVyKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZnJhZy50bztcbiAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBuZXcgU3RydWN0dXJlQ3Vyc29yKGZyYWcudHJlZSwgLWZyYWcub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5kTW91bnRzKHBvcywgcGFyc2VyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAodGhpcy5pbm5lcikge1xuICAgICAgICAgICAgdGhpcy5pbm5lci5jdXJzb3IubW92ZVRvKHBvcywgMSk7XG4gICAgICAgICAgICBmb3IgKGxldCBwb3MgPSB0aGlzLmlubmVyLmN1cnNvci5ub2RlOyBwb3M7IHBvcyA9IHBvcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbW91bnQgPSAoX2EgPSBwb3MudHJlZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnByb3AoTm9kZVByb3AubW91bnRlZCk7XG4gICAgICAgICAgICAgICAgaWYgKG1vdW50ICYmIG1vdW50LnBhcnNlciA9PSBwYXJzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZnJhZ0k7IGkgPCB0aGlzLmZyYWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZyYWcgPSB0aGlzLmZyYWdtZW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFnLmZyb20gPj0gcG9zLnRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWcudHJlZSA9PSB0aGlzLmN1ckZyYWcudHJlZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLmZyb20gLSBmcmFnLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHB1bmNoUmFuZ2VzKG91dGVyLCByYW5nZXMpIHtcbiAgICBsZXQgY29weSA9IG51bGwsIGN1cnJlbnQgPSByYW5nZXM7XG4gICAgZm9yIChsZXQgaSA9IDEsIGogPSAwOyBpIDwgb3V0ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGdhcEZyb20gPSBvdXRlcltpIC0gMV0udG8sIGdhcFRvID0gb3V0ZXJbaV0uZnJvbTtcbiAgICAgICAgZm9yICg7IGogPCBjdXJyZW50Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgciA9IGN1cnJlbnRbal07XG4gICAgICAgICAgICBpZiAoci5mcm9tID49IGdhcFRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHIudG8gPD0gZ2FwRnJvbSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghY29weSlcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY29weSA9IHJhbmdlcy5zbGljZSgpO1xuICAgICAgICAgICAgaWYgKHIuZnJvbSA8IGdhcEZyb20pIHtcbiAgICAgICAgICAgICAgICBjb3B5W2pdID0gbmV3IFJhbmdlKHIuZnJvbSwgZ2FwRnJvbSk7XG4gICAgICAgICAgICAgICAgaWYgKHIudG8gPiBnYXBUbylcbiAgICAgICAgICAgICAgICAgICAgY29weS5zcGxpY2UoaiArIDEsIDAsIG5ldyBSYW5nZShnYXBUbywgci50bykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoci50byA+IGdhcFRvKSB7XG4gICAgICAgICAgICAgICAgY29weVtqLS1dID0gbmV3IFJhbmdlKGdhcFRvLCByLnRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvcHkuc3BsaWNlKGotLSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG59XG5mdW5jdGlvbiBmaW5kQ292ZXJDaGFuZ2VzKGEsIGIsIGZyb20sIHRvKSB7XG4gICAgbGV0IGlBID0gMCwgaUIgPSAwLCBpbkEgPSBmYWxzZSwgaW5CID0gZmFsc2UsIHBvcyA9IC0xZTk7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgbGV0IG5leHRBID0gaUEgPT0gYS5sZW5ndGggPyAxZTkgOiBpbkEgPyBhW2lBXS50byA6IGFbaUFdLmZyb207XG4gICAgICAgIGxldCBuZXh0QiA9IGlCID09IGIubGVuZ3RoID8gMWU5IDogaW5CID8gYltpQl0udG8gOiBiW2lCXS5mcm9tO1xuICAgICAgICBpZiAoaW5BICE9IGluQikge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gTWF0aC5tYXgocG9zLCBmcm9tKSwgZW5kID0gTWF0aC5taW4obmV4dEEsIG5leHRCLCB0byk7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPCBlbmQpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFJhbmdlKHN0YXJ0LCBlbmQpKTtcbiAgICAgICAgfVxuICAgICAgICBwb3MgPSBNYXRoLm1pbihuZXh0QSwgbmV4dEIpO1xuICAgICAgICBpZiAocG9zID09IDFlOSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBpZiAobmV4dEEgPT0gcG9zKSB7XG4gICAgICAgICAgICBpZiAoIWluQSlcbiAgICAgICAgICAgICAgICBpbkEgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5BID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaUErKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dEIgPT0gcG9zKSB7XG4gICAgICAgICAgICBpZiAoIWluQilcbiAgICAgICAgICAgICAgICBpbkIgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5CID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaUIrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8gR2l2ZW4gYSBudW1iZXIgb2YgZnJhZ21lbnRzIGZvciB0aGUgb3V0ZXIgdHJlZSwgYW5kIGEgc2V0IG9mIHJhbmdlc1xuLy8gdG8gcGFyc2UsIGZpbmQgZnJhZ21lbnRzIGZvciBpbm5lciB0cmVlcyBtb3VudGVkIGFyb3VuZCB0aG9zZVxuLy8gcmFuZ2VzLCBpZiBhbnkuXG5mdW5jdGlvbiBlbnRlckZyYWdtZW50cyhtb3VudHMsIHJhbmdlcykge1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCB7IHBvcywgbW91bnQsIGZyYWcgfSBvZiBtb3VudHMpIHtcbiAgICAgICAgbGV0IHN0YXJ0UG9zID0gcG9zICsgKG1vdW50Lm92ZXJsYXkgPyBtb3VudC5vdmVybGF5WzBdLmZyb20gOiAwKSwgZW5kUG9zID0gc3RhcnRQb3MgKyBtb3VudC50cmVlLmxlbmd0aDtcbiAgICAgICAgbGV0IGZyb20gPSBNYXRoLm1heChmcmFnLmZyb20sIHN0YXJ0UG9zKSwgdG8gPSBNYXRoLm1pbihmcmFnLnRvLCBlbmRQb3MpO1xuICAgICAgICBpZiAobW91bnQub3ZlcmxheSkge1xuICAgICAgICAgICAgbGV0IG92ZXJsYXkgPSBtb3VudC5vdmVybGF5Lm1hcChyID0+IG5ldyBSYW5nZShyLmZyb20gKyBwb3MsIHIudG8gKyBwb3MpKTtcbiAgICAgICAgICAgIGxldCBjaGFuZ2VzID0gZmluZENvdmVyQ2hhbmdlcyhyYW5nZXMsIG92ZXJsYXksIGZyb20sIHRvKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSBmcm9tOzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxhc3QgPSBpID09IGNoYW5nZXMubGVuZ3RoLCBlbmQgPSBsYXN0ID8gdG8gOiBjaGFuZ2VzW2ldLmZyb207XG4gICAgICAgICAgICAgICAgaWYgKGVuZCA+IHBvcylcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFRyZWVGcmFnbWVudChwb3MsIGVuZCwgbW91bnQudHJlZSwgLXN0YXJ0UG9zLCBmcmFnLmZyb20gPj0gcG9zIHx8IGZyYWcub3BlblN0YXJ0LCBmcmFnLnRvIDw9IGVuZCB8fCBmcmFnLm9wZW5FbmQpKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgcG9zID0gY2hhbmdlc1tpXS50bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBUcmVlRnJhZ21lbnQoZnJvbSwgdG8sIG1vdW50LnRyZWUsIC1zdGFydFBvcywgZnJhZy5mcm9tID49IHN0YXJ0UG9zIHx8IGZyYWcub3BlblN0YXJ0LCBmcmFnLnRvIDw9IGVuZFBvcyB8fCBmcmFnLm9wZW5FbmQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgeyBEZWZhdWx0QnVmZmVyTGVuZ3RoLCBJdGVyTW9kZSwgTW91bnRlZFRyZWUsIE5vZGVQcm9wLCBOb2RlU2V0LCBOb2RlVHlwZSwgTm9kZVdlYWtNYXAsIFBhcnNlciwgVHJlZSwgVHJlZUJ1ZmZlciwgVHJlZUN1cnNvciwgVHJlZUZyYWdtZW50LCBwYXJzZU1peGVkIH07XG4iLCJpbXBvcnQgeyBOb2RlUHJvcCB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuXG5sZXQgbmV4dFRhZ0lEID0gMDtcbi8qKlxuSGlnaGxpZ2h0aW5nIHRhZ3MgYXJlIG1hcmtlcnMgdGhhdCBkZW5vdGUgYSBoaWdobGlnaHRpbmcgY2F0ZWdvcnkuXG5UaGV5IGFyZSBbYXNzb2NpYXRlZF0oI2hpZ2hsaWdodC5zdHlsZVRhZ3MpIHdpdGggcGFydHMgb2YgYSBzeW50YXhcbnRyZWUgYnkgYSBsYW5ndWFnZSBtb2RlLCBhbmQgdGhlbiBtYXBwZWQgdG8gYW4gYWN0dWFsIENTUyBzdHlsZSBieVxuYSBbaGlnaGxpZ2h0ZXJdKCNoaWdobGlnaHQuSGlnaGxpZ2h0ZXIpLlxuXG5CZWNhdXNlIHN5bnRheCB0cmVlIG5vZGUgdHlwZXMgYW5kIGhpZ2hsaWdodCBzdHlsZXMgaGF2ZSB0byBiZVxuYWJsZSB0byB0YWxrIHRoZSBzYW1lIGxhbmd1YWdlLCBDb2RlTWlycm9yIHVzZXMgYSBtb3N0bHkgX2Nsb3NlZF9cblt2b2NhYnVsYXJ5XSgjaGlnaGxpZ2h0LnRhZ3MpIG9mIHN5bnRheCB0YWdzIChhcyBvcHBvc2VkIHRvXG50cmFkaXRpb25hbCBvcGVuIHN0cmluZy1iYXNlZCBzeXN0ZW1zLCB3aGljaCBtYWtlIGl0IGhhcmQgZm9yXG5oaWdobGlnaHRpbmcgdGhlbWVzIHRvIGNvdmVyIGFsbCB0aGUgdG9rZW5zIHByb2R1Y2VkIGJ5IHRoZVxudmFyaW91cyBsYW5ndWFnZXMpLlxuXG5JdCBfaXNfIHBvc3NpYmxlIHRvIFtkZWZpbmVdKCNoaWdobGlnaHQuVGFnXmRlZmluZSkgeW91ciBvd25cbmhpZ2hsaWdodGluZyB0YWdzIGZvciBzeXN0ZW0taW50ZXJuYWwgdXNlICh3aGVyZSB5b3UgY29udHJvbCBib3RoXG50aGUgbGFuZ3VhZ2UgcGFja2FnZSBhbmQgdGhlIGhpZ2hsaWdodGVyKSwgYnV0IHN1Y2ggdGFncyB3aWxsIG5vdFxuYmUgcGlja2VkIHVwIGJ5IHJlZ3VsYXIgaGlnaGxpZ2h0ZXJzICh0aG91Z2ggeW91IGNhbiBkZXJpdmUgdGhlbVxuZnJvbSBzdGFuZGFyZCB0YWdzIHRvIGFsbG93IGhpZ2hsaWdodGVycyB0byBmYWxsIGJhY2sgdG8gdGhvc2UpLlxuKi9cbmNsYXNzIFRhZyB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgc2V0IG9mIHRoaXMgdGFnIGFuZCBhbGwgaXRzIHBhcmVudCB0YWdzLCBzdGFydGluZyB3aXRoXG4gICAgdGhpcyBvbmUgaXRzZWxmIGFuZCBzb3J0ZWQgaW4gb3JkZXIgb2YgZGVjcmVhc2luZyBzcGVjaWZpY2l0eS5cbiAgICAqL1xuICAgIHNldCwgXG4gICAgLyoqXG4gICAgVGhlIGJhc2UgdW5tb2RpZmllZCB0YWcgdGhhdCB0aGlzIG9uZSBpcyBiYXNlZCBvbiwgaWYgaXQnc1xuICAgIG1vZGlmaWVkIEBpbnRlcm5hbFxuICAgICovXG4gICAgYmFzZSwgXG4gICAgLyoqXG4gICAgVGhlIG1vZGlmaWVycyBhcHBsaWVkIHRvIHRoaXMuYmFzZSBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1vZGlmaWVkKSB7XG4gICAgICAgIHRoaXMuc2V0ID0gc2V0O1xuICAgICAgICB0aGlzLmJhc2UgPSBiYXNlO1xuICAgICAgICB0aGlzLm1vZGlmaWVkID0gbW9kaWZpZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IG5leHRUYWdJRCsrO1xuICAgIH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSBuZXcgdGFnLiBJZiBgcGFyZW50YCBpcyBnaXZlbiwgdGhlIHRhZyBpcyB0cmVhdGVkIGFzIGFcbiAgICBzdWItdGFnIG9mIHRoYXQgcGFyZW50LCBhbmRcbiAgICBbaGlnaGxpZ2h0ZXJzXSgjaGlnaGxpZ2h0LnRhZ0hpZ2hsaWdodGVyKSB0aGF0IGRvbid0IG1lbnRpb25cbiAgICB0aGlzIHRhZyB3aWxsIHRyeSB0byBmYWxsIGJhY2sgdG8gdGhlIHBhcmVudCB0YWcgKG9yIGdyYW5kcGFyZW50XG4gICAgdGFnLCBldGMpLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5iYXNlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBkZXJpdmUgZnJvbSBhIG1vZGlmaWVkIHRhZ1wiKTtcbiAgICAgICAgbGV0IHRhZyA9IG5ldyBUYWcoW10sIG51bGwsIFtdKTtcbiAgICAgICAgdGFnLnNldC5wdXNoKHRhZyk7XG4gICAgICAgIGlmIChwYXJlbnQpXG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHBhcmVudC5zZXQpXG4gICAgICAgICAgICAgICAgdGFnLnNldC5wdXNoKHQpO1xuICAgICAgICByZXR1cm4gdGFnO1xuICAgIH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSB0YWcgX21vZGlmaWVyXywgd2hpY2ggaXMgYSBmdW5jdGlvbiB0aGF0LCBnaXZlbiBhIHRhZyxcbiAgICB3aWxsIHJldHVybiBhIHRhZyB0aGF0IGlzIGEgc3VidGFnIG9mIHRoZSBvcmlnaW5hbC4gQXBwbHlpbmcgdGhlXG4gICAgc2FtZSBtb2RpZmllciB0byBhIHR3aWNlIHRhZyB3aWxsIHJldHVybiB0aGUgc2FtZSB2YWx1ZSAoYG0xKHQxKVxuICAgID09IG0xKHQxKWApIGFuZCBhcHBseWluZyBtdWx0aXBsZSBtb2RpZmllcnMgd2lsbCwgcmVnYXJkbGVzcyBvclxuICAgIG9yZGVyLCBwcm9kdWNlIHRoZSBzYW1lIHRhZyAoYG0xKG0yKHQxKSkgPT0gbTIobTEodDEpKWApLlxuICAgIFxuICAgIFdoZW4gbXVsdGlwbGUgbW9kaWZpZXJzIGFyZSBhcHBsaWVkIHRvIGEgZ2l2ZW4gYmFzZSB0YWcsIGVhY2hcbiAgICBzbWFsbGVyIHNldCBvZiBtb2RpZmllcnMgaXMgcmVnaXN0ZXJlZCBhcyBhIHBhcmVudCwgc28gdGhhdCBmb3JcbiAgICBleGFtcGxlIGBtMShtMihtMyh0MSkpKWAgaXMgYSBzdWJ0eXBlIG9mIGBtMShtMih0MSkpYCxcbiAgICBgbTEobTModDEpYCwgYW5kIHNvIG9uLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZU1vZGlmaWVyKCkge1xuICAgICAgICBsZXQgbW9kID0gbmV3IE1vZGlmaWVyO1xuICAgICAgICByZXR1cm4gKHRhZykgPT4ge1xuICAgICAgICAgICAgaWYgKHRhZy5tb2RpZmllZC5pbmRleE9mKG1vZCkgPiAtMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFnO1xuICAgICAgICAgICAgcmV0dXJuIE1vZGlmaWVyLmdldCh0YWcuYmFzZSB8fCB0YWcsIHRhZy5tb2RpZmllZC5jb25jYXQobW9kKS5zb3J0KChhLCBiKSA9PiBhLmlkIC0gYi5pZCkpO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmxldCBuZXh0TW9kaWZpZXJJRCA9IDA7XG5jbGFzcyBNb2RpZmllciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VzID0gW107XG4gICAgICAgIHRoaXMuaWQgPSBuZXh0TW9kaWZpZXJJRCsrO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0KGJhc2UsIG1vZHMpIHtcbiAgICAgICAgaWYgKCFtb2RzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICBsZXQgZXhpc3RzID0gbW9kc1swXS5pbnN0YW5jZXMuZmluZCh0ID0+IHQuYmFzZSA9PSBiYXNlICYmIHNhbWVBcnJheShtb2RzLCB0Lm1vZGlmaWVkKSk7XG4gICAgICAgIGlmIChleGlzdHMpXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RzO1xuICAgICAgICBsZXQgc2V0ID0gW10sIHRhZyA9IG5ldyBUYWcoc2V0LCBiYXNlLCBtb2RzKTtcbiAgICAgICAgZm9yIChsZXQgbSBvZiBtb2RzKVxuICAgICAgICAgICAgbS5pbnN0YW5jZXMucHVzaCh0YWcpO1xuICAgICAgICBsZXQgY29uZmlncyA9IHBvd2VyU2V0KG1vZHMpO1xuICAgICAgICBmb3IgKGxldCBwYXJlbnQgb2YgYmFzZS5zZXQpXG4gICAgICAgICAgICBpZiAoIXBhcmVudC5tb2RpZmllZC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY29uZmlnIG9mIGNvbmZpZ3MpXG4gICAgICAgICAgICAgICAgICAgIHNldC5wdXNoKE1vZGlmaWVyLmdldChwYXJlbnQsIGNvbmZpZykpO1xuICAgICAgICByZXR1cm4gdGFnO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVBcnJheShhLCBiKSB7XG4gICAgcmV0dXJuIGEubGVuZ3RoID09IGIubGVuZ3RoICYmIGEuZXZlcnkoKHgsIGkpID0+IHggPT0gYltpXSk7XG59XG5mdW5jdGlvbiBwb3dlclNldChhcnJheSkge1xuICAgIGxldCBzZXRzID0gW1tdXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwLCBlID0gc2V0cy5sZW5ndGg7IGogPCBlOyBqKyspIHtcbiAgICAgICAgICAgIHNldHMucHVzaChzZXRzW2pdLmNvbmNhdChhcnJheVtpXSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZXRzLnNvcnQoKGEsIGIpID0+IGIubGVuZ3RoIC0gYS5sZW5ndGgpO1xufVxuLyoqXG5UaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYWRkIGEgc2V0IG9mIHRhZ3MgdG8gYSBsYW5ndWFnZSBzeW50YXhcbnZpYSBbYE5vZGVTZXQuZXh0ZW5kYF0oI2NvbW1vbi5Ob2RlU2V0LmV4dGVuZCkgb3JcbltgTFJQYXJzZXIuY29uZmlndXJlYF0oI2xyLkxSUGFyc2VyLmNvbmZpZ3VyZSkuXG5cblRoZSBhcmd1bWVudCBvYmplY3QgbWFwcyBub2RlIHNlbGVjdG9ycyB0byBbaGlnaGxpZ2h0aW5nXG50YWdzXSgjaGlnaGxpZ2h0LlRhZykgb3IgYXJyYXlzIG9mIHRhZ3MuXG5cbk5vZGUgc2VsZWN0b3JzIG1heSBob2xkIG9uZSBvciBtb3JlIChzcGFjZS1zZXBhcmF0ZWQpIG5vZGUgcGF0aHMuXG5TdWNoIGEgcGF0aCBjYW4gYmUgYSBbbm9kZSBuYW1lXSgjY29tbW9uLk5vZGVUeXBlLm5hbWUpLCBvclxubXVsdGlwbGUgbm9kZSBuYW1lcyAob3IgYCpgIHdpbGRjYXJkcykgc2VwYXJhdGVkIGJ5IHNsYXNoXG5jaGFyYWN0ZXJzLCBhcyBpbiBgXCJCbG9jay9EZWNsYXJhdGlvbi9WYXJpYWJsZU5hbWVcImAuIFN1Y2ggYSBwYXRoXG5tYXRjaGVzIHRoZSBmaW5hbCBub2RlIGJ1dCBvbmx5IGlmIGl0cyBkaXJlY3QgcGFyZW50IG5vZGVzIGFyZSB0aGVcbm90aGVyIG5vZGVzIG1lbnRpb25lZC4gQSBgKmAgaW4gc3VjaCBhIHBhdGggbWF0Y2hlcyBhbnkgcGFyZW50LFxuYnV0IG9ubHkgYSBzaW5nbGUgbGV2ZWzigJR3aWxkY2FyZHMgdGhhdCBtYXRjaCBtdWx0aXBsZSBwYXJlbnRzXG5hcmVuJ3Qgc3VwcG9ydGVkLCBib3RoIGZvciBlZmZpY2llbmN5IHJlYXNvbnMgYW5kIGJlY2F1c2UgTGV6ZXJcbnRyZWVzIG1ha2UgaXQgcmF0aGVyIGhhcmQgdG8gcmVhc29uIGFib3V0IHdoYXQgdGhleSB3b3VsZCBtYXRjaC4pXG5cbkEgcGF0aCBjYW4gYmUgZW5kZWQgd2l0aCBgLy4uLmAgdG8gaW5kaWNhdGUgdGhhdCB0aGUgdGFnIGFzc2lnbmVkXG50byB0aGUgbm9kZSBzaG91bGQgYWxzbyBhcHBseSB0byBhbGwgY2hpbGQgbm9kZXMsIGV2ZW4gaWYgdGhleVxubWF0Y2ggdGhlaXIgb3duIHN0eWxlIChieSBkZWZhdWx0LCBvbmx5IHRoZSBpbm5lcm1vc3Qgc3R5bGUgaXNcbnVzZWQpLlxuXG5XaGVuIGEgcGF0aCBlbmRzIGluIGAhYCwgYXMgaW4gYEF0dHJpYnV0ZSFgLCBubyBmdXJ0aGVyIG1hdGNoaW5nXG5oYXBwZW5zIGZvciB0aGUgbm9kZSdzIGNoaWxkIG5vZGVzLCBhbmQgdGhlIGVudGlyZSBub2RlIGdldHMgdGhlXG5naXZlbiBzdHlsZS5cblxuSW4gdGhpcyBub3RhdGlvbiwgbm9kZSBuYW1lcyB0aGF0IGNvbnRhaW4gYC9gLCBgIWAsIGAqYCwgb3IgYC4uLmBcbm11c3QgYmUgcXVvdGVkIGFzIEpTT04gc3RyaW5ncy5cblxuRm9yIGV4YW1wbGU6XG5cbmBgYGphdmFzY3JpcHRcbnBhcnNlci53aXRoUHJvcHMoXG4gIHN0eWxlVGFncyh7XG4gICAgLy8gU3R5bGUgTnVtYmVyIGFuZCBCaWdOdW1iZXIgbm9kZXNcbiAgICBcIk51bWJlciBCaWdOdW1iZXJcIjogdGFncy5udW1iZXIsXG4gICAgLy8gU3R5bGUgRXNjYXBlIG5vZGVzIHdob3NlIHBhcmVudCBpcyBTdHJpbmdcbiAgICBcIlN0cmluZy9Fc2NhcGVcIjogdGFncy5lc2NhcGUsXG4gICAgLy8gU3R5bGUgYW55dGhpbmcgaW5zaWRlIEF0dHJpYnV0ZXMgbm9kZXNcbiAgICBcIkF0dHJpYnV0ZXMhXCI6IHRhZ3MubWV0YSxcbiAgICAvLyBBZGQgYSBzdHlsZSB0byBhbGwgY29udGVudCBpbnNpZGUgSXRhbGljIG5vZGVzXG4gICAgXCJJdGFsaWMvLi4uXCI6IHRhZ3MuZW1waGFzaXMsXG4gICAgLy8gU3R5bGUgSW52YWxpZFN0cmluZyBub2RlcyBhcyBib3RoIGBzdHJpbmdgIGFuZCBgaW52YWxpZGBcbiAgICBcIkludmFsaWRTdHJpbmdcIjogW3RhZ3Muc3RyaW5nLCB0YWdzLmludmFsaWRdLFxuICAgIC8vIFN0eWxlIHRoZSBub2RlIG5hbWVkIFwiL1wiIGFzIHB1bmN0dWF0aW9uXG4gICAgJ1wiL1wiJzogdGFncy5wdW5jdHVhdGlvblxuICB9KVxuKVxuYGBgXG4qL1xuZnVuY3Rpb24gc3R5bGVUYWdzKHNwZWMpIHtcbiAgICBsZXQgYnlOYW1lID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBmb3IgKGxldCBwcm9wIGluIHNwZWMpIHtcbiAgICAgICAgbGV0IHRhZ3MgPSBzcGVjW3Byb3BdO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGFncykpXG4gICAgICAgICAgICB0YWdzID0gW3RhZ3NdO1xuICAgICAgICBmb3IgKGxldCBwYXJ0IG9mIHByb3Auc3BsaXQoXCIgXCIpKVxuICAgICAgICAgICAgaWYgKHBhcnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcGllY2VzID0gW10sIG1vZGUgPSAyIC8qIE5vcm1hbCAqLywgcmVzdCA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcG9zID0gMDs7KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN0ID09IFwiLi4uXCIgJiYgcG9zID4gMCAmJiBwb3MgKyAzID09IHBhcnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID0gMSAvKiBJbmhlcml0ICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG0gPSAvXlwiKD86W15cIlxcXFxdfFxcXFwuKSo/XCJ8W15cXC8hXSsvLmV4ZWMocmVzdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBwYXRoOiBcIiArIHBhcnQpO1xuICAgICAgICAgICAgICAgICAgICBwaWVjZXMucHVzaChtWzBdID09IFwiKlwiID8gXCJcIiA6IG1bMF1bMF0gPT0gJ1wiJyA/IEpTT04ucGFyc2UobVswXSkgOiBtWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zICs9IG1bMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID09IHBhcnQubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gcGFydFtwb3MrK107XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPT0gcGFydC5sZW5ndGggJiYgbmV4dCA9PSBcIiFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9IDAgLyogT3BhcXVlICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT0gXCIvXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgcGF0aDogXCIgKyBwYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdCA9IHBhcnQuc2xpY2UocG9zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGxhc3QgPSBwaWVjZXMubGVuZ3RoIC0gMSwgaW5uZXIgPSBwaWVjZXNbbGFzdF07XG4gICAgICAgICAgICAgICAgaWYgKCFpbm5lcilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHBhdGg6IFwiICsgcGFydCk7XG4gICAgICAgICAgICAgICAgbGV0IHJ1bGUgPSBuZXcgUnVsZSh0YWdzLCBtb2RlLCBsYXN0ID4gMCA/IHBpZWNlcy5zbGljZSgwLCBsYXN0KSA6IG51bGwpO1xuICAgICAgICAgICAgICAgIGJ5TmFtZVtpbm5lcl0gPSBydWxlLnNvcnQoYnlOYW1lW2lubmVyXSk7XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydWxlTm9kZVByb3AuYWRkKGJ5TmFtZSk7XG59XG5jb25zdCBydWxlTm9kZVByb3AgPSBuZXcgTm9kZVByb3AoKTtcbmNsYXNzIFJ1bGUge1xuICAgIGNvbnN0cnVjdG9yKHRhZ3MsIG1vZGUsIGNvbnRleHQsIG5leHQpIHtcbiAgICAgICAgdGhpcy50YWdzID0gdGFncztcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcbiAgICB9XG4gICAgZ2V0IG9wYXF1ZSgpIHsgcmV0dXJuIHRoaXMubW9kZSA9PSAwIC8qIE9wYXF1ZSAqLzsgfVxuICAgIGdldCBpbmhlcml0KCkgeyByZXR1cm4gdGhpcy5tb2RlID09IDEgLyogSW5oZXJpdCAqLzsgfVxuICAgIHNvcnQob3RoZXIpIHtcbiAgICAgICAgaWYgKCFvdGhlciB8fCBvdGhlci5kZXB0aCA8IHRoaXMuZGVwdGgpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IG90aGVyO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXIubmV4dCA9IHRoaXMuc29ydChvdGhlci5uZXh0KTtcbiAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgIH1cbiAgICBnZXQgZGVwdGgoKSB7IHJldHVybiB0aGlzLmNvbnRleHQgPyB0aGlzLmNvbnRleHQubGVuZ3RoIDogMDsgfVxufVxuUnVsZS5lbXB0eSA9IG5ldyBSdWxlKFtdLCAyIC8qIE5vcm1hbCAqLywgbnVsbCk7XG4vKipcbkRlZmluZSBhIFtoaWdobGlnaHRlcl0oI2hpZ2hsaWdodC5IaWdobGlnaHRlcikgZnJvbSBhbiBhcnJheSBvZlxudGFnL2NsYXNzIHBhaXJzLiBDbGFzc2VzIGFzc29jaWF0ZWQgd2l0aCBtb3JlIHNwZWNpZmljIHRhZ3Mgd2lsbFxudGFrZSBwcmVjZWRlbmNlLlxuKi9cbmZ1bmN0aW9uIHRhZ0hpZ2hsaWdodGVyKHRhZ3MsIG9wdGlvbnMpIHtcbiAgICBsZXQgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBmb3IgKGxldCBzdHlsZSBvZiB0YWdzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZS50YWcpKVxuICAgICAgICAgICAgbWFwW3N0eWxlLnRhZy5pZF0gPSBzdHlsZS5jbGFzcztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZm9yIChsZXQgdGFnIG9mIHN0eWxlLnRhZylcbiAgICAgICAgICAgICAgICBtYXBbdGFnLmlkXSA9IHN0eWxlLmNsYXNzO1xuICAgIH1cbiAgICBsZXQgeyBzY29wZSwgYWxsID0gbnVsbCB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdHlsZTogKHRhZ3MpID0+IHtcbiAgICAgICAgICAgIGxldCBjbHMgPSBhbGw7XG4gICAgICAgICAgICBmb3IgKGxldCB0YWcgb2YgdGFncykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHN1YiBvZiB0YWcuc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWdDbGFzcyA9IG1hcFtzdWIuaWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFnQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNscyA9IGNscyA/IGNscyArIFwiIFwiICsgdGFnQ2xhc3MgOiB0YWdDbGFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNscztcbiAgICAgICAgfSxcbiAgICAgICAgc2NvcGVcbiAgICB9O1xufVxuZnVuY3Rpb24gaGlnaGxpZ2h0VGFncyhoaWdobGlnaHRlcnMsIHRhZ3MpIHtcbiAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICBmb3IgKGxldCBoaWdobGlnaHRlciBvZiBoaWdobGlnaHRlcnMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gaGlnaGxpZ2h0ZXIuc3R5bGUodGFncyk7XG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCA/IHJlc3VsdCArIFwiIFwiICsgdmFsdWUgOiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuSGlnaGxpZ2h0IHRoZSBnaXZlbiBbdHJlZV0oI2NvbW1vbi5UcmVlKSB3aXRoIHRoZSBnaXZlblxuW2hpZ2hsaWdodGVyXSgjaGlnaGxpZ2h0LkhpZ2hsaWdodGVyKS5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRUcmVlKHRyZWUsIGhpZ2hsaWdodGVyLCBcbi8qKlxuQXNzaWduIHN0eWxpbmcgdG8gYSByZWdpb24gb2YgdGhlIHRleHQuIFdpbGwgYmUgY2FsbGVkLCBpbiBvcmRlclxub2YgcG9zaXRpb24sIGZvciBhbnkgcmFuZ2VzIHdoZXJlIG1vcmUgdGhhbiB6ZXJvIGNsYXNzZXMgYXBwbHkuXG5gY2xhc3Nlc2AgaXMgYSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIENTUyBjbGFzc2VzLlxuKi9cbnB1dFN0eWxlLCBcbi8qKlxuVGhlIHN0YXJ0IG9mIHRoZSByYW5nZSB0byBoaWdobGlnaHQuXG4qL1xuZnJvbSA9IDAsIFxuLyoqXG5UaGUgZW5kIG9mIHRoZSByYW5nZS5cbiovXG50byA9IHRyZWUubGVuZ3RoKSB7XG4gICAgbGV0IGJ1aWxkZXIgPSBuZXcgSGlnaGxpZ2h0QnVpbGRlcihmcm9tLCBBcnJheS5pc0FycmF5KGhpZ2hsaWdodGVyKSA/IGhpZ2hsaWdodGVyIDogW2hpZ2hsaWdodGVyXSwgcHV0U3R5bGUpO1xuICAgIGJ1aWxkZXIuaGlnaGxpZ2h0UmFuZ2UodHJlZS5jdXJzb3IoKSwgZnJvbSwgdG8sIFwiXCIsIGJ1aWxkZXIuaGlnaGxpZ2h0ZXJzKTtcbiAgICBidWlsZGVyLmZsdXNoKHRvKTtcbn1cbmNsYXNzIEhpZ2hsaWdodEJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKGF0LCBoaWdobGlnaHRlcnMsIHNwYW4pIHtcbiAgICAgICAgdGhpcy5hdCA9IGF0O1xuICAgICAgICB0aGlzLmhpZ2hsaWdodGVycyA9IGhpZ2hsaWdodGVycztcbiAgICAgICAgdGhpcy5zcGFuID0gc3BhbjtcbiAgICAgICAgdGhpcy5jbGFzcyA9IFwiXCI7XG4gICAgfVxuICAgIHN0YXJ0U3BhbihhdCwgY2xzKSB7XG4gICAgICAgIGlmIChjbHMgIT0gdGhpcy5jbGFzcykge1xuICAgICAgICAgICAgdGhpcy5mbHVzaChhdCk7XG4gICAgICAgICAgICBpZiAoYXQgPiB0aGlzLmF0KVxuICAgICAgICAgICAgICAgIHRoaXMuYXQgPSBhdDtcbiAgICAgICAgICAgIHRoaXMuY2xhc3MgPSBjbHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmx1c2godG8pIHtcbiAgICAgICAgaWYgKHRvID4gdGhpcy5hdCAmJiB0aGlzLmNsYXNzKVxuICAgICAgICAgICAgdGhpcy5zcGFuKHRoaXMuYXQsIHRvLCB0aGlzLmNsYXNzKTtcbiAgICB9XG4gICAgaGlnaGxpZ2h0UmFuZ2UoY3Vyc29yLCBmcm9tLCB0bywgaW5oZXJpdGVkQ2xhc3MsIGhpZ2hsaWdodGVycykge1xuICAgICAgICBsZXQgeyB0eXBlLCBmcm9tOiBzdGFydCwgdG86IGVuZCB9ID0gY3Vyc29yO1xuICAgICAgICBpZiAoc3RhcnQgPj0gdG8gfHwgZW5kIDw9IGZyb20pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0eXBlLmlzVG9wKVxuICAgICAgICAgICAgaGlnaGxpZ2h0ZXJzID0gdGhpcy5oaWdobGlnaHRlcnMuZmlsdGVyKGggPT4gIWguc2NvcGUgfHwgaC5zY29wZSh0eXBlKSk7XG4gICAgICAgIGxldCBjbHMgPSBpbmhlcml0ZWRDbGFzcztcbiAgICAgICAgbGV0IHJ1bGUgPSBnZXRTdHlsZVRhZ3MoY3Vyc29yKSB8fCBSdWxlLmVtcHR5O1xuICAgICAgICBsZXQgdGFnQ2xzID0gaGlnaGxpZ2h0VGFncyhoaWdobGlnaHRlcnMsIHJ1bGUudGFncyk7XG4gICAgICAgIGlmICh0YWdDbHMpIHtcbiAgICAgICAgICAgIGlmIChjbHMpXG4gICAgICAgICAgICAgICAgY2xzICs9IFwiIFwiO1xuICAgICAgICAgICAgY2xzICs9IHRhZ0NscztcbiAgICAgICAgICAgIGlmIChydWxlLm1vZGUgPT0gMSAvKiBJbmhlcml0ICovKVxuICAgICAgICAgICAgICAgIGluaGVyaXRlZENsYXNzICs9IChpbmhlcml0ZWRDbGFzcyA/IFwiIFwiIDogXCJcIikgKyB0YWdDbHM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydFNwYW4oTWF0aC5tYXgoZnJvbSwgc3RhcnQpLCBjbHMpO1xuICAgICAgICBpZiAocnVsZS5vcGFxdWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBtb3VudGVkID0gY3Vyc29yLnRyZWUgJiYgY3Vyc29yLnRyZWUucHJvcChOb2RlUHJvcC5tb3VudGVkKTtcbiAgICAgICAgaWYgKG1vdW50ZWQgJiYgbW91bnRlZC5vdmVybGF5KSB7XG4gICAgICAgICAgICBsZXQgaW5uZXIgPSBjdXJzb3Iubm9kZS5lbnRlcihtb3VudGVkLm92ZXJsYXlbMF0uZnJvbSArIHN0YXJ0LCAxKTtcbiAgICAgICAgICAgIGxldCBpbm5lckhpZ2hsaWdodGVycyA9IHRoaXMuaGlnaGxpZ2h0ZXJzLmZpbHRlcihoID0+ICFoLnNjb3BlIHx8IGguc2NvcGUobW91bnRlZC50cmVlLnR5cGUpKTtcbiAgICAgICAgICAgIGxldCBoYXNDaGlsZCA9IGN1cnNvci5maXJzdENoaWxkKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gc3RhcnQ7OyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGkgPCBtb3VudGVkLm92ZXJsYXkubGVuZ3RoID8gbW91bnRlZC5vdmVybGF5W2ldIDogbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dFBvcyA9IG5leHQgPyBuZXh0LmZyb20gKyBzdGFydCA6IGVuZDtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2VGcm9tID0gTWF0aC5tYXgoZnJvbSwgcG9zKSwgcmFuZ2VUbyA9IE1hdGgubWluKHRvLCBuZXh0UG9zKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VGcm9tIDwgcmFuZ2VUbyAmJiBoYXNDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY3Vyc29yLmZyb20gPCByYW5nZVRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodFJhbmdlKGN1cnNvciwgcmFuZ2VGcm9tLCByYW5nZVRvLCBpbmhlcml0ZWRDbGFzcywgaGlnaGxpZ2h0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTcGFuKE1hdGgubWluKHJhbmdlVG8sIGN1cnNvci50byksIGNscyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLnRvID49IG5leHRQb3MgfHwgIWN1cnNvci5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbmV4dCB8fCBuZXh0UG9zID4gdG8pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHBvcyA9IG5leHQudG8gKyBzdGFydDtcbiAgICAgICAgICAgICAgICBpZiAocG9zID4gZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodFJhbmdlKGlubmVyLmN1cnNvcigpLCBNYXRoLm1heChmcm9tLCBuZXh0LmZyb20gKyBzdGFydCksIE1hdGgubWluKHRvLCBwb3MpLCBcIlwiLCBpbm5lckhpZ2hsaWdodGVycyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTcGFuKE1hdGgubWluKHRvLCBwb3MpLCBjbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNDaGlsZClcbiAgICAgICAgICAgICAgICBjdXJzb3IucGFyZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3Vyc29yLmZpcnN0Q2hpbGQoKSkge1xuICAgICAgICAgICAgaWYgKG1vdW50ZWQpXG4gICAgICAgICAgICAgICAgaW5oZXJpdGVkQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJzb3IudG8gPD0gZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvci5mcm9tID49IHRvKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodFJhbmdlKGN1cnNvciwgZnJvbSwgdG8sIGluaGVyaXRlZENsYXNzLCBoaWdobGlnaHRlcnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTcGFuKE1hdGgubWluKHRvLCBjdXJzb3IudG8pLCBjbHMpO1xuICAgICAgICAgICAgfSB3aGlsZSAoY3Vyc29yLm5leHRTaWJsaW5nKCkpO1xuICAgICAgICAgICAgY3Vyc29yLnBhcmVudCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG5NYXRjaCBhIHN5bnRheCBub2RlJ3MgW2hpZ2hsaWdodCBydWxlc10oI2hpZ2hsaWdodC5zdHlsZVRhZ3MpLiBJZlxudGhlcmUncyBhIG1hdGNoLCByZXR1cm4gaXRzIHNldCBvZiB0YWdzLCBhbmQgd2hldGhlciBpdCBpc1xub3BhcXVlICh1c2VzIGEgYCFgKSBvciBhcHBsaWVzIHRvIGFsbCBjaGlsZCBub2RlcyAoYC8uLi5gKS5cbiovXG5mdW5jdGlvbiBnZXRTdHlsZVRhZ3Mobm9kZSkge1xuICAgIGxldCBydWxlID0gbm9kZS50eXBlLnByb3AocnVsZU5vZGVQcm9wKTtcbiAgICB3aGlsZSAocnVsZSAmJiBydWxlLmNvbnRleHQgJiYgIW5vZGUubWF0Y2hDb250ZXh0KHJ1bGUuY29udGV4dCkpXG4gICAgICAgIHJ1bGUgPSBydWxlLm5leHQ7XG4gICAgcmV0dXJuIHJ1bGUgfHwgbnVsbDtcbn1cbmNvbnN0IHQgPSBUYWcuZGVmaW5lO1xuY29uc3QgY29tbWVudCA9IHQoKSwgbmFtZSA9IHQoKSwgdHlwZU5hbWUgPSB0KG5hbWUpLCBwcm9wZXJ0eU5hbWUgPSB0KG5hbWUpLCBsaXRlcmFsID0gdCgpLCBzdHJpbmcgPSB0KGxpdGVyYWwpLCBudW1iZXIgPSB0KGxpdGVyYWwpLCBjb250ZW50ID0gdCgpLCBoZWFkaW5nID0gdChjb250ZW50KSwga2V5d29yZCA9IHQoKSwgb3BlcmF0b3IgPSB0KCksIHB1bmN0dWF0aW9uID0gdCgpLCBicmFja2V0ID0gdChwdW5jdHVhdGlvbiksIG1ldGEgPSB0KCk7XG4vKipcblRoZSBkZWZhdWx0IHNldCBvZiBoaWdobGlnaHRpbmcgW3RhZ3NdKCNoaWdobGlnaHQuVGFnKS5cblxuVGhpcyBjb2xsZWN0aW9uIGlzIGhlYXZpbHkgYmlhc2VkIHRvd2FyZHMgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2VzLFxuYW5kIG5lY2Vzc2FyaWx5IGluY29tcGxldGUuIEEgZnVsbCBvbnRvbG9neSBvZiBzeW50YWN0aWNcbmNvbnN0cnVjdHMgd291bGQgZmlsbCBhIHN0YWNrIG9mIGJvb2tzLCBhbmQgYmUgaW1wcmFjdGljYWwgdG9cbndyaXRlIHRoZW1lcyBmb3IuIFNvIHRyeSB0byBtYWtlIGRvIHdpdGggdGhpcyBzZXQuIElmIGFsbCBlbHNlXG5mYWlscywgW29wZW4gYW5cbmlzc3VlXShodHRwczovL2dpdGh1Yi5jb20vY29kZW1pcnJvci9jb2RlbWlycm9yLm5leHQpIHRvIHByb3Bvc2UgYVxubmV3IHRhZywgb3IgW2RlZmluZV0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lKSBhIGxvY2FsIGN1c3RvbSB0YWcgZm9yXG55b3VyIHVzZSBjYXNlLlxuXG5Ob3RlIHRoYXQgaXQgaXMgbm90IG9ibGlnYXRvcnkgdG8gYWx3YXlzIGF0dGFjaCB0aGUgbW9zdCBzcGVjaWZpY1xudGFnIHBvc3NpYmxlIHRvIGFuIGVsZW1lbnTigJRpZiB5b3VyIGdyYW1tYXIgY2FuJ3QgZWFzaWx5XG5kaXN0aW5ndWlzaCBhIGNlcnRhaW4gdHlwZSBvZiBlbGVtZW50IChzdWNoIGFzIGEgbG9jYWwgdmFyaWFibGUpLFxuaXQgaXMgb2theSB0byBzdHlsZSBpdCBhcyBpdHMgbW9yZSBnZW5lcmFsIHZhcmlhbnQgKGEgdmFyaWFibGUpLlxuXG5Gb3IgdGFncyB0aGF0IGV4dGVuZCBzb21lIHBhcmVudCB0YWcsIHRoZSBkb2N1bWVudGF0aW9uIGxpbmtzIHRvXG50aGUgcGFyZW50LlxuKi9cbmNvbnN0IHRhZ3MgPSB7XG4gICAgLyoqXG4gICAgQSBjb21tZW50LlxuICAgICovXG4gICAgY29tbWVudCxcbiAgICAvKipcbiAgICBBIGxpbmUgW2NvbW1lbnRdKCNoaWdobGlnaHQudGFncy5jb21tZW50KS5cbiAgICAqL1xuICAgIGxpbmVDb21tZW50OiB0KGNvbW1lbnQpLFxuICAgIC8qKlxuICAgIEEgYmxvY2sgW2NvbW1lbnRdKCNoaWdobGlnaHQudGFncy5jb21tZW50KS5cbiAgICAqL1xuICAgIGJsb2NrQ29tbWVudDogdChjb21tZW50KSxcbiAgICAvKipcbiAgICBBIGRvY3VtZW50YXRpb24gW2NvbW1lbnRdKCNoaWdobGlnaHQudGFncy5jb21tZW50KS5cbiAgICAqL1xuICAgIGRvY0NvbW1lbnQ6IHQoY29tbWVudCksXG4gICAgLyoqXG4gICAgQW55IGtpbmQgb2YgaWRlbnRpZmllci5cbiAgICAqL1xuICAgIG5hbWUsXG4gICAgLyoqXG4gICAgVGhlIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkgb2YgYSB2YXJpYWJsZS5cbiAgICAqL1xuICAgIHZhcmlhYmxlTmFtZTogdChuYW1lKSxcbiAgICAvKipcbiAgICBBIHR5cGUgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKS5cbiAgICAqL1xuICAgIHR5cGVOYW1lOiB0eXBlTmFtZSxcbiAgICAvKipcbiAgICBBIHRhZyBuYW1lIChzdWJ0YWcgb2YgW2B0eXBlTmFtZWBdKCNoaWdobGlnaHQudGFncy50eXBlTmFtZSkpLlxuICAgICovXG4gICAgdGFnTmFtZTogdCh0eXBlTmFtZSksXG4gICAgLyoqXG4gICAgQSBwcm9wZXJ0eSBvciBmaWVsZCBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpLlxuICAgICovXG4gICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWUsXG4gICAgLyoqXG4gICAgQW4gYXR0cmlidXRlIG5hbWUgKHN1YnRhZyBvZiBbYHByb3BlcnR5TmFtZWBdKCNoaWdobGlnaHQudGFncy5wcm9wZXJ0eU5hbWUpKS5cbiAgICAqL1xuICAgIGF0dHJpYnV0ZU5hbWU6IHQocHJvcGVydHlOYW1lKSxcbiAgICAvKipcbiAgICBUaGUgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKSBvZiBhIGNsYXNzLlxuICAgICovXG4gICAgY2xhc3NOYW1lOiB0KG5hbWUpLFxuICAgIC8qKlxuICAgIEEgbGFiZWwgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKS5cbiAgICAqL1xuICAgIGxhYmVsTmFtZTogdChuYW1lKSxcbiAgICAvKipcbiAgICBBIG5hbWVzcGFjZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpLlxuICAgICovXG4gICAgbmFtZXNwYWNlOiB0KG5hbWUpLFxuICAgIC8qKlxuICAgIFRoZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpIG9mIGEgbWFjcm8uXG4gICAgKi9cbiAgICBtYWNyb05hbWU6IHQobmFtZSksXG4gICAgLyoqXG4gICAgQSBsaXRlcmFsIHZhbHVlLlxuICAgICovXG4gICAgbGl0ZXJhbCxcbiAgICAvKipcbiAgICBBIHN0cmluZyBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgc3RyaW5nLFxuICAgIC8qKlxuICAgIEEgZG9jdW1lbnRhdGlvbiBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKS5cbiAgICAqL1xuICAgIGRvY1N0cmluZzogdChzdHJpbmcpLFxuICAgIC8qKlxuICAgIEEgY2hhcmFjdGVyIGxpdGVyYWwgKHN1YnRhZyBvZiBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKSkuXG4gICAgKi9cbiAgICBjaGFyYWN0ZXI6IHQoc3RyaW5nKSxcbiAgICAvKipcbiAgICBBbiBhdHRyaWJ1dGUgdmFsdWUgKHN1YnRhZyBvZiBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKSkuXG4gICAgKi9cbiAgICBhdHRyaWJ1dGVWYWx1ZTogdChzdHJpbmcpLFxuICAgIC8qKlxuICAgIEEgbnVtYmVyIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICBudW1iZXIsXG4gICAgLyoqXG4gICAgQW4gaW50ZWdlciBbbnVtYmVyXSgjaGlnaGxpZ2h0LnRhZ3MubnVtYmVyKSBsaXRlcmFsLlxuICAgICovXG4gICAgaW50ZWdlcjogdChudW1iZXIpLFxuICAgIC8qKlxuICAgIEEgZmxvYXRpbmctcG9pbnQgW251bWJlcl0oI2hpZ2hsaWdodC50YWdzLm51bWJlcikgbGl0ZXJhbC5cbiAgICAqL1xuICAgIGZsb2F0OiB0KG51bWJlciksXG4gICAgLyoqXG4gICAgQSBib29sZWFuIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICBib29sOiB0KGxpdGVyYWwpLFxuICAgIC8qKlxuICAgIFJlZ3VsYXIgZXhwcmVzc2lvbiBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgcmVnZXhwOiB0KGxpdGVyYWwpLFxuICAgIC8qKlxuICAgIEFuIGVzY2FwZSBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLCBmb3IgZXhhbXBsZSBhXG4gICAgYmFja3NsYXNoIGVzY2FwZSBpbiBhIHN0cmluZy5cbiAgICAqL1xuICAgIGVzY2FwZTogdChsaXRlcmFsKSxcbiAgICAvKipcbiAgICBBIGNvbG9yIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICBjb2xvcjogdChsaXRlcmFsKSxcbiAgICAvKipcbiAgICBBIFVSTCBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgdXJsOiB0KGxpdGVyYWwpLFxuICAgIC8qKlxuICAgIEEgbGFuZ3VhZ2Uga2V5d29yZC5cbiAgICAqL1xuICAgIGtleXdvcmQsXG4gICAgLyoqXG4gICAgVGhlIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgZm9yIHRoZSBzZWxmIG9yIHRoaXNcbiAgICBvYmplY3QuXG4gICAgKi9cbiAgICBzZWxmOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIFRoZSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIGZvciBudWxsLlxuICAgICovXG4gICAgbnVsbDogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgZGVub3Rpbmcgc29tZSBhdG9taWMgdmFsdWUuXG4gICAgKi9cbiAgICBhdG9tOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSB0aGF0IHJlcHJlc2VudHMgYSB1bml0LlxuICAgICovXG4gICAgdW5pdDogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIG1vZGlmaWVyIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkuXG4gICAgKi9cbiAgICBtb2RpZmllcjogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgdGhhdCBhY3RzIGFzIGFuIG9wZXJhdG9yLlxuICAgICovXG4gICAgb3BlcmF0b3JLZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgY29udHJvbC1mbG93IHJlbGF0ZWQgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKS5cbiAgICAqL1xuICAgIGNvbnRyb2xLZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSB0aGF0IGRlZmluZXMgc29tZXRoaW5nLlxuICAgICovXG4gICAgZGVmaW5pdGlvbktleXdvcmQ6IHQoa2V5d29yZCksXG4gICAgLyoqXG4gICAgQSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIHJlbGF0ZWQgdG8gZGVmaW5pbmcgb3JcbiAgICBpbnRlcmZhY2luZyB3aXRoIG1vZHVsZXMuXG4gICAgKi9cbiAgICBtb2R1bGVLZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEFuIG9wZXJhdG9yLlxuICAgICovXG4gICAgb3BlcmF0b3IsXG4gICAgLyoqXG4gICAgQW4gW29wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpIHRoYXQgZGVyZWZlcmVuY2VzIHNvbWV0aGluZy5cbiAgICAqL1xuICAgIGRlcmVmT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIEFyaXRobWV0aWMtcmVsYXRlZCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICBhcml0aG1ldGljT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIExvZ2ljYWwgW29wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpLlxuICAgICovXG4gICAgbG9naWNPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgQml0IFtvcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKS5cbiAgICAqL1xuICAgIGJpdHdpc2VPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgQ29tcGFyaXNvbiBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICBjb21wYXJlT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIFtPcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKSB0aGF0IHVwZGF0ZXMgaXRzIG9wZXJhbmQuXG4gICAgKi9cbiAgICB1cGRhdGVPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgW09wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpIHRoYXQgZGVmaW5lcyBzb21ldGhpbmcuXG4gICAgKi9cbiAgICBkZWZpbml0aW9uT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIFR5cGUtcmVsYXRlZCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICB0eXBlT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIENvbnRyb2wtZmxvdyBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICBjb250cm9sT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIFByb2dyYW0gb3IgbWFya3VwIHB1bmN0dWF0aW9uLlxuICAgICovXG4gICAgcHVuY3R1YXRpb24sXG4gICAgLyoqXG4gICAgW1B1bmN0dWF0aW9uXSgjaGlnaGxpZ2h0LnRhZ3MucHVuY3R1YXRpb24pIHRoYXQgc2VwYXJhdGVzXG4gICAgdGhpbmdzLlxuICAgICovXG4gICAgc2VwYXJhdG9yOiB0KHB1bmN0dWF0aW9uKSxcbiAgICAvKipcbiAgICBCcmFja2V0LXN0eWxlIFtwdW5jdHVhdGlvbl0oI2hpZ2hsaWdodC50YWdzLnB1bmN0dWF0aW9uKS5cbiAgICAqL1xuICAgIGJyYWNrZXQsXG4gICAgLyoqXG4gICAgQW5nbGUgW2JyYWNrZXRzXSgjaGlnaGxpZ2h0LnRhZ3MuYnJhY2tldCkgKHVzdWFsbHkgYDxgIGFuZCBgPmBcbiAgICB0b2tlbnMpLlxuICAgICovXG4gICAgYW5nbGVCcmFja2V0OiB0KGJyYWNrZXQpLFxuICAgIC8qKlxuICAgIFNxdWFyZSBbYnJhY2tldHNdKCNoaWdobGlnaHQudGFncy5icmFja2V0KSAodXN1YWxseSBgW2AgYW5kIGBdYFxuICAgIHRva2VucykuXG4gICAgKi9cbiAgICBzcXVhcmVCcmFja2V0OiB0KGJyYWNrZXQpLFxuICAgIC8qKlxuICAgIFBhcmVudGhlc2VzICh1c3VhbGx5IGAoYCBhbmQgYClgIHRva2VucykuIFN1YnRhZyBvZlxuICAgIFticmFja2V0XSgjaGlnaGxpZ2h0LnRhZ3MuYnJhY2tldCkuXG4gICAgKi9cbiAgICBwYXJlbjogdChicmFja2V0KSxcbiAgICAvKipcbiAgICBCcmFjZXMgKHVzdWFsbHkgYHtgIGFuZCBgfWAgdG9rZW5zKS4gU3VidGFnIG9mXG4gICAgW2JyYWNrZXRdKCNoaWdobGlnaHQudGFncy5icmFja2V0KS5cbiAgICAqL1xuICAgIGJyYWNlOiB0KGJyYWNrZXQpLFxuICAgIC8qKlxuICAgIENvbnRlbnQsIGZvciBleGFtcGxlIHBsYWluIHRleHQgaW4gWE1MIG9yIG1hcmt1cCBkb2N1bWVudHMuXG4gICAgKi9cbiAgICBjb250ZW50LFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCByZXByZXNlbnRzIGEgaGVhZGluZy5cbiAgICAqL1xuICAgIGhlYWRpbmcsXG4gICAgLyoqXG4gICAgQSBsZXZlbCAxIFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgKi9cbiAgICBoZWFkaW5nMTogdChoZWFkaW5nKSxcbiAgICAvKipcbiAgICBBIGxldmVsIDIgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICAqL1xuICAgIGhlYWRpbmcyOiB0KGhlYWRpbmcpLFxuICAgIC8qKlxuICAgIEEgbGV2ZWwgMyBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgICovXG4gICAgaGVhZGluZzM6IHQoaGVhZGluZyksXG4gICAgLyoqXG4gICAgQSBsZXZlbCA0IFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgKi9cbiAgICBoZWFkaW5nNDogdChoZWFkaW5nKSxcbiAgICAvKipcbiAgICBBIGxldmVsIDUgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICAqL1xuICAgIGhlYWRpbmc1OiB0KGhlYWRpbmcpLFxuICAgIC8qKlxuICAgIEEgbGV2ZWwgNiBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgICovXG4gICAgaGVhZGluZzY6IHQoaGVhZGluZyksXG4gICAgLyoqXG4gICAgQSBwcm9zZSBzZXBhcmF0b3IgKHN1Y2ggYXMgYSBob3Jpem9udGFsIHJ1bGUpLlxuICAgICovXG4gICAgY29udGVudFNlcGFyYXRvcjogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgcmVwcmVzZW50cyBhIGxpc3QuXG4gICAgKi9cbiAgICBsaXN0OiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCByZXByZXNlbnRzIGEgcXVvdGUuXG4gICAgKi9cbiAgICBxdW90ZTogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgaXMgZW1waGFzaXplZC5cbiAgICAqL1xuICAgIGVtcGhhc2lzOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCBpcyBzdHlsZWQgc3Ryb25nLlxuICAgICovXG4gICAgc3Ryb25nOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCBpcyBwYXJ0IG9mIGEgbGluay5cbiAgICAqL1xuICAgIGxpbms6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IGlzIHN0eWxlZCBhcyBjb2RlIG9yXG4gICAgbW9ub3NwYWNlLlxuICAgICovXG4gICAgbW9ub3NwYWNlOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCBoYXMgYSBzdHJpa2UtdGhyb3VnaFxuICAgIHN0eWxlLlxuICAgICovXG4gICAgc3RyaWtldGhyb3VnaDogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBJbnNlcnRlZCB0ZXh0IGluIGEgY2hhbmdlLXRyYWNraW5nIGZvcm1hdC5cbiAgICAqL1xuICAgIGluc2VydGVkOiB0KCksXG4gICAgLyoqXG4gICAgRGVsZXRlZCB0ZXh0LlxuICAgICovXG4gICAgZGVsZXRlZDogdCgpLFxuICAgIC8qKlxuICAgIENoYW5nZWQgdGV4dC5cbiAgICAqL1xuICAgIGNoYW5nZWQ6IHQoKSxcbiAgICAvKipcbiAgICBBbiBpbnZhbGlkIG9yIHVuc3ludGFjdGljIGVsZW1lbnQuXG4gICAgKi9cbiAgICBpbnZhbGlkOiB0KCksXG4gICAgLyoqXG4gICAgTWV0YWRhdGEgb3IgbWV0YS1pbnN0cnVjdGlvbi5cbiAgICAqL1xuICAgIG1ldGEsXG4gICAgLyoqXG4gICAgW01ldGFkYXRhXSgjaGlnaGxpZ2h0LnRhZ3MubWV0YSkgdGhhdCBhcHBsaWVzIHRvIHRoZSBlbnRpcmVcbiAgICBkb2N1bWVudC5cbiAgICAqL1xuICAgIGRvY3VtZW50TWV0YTogdChtZXRhKSxcbiAgICAvKipcbiAgICBbTWV0YWRhdGFdKCNoaWdobGlnaHQudGFncy5tZXRhKSB0aGF0IGFubm90YXRlcyBvciBhZGRzXG4gICAgYXR0cmlidXRlcyB0byBhIGdpdmVuIHN5bnRhY3RpYyBlbGVtZW50LlxuICAgICovXG4gICAgYW5ub3RhdGlvbjogdChtZXRhKSxcbiAgICAvKipcbiAgICBQcm9jZXNzaW5nIGluc3RydWN0aW9uIG9yIHByZXByb2Nlc3NvciBkaXJlY3RpdmUuIFN1YnRhZyBvZlxuICAgIFttZXRhXSgjaGlnaGxpZ2h0LnRhZ3MubWV0YSkuXG4gICAgKi9cbiAgICBwcm9jZXNzaW5nSW5zdHJ1Y3Rpb246IHQobWV0YSksXG4gICAgLyoqXG4gICAgW01vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdCBpbmRpY2F0ZXMgdGhhdCBhXG4gICAgZ2l2ZW4gZWxlbWVudCBpcyBiZWluZyBkZWZpbmVkLiBFeHBlY3RlZCB0byBiZSB1c2VkIHdpdGggdGhlXG4gICAgdmFyaW91cyBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpIHRhZ3MuXG4gICAgKi9cbiAgICBkZWZpbml0aW9uOiBUYWcuZGVmaW5lTW9kaWZpZXIoKSxcbiAgICAvKipcbiAgICBbTW9kaWZpZXJdKCNoaWdobGlnaHQuVGFnXmRlZmluZU1vZGlmaWVyKSB0aGF0IGluZGljYXRlcyB0aGF0XG4gICAgc29tZXRoaW5nIGlzIGNvbnN0YW50LiBNb3N0bHkgZXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoXG4gICAgW3ZhcmlhYmxlIG5hbWVzXSgjaGlnaGxpZ2h0LnRhZ3MudmFyaWFibGVOYW1lKS5cbiAgICAqL1xuICAgIGNvbnN0YW50OiBUYWcuZGVmaW5lTW9kaWZpZXIoKSxcbiAgICAvKipcbiAgICBbTW9kaWZpZXJdKCNoaWdobGlnaHQuVGFnXmRlZmluZU1vZGlmaWVyKSB1c2VkIHRvIGluZGljYXRlIHRoYXRcbiAgICBhIFt2YXJpYWJsZV0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSkgb3IgW3Byb3BlcnR5XG4gICAgbmFtZV0oI2hpZ2hsaWdodC50YWdzLnByb3BlcnR5TmFtZSkgaXMgYmVpbmcgY2FsbGVkIG9yIGRlZmluZWRcbiAgICBhcyBhIGZ1bmN0aW9uLlxuICAgICovXG4gICAgZnVuY3Rpb246IFRhZy5kZWZpbmVNb2RpZmllcigpLFxuICAgIC8qKlxuICAgIFtNb2RpZmllcl0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lTW9kaWZpZXIpIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG9cbiAgICBbbmFtZXNdKCNoaWdobGlnaHQudGFncy5uYW1lKSB0byBpbmRpY2F0ZSB0aGF0IHRoZXkgYmVsb25nIHRvXG4gICAgdGhlIGxhbmd1YWdlJ3Mgc3RhbmRhcmQgZW52aXJvbm1lbnQuXG4gICAgKi9cbiAgICBzdGFuZGFyZDogVGFnLmRlZmluZU1vZGlmaWVyKCksXG4gICAgLyoqXG4gICAgW01vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdCBpbmRpY2F0ZXMgYSBnaXZlblxuICAgIFtuYW1lc10oI2hpZ2hsaWdodC50YWdzLm5hbWUpIGlzIGxvY2FsIHRvIHNvbWUgc2NvcGUuXG4gICAgKi9cbiAgICBsb2NhbDogVGFnLmRlZmluZU1vZGlmaWVyKCksXG4gICAgLyoqXG4gICAgQSBnZW5lcmljIHZhcmlhbnQgW21vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdFxuICAgIGNhbiBiZSB1c2VkIHRvIHRhZyBsYW5ndWFnZS1zcGVjaWZpYyBhbHRlcm5hdGl2ZSB2YXJpYW50cyBvZlxuICAgIHNvbWUgY29tbW9uIHRhZy4gSXQgaXMgcmVjb21tZW5kZWQgZm9yIHRoZW1lcyB0byBkZWZpbmUgc3BlY2lhbFxuICAgIGZvcm1zIG9mIGF0IGxlYXN0IHRoZSBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKSBhbmRcbiAgICBbdmFyaWFibGUgbmFtZV0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSkgdGFncywgc2luY2UgdGhvc2VcbiAgICBjb21lIHVwIGEgbG90LlxuICAgICovXG4gICAgc3BlY2lhbDogVGFnLmRlZmluZU1vZGlmaWVyKClcbn07XG4vKipcblRoaXMgaXMgYSBoaWdobGlnaHRlciB0aGF0IGFkZHMgc3RhYmxlLCBwcmVkaWN0YWJsZSBjbGFzc2VzIHRvXG50b2tlbnMsIGZvciBzdHlsaW5nIHdpdGggZXh0ZXJuYWwgQ1NTLlxuXG5UaGUgZm9sbG93aW5nIHRhZ3MgYXJlIG1hcHBlZCB0byB0aGVpciBuYW1lIHByZWZpeGVkIHdpdGggYFwidG9rLVwiYFxuKGZvciBleGFtcGxlIGBcInRvay1jb21tZW50XCJgKTpcblxuKiBbYGxpbmtgXSgjaGlnaGxpZ2h0LnRhZ3MubGluaylcbiogW2BoZWFkaW5nYF0oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpXG4qIFtgZW1waGFzaXNgXSgjaGlnaGxpZ2h0LnRhZ3MuZW1waGFzaXMpXG4qIFtgc3Ryb25nYF0oI2hpZ2hsaWdodC50YWdzLnN0cm9uZylcbiogW2BrZXl3b3JkYF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpXG4qIFtgYXRvbWBdKCNoaWdobGlnaHQudGFncy5hdG9tKVxuKiBbYGJvb2xgXSgjaGlnaGxpZ2h0LnRhZ3MuYm9vbClcbiogW2B1cmxgXSgjaGlnaGxpZ2h0LnRhZ3MudXJsKVxuKiBbYGxhYmVsTmFtZWBdKCNoaWdobGlnaHQudGFncy5sYWJlbE5hbWUpXG4qIFtgaW5zZXJ0ZWRgXSgjaGlnaGxpZ2h0LnRhZ3MuaW5zZXJ0ZWQpXG4qIFtgZGVsZXRlZGBdKCNoaWdobGlnaHQudGFncy5kZWxldGVkKVxuKiBbYGxpdGVyYWxgXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbClcbiogW2BzdHJpbmdgXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKVxuKiBbYG51bWJlcmBdKCNoaWdobGlnaHQudGFncy5udW1iZXIpXG4qIFtgdmFyaWFibGVOYW1lYF0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSlcbiogW2B0eXBlTmFtZWBdKCNoaWdobGlnaHQudGFncy50eXBlTmFtZSlcbiogW2BuYW1lc3BhY2VgXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZXNwYWNlKVxuKiBbYGNsYXNzTmFtZWBdKCNoaWdobGlnaHQudGFncy5jbGFzc05hbWUpXG4qIFtgbWFjcm9OYW1lYF0oI2hpZ2hsaWdodC50YWdzLm1hY3JvTmFtZSlcbiogW2Bwcm9wZXJ0eU5hbWVgXSgjaGlnaGxpZ2h0LnRhZ3MucHJvcGVydHlOYW1lKVxuKiBbYG9wZXJhdG9yYF0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKVxuKiBbYGNvbW1lbnRgXSgjaGlnaGxpZ2h0LnRhZ3MuY29tbWVudClcbiogW2BtZXRhYF0oI2hpZ2hsaWdodC50YWdzLm1ldGEpXG4qIFtgcHVuY3R1YXRpb25gXSgjaGlnaGxpZ2h0LnRhZ3MucHVuY3R1YXRpb24pXG4qIFtgaW52YWxpZGBdKCNoaWdobGlnaHQudGFncy5pbnZhbGlkKVxuXG5JbiBhZGRpdGlvbiwgdGhlc2UgbWFwcGluZ3MgYXJlIHByb3ZpZGVkOlxuXG4qIFtgcmVnZXhwYF0oI2hpZ2hsaWdodC50YWdzLnJlZ2V4cCksXG4gIFtgZXNjYXBlYF0oI2hpZ2hsaWdodC50YWdzLmVzY2FwZSksIGFuZFxuICBbYHNwZWNpYWxgXSgjaGlnaGxpZ2h0LnRhZ3Muc3BlY2lhbClbYChzdHJpbmcpYF0oI2hpZ2hsaWdodC50YWdzLnN0cmluZylcbiAgYXJlIG1hcHBlZCB0byBgXCJ0b2stc3RyaW5nMlwiYFxuKiBbYHNwZWNpYWxgXSgjaGlnaGxpZ2h0LnRhZ3Muc3BlY2lhbClbYCh2YXJpYWJsZU5hbWUpYF0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSlcbiAgdG8gYFwidG9rLXZhcmlhYmxlTmFtZTJcImBcbiogW2Bsb2NhbGBdKCNoaWdobGlnaHQudGFncy5sb2NhbClbYCh2YXJpYWJsZU5hbWUpYF0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSlcbiAgdG8gYFwidG9rLXZhcmlhYmxlTmFtZSB0b2stbG9jYWxcImBcbiogW2BkZWZpbml0aW9uYF0oI2hpZ2hsaWdodC50YWdzLmRlZmluaXRpb24pW2AodmFyaWFibGVOYW1lKWBdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpXG4gIHRvIGBcInRvay12YXJpYWJsZU5hbWUgdG9rLWRlZmluaXRpb25cImBcbiogW2BkZWZpbml0aW9uYF0oI2hpZ2hsaWdodC50YWdzLmRlZmluaXRpb24pW2AocHJvcGVydHlOYW1lKWBdKCNoaWdobGlnaHQudGFncy5wcm9wZXJ0eU5hbWUpXG4gIHRvIGBcInRvay1wcm9wZXJ0eU5hbWUgdG9rLWRlZmluaXRpb25cImBcbiovXG5jb25zdCBjbGFzc0hpZ2hsaWdodGVyID0gdGFnSGlnaGxpZ2h0ZXIoW1xuICAgIHsgdGFnOiB0YWdzLmxpbmssIGNsYXNzOiBcInRvay1saW5rXCIgfSxcbiAgICB7IHRhZzogdGFncy5oZWFkaW5nLCBjbGFzczogXCJ0b2staGVhZGluZ1wiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZW1waGFzaXMsIGNsYXNzOiBcInRvay1lbXBoYXNpc1wiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3Ryb25nLCBjbGFzczogXCJ0b2stc3Ryb25nXCIgfSxcbiAgICB7IHRhZzogdGFncy5rZXl3b3JkLCBjbGFzczogXCJ0b2sta2V5d29yZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuYXRvbSwgY2xhc3M6IFwidG9rLWF0b21cIiB9LFxuICAgIHsgdGFnOiB0YWdzLmJvb2wsIGNsYXNzOiBcInRvay1ib29sXCIgfSxcbiAgICB7IHRhZzogdGFncy51cmwsIGNsYXNzOiBcInRvay11cmxcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmxhYmVsTmFtZSwgY2xhc3M6IFwidG9rLWxhYmVsTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuaW5zZXJ0ZWQsIGNsYXNzOiBcInRvay1pbnNlcnRlZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZGVsZXRlZCwgY2xhc3M6IFwidG9rLWRlbGV0ZWRcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmxpdGVyYWwsIGNsYXNzOiBcInRvay1saXRlcmFsXCIgfSxcbiAgICB7IHRhZzogdGFncy5zdHJpbmcsIGNsYXNzOiBcInRvay1zdHJpbmdcIiB9LFxuICAgIHsgdGFnOiB0YWdzLm51bWJlciwgY2xhc3M6IFwidG9rLW51bWJlclwiIH0sXG4gICAgeyB0YWc6IFt0YWdzLnJlZ2V4cCwgdGFncy5lc2NhcGUsIHRhZ3Muc3BlY2lhbCh0YWdzLnN0cmluZyldLCBjbGFzczogXCJ0b2stc3RyaW5nMlwiIH0sXG4gICAgeyB0YWc6IHRhZ3MudmFyaWFibGVOYW1lLCBjbGFzczogXCJ0b2stdmFyaWFibGVOYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5sb2NhbCh0YWdzLnZhcmlhYmxlTmFtZSksIGNsYXNzOiBcInRvay12YXJpYWJsZU5hbWUgdG9rLWxvY2FsXCIgfSxcbiAgICB7IHRhZzogdGFncy5kZWZpbml0aW9uKHRhZ3MudmFyaWFibGVOYW1lKSwgY2xhc3M6IFwidG9rLXZhcmlhYmxlTmFtZSB0b2stZGVmaW5pdGlvblwiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3BlY2lhbCh0YWdzLnZhcmlhYmxlTmFtZSksIGNsYXNzOiBcInRvay12YXJpYWJsZU5hbWUyXCIgfSxcbiAgICB7IHRhZzogdGFncy5kZWZpbml0aW9uKHRhZ3MucHJvcGVydHlOYW1lKSwgY2xhc3M6IFwidG9rLXByb3BlcnR5TmFtZSB0b2stZGVmaW5pdGlvblwiIH0sXG4gICAgeyB0YWc6IHRhZ3MudHlwZU5hbWUsIGNsYXNzOiBcInRvay10eXBlTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubmFtZXNwYWNlLCBjbGFzczogXCJ0b2stbmFtZXNwYWNlXCIgfSxcbiAgICB7IHRhZzogdGFncy5jbGFzc05hbWUsIGNsYXNzOiBcInRvay1jbGFzc05hbWVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLm1hY3JvTmFtZSwgY2xhc3M6IFwidG9rLW1hY3JvTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MucHJvcGVydHlOYW1lLCBjbGFzczogXCJ0b2stcHJvcGVydHlOYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5vcGVyYXRvciwgY2xhc3M6IFwidG9rLW9wZXJhdG9yXCIgfSxcbiAgICB7IHRhZzogdGFncy5jb21tZW50LCBjbGFzczogXCJ0b2stY29tbWVudFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubWV0YSwgY2xhc3M6IFwidG9rLW1ldGFcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmludmFsaWQsIGNsYXNzOiBcInRvay1pbnZhbGlkXCIgfSxcbiAgICB7IHRhZzogdGFncy5wdW5jdHVhdGlvbiwgY2xhc3M6IFwidG9rLXB1bmN0dWF0aW9uXCIgfVxuXSk7XG5cbmV4cG9ydCB7IFRhZywgY2xhc3NIaWdobGlnaHRlciwgZ2V0U3R5bGVUYWdzLCBoaWdobGlnaHRUcmVlLCBzdHlsZVRhZ3MsIHRhZ0hpZ2hsaWdodGVyLCB0YWdzIH07XG4iLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsXSwibmFtZXMiOlsiZ2V0Q29sb3IiLCJ0aGVtZSIsImtleSIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsInNoYWRlIiwiaW5jbHVkZXMiLCJwYXJ0cyIsInNwbGl0IiwiZXhlYyIsImxlbmd0aCIsInBvcCIsImpvaW4iLCJ1bmRlZmluZWQiLCJjb2xvcnMiLCJnZXRDb2xvcnMiLCJjb2xvcnNCeUtleSIsImNvbG9yIiwidGhlbWVkVmFyaWFudCIsInZhcmlhbnQiLCJzZWxlY3RlZCIsInByb3BzIiwiYmxvY2siLCJ2YWx1ZSIsInZhcmlhbnRLZXkiLCJPYmplY3QiLCJpc1NlbGVjdGVkIiwidGhlbWVDb2xvciIsIm1lcmdlVGhlbWVPYmplY3QiLCJzb3VyY2UiLCJ0YXJnZXQiLCJyZXN1bHQiLCJoYXNPd25Qcm9wZXJ0eSIsIkFycmF5IiwiaXNBcnJheSIsImV4dGVuZFRoZW1lIiwiYmFzZSIsImV4dGVuc2lvbiIsImdldENsYXNzZXMiLCJhcmdzIiwiY2xhc3NlcyIsImZvckVhY2giLCJhcmciLCJwdXNoIiwiY29uY2F0IiwiU2V0IiwiZnJvbSIsIkJhc2UiLCJ1dWlkIiwiY2xhc3NOYW1lcyIsIml0ZXJhdGlvbiIsImNvbnN0cnVjdG9yIiwidGhpcyIsImdldENsYXNzTmFtZXMiLCJzZWxlY3RlZEluZGV4IiwiU2VsZWN0YWJsZSIsInNlbGVjdGlvbkluZGV4Iiwic3VwZXIiLCJhZGQiLCJQYXJhZ3JhcGgiLCJzcGFucyIsIkNvZGUiLCJsYW5ndWFnZSIsIkNvbnRlbnQiLCJjaGlsZHJlbiIsIkNvbGxhcHNpYmxlIiwiY29sbGFwc2VkIiwiaWNvbiIsIkxpc3RJdGVtIiwiQ2hlY2tsaXN0SXRlbSIsImNoZWNrZWQiLCJMaXN0IiwiaXRlbXMiLCJDaGVja2xpc3QiLCJTcGFuIiwiY29udGVudCIsImRhdGF0eXBlIiwiVGFibGVSb3ciLCJ2YWx1ZXMiLCJpc0hlYWRlciIsIlRhYmxlIiwicm93cyIsIlBhZ2VhYmxlIiwicGFnZSIsIkJhc2VWaXNpdG9yIiwidmlzaXQiLCJ2aXNpdENvbnRlbnQiLCJ2aXNpdExpc3QiLCJ2aXNpdENvbGxhcHNpYmxlIiwidmlzaXRQYXJhZ3JhcGgiLCJ2aXNpdFNlbGVjdGFibGUiLCJ2aXNpdFNwYW4iLCJ2aXNpdFRhYmxlIiwidmlzaXRUYWJsZVJvdyIsInZpc2l0VHJlZSIsImxlYXZlIiwibGVhdmVDb250ZW50IiwibGVhdmVMaXN0IiwibGVhdmVDb2xsYXBzaWJsZSIsImxlYXZlUGFyYWdyYXBoIiwibGVhdmVTZWxlY3RhYmxlIiwibGVhdmVTcGFuIiwibGVhdmVUYWJsZSIsImxlYXZlVGFibGVSb3ciLCJsZWF2ZVRyZWUiLCJ0cmF2ZXJzZSIsIl90cmF2ZXJzZUxpc3QiLCJfdHJhdmVyc2VDb250ZW50IiwiX3RyYXZlcnNlUGFyYWdyYXBoIiwiX3RyYXZlcnNlU2VsZWN0YWJsZSIsIl90cmF2ZXJzZVRhYmxlIiwiX3RyYXZlcnNlVGFibGVSb3ciLCJUcmVlIiwiX3RyYXZlcnNlVHJlZSIsImNoaWxkIiwiaXRlbSIsIl90cmF2ZXJzZUNvbGxhcHNpYmxlIiwic3BhbiIsIl90cmF2ZXJzZVNwYW4iLCJyb3ciLCJjZWxsIiwiVmlzaWJsZVZpc2l0b3IiLCJ2aXNpYmxlIiwiY3VycmVudEl0ZXJhdGlvbiIsImlzQmxvY2tWaXNpYmxlIiwiaXNWaXNpYmxlIiwiZXZlcnkiLCJ2IiwiU2VsZWN0ZWRWaXNpdG9yIiwicnVuIiwiQmxvY2tGYWN0b3J5Q29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJmYWN0b3J5Iiwic2V0RmFjdG9yeSIsIkRhcmtNb2RlQ29udGV4dCIsImRhcmtNb2RlIiwic2V0RGFya01vZGUiLCJtb2RlIiwiTmVzdGVkUGFnaW5hdGlvblN0YXRlIiwicGFnZXMiLCJudW1QYWdlcyIsImNvcHkiLCJzdGF0ZSIsIm5ld1N0YXRlIiwic2xpY2UiLCJnZXRQYWdlIiwibGV2ZWwiLCJnZXROdW1QYWdlcyIsInNldFBhZ2UiLCJhY3Rpb24iLCJ0bXAiLCJmaWxsIiwiTmVzdGVkUGFnaW5hdGlvblJlZHVjZXIiLCJ0eXBlIiwic2V0TnVtUGFnZXMiLCJNYXRoIiwibWF4IiwibWluIiwiRXJyb3IiLCJOZXN0ZWRQYWdpbmF0aW9uQ29udGV4dCIsIk5lc3RlZFBhZ2luYXRpb25EaXNwYXRjaENvbnRleHQiLCJOZXN0ZWRQYWdpbmF0aW9uUHJvdmlkZXIiLCJvbkNoYW5nZSIsImluaXRpYWxTdGF0ZSIsImRpc3BhdGNoIiwidXNlUmVkdWNlciIsInVzZUVmZmVjdCIsIlJlYWN0IiwiUHJvdmlkZXIiLCJjcmVhdGVFbGVtZW50IiwidXNlRGFya01vZGUiLCJ1c2VTdGF0ZSIsIm1lZGlhUXVlcnkiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVzZVN0b3J5Ym9va0RhcmtNb2RlIiwiY29udGV4dCIsImdsb2JhbHMiLCJzdG9yZSIsImxpZ2h0VGhlbWUiLCJncmF5IiwicHVycGxlIiwiYmx1ZSIsImdyZWVuIiwieWVsbG93Iiwib3JhbmdlIiwicmVkIiwiaGlnaGxpZ2h0Iiwic2hhZG93IiwiaWNvbnMiLCJsZWZ0IiwicmlnaHQiLCJzdGFydCIsImVuZCIsInNlYXJjaCIsInRleHQiLCJudW1iZXIiLCJkYXRlIiwiZm9udEZhbWlseSIsImRlZmF1bHQiLCJzcGFuRm9udEZhbWlseSIsImZvbnRTaXplIiwic3BhbkZvbnRTaXplIiwiZm9udFdlaWdodCIsImJhY2tncm91bmRDb2xvciIsImNvbnRlbnRCYWNrZ3JvdW5kQ29sb3IiLCJ1bnNlbGVjdGVkIiwic3BhbkJhY2tncm91bmRDb2xvciIsImJ1dHRvbkJnQ29sb3IiLCJidXR0b25Ib3ZlckJnQ29sb3IiLCJidXR0b25QdWxzZUJnQ29sb3IiLCJ0ZXh0Q29sb3IiLCJzcGFuVGV4dENvbG9yIiwic2Vjb25kYXJ5VGV4dENvbG9yIiwiZmFkZWRUZXh0Q29sb3IiLCJidXR0b25UZXh0Q29sb3IiLCJib3JkZXJDb2xvciIsImhvdmVyQ29sb3IiLCJ0cmVlQ29sb3IiLCJzZWxlY3RlZFRyZWVDb2xvciIsInNwYW5JY29uIiwic3BhbkZvbnRXZWlnaHQiLCJsYWJlbCIsInNwYW5QYWRkaW5nIiwic3BhbkJvcmRlclJhZGl1cyIsImNvZGVCYWNrZ3JvdW5kQ29sb3IiLCJjb2RlRnVuY3Rpb25Db2xvciIsImNvZGVTdHJpbmdDb2xvciIsImNvZGVUZXh0Q29sb3IiLCJjb2RlQ29uc3RhbnRDb2xvciIsImNvZGVLZXl3b3JkQ29sb3IiLCJjb2RlUGFuZWxCYWNrZ3JvdW5kQ29sb3IiLCJjb2xsYXBzaWJsZVRleHRDb2xvciIsImNvbGxhcHNpYmxlRm9udEZhbWlseSIsImNvbGxhc3BpYmxlRm9udFNpemUiLCJjb2xsYXBzaWJsZUZvbnRXZWlnaHQiLCJjb2xsYXBzaWJsZVBhZGRpbmciLCJjb2xsYXBzaWJsZUljb24iLCJjb2xsYXBzaWJsZVRpdGxlUGFkZGluZyIsImRlZmF1bHRMaWdodFRoZW1lIiwiZGFya1RoZW1lIiwiQ09VTlQiLCJTeW1ib2wiLCJmb3IiLCJTRVQiLCJmbG9vciIsInJhbmRvbSIsInRvcCIsImdsb2JhbFRoaXMiLCJTdHlsZU1vZHVsZSIsInNwZWMiLCJvcHRpb25zIiwicnVsZXMiLCJmaW5pc2giLCJzcGxpdFNlbGVjdG9yIiwic2VsZWN0b3IiLCJ0ZXN0IiwicmVuZGVyIiwic2VsZWN0b3JzIiwiaXNLZXlmcmFtZXMiLCJsb2NhbCIsImlzQXQiLCJrZXlmcmFtZXMiLCJwcm9wIiwibWFwIiwicGFydCIsInNlbCIsInJlcGxhY2UiLCJyZWR1Y2UiLCJhIiwiYiIsIlJhbmdlRXJyb3IiLCJsIiwiZ2V0UnVsZXMiLCJuZXdOYW1lIiwiaWQiLCJ0b1N0cmluZyIsIm1vdW50Iiwicm9vdCIsIm1vZHVsZXMiLCJzZXQiLCJub25jZSIsInNldE5vbmNlIiwiU3R5bGVTZXQiLCJhZG9wdGVkU2V0IiwiTWFwIiwiZG9jIiwib3duZXJEb2N1bWVudCIsIndpbiIsImRlZmF1bHRWaWV3IiwiaGVhZCIsImFkb3B0ZWRTdHlsZVNoZWV0cyIsIkNTU1N0eWxlU2hlZXQiLCJhZG9wdGVkIiwiZ2V0Iiwic2hlZXQiLCJzdHlsZVRhZyIsInNldEF0dHJpYnV0ZSIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJwb3MiLCJqIiwiaSIsIm1vZCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImsiLCJpbnNlcnRSdWxlIiwidGV4dENvbnRlbnQiLCJnZXRBdHRyaWJ1dGUiLCJzaGlmdCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImNvZGUiLCJnZXRTZWxlY3Rpb24iLCJub2RlVHlwZSIsImNvbnRhaW5zIiwiZG9tIiwibm9kZSIsInBhcmVudE5vZGUiLCJoYXNTZWxlY3Rpb24iLCJzZWxlY3Rpb24iLCJhbmNob3JOb2RlIiwiXyIsImNsaWVudFJlY3RzRm9yIiwidGV4dFJhbmdlIiwibm9kZVZhbHVlIiwiZ2V0Q2xpZW50UmVjdHMiLCJpc0VxdWl2YWxlbnRQb3NpdGlvbiIsIm9mZiIsInRhcmdldE5vZGUiLCJ0YXJnZXRPZmYiLCJzY2FuRm9yIiwiZG9tSW5kZXgiLCJwcmV2aW91c1NpYmxpbmciLCJkaXIiLCJtYXhPZmZzZXQiLCJub2RlTmFtZSIsInBhcmVudCIsImNoaWxkTm9kZXMiLCJjb250ZW50RWRpdGFibGUiLCJmbGF0dGVuUmVjdCIsInJlY3QiLCJ4IiwiYm90dG9tIiwid2luZG93UmVjdCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIkRPTVNlbGVjdGlvblN0YXRlIiwiYW5jaG9yT2Zmc2V0IiwiZm9jdXNOb2RlIiwiZm9jdXNPZmZzZXQiLCJlcSIsImRvbVNlbCIsInNldFJhbmdlIiwicmFuZ2UiLCJzY3JhdGNoUmFuZ2UiLCJwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkIiwiZm9jdXNQcmV2ZW50U2Nyb2xsIiwic2V0QWN0aXZlIiwiZm9jdXMiLCJzdGFjayIsImN1ciIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJwcmV2ZW50U2Nyb2xsIiwiZWx0IiwidG8iLCJkb2N1bWVudCIsImNyZWF0ZVJhbmdlIiwic2V0RW5kIiwic2V0U3RhcnQiLCJkaXNwYXRjaEtleSIsImtleUNvZGUiLCJ3aGljaCIsImNhbmNlbGFibGUiLCJkb3duIiwiS2V5Ym9hcmRFdmVudCIsInN5bnRoZXRpYyIsImRpc3BhdGNoRXZlbnQiLCJ1cCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJjbGVhckF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwicmVtb3ZlQXR0cmlidXRlTm9kZSIsImlzU2Nyb2xsZWRUb0JvdHRvbSIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsIkRPTVBvcyIsIm9mZnNldCIsInByZWNpc2UiLCJiZWZvcmUiLCJhZnRlciIsIm5vQ2hpbGRyZW4iLCJDb250ZW50VmlldyIsImZsYWdzIiwib3ZlcnJpZGVET01UZXh0IiwicG9zQXRTdGFydCIsInBvc0JlZm9yZSIsInBvc0F0RW5kIiwidmlldyIsImJyZWFrQWZ0ZXIiLCJwb3NBZnRlciIsInN5bmMiLCJ0cmFjayIsIm5leHQiLCJwcmV2IiwibmV4dFNpYmxpbmciLCJjb250ZW50VmlldyIsImNhblJldXNlRE9NIiwicmV1c2VET00iLCJ3cml0dGVuIiwicm0kMSIsIl9kb20iLCJsb2NhbFBvc0Zyb21ET00iLCJiaWFzIiwibGFzdENoaWxkIiwiZG9tQm91bmRzQXJvdW5kIiwiZnJvbUkiLCJmcm9tU3RhcnQiLCJ0b0kiLCJ0b0VuZCIsInByZXZFbmQiLCJzdGFydERPTSIsImVuZERPTSIsIm1hcmtEaXJ0eSIsImFuZFBhcmVudCIsIm1hcmtQYXJlbnRzRGlydHkiLCJjaGlsZExpc3QiLCJzZXRQYXJlbnQiLCJzZXRET00iLCJjbVZpZXciLCJyb290VmlldyIsInJlcGxhY2VDaGlsZHJlbiIsImRlc3Ryb3kiLCJpZ25vcmVNdXRhdGlvbiIsIl9yZWMiLCJpZ25vcmVFdmVudCIsIl9ldmVudCIsImNoaWxkQ3Vyc29yIiwiQ2hpbGRDdXJzb3IiLCJjaGlsZFBvcyIsImZpbmRQb3MiLCJpc0VkaXRhYmxlIiwiaXNXaWRnZXQiLCJpc0hpZGRlbiIsIm1lcmdlIiwiaGFzU3RhcnQiLCJvcGVuU3RhcnQiLCJvcGVuRW5kIiwiYmVjb21lIiwib3RoZXIiLCJnZXRTaWRlIiwicmVtb3ZlQ2hpbGQiLCJwcm90b3R5cGUiLCJyZXBsYWNlUmFuZ2UiLCJmcm9tT2ZmIiwidG9PZmYiLCJpbnNlcnQiLCJicmVha0F0U3RhcnQiLCJsYXN0IiwiYnJlYWtBdEVuZCIsIm1lcmdlQ2hpbGRyZW5JbnRvIiwiZExlbiIsIm5hdiIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlbmRvciIsInBsYXRmb3JtIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJpZV9lZGdlIiwiaWVfdXB0bzEwIiwiaWVfMTF1cCIsImllIiwiZ2Vja28iLCJjaHJvbWUiLCJ3ZWJraXQiLCJzYWZhcmkiLCJpb3MiLCJtYXhUb3VjaFBvaW50cyIsImJyb3dzZXIiLCJtYWMiLCJ3aW5kb3dzIiwibGludXgiLCJpZV92ZXJzaW9uIiwiZG9jdW1lbnRNb2RlIiwiZ2Vja29fdmVyc2lvbiIsImNocm9tZV92ZXJzaW9uIiwiYW5kcm9pZCIsIndlYmtpdF92ZXJzaW9uIiwidGFiU2l6ZSIsIlRleHRWaWV3IiwiY3JlYXRlRE9NIiwidGV4dERPTSIsImNyZWF0ZVRleHROb2RlIiwiZG9tQXRQb3MiLCJfZnJvbSIsIl90byIsImNvb3Jkc0F0Iiwic2lkZSIsImZsYXR0ZW4iLCJyZWN0cyIsIndpZHRoIiwiZmluZCIsImNhbGwiLCJyIiwidGV4dENvb3JkcyIsIk1hcmtWaWV3IiwibWFyayIsImNoIiwic2V0QXR0cnMiLCJjbGFzcyIsImNsYXNzTmFtZSIsImF0dHJzIiwidGFnTmFtZSIsInRvVXBwZXJDYXNlIiwiX2hhc1N0YXJ0IiwiZGV0YWNoRnJvbSIsImlubGluZURPTUF0UG9zIiwiY29vcmRzSW5DaGlsZHJlbiIsIldpZGdldFZpZXciLCJjcmVhdGUiLCJ3aWRnZXQiLCJwcmV2V2lkZ2V0IiwidXBkYXRlRE9NIiwidG9ET00iLCJjb21wYXJlIiwiZXZlbnQiLCJUZXh0IiwiZW1wdHkiLCJjdXN0b20iLCJmcm9tQmFjayIsIldpZGdldEJ1ZmZlclZpZXciLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJqb2luSW5saW5lSW50byIsIm9wZW4iLCJiZWZvcmVQb3MiLCJhZnRlclBvcyIsInNjYW4iLCJmYWxsYmFja1JlY3QiLCJjb21iaW5lQXR0cnMiLCJub0F0dHJzIiwiYXR0cnNFcSIsImlnbm9yZSIsImtleXNBIiwia2V5cyIsImtleXNCIiwidXBkYXRlQXR0cnMiLCJjaGFuZ2VkIiwiY3NzVGV4dCIsInJlbW92ZUF0dHJpYnV0ZSIsImdldEF0dHJzIiwiYXR0ciIsIkxpbmVWaWV3IiwiYXJndW1lbnRzIiwicHJldkF0dHJzIiwidHJhbnNmZXJET00iLCJzZXREZWNvIiwiYXQiLCJhcHBlbmQiLCJhZGRMaW5lRGVjbyIsImRlY28iLCJjbHMiLCJfYSIsImNsYXNzTGlzdCIsInNvbWUiLCJoYWNrIiwiY21JZ25vcmUiLCJhcHBlbmRDaGlsZCIsIm1lYXN1cmVUZXh0U2l6ZSIsInRleHRIZWlnaHQiLCJ0b3RhbFdpZHRoIiwiaGVpZ2h0IiwibGluZUhlaWdodCIsImNoYXJXaWR0aCIsImhlaWdodE9yYWNsZSIsInZpZXdTdGF0ZSIsImFicyIsImRpc3QiLCJfb3RoZXIiLCJjb3ZlcnMiLCJkb2NWaWV3IiwiQmxvY2tXaWRnZXRWaWV3IiwiX3Rha2VEZWNvIiwibGVuIiwic3RhcnRTaWRlIiwiZW5kU2lkZSIsIldpZGdldFR5cGUiLCJlc3RpbWF0ZWRIZWlnaHQiLCJsaW5lQnJlYWtzIiwiQmxvY2tUeXBlIiwiRGVjb3JhdGlvbiIsIlJhbmdlVmFsdWUiLCJoZWlnaHRSZWxldmFudCIsIk1hcmtEZWNvcmF0aW9uIiwiaW5saW5lT3JkZXIiLCJQb2ludERlY29yYXRpb24iLCJpc0Jsb2NrR2FwIiwiZ2V0SW5jbHVzaXZlIiwibGluZSIsIkxpbmVEZWNvcmF0aW9uIiwib2YiLCJzb3J0IiwiUmFuZ2VTZXQiLCJoYXNIZWlnaHQiLCJub25lIiwiX2IiLCJwb2ludCIsIm1hcE1vZGUiLCJNYXBNb2RlIiwiVHJhY2tCZWZvcmUiLCJpc1JlcGxhY2UiLCJUcmFja0FmdGVyIiwiVHJhY2tEZWwiLCJXaWRnZXRSYW5nZSIsIldpZGdldEJlZm9yZSIsIldpZGdldEFmdGVyIiwiaW5jbHVzaXZlU3RhcnQiLCJpbmNsdXNpdmVFbmQiLCJpbmNsdXNpdmUiLCJhZGRSYW5nZSIsInJhbmdlcyIsIm1hcmdpbiIsIkNvbnRlbnRCdWlsZGVyIiwiZGlzYWxsb3dCbG9ja0VmZmVjdHNGb3IiLCJjdXJMaW5lIiwicGVuZGluZ0J1ZmZlciIsImJ1ZmZlck1hcmtzIiwiYXRDdXJzb3JQb3MiLCJ0ZXh0T2ZmIiwiY3Vyc29yIiwiaXRlciIsInNraXAiLCJwb3NDb3ZlcmVkIiwibGluZUF0IiwiZ2V0TGluZSIsImZsdXNoQnVmZmVyIiwiYWN0aXZlIiwid3JhcE1hcmtzIiwiYWRkQmxvY2tXaWRnZXQiLCJidWlsZFRleHQiLCJsaW5lQnJlYWsiLCJkb25lIiwidGFrZSIsIk51bGxXaWRnZXQiLCJjdXJzb3JCZWZvcmUiLCJjdXJzb3JBZnRlciIsImJ1aWxkIiwiZGVjb3JhdGlvbnMiLCJkeW5hbWljRGVjb3JhdGlvbk1hcCIsImJ1aWxkZXIiLCJ0YWciLCJjbGlja0FkZHNTZWxlY3Rpb25SYW5nZSIsIkZhY2V0IiwiZGVmaW5lIiwiZHJhZ01vdmVzU2VsZWN0aW9uJDEiLCJtb3VzZVNlbGVjdGlvblN0eWxlIiwiZXhjZXB0aW9uU2luayIsInVwZGF0ZUxpc3RlbmVyIiwiaW5wdXRIYW5kbGVyIiwiZm9jdXNDaGFuZ2VFZmZlY3QiLCJwZXJMaW5lVGV4dERpcmVjdGlvbiIsImNvbWJpbmUiLCJuYXRpdmVTZWxlY3Rpb25IaWRkZW4iLCJTY3JvbGxUYXJnZXQiLCJ5IiwieU1hcmdpbiIsInhNYXJnaW4iLCJjaGFuZ2VzIiwic2Nyb2xsSW50b1ZpZXciLCJTdGF0ZUVmZmVjdCIsInQiLCJsb2dFeGNlcHRpb24iLCJleGNlcHRpb24iLCJmYWNldCIsIm9uZXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJlZGl0YWJsZSIsIm5leHRQbHVnaW5JRCIsInZpZXdQbHVnaW4iLCJWaWV3UGx1Z2luIiwiZG9tRXZlbnRIYW5kbGVycyIsImRvbUV2ZW50T2JzZXJ2ZXJzIiwiYnVpbGRFeHRlbnNpb25zIiwiZXZlbnRIYW5kbGVycyIsImV2ZW50T2JzZXJ2ZXJzIiwicHJvdmlkZSIsInBsdWdpbiIsImV4dCIsInBsdWdpbkluc3QiLCJmcm9tQ2xhc3MiLCJQbHVnaW5JbnN0YW5jZSIsIm11c3RVcGRhdGUiLCJ1cGRhdGUiLCJlIiwiZGVhY3RpdmF0ZSIsImVkaXRvckF0dHJpYnV0ZXMiLCJjb250ZW50QXR0cmlidXRlcyIsImF0b21pY1JhbmdlcyIsImJpZGlJc29sYXRlZFJhbmdlcyIsImdldElzb2xhdGVkUmFuZ2VzIiwiaXNvbGF0ZXMiLCJzZXRzIiwiRnVuY3Rpb24iLCJpc28iLCJiaWRpSXNvbGF0ZSIsImRpcmVjdGlvbiIsImlubmVyIiwic2Nyb2xsTWFyZ2lucyIsImdldFNjcm9sbE1hcmdpbnMiLCJtIiwic3R5bGVNb2R1bGUiLCJDaGFuZ2VkUmFuZ2UiLCJmcm9tQSIsInRvQSIsImZyb21CIiwidG9CIiwiYWRkVG9TZXQiLCJtZSIsImV4dGVuZFdpdGhSYW5nZXMiLCJkaWZmIiwiZEkiLCJySSIsInBvc0EiLCJwb3NCIiwiVmlld1VwZGF0ZSIsInRyYW5zYWN0aW9ucyIsInN0YXJ0U3RhdGUiLCJDaGFuZ2VTZXQiLCJ0ciIsImNvbXBvc2UiLCJjaGFuZ2VkUmFuZ2VzIiwiaXRlckNoYW5nZWRSYW5nZXMiLCJ2aWV3cG9ydENoYW5nZWQiLCJoZWlnaHRDaGFuZ2VkIiwiZ2VvbWV0cnlDaGFuZ2VkIiwiZG9jQ2hhbmdlZCIsImZvY3VzQ2hhbmdlZCIsInNlbGVjdGlvblNldCIsIkRpcmVjdGlvbiIsIkxUUiIsIlJUTCIsImRlYyIsInN0ciIsIkxvd1R5cGVzIiwiQXJhYmljVHlwZXMiLCJCcmFja2V0cyIsIkJyYWNrZXRTdGFjayIsInAiLCJjaGFyQ29kZUF0IiwiQmlkaVJFIiwiQmlkaVNwYW4iLCJvcmRlciIsImFzc29jIiwibWF5YmUiLCJpc29sYXRlc0VxIiwiaUEiLCJpQiIsInR5cGVzIiwiZW1pdFNwYW5zIiwiYmFzZUxldmVsIiwib3VyVHlwZSIsImlDaCIsImlJIiwic2FtZURpciIsImlzTnVtIiwicmVjdXJzZSIsImxvY2FsTGV2ZWwiLCJpU2NhbiIsInVwdG8iLCJqSSIsImNvbXB1dGVTZWN0aW9uT3JkZXIiLCJvdXRlclR5cGUiLCJyRnJvbSIsInJUbyIsInByZXZUeXBlIiwicHJldlN0cm9uZyIsImNvbXB1dGVDaGFyVHlwZXMiLCJvcHBvc2l0ZVR5cGUiLCJzSSIsImJyIiwic0oiLCJlbWJlZCIsInByb2Nlc3NCcmFja2V0UGFpcnMiLCJiZWZvcmVMIiwiZnJvbUoiLCJwcm9jZXNzTmV1dHJhbHMiLCJ0cml2aWFsT3JkZXIiLCJtb3ZlZE92ZXIiLCJtb3ZlVmlzdWFsbHkiLCJmb3J3YXJkIiwic3RhcnRJbmRleCIsInNwYW5JIiwiYmlkaUxldmVsIiwiaW5kZXhGb3J3YXJkIiwibmV4dEluZGV4IiwiZmluZENsdXN0ZXJCcmVhayIsIkVkaXRvclNlbGVjdGlvbiIsIm5leHRTcGFuIiwiRG9jVmlldyIsImRvbUNoYW5nZWQiLCJoYXNDb21wb3NpdGlvbiIsIm1hcmtlZEZvckNvbXBvc2l0aW9uIiwibWluV2lkdGgiLCJtaW5XaWR0aEZyb20iLCJtaW5XaWR0aFRvIiwiaW1wcmVjaXNlQW5jaG9yIiwiaW1wcmVjaXNlSGVhZCIsImZvcmNlU2VsZWN0aW9uIiwibGFzdFVwZGF0ZSIsIkRhdGUiLCJub3ciLCJjb250ZW50RE9NIiwidXBkYXRlRGVjbyIsInVwZGF0ZUlubmVyIiwibWFwUG9zIiwicmVhZENvbXBvc2l0aW9uQXQiLCJpbnB1dFN0YXRlIiwiY29tcG9zaW5nIiwibmV3U2VsIiwiY29tcG9zaXRpb24iLCJ0b3VjaGVkIiwidG91Y2hlc0NvbXBvc2l0aW9uIiwibWFpbiIsImhlYWRQb3MiLCJmb3VuZCIsImZpbmRDb21wb3NpdGlvbk5vZGUiLCJ0ZXh0Tm9kZSIsInNsaWNlU3RyaW5nIiwiaW52IiwiaW52ZXJ0ZWREZXNjIiwibWFya3MiLCJwYXJlbnRWaWV3IiwiZmluZENvbXBvc2l0aW9uUmFuZ2UiLCJjbGVhciIsImxpbmVzIiwiZGVjb0RpZmYiLCJjb21wIiwiRGVjb3JhdGlvbkNvbXBhcmF0b3IkMSIsImZpbmRDaGFuZ2VkRGVjbyIsIm9sZExlbmd0aCIsIm11c3RNZWFzdXJlQ29udGVudCIsInVwZGF0ZUNoaWxkcmVuIiwib2JzZXJ2ZXIiLCJjb250ZW50SGVpZ2h0Iiwic2NhbGVZIiwiZmxleEJhc2lzIiwic2VsZWN0aW9uUmFuZ2UiLCJjVmlldyIsImdhcHMiLCJ2aWV3cG9ydCIsIkJsb2NrR2FwV2lkZ2V0IiwidXBkYXRlR2FwcyIsImNvbXBMaW5lIiwiY29tcG9zaXRpb25WaWV3IiwiZml4Q29tcG9zaXRpb25ET00iLCJmaXgiLCJjIiwidXBkYXRlU2VsZWN0aW9uIiwibXVzdFJlYWQiLCJmcm9tUG9pbnRlciIsInJlYWRTZWxlY3Rpb25SYW5nZSIsImFjdGl2ZUVsdCIsImFjdGl2ZUVsZW1lbnQiLCJmb2N1c2VkIiwic2VsZWN0aW9uTm90Rm9jdXMiLCJmb3JjZSIsImFuY2hvciIsIm1vdmVUb0xpbmUiLCJkdW1teSIsImluc2lkZSIsImFzc2lnbmVkU2xvdCIsImluVW5lZGl0YWJsZSIsImJsdXIiLCJyYXdTZWwiLCJuZXh0VG8iLCJuZWFyYnlUZXh0Tm9kZSIsImNvbGxhcHNlIiwiY2FyZXRCaWRpTGV2ZWwiLCJleHRlbmQiLCJyZW1vdmVBbGxSYW5nZXMiLCJzZXRTZWxlY3Rpb25SYW5nZSIsImVuZm9yY2VDdXJzb3JBc3NvYyIsIm1vZGlmeSIsImxpbmVTdGFydCIsIm5ld1JhbmdlIiwicG9zRnJvbURPTSIsIm5ld1BvcyIsIm5lYXJlc3QiLCJkb21WaWV3IiwiYmVzdCIsImJlc3RQb3MiLCJjb29yZHNGb3JDaGFyIiwiY2hpbGRPZmYiLCJtZWFzdXJlVmlzaWJsZUxpbmVIZWlnaHRzIiwiY29udGVudFdpZHRoIiwiY2xpZW50V2lkdGgiLCJpc1dpZGVyIiwic2Nyb2xsRE9NIiwid2lkZXN0IiwibHRyIiwidGV4dERpcmVjdGlvbiIsImNoaWxkUmVjdCIsInRleHREaXJlY3Rpb25BdCIsImdldENvbXB1dGVkU3R5bGUiLCJtZWFzdXJlIiwicG9zaXRpb24iLCJyZW1vdmUiLCJjb21wdXRlQmxvY2tHYXBEZWNvIiwidnMiLCJ2aWV3cG9ydHMiLCJsaW5lQmxvY2tBdCIsImFsbERlY28iLCJkIiwibGluZUdhcERlY28iLCJtYXJnaW5zIiwidGFyZ2V0UmVjdCIsInN0b3AiLCJib3VuZGluZyIsImJvZHkiLCJzY2FsZVgiLCJzY3JvbGxXaWR0aCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwibW92ZVgiLCJtb3ZlWSIsInJlY3RIZWlnaHQiLCJib3VuZGluZ0hlaWdodCIsInNjcm9sbEJ5IiwibW92ZWRYIiwibW92ZWRZIiwiaG9zdCIsInNjcm9sbFJlY3RJbnRvVmlldyIsInN0YXJ0Tm9kZSIsInN0YXJ0T2Zmc2V0IiwiY29tcGFyZVJhbmdlIiwiY29tcGFyZVBvaW50IiwiZ2V0ZHgiLCJnZXRkeSIsInlPdmVybGFwIiwidXBUb3AiLCJ1cEJvdCIsImRvbVBvc0F0Q29vcmRzIiwiY2xvc2VzdCIsImNsb3Nlc3RSZWN0IiwiY2xvc2VzdFgiLCJjbG9zZXN0WSIsImFib3ZlIiwiYmVsb3ciLCJhYm92ZVJlY3QiLCJiZWxvd1JlY3QiLCJjbG9zZXN0T3ZlcmxhcCIsImR4IiwiZHkiLCJkb21Qb3NJblRleHQiLCJjbGlwWCIsImNsb3Nlc3RPZmZzZXQiLCJjbG9zZXN0RFkiLCJnZW5lcmFsU2lkZSIsInBvc0F0Q29vcmRzIiwiY29vcmRzIiwiZG9jVG9wIiwicGFkZGluZ1RvcCIsImRvY0hlaWdodCIsInlPZmZzZXQiLCJoYWxmTGluZSIsImJvdW5jZWQiLCJlbGVtZW50QXRIZWlnaHQiLCJwb3NBdENvb3Jkc0ltcHJlY2lzZSIsImVsZW1lbnRGcm9tUG9pbnQiLCJlbGVtZW50IiwiY2FyZXRQb3NpdGlvbkZyb21Qb2ludCIsIm9mZnNldE5vZGUiLCJjYXJldFJhbmdlRnJvbVBvaW50Iiwic3RhcnRDb250YWluZXIiLCJpc1N1c3BpY2lvdXNTYWZhcmlDYXJldFJlc3VsdCIsImlzU3VzcGljaW91c0Nocm9tZUNhcmV0UmVzdWx0IiwiY29udGVudFJlY3QiLCJpbnRvIiwicm91bmQiLCJkZWZhdWx0Q2hhcmFjdGVyV2lkdGgiLCJsaW5lV3JhcHBpbmciLCJkZWZhdWx0TGluZUhlaWdodCIsImxpbmVMZW5ndGgiLCJzbGljZURvYyIsImZpbmRDb2x1bW4iLCJtb3ZlVG9MaW5lQm91bmRhcnkiLCJpbmNsdWRlV3JhcCIsImJsb2NrQXQiLCJ3aWRnZXRMaW5lQnJlYWtzIiwiY29vcmRzQXRQb3MiLCJlZGl0b3JSZWN0IiwibW92ZUJ5Q2hhciIsImJ5IiwiYmlkaVNwYW5zIiwiY2hlY2siLCJjaGFyIiwic2tpcEF0b21pY1JhbmdlcyIsImF0b21zIiwibW92ZWQiLCJiZXR3ZWVuIiwic2tpcEF0b21zIiwib2xkUG9zIiwiZiIsIklucHV0U3RhdGUiLCJzZXRTZWxlY3Rpb25PcmlnaW4iLCJvcmlnaW4iLCJsYXN0U2VsZWN0aW9uT3JpZ2luIiwibGFzdFNlbGVjdGlvblRpbWUiLCJsYXN0S2V5Q29kZSIsImxhc3RLZXlUaW1lIiwibGFzdFRvdWNoVGltZSIsImxhc3RGb2N1c1RpbWUiLCJsYXN0U2Nyb2xsVG9wIiwibGFzdFNjcm9sbExlZnQiLCJwZW5kaW5nSU9TS2V5IiwibGFzdEVzY1ByZXNzIiwibGFzdENvbnRleHRNZW51Iiwic2Nyb2xsSGFuZGxlcnMiLCJoYW5kbGVycyIsImNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UiLCJjb21wb3NpdGlvbkVuZGVkQXQiLCJjb21wb3NpdGlvblBlbmRpbmdLZXkiLCJjb21wb3NpdGlvblBlbmRpbmdDaGFuZ2UiLCJtb3VzZVNlbGVjdGlvbiIsImhhbmRsZUV2ZW50IiwiYmluZCIsIm5vdGlmaWVkRm9jdXNlZCIsImhhc0ZvY3VzIiwiYXBwbGllZEZpcmVmb3hIYWNrIiwiaGFzIiwiZmlyZWZveENvcHlDdXRIYWNrIiwiYnViYmxlcyIsImV2ZW50QmVsb25nc1RvRWRpdG9yIiwiaWdub3JlRHVyaW5nQ29tcG9zaXRpb24iLCJrZXlkb3duIiwicnVuSGFuZGxlcnMiLCJvYnNlcnZlcnMiLCJwcmV2ZW50RGVmYXVsdCIsImVuc3VyZUhhbmRsZXJzIiwicGx1Z2lucyIsImNvbXB1dGVIYW5kbGVycyIsInBhc3NpdmUiLCJleGlzdHMiLCJtb2RpZmllckNvZGVzIiwiZGVsYXlBbmRyb2lkS2V5IiwicGVuZGluZyIsImFsdEtleSIsIm1ldGFLZXkiLCJQZW5kaW5nS2V5cyIsImN0cmxLZXkiLCJFbWFjc3lQZW5kaW5nS2V5cyIsInNoaWZ0S2V5IiwiZm9yY2VGbHVzaCIsInNldFRpbWVvdXQiLCJmbHVzaElPU0tleSIsInN0YXJ0TW91c2VTZWxlY3Rpb24iLCJiaW5kSGFuZGxlciIsInJlY29yZCIsImlucHV0VHlwZSIsImRyYWdTY3JvbGxTcGVlZCIsIk1vdXNlU2VsZWN0aW9uIiwic3RhcnRFdmVudCIsIm11c3RTZWxlY3QiLCJzY3JvbGxTcGVlZCIsInNjcm9sbGluZyIsImxhc3RFdmVudCIsInNjcm9sbFBhcmVudCIsInNjcm9sbGFibGVQYXJlbnQiLCJtb3ZlIiwibXVsdGlwbGUiLCJFZGl0b3JTdGF0ZSIsImFsbG93TXVsdGlwbGVTZWxlY3Rpb25zIiwiYWRkc1NlbGVjdGlvblJhbmdlIiwiZHJhZ2dpbmciLCJyYW5nZUNvdW50IiwiZ2V0UmFuZ2VBdCIsImNsaWVudFgiLCJjbGllbnRZIiwiaXNJblByaW1hcnlTZWxlY3Rpb24iLCJnZXRDbGlja1R5cGUiLCJzZWxlY3QiLCJidXR0b25zIiwic3giLCJzeSIsInNldFNjcm9sbFNwZWVkIiwic2V0SW50ZXJ2YWwiLCJzY3JvbGwiLCJjbGVhckludGVydmFsIiwidXBkYXRlZCIsIm1haW5JbmRleCIsInVzZXJFdmVudCIsImJyb2tlbkNsaXBib2FyZEFQSSIsImRvUGFzdGUiLCJpbnB1dCIsInRvVGV4dCIsImJ5TGluZSIsImxhc3RMaW5ld2lzZUNvcHkiLCJsYXN0TGluZSIsImNoYW5nZUJ5UmFuZ2UiLCJyZXBsYWNlU2VsZWN0aW9uIiwicmFuZ2VGb3JDbGljayIsImNhdGVnb3JpemUiLCJjaGFyQ2F0ZWdvcml6ZXIiLCJsaW5lUG9zIiwiY2F0IiwiZ3JvdXBBdCIsInZpc3VhbCIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJtb3VzZWRvd24iLCJmbHVzaCIsIm1ha2VTdHlsZSIsImJ1dHRvbiIsInF1ZXJ5UG9zIiwic3RhcnRTZWwiLCJyZW1vdmVkIiwic3RhcnRSYW5nZSIsInJlbW92ZVJhbmdlQXJvdW5kIiwiYmFzaWNNb3VzZVNlbGVjdGlvbiIsIm11c3RGb2N1cyIsIm1vdXNlU2VsIiwiaW5zaWRlWSIsImZpbmRQb3NpdGlvblNpZGUiLCJCYWRNb3VzZURldGFpbCIsImxhc3RNb3VzZURvd24iLCJsYXN0TW91c2VEb3duQ291bnQiLCJsYXN0TW91c2VEb3duVGltZSIsImRldGFpbCIsImxhc3RUaW1lIiwiZHJvcFRleHQiLCJkaXJlY3QiLCJkcm9wUG9zIiwiZGVsIiwiZHJhZ01vdmVzU2VsZWN0aW9uIiwiaW5zIiwiZHJhZ3N0YXJ0IiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsImVmZmVjdEFsbG93ZWQiLCJkcm9wIiwicmVhZE9ubHkiLCJmaWxlcyIsInJlYWQiLCJmaW5pc2hGaWxlIiwiZmlsdGVyIiwicyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZWFkQXNUZXh0IiwiZ2V0RGF0YSIsInBhc3RlIiwiZGF0YSIsImNsaXBib2FyZERhdGEiLCJjYXB0dXJlUGFzdGUiLCJjdXQiLCJsaW5ld2lzZSIsImNvcGllZFJhbmdlIiwiY2xlYXJEYXRhIiwic2VsZWN0aW9uRW5kIiwic2VsZWN0aW9uU3RhcnQiLCJjYXB0dXJlQ29weSIsImlzRm9jdXNDaGFuZ2UiLCJBbm5vdGF0aW9uIiwiZm9jdXNDaGFuZ2VUcmFuc2FjdGlvbiIsImVmZmVjdHMiLCJnZXRFZmZlY3QiLCJlZmZlY3QiLCJhbm5vdGF0aW9ucyIsInVwZGF0ZUZvckZvY3VzQ2hhbmdlIiwiY2xlYXJTZWxlY3Rpb25SYW5nZSIsImNvbXBvc2l0aW9uc3RhcnQiLCJjb21wb3NpdGlvbnVwZGF0ZSIsImNvbXBvc2l0aW9uZW5kIiwicGVuZGluZ1JlY29yZHMiLCJmbHVzaFNvb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJjb250ZXh0bWVudSIsImJlZm9yZWlucHV0Iiwic3RhcnRWaWV3SGVpZ2h0IiwidmlzdWFsVmlld3BvcnQiLCJ3cmFwcGluZ1doaXRlU3BhY2UiLCJIZWlnaHRPcmFjbGUiLCJoZWlnaHRTYW1wbGVzIiwiaGVpZ2h0Rm9yR2FwIiwiY2VpbCIsImhlaWdodEZvckxpbmUiLCJzZXREb2MiLCJtdXN0UmVmcmVzaEZvcldyYXBwaW5nIiwid2hpdGVTcGFjZSIsIm11c3RSZWZyZXNoRm9ySGVpZ2h0cyIsImxpbmVIZWlnaHRzIiwibmV3SGVpZ2h0IiwiaCIsInJlZnJlc2giLCJrbm93bkhlaWdodHMiLCJNZWFzdXJlZEhlaWdodHMiLCJoZWlnaHRzIiwibW9yZSIsIkJsb2NrSW5mbyIsIl9jb250ZW50IiwiUXVlcnlUeXBlIiwiRXBzaWxvbiIsIkhlaWdodE1hcCIsIm91dGRhdGVkIiwic2V0SGVpZ2h0Iiwib3JhY2xlIiwibm9kZXMiLCJkZWNvbXBvc2VMZWZ0IiwiZGVjb21wb3NlUmlnaHQiLCJhcHBseUNoYW5nZXMiLCJvbGREb2MiLCJCeVBvc05vSGVpZ2h0IiwiTm9kZUJ1aWxkZXIiLCJ1cGRhdGVIZWlnaHQiLCJIZWlnaHRNYXBUZXh0IiwiYnJlYWsiLCJzaXplIiwiYnJrIiwiSGVpZ2h0TWFwQnJhbmNoIiwiSGVpZ2h0TWFwQmxvY2siLCJfaGVpZ2h0IiwiX29yYWNsZSIsIl92YWx1ZSIsIl90eXBlIiwiZm9yRWFjaExpbmUiLCJfZm9yY2UiLCJtZWFzdXJlZCIsIndpZGdldEhlaWdodCIsImJyZWFrcyIsIkhlaWdodE1hcEdhcCIsImhlaWdodE1ldHJpY3MiLCJwZXJMaW5lIiwiZmlyc3RMaW5lIiwicGVyQ2hhciIsInRvdGFsUGVyTGluZSIsImd1ZXNzIiwibGluZVRvcCIsIkJ5SGVpZ2h0IiwibGluZXNBYm92ZSIsImZpcnN0IiwidW5zaGlmdCIsInNpbmdsZUhlaWdodCIsIm1pZCIsInJpZ2h0VG9wIiwicmlnaHRPZmZzZXQiLCJzdWJRdWVyeSIsIkJ5UG9zIiwicmlnaHRTdGFydCIsImJhbGFuY2VkIiwibWVyZ2VHYXBzIiwicmViYWxhbmNlIiwiYXJvdW5kIiwibGluZUVuZCIsImNvdmVyaW5nIiwid3JpdHRlblRvIiwiaXNDb3ZlcmVkIiwiYWRkQmxvY2siLCJlbnRlckxpbmUiLCJibGFua0NvbnRlbnQiLCJnYXAiLCJlbnN1cmVMaW5lIiwiRGVjb3JhdGlvbkNvbXBhcmF0b3IiLCJ2aXNpYmxlUGl4ZWxSYW5nZSIsIm92ZXJmbG93IiwicGFyZW50UmVjdCIsIm9mZnNldFBhcmVudCIsImZ1bGxQaXhlbFJhbmdlIiwiTGluZUdhcCIsInNhbWUiLCJnQSIsImdCIiwiZHJhdyIsIndyYXBwaW5nIiwiTGluZUdhcFdpZGdldCIsInZlcnRpY2FsIiwiZGlzcGxheSIsIlZpZXdTdGF0ZSIsInBpeGVsVmlld3BvcnQiLCJpblZpZXciLCJwYWRkaW5nQm90dG9tIiwiY29udGVudERPTVdpZHRoIiwiY29udGVudERPTUhlaWdodCIsImVkaXRvckhlaWdodCIsImVkaXRvcldpZHRoIiwic2Nyb2xsZWRUb0JvdHRvbSIsInNjcm9sbEFuY2hvclBvcyIsInNjcm9sbEFuY2hvckhlaWdodCIsInNjYWxlciIsIklkU2NhbGVyIiwic2Nyb2xsVGFyZ2V0IiwicHJpbnRpbmciLCJkZWZhdWx0VGV4dERpcmVjdGlvbiIsInZpc2libGVSYW5nZXMiLCJtdXN0RW5mb3JjZUN1cnNvckFzc29jIiwiZ3Vlc3NXcmFwcGluZyIsInN0YXRlRGVjbyIsImhlaWdodE1hcCIsImdldFZpZXdwb3J0IiwidXBkYXRlVmlld3BvcnRMaW5lcyIsInVwZGF0ZUZvclZpZXdwb3J0IiwibGluZUdhcHMiLCJlbnN1cmVMaW5lR2FwcyIsImNvbXB1dGVWaXNpYmxlUmFuZ2VzIiwiVmlld3BvcnQiLCJCaWdTY2FsZXIiLCJ2aWV3cG9ydExpbmVzIiwic2NhbGUiLCJzY2FsZUJsb2NrIiwicHJldkRlY28iLCJjb250ZW50Q2hhbmdlcyIsImhlaWdodENoYW5nZXMiLCJoZWlnaHRSZWxldmFudERlY29DaGFuZ2VzIiwicHJldkhlaWdodCIsInNjcm9sbEFuY2hvciIsInNjcm9sbEFuY2hvckF0IiwibWFwVmlld3BvcnQiLCJ2aWV3cG9ydElzQXBwcm9wcmlhdGUiLCJ1cGRhdGVMaW5lcyIsInVwZGF0ZUxpbmVHYXBzIiwibWFwTGluZUdhcHMiLCJkb21SZWN0IiwibWVhc3VyZUNvbnRlbnQiLCJpc0Zpbml0ZSIsInBhcnNlSW50IiwiZFRvcCIsImRCb3R0b20iLCJ2cCIsInZpZXdwb3J0Q2hhbmdlIiwidmlzaWJsZVRvcCIsImZyb21ET00iLCJ2aXNpYmxlQm90dG9tIiwibWFyZ2luVG9wIiwidG9wUG9zIiwidmlld0hlaWdodCIsIm1hcHBlZCIsInRvdWNoZXNSYW5nZSIsImN1cnJlbnQiLCJtYXlNZWFzdXJlIiwiaGFsZk1hcmdpbiIsImRvdWJsZU1hcmdpbiIsImFkZEdhcCIsInN0cnVjdHVyZSIsImF2b2lkIiwiYXJyYXkiLCJ2YWwiLCJnYXBTaXplIiwibGluZVN0cnVjdHVyZSIsInRvdGFsIiwidmlld0Zyb20iLCJ2aWV3VG8iLCJib3QiLCJtYXJnaW5IZWlnaHQiLCJ0YXJnZXRGcmFjIiwiZmluZEZyYWN0aW9uIiwic3BhY2VGcmFjIiwiZmluZFBvc2l0aW9uIiwibWFyZ2luV2lkdGgiLCJmcmFjdGlvbiIsImxpbmVCbG9ja0F0SGVpZ2h0IiwicmF0aW8iLCJjb3VudGVkIiwibiIsInZwSGVpZ2h0IiwiZG9tQmFzZSIsImRvbVRvcCIsImRvbUJvdHRvbSIsIm9iaiIsImJUb3AiLCJiQm90dG9tIiwic3RycyIsImJhc2VUaGVtZUlEIiwiYmFzZUxpZ2h0SUQiLCJiYXNlRGFya0lEIiwibGlnaHREYXJrSURzIiwiYnVpbGRUaGVtZSIsInNjb3BlcyIsImJhc2VUaGVtZSQxIiwiYm94U2l6aW5nIiwib3V0bGluZSIsImZsZXhEaXJlY3Rpb24iLCJhbGlnbkl0ZW1zIiwib3ZlcmZsb3dYIiwiekluZGV4IiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwid29yZFdyYXAiLCJtaW5IZWlnaHQiLCJwYWRkaW5nIiwiV2Via2l0VXNlck1vZGlmeSIsIndoaXRlU3BhY2VfZmFsbGJhY2siLCJ3b3JkQnJlYWsiLCJvdmVyZmxvd1dyYXAiLCJjYXJldENvbG9yIiwiY29udGFpbiIsImJhY2tncm91bmQiLCJwb2ludGVyRXZlbnRzIiwiYW5pbWF0aW9uIiwib3BhY2l0eSIsImJvcmRlckxlZnQiLCJtYXJnaW5MZWZ0IiwiYm9yZGVyTGVmdENvbG9yIiwiaW5zZXRJbmxpbmVTdGFydCIsImJvcmRlclJpZ2h0IiwidGV4dEFsaWduIiwiYm9yZGVyQm90dG9tIiwiYm9yZGVyVG9wIiwidmVydGljYWxBbGlnbiIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRTaXplIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiYmFja2dyb3VuZFJlcGVhdCIsImJvcmRlclJhZGl1cyIsImJvcmRlciIsIkxpbmVCcmVha1BsYWNlaG9sZGVyIiwiRE9NUmVhZGVyIiwicG9pbnRzIiwibGluZVNlcGFyYXRvciIsInJlYWRSYW5nZSIsImZpbmRQb2ludEJlZm9yZSIsIm9sZExlbiIsInJlYWROb2RlIiwibmV4dFZpZXciLCJpc0Jsb2NrRWxlbWVudCIsInJlYWRUZXh0Tm9kZSIsInJlIiwibmV4dEJyZWFrIiwiYnJlYWtTaXplIiwiZnJvbVZpZXciLCJmaW5kUG9pbnRJbnNpZGUiLCJpc0F0RW5kIiwiRE9NUG9pbnQiLCJET01DaGFuZ2UiLCJ0eXBlT3ZlciIsImJvdW5kcyIsImlIZWFkIiwiaUFuY2hvciIsInNlbFBvaW50cyIsInNlbGVjdGlvblBvaW50cyIsInNpbmdsZSIsInNlbGVjdGlvbkZyb21Qb2ludHMiLCJhcHBseURPTUNoYW5nZSIsImRvbUNoYW5nZSIsImNoYW5nZSIsImxhc3RLZXkiLCJwcmVmZXJyZWRQb3MiLCJwcmVmZXJyZWRTaWRlIiwibWluTGVuIiwiZmluZERpZmYiLCJkZWZhdWx0VHIiLCJkZWZhdWx0SW5zZXJ0IiwibWFpblNlbCIsIm5ld0xlbmd0aCIsImNvbXBvc2l0aW9uUmFuZ2UiLCJyZXBsYWNlZCIsInJhbmdlQ2hhbmdlcyIsInNlbE9mZiIsImFwcGx5RGVmYXVsdEluc2VydCIsIm9ic2VydmVPcHRpb25zIiwiY2hhcmFjdGVyRGF0YSIsInN1YnRyZWUiLCJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiLCJ1c2VDaGFyRGF0YSIsIkRPTU9ic2VydmVyIiwic2VsZWN0aW9uQ2hhbmdlZCIsImRlbGF5ZWRGbHVzaCIsInJlc2l6ZVRpbWVvdXQiLCJxdWV1ZSIsImRlbGF5ZWRBbmRyb2lkS2V5IiwiZmx1c2hpbmdBbmRyb2lkS2V5IiwibGFzdENoYW5nZSIsInNjcm9sbFRhcmdldHMiLCJpbnRlcnNlY3Rpb24iLCJyZXNpemVTY3JvbGwiLCJpbnRlcnNlY3RpbmciLCJnYXBJbnRlcnNlY3Rpb24iLCJwYXJlbnRDaGVjayIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJtdXQiLCJyZW1vdmVkTm9kZXMiLCJvbGRWYWx1ZSIsIm9uQ2hhckRhdGEiLCJwcmV2VmFsdWUiLCJvblNlbGVjdGlvbkNoYW5nZSIsIm9uUmVzaXplIiwib25QcmludCIsIm9uU2Nyb2xsIiwiUmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlIiwiYWRkV2luZG93TGlzdGVuZXJzIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwibGlzdGVuRm9yU2Nyb2xsIiwiaW50ZXJzZWN0aW9uUmF0aW8iLCJvblNjcm9sbENoYW5nZWQiLCJjcmVhdGVFdmVudCIsInRocmVzaG9sZCIsInJlcXVlc3RNZWFzdXJlIiwiZyIsImRpc2Nvbm5lY3QiLCJ3YXNDaGFuZ2VkIiwic2hhZG93Um9vdCIsImRlZXBBY3RpdmVFbGVtZW50Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiZ2V0VGFyZ2V0UmFuZ2VzIiwiZXhlY0NvbW1hbmQiLCJlbmRDb250YWluZXIiLCJlbmRPZmZzZXQiLCJjdXJBbmNob3IiLCJzYWZhcmlTZWxlY3Rpb25SYW5nZUhhY2siLCJhdEVsZW1lbnRTdGFydCIsInByb2Nlc3NSZWNvcmRzIiwiY2xlYXJEZWxheWVkQW5kcm9pZEtleSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwidGFrZVJlY29yZHMiLCJyZWNvcmRzIiwicmVhZE11dGF0aW9uIiwicmVhZENoYW5nZSIsInJlYWRTZWxlY3Rpb24iLCJoYW5kbGVkIiwicmVjIiwiY2hpbGRCZWZvcmUiLCJmaW5kQ2hpbGQiLCJjaGlsZEFmdGVyIiwic2V0V2luZG93IiwicmVtb3ZlV2luZG93TGlzdGVuZXJzIiwiX2MiLCJjbGVhclRpbWVvdXQiLCJjdXJWaWV3IiwiRWRpdG9yVmlldyIsImNvbXBvc2l0aW9uU3RhcnRlZCIsIl9yb290IiwiY29uZmlnIiwicGx1Z2luTWFwIiwiZWRpdG9yQXR0cnMiLCJjb250ZW50QXR0cnMiLCJiaWRpQ2FjaGUiLCJkZXN0cm95ZWQiLCJ1cGRhdGVTdGF0ZSIsIm1lYXN1cmVTY2hlZHVsZWQiLCJtZWFzdXJlUmVxdWVzdHMiLCJ0YWJJbmRleCIsImFubm91bmNlRE9NIiwiZGlzcGF0Y2hUcmFuc2FjdGlvbnMiLCJ0cnMiLCJnZXRSb290IiwibW91bnRTdHlsZXMiLCJUcmFuc2FjdGlvbiIsInJlZHJhd24iLCJhdHRyc0NoYW5nZWQiLCJmb2N1c0ZsYWciLCJkaXNwYXRjaEZvY3VzIiwiYW5ub3RhdGlvbiIsInBlbmRpbmdLZXkiLCJwaHJhc2VzIiwic2V0U3RhdGUiLCJpcyIsIkNhY2hlZE9yZGVyIiwidXBkYXRlUGx1Z2lucyIsInN0eWxlTW9kdWxlcyIsInNob3dBbm5vdW5jZW1lbnRzIiwiaXNVc2VyRXZlbnQiLCJsaXN0ZW5lciIsImhhZEZvY3VzIiwicHJldlNwZWNzIiwic3BlY3MiLCJuZXdQbHVnaW5zIiwic0RPTSIsIndhcm4iLCJtZWFzdXJpbmciLCJCYWRNZWFzdXJlIiwid3JpdGUiLCJ0aGVtZUNsYXNzZXMiLCJhdHRyc0Zyb21GYWNldCIsInNwZWxsY2hlY2siLCJhdXRvY29ycmVjdCIsImF1dG9jYXBpdGFsaXplIiwidHJhbnNsYXRlIiwiY29udGVudGVkaXRhYmxlIiwicm9sZSIsImNoYW5nZWRDb250ZW50IiwiY2hhbmdlZEVkaXRvciIsImFubm91bmNlIiwiY3NwTm9uY2UiLCJyZXZlcnNlIiwicmVhZE1lYXN1cmVkIiwicmVxdWVzdCIsImtub3duIiwiZG9jdW1lbnRUb3AiLCJkb2N1bWVudFBhZGRpbmciLCJ2aWV3cG9ydExpbmVCbG9ja3MiLCJtb3ZlQnlHcm91cCIsImluaXRpYWwiLCJuZXh0Q2F0IiwiQ2hhckNhdGVnb3J5IiwiU3BhY2UiLCJieUdyb3VwIiwibW92ZVZlcnRpY2FsbHkiLCJkaXN0YW5jZSIsInN0YXJ0UG9zIiwic3RhcnRZIiwiZ29hbCIsImdvYWxDb2x1bW4iLCJzdGFydENvb3JkcyIsInJlc29sdmVkR29hbCIsImV4dHJhIiwiY3VyWSIsImNoYXJSZWN0IiwicG9zQXRET00iLCJNYXhCaWRpTGluZSIsImVudHJ5IiwiZnJlc2giLCJjb21wdXRlT3JkZXIiLCJzZXRSb290IiwicHJlZml4IiwiZGFyayIsImJhc2VUaGVtZSIsIlByZWMiLCJsb3dlc3QiLCJmaW5kRnJvbURPTSIsInF1ZXJ5U2VsZWN0b3IiLCJjYWNoZSIsImxhc3REaXIiLCJzb3VyY2VzIiwiR3V0dGVyTWFya2VyIiwiZWxlbWVudENsYXNzIiwiRGVmYXVsdEJ1ZmZlckxlbmd0aCIsIm5leHRQcm9wSUQiLCJOb2RlUHJvcCIsInBlck5vZGUiLCJkZXNlcmlhbGl6ZSIsIm1hdGNoIiwiTm9kZVR5cGUiLCJjbG9zZWRCeSIsIm9wZW5lZEJ5IiwiZ3JvdXAiLCJjb250ZXh0SGFzaCIsImxvb2tBaGVhZCIsIm1vdW50ZWQiLCJNb3VudGVkVHJlZSIsInRyZWUiLCJvdmVybGF5IiwicGFyc2VyIiwibm9Qcm9wcyIsInNraXBwZWQiLCJzcmMiLCJpc1RvcCIsImlzU2tpcHBlZCIsImlzRXJyb3IiLCJpc0Fub255bW91cyIsImdyb3VwcyIsIkNhY2hlZE5vZGUiLCJXZWFrTWFwIiwiQ2FjaGVkSW5uZXJOb2RlIiwiSXRlck1vZGUiLCJwb3NpdGlvbnMiLCJKU09OIiwic3RyaW5naWZ5IiwiVHJlZUN1cnNvciIsInRvcE5vZGUiLCJjdXJzb3JBdCIsInNjb3BlIiwibW92ZVRvIiwiX3RyZWUiLCJUcmVlTm9kZSIsInJlc29sdmVOb2RlIiwicmVzb2x2ZUlubmVyIiwicmVzb2x2ZVN0YWNrIiwibGF5ZXJzIiwiaXRlclN0YWNrIiwic3RhY2tJdGVyYXRvciIsIml0ZXJhdGUiLCJlbnRlciIsImFub24iLCJJbmNsdWRlQW5vbnltb3VzIiwiZW50ZXJlZCIsInByb3BWYWx1ZXMiLCJiYWxhbmNlIiwiYmFsYW5jZVJhbmdlIiwibWFrZVRyZWUiLCJidWZmZXIiLCJub2RlU2V0IiwibWF4QnVmZmVyTGVuZ3RoIiwicmV1c2VkIiwibWluUmVwZWF0VHlwZSIsIkZsYXRCdWZmZXJDdXJzb3IiLCJ0YWtlTm9kZSIsInBhcmVudFN0YXJ0IiwibWluUG9zIiwiaW5SZXBlYXQiLCJsb29rQWhlYWRBdFN0YXJ0IiwiZmluZEJ1ZmZlclNpemUiLCJVaW50MTZBcnJheSIsImVuZFBvcyIsImNvcHlUb0J1ZmZlciIsIlRyZWVCdWZmZXIiLCJsb2NhbENoaWxkcmVuIiwibG9jYWxQb3NpdGlvbnMiLCJsb2NhbEluUmVwZWF0IiwibGFzdEdyb3VwIiwibGFzdEVuZCIsIm1ha2VSZXBlYXRMZWFmIiwibWFrZSIsIm1ha2VCYWxhbmNlZCIsImxvb2tBaGVhZFByb3AiLCJsYXN0SSIsInBhaXIiLCJtYXhTaXplIiwiZm9yayIsIm1pblN0YXJ0Iiwibm9kZVNpemUiLCJsb2NhbFNraXBwZWQiLCJub2RlU3RhcnQiLCJidWZmZXJTdGFydCIsInRvcElEIiwiYnVpbGRUcmVlIiwiY2hpbGRTdHJpbmciLCJlbmRJbmRleCIsInBpY2siLCJjaGVja1NpZGUiLCJzdGFydEkiLCJlbmRJIiwib3ZlcmxheXMiLCJJZ25vcmVPdmVybGF5cyIsIkJhc2VOb2RlIiwiZ2V0Q2hpbGQiLCJnZXRDaGlsZHJlbiIsIm1hdGNoQ29udGV4dCIsIm1hdGNoTm9kZUNvbnRleHQiLCJlbnRlclVuZmluaXNoZWROb2Rlc0JlZm9yZSIsInByZXZTaWJsaW5nIiwiX3BhcmVudCIsIm5leHRDaGlsZCIsIkV4Y2x1ZGVCdWZmZXJzIiwiQnVmZmVyTm9kZSIsIkJ1ZmZlckNvbnRleHQiLCJoYXNDaGlsZCIsIklnbm9yZU1vdW50cyIsInJQb3MiLCJuZXh0U2lnbmlmaWNhbnRQYXJlbnQiLCJ0b1RyZWUiLCJleHRlcm5hbFNpYmxpbmciLCJoZWFkcyIsInBpY2tlZCIsIm5ld0hlYWRzIiwiU3RhY2tJdGVyYXRvciIsImJ1ZmZlck5vZGUiLCJ5aWVsZE5vZGUiLCJ5aWVsZEJ1ZiIsInlpZWxkIiwiZW50ZXJDaGlsZCIsInNpYmxpbmciLCJhdExhc3ROb2RlIiwiZGVwdGgiLCJtdXN0TGVhdmUiLCJub2RlU2l6ZUNhY2hlIiwiYmFsYW5jZVR5cGUiLCJta1RvcCIsIm1rVHJlZSIsIm1heENoaWxkIiwiZGl2aWRlIiwiZ3JvdXBGcm9tIiwiZ3JvdXBTdGFydCIsImdyb3VwU2l6ZSIsIm5leHRTaXplIiwib25seSIsIm5leHRUYWdJRCIsIlRhZyIsIm1vZGlmaWVkIiwiZGVmaW5lTW9kaWZpZXIiLCJNb2RpZmllciIsIm5leHRNb2RpZmllcklEIiwiaW5zdGFuY2VzIiwibW9kcyIsImNvbmZpZ3MiLCJwb3dlclNldCIsImNvbW1lbnQiLCJ0eXBlTmFtZSIsInByb3BlcnR5TmFtZSIsImxpdGVyYWwiLCJzdHJpbmciLCJoZWFkaW5nIiwia2V5d29yZCIsIm9wZXJhdG9yIiwicHVuY3R1YXRpb24iLCJicmFja2V0IiwibWV0YSIsInRhZ3MiLCJsaW5lQ29tbWVudCIsImJsb2NrQ29tbWVudCIsImRvY0NvbW1lbnQiLCJ2YXJpYWJsZU5hbWUiLCJhdHRyaWJ1dGVOYW1lIiwibGFiZWxOYW1lIiwibmFtZXNwYWNlIiwibWFjcm9OYW1lIiwiZG9jU3RyaW5nIiwiY2hhcmFjdGVyIiwiYXR0cmlidXRlVmFsdWUiLCJpbnRlZ2VyIiwiZmxvYXQiLCJib29sIiwicmVnZXhwIiwiZXNjYXBlIiwidXJsIiwic2VsZiIsIm51bGwiLCJhdG9tIiwidW5pdCIsIm1vZGlmaWVyIiwib3BlcmF0b3JLZXl3b3JkIiwiY29udHJvbEtleXdvcmQiLCJkZWZpbml0aW9uS2V5d29yZCIsIm1vZHVsZUtleXdvcmQiLCJkZXJlZk9wZXJhdG9yIiwiYXJpdGhtZXRpY09wZXJhdG9yIiwibG9naWNPcGVyYXRvciIsImJpdHdpc2VPcGVyYXRvciIsImNvbXBhcmVPcGVyYXRvciIsInVwZGF0ZU9wZXJhdG9yIiwiZGVmaW5pdGlvbk9wZXJhdG9yIiwidHlwZU9wZXJhdG9yIiwiY29udHJvbE9wZXJhdG9yIiwic2VwYXJhdG9yIiwiYW5nbGVCcmFja2V0Iiwic3F1YXJlQnJhY2tldCIsInBhcmVuIiwiYnJhY2UiLCJoZWFkaW5nMSIsImhlYWRpbmcyIiwiaGVhZGluZzMiLCJoZWFkaW5nNCIsImhlYWRpbmc1IiwiaGVhZGluZzYiLCJjb250ZW50U2VwYXJhdG9yIiwibGlzdCIsInF1b3RlIiwiZW1waGFzaXMiLCJzdHJvbmciLCJsaW5rIiwibW9ub3NwYWNlIiwic3RyaWtldGhyb3VnaCIsImluc2VydGVkIiwiZGVsZXRlZCIsImludmFsaWQiLCJkb2N1bWVudE1ldGEiLCJwcm9jZXNzaW5nSW5zdHJ1Y3Rpb24iLCJkZWZpbml0aW9uIiwiY29uc3RhbnQiLCJmdW5jdGlvbiIsInN0YW5kYXJkIiwic3BlY2lhbCIsImFsbCIsInRhZ0hpZ2hsaWdodGVyIiwidW5rbm93biIsImNvZGVUaGVtZSIsImZ1bmN0aW9uQ29sb3IiLCJzdHJpbmdDb2xvciIsImNvbnN0YW50Q29sb3IiLCJrZXl3b3JkQ29sb3IiLCJwYW5lbEJhY2tncm91bmRDb2xvciIsImhpZ2hsaWdodEJhY2tncm91bmQiLCJ0b29sdGlwQmFja2dyb3VuZCIsImJvcmRlclRvcENvbG9yIiwiYm9yZGVyQm90dG9tQ29sb3IiLCJkYXJrSGlnaGxpZ2h0U3R5bGUiLCJIaWdobGlnaHRTdHlsZSIsImZvbnRTdHlsZSIsInRleHREZWNvcmF0aW9uIiwic3ludGF4SGlnaGxpZ2h0aW5nIiwiQ29kZUJsb2NrQ29tcG9uZW50IiwiZm9yd2FyZFJlZiIsImV4dGVuc2lvbnMiLCJvbkNsaWNrIiwicmVmIiwidXNlVGhlbWUiLCJjb2RlQ29udGVudCIsInB5dGhvbiIsIkNvZGVNaXJyb3IiLCJiYXNpY1NldHVwIiwidmlld1VwZGF0ZSIsImRpc3BsYXlOYW1lIiwiQ29kZUJsb2NrIiwic3R5bGVkIiwiZ2V0SWNvbiIsInRoZW1lZEljb24iLCJzdmciLCJjb2xvckNvZGUiLCJzdGFydHNXaXRoIiwiYVJnYkhleCIsImFSZ2IiLCJjb252ZXJ0VG9SR0IiLCJDb2xsYXBzaWJsZUJsb2NrQ29tcG9uZW50Iiwic2V0Q29sbGFwc2VkIiwib25Ub2dnbGUiLCJvblRyYW5zaXRpb25FbmQiLCJ1c2VDb250ZXh0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJoYW5kbGVDbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImdldEJsb2NrQ2xhc3NlcyIsImJ1aWxkQWxsIiwiQ29sbGFwc2libGVCbG9jayIsIkNvbnRlbnRCbG9ja0NvbXBvbmVudCIsImdldENvbnRlbnRDbGFzc2VzIiwiQ29udGVudEJsb2NrIiwiQ29udGVudFNwYW5Db21wb25lbnQiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsIkNvbnRlbnRTcGFuIiwiTGlzdExheW91dENvbXBvbmVudCIsIkxpc3RMYXlvdXQiLCJMaXN0SXRlbUNvbXBvbmVudCIsInNldFNlbGVjdGVkIiwic2VsZWN0ZWRWaXNpdG9yIiwiZ2V0UGFyZW50IiwiaXNGb2xsb3dpbmdTaWJsaW5nU2VsZWN0ZWQiLCJMaXN0TGF5b3V0SXRlbSIsIlBhcmFncmFwaEJsb2NrQ29tcG9uZW50IiwiZ2V0UGFyYWdyYXBoQ2xhc3NlcyIsIlBhcmFncmFwaEJsb2NrIiwiU2VudGluYWxWaWV3IiwiVGFibGVCbG9ja0NvbXBvbmVudCIsImdldFJvd0NsYXNzZXMiLCJnZXRDZWxsQ2xhc3NlcyIsImdldFRhYmxlQ2xhc3NlcyIsIlRhYmxlQmxvY2siLCJQYWdpbmF0aW9uQ29tcG9uZW50Iiwic2hvd0VuZHMiLCJidG4xIiwic2V0QnRuMSIsImJ0bjIiLCJzZXRCdG4yIiwiYnRuMyIsInNldEJ0bjMiLCJidG40Iiwic2V0QnRuNCIsInB1bHNlQnV0dG9uIiwiYnRuIiwic2V0QnRuIiwiZ290b1BhZ2UiLCJuZXdQYWdlIiwiZ290b1N0YXJ0IiwiZ290b0VuZCIsInByZXZpb3VzU3RlcCIsIm5leHRTdGVwIiwiZ2V0U3RhcnRDbGFzc2VzIiwiZ2V0UHJldmlvdXNDbGFzc2VzIiwiZ2V0TmV4dENsYXNzZXMiLCJnZXRFbmRDbGFzc2VzIiwidGl0bGUiLCJQYWdpbmF0aW9uIiwiVHJlZUxheW91dENvbXBvbmVudCIsImdldFRyZWVDbGFzc2VzIiwiZ2V0Tm9kZUNsYXNzZXMiLCJmaWx0ZXJCbG9ja3MiLCJmaWx0ZXJlZEJsb2NrcyIsImNoaWxkQmxvY2siLCJUcmVlTGF5b3V0Iiwid2l0aENvbGxhcHNpYmxlIiwiQ29tcG9uZW50IiwiV2l0aENvbGxhcHNpYmxlIiwiY29sbGFwc2libGVQcm9wcyIsImNvbXBvbmVudE5hbWUiLCJ3aXRoUGFnZWFibGUiLCJXaXRoUGFnZWFibGUiLCJwYWdlYWJsZVByb3BzIiwicGFnZXNEaXNwYXRjaCIsIndpdGhTZWxlY3RhYmxlIiwiV2l0aFNlbGVjdGFibGUiLCJzZWxlY3RhYmxlUHJvcHMiLCJsb2ciLCJ3aXRoVGhlbWUiLCJwYXJhbXMiLCJXaXRoVGhlbWUiLCJzZXRUaGVtZSIsIlRoZW1lUHJvdmlkZXIiLCJ3aXRoUmVmIiwiV2l0aFJlZiIsIl9yZWYiLCJ1c2VJbXBlcmF0aXZlSGFuZGxlIiwiYmVoYXZpb3IiLCJEZWZhdWx0QmxvY2tGYWN0b3J5IiwiYmxvY2tfdHlwZXMiLCJidWlsZGVycyIsInBhcmVudEJ5QmxvY2siLCJ0aGVtZXMiLCJyZWdpc3RlckJ1aWxkZXIiLCJidWlsZExpc3RJdGVtIiwiYnVpbGRDb2xsYXBzaWJsZSIsImJ1aWxkQ29udGVudCIsImJ1aWxkU2VjdGlvbiIsImJ1aWxkQ29kZSIsImJ1aWxkTGlzdCIsImJ1aWxkU3BhbiIsImJ1aWxkU2VsZWN0YWJsZSIsImJ1aWxkVGFibGUiLCJyZWdpc3RlclRoZW1lIiwibGlnaHRCbHVlVGhlbWUiLCJkYXJrQmx1ZVRoZW1lIiwidGFyZ2V0Q2xhc3MiLCJnZXRUaGVtZSIsImdldFRyZWVMZXZlbCIsImJsb2NrcyIsImVsZW1lbnRzIiwiQ29sbGFwc2libGVCbG9ja1dpdGhSZWYiLCJDb2xsYXBzaWJsZUJsb2NrV2l0aFRoZW1lIiwiQ29sbGFwc2libGVCbG9ja1dpdGhDb2xsYXBzaWJsZSIsIkNvbGxhcHNpYmxlQmxvY2tXaXRoU2VsZWN0YWJsZSIsIkxpc3RJdGVtV2l0aFJlZiIsIkxpc3RJdGVtV2l0aFRoZW1lIiwiTGlzdEl0ZW1XaXRoQ29sbGFwc2libGUiLCJMaXN0SXRlbVdpdGhTZWxlY3RhYmxlIiwiQ29udGVudEJsb2NrV2l0aFJlZiIsIkNvbnRlbnRCbG9ja1dpdGhUaGVtZSIsIkNvbnRlbnRCbG9ja1dpdGhTZWxlY3RhYmxlIiwiQ29udGVudFNlY3Rpb25XaXRoUmVmIiwiQ29udGVudFNlY3Rpb25XaXRoVGhlbWUiLCJDb250ZW50U2VjdGlvbldpdGhTZWxlY3RhYmxlIiwiQ29kZVNlY3Rpb25XaXRoUmVmIiwiQ29kZVNlY3Rpb25XaXRoVGhlbWUiLCJDb2RlU2VjdGlvbldpdGhTZWxlY3RhYmxlIiwiTGlzdExheW91dFdpdGhSZWYiLCJMaXN0TGF5b3V0V2l0aFRoZW1lIiwiQ29udGVudFNwYW5XaXRoUmVmIiwiQ29udGVudFNwYW5XaXRoVGhlbWUiLCJDb250ZW50U3BhbldpdGhTZWxlY3RhYmxlIiwiU2VudGluYWxXaXRoUmVmIiwiU2VudGluYWxXaXRoVGhlbWUiLCJTZW50aW5hbFdpdGhTZWxlY3RhYmxlIiwiVHJlZVdpdGhSZWYiLCJQYWdlYWJsZVRyZWVMYXlvdXQiLCJUcmVlTGF5b3V0V2l0aFRoZW1lIiwiVGFibGVXaXRoUmVmIiwiVGFibGVXaXRoVGhlbWUiXSwibWFw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QUksVUFDSixHQUFJLFdBRU5DLE9BQVEsQ0FDTixFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxHQUFJLFVBQ0osR0FBSSxVQUNKLEdBQUksV0FFTkMsS0FBTSxDQUNKLEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEdBQUksVUFDSixHQUFJLFVBQ0osR0FBSSxXQUVOQyxNQUFPLENBQ0wsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsR0FBSSxVQUNKLEdBQUksVUFDSixHQUFJLFdBRU5DLE9BQVEsQ0FDTixFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxHQUFJLFVBQ0osR0FBSSxVQUNKLEdBQUksV0FFTkMsT0FBUSxDQUNOLEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEdBQUksVUFDSixHQUFJLFVBQ0osR0FBSSxXQUVOQyxJQUFLLENBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsRUFBRyxVQUNILEVBQUcsVUFDSCxFQUFHLFVBQ0gsR0FBSSxVQUNKLEdBQUksVUFDSixHQUFJLFdBRU5DLFVBQVcsQ0FDVCxFQUFHLDRCQUNILEVBQUcsMkJBQ0gsRUFBRyw0QkFDSCxFQUFHLDJCQUNILEVBQUcsMkJBQ0gsRUFBRywyQkFDSCxFQUFHLDJCQUNILEVBQUcsMkJB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
